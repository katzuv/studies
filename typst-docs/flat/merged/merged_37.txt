{
  "topic_metadata": {
    "id": 4406,
    "title": "WebApp Git error: \"Failed to push changes: There is a mismatch between file name and format\"",
    "slug": "webapp-git-error-failed-to-push-changes-there-is-a-mismatch-between-file-name-and-format",
    "posts_count": 8,
    "created_at": "2025-06-01T06:06:25.504Z",
    "last_posted_at": "2025-06-04T09:57:52.389Z",
    "views": 73,
    "like_count": 8,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "laurmaedje",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 358
  },
  "posts": [
    {
      "id": 13515,
      "post_number": 1,
      "username": "David",
      "name": "David",
      "created_at": "2025-06-01T06:06:25.566Z",
      "updated_at": "2025-06-01T06:06:25.566Z",
      "cooked": "<p>I am experiencing this (closed issue):</p><aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/webapp-issues/issues/244\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/webapp-issues/issues/244\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/webapp-issues</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/webapp-issues/issues/244\" target=\"_blank\" rel=\"noopener nofollow ugc\">Cannot move/rename matlab source files: \"There is a mismatch between file name and format\"</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-12-22\" data-time=\"10:13:23\" data-timezone=\"UTC\">10:13AM - 22 Dec 23 UTC</span>\n      </div>\n\n        <div class=\"date\">\n          closed <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-11-14\" data-time=\"18:07:12\" data-timezone=\"UTC\">06:07PM - 14 Nov 24 UTC</span>\n        </div>\n\n      <div class=\"user\">\n        <a href=\"https://github.com/ToxicMushroom\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"\" src=\"https://forum.typst.app/uploads/default/original/2X/7/7fdcc30a6e41f90541cf97958afb9af80534738f.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"9A9162\">\n          ToxicMushroom\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          bug\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nThis is probably caused by some more general issue.\nIn the lin<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">ked project you cannot rename `hello` to `hello.m`\nAnd you cannot move `hello.m` into the `folder` (Also breaks when trying to move a matlab file out of a folder)\n\n\n### Reproduction URL\n\nhttps://typst.app/project/wgVrz1lPR9SUi1MGz6buGq\n\n### Browsers\n\nFirefox\n\n### OS\n\nLinux</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/webapp-issues/issues/471\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/webapp-issues/issues/471\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/webapp-issues</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/webapp-issues/issues/471\" target=\"_blank\" rel=\"noopener nofollow ugc\">\"There is a mismatch between file name and format\" error when pushing to git repo</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-10-23\" data-time=\"04:19:03\" data-timezone=\"UTC\">04:19AM - 23 Oct 24 UTC</span>\n      </div>\n\n        <div class=\"date\">\n          closed <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-11-15\" data-time=\"16:23:55\" data-timezone=\"UTC\">04:23PM - 15 Nov 24 UTC</span>\n        </div>\n\n      <div class=\"user\">\n        <a href=\"https://github.com/peng1999\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"\" src=\"https://forum.typst.app/uploads/default/original/2X/e/eee49a925be7726fc382e8b7a3457776510ab9e4.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"63A3EB\">\n          peng1999\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          bug\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nAfter writing the commit message and click \"push\" button, the e<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">rror occurs and refuse to proceed pushing.\n\nThis is the layout of the repo:\n&lt;img width=\"360\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b915b2db-bdb2-4d20-bfca-494f7aec8535\"&gt;\n\nThe `latex` folder is not used but I want to keep that. Is that cause a problem?\n\n### Reproduction URL\n\n_No response_\n\n### Browsers\n\nFirefox\n\n### OS\n\nmacOS</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>I am not quite sure what to do. I only have .typ, .png, .jpg, .jpeg, .bib and .svg files in my project. Everything worked fine the day before yesterday, but I can neither push or pull using Git.</p>\n<p>This is in the WebApp.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/52ccfbdc7541f3c0228411d2f15e87f45b1bba00.png\" data-download-href=\"https://forum.typst.app/uploads/default/52ccfbdc7541f3c0228411d2f15e87f45b1bba00\" title=\"Screenshot 2025-05-30 160439\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/52ccfbdc7541f3c0228411d2f15e87f45b1bba00_2_143x500.png\" alt=\"Screenshot 2025-05-30 160439\" data-base62-sha1=\"bOukmpYRk3IsIdh9r5wcshmnq4o\" width=\"143\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/52ccfbdc7541f3c0228411d2f15e87f45b1bba00_2_143x500.png, https://forum.typst.app/uploads/default/optimized/2X/5/52ccfbdc7541f3c0228411d2f15e87f45b1bba00_2_214x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/5/52ccfbdc7541f3c0228411d2f15e87f45b1bba00_2_286x1000.png 2x\" data-dominant-color=\"212027\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-05-30 160439</span><span class=\"informations\">376×1307 74.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/0/0176eba9ae8c54ae0da0a3fa0d70af3e1f0a6c54.png\" alt=\"Screenshot 2025-05-30 173102\" data-base62-sha1=\"cXglf2f6Q4npmMRXxXEvAc8Lo8\" width=\"530\" height=\"50\"></p>",
      "raw": "I am experiencing this (closed issue):\nhttps://github.com/typst/webapp-issues/issues/244\nhttps://github.com/typst/webapp-issues/issues/471\n\nI am not quite sure what to do. I only have .typ, .png, .jpg, .jpeg, .bib and .svg files in my project. Everything worked fine the day before yesterday, but I can neither push or pull using Git.\n\nThis is in the WebApp.\n![Screenshot 2025-05-30 160439|143x500](upload://bOukmpYRk3IsIdh9r5wcshmnq4o.png)\n![Screenshot 2025-05-30 173102|530x50](upload://cXglf2f6Q4npmMRXxXEvAc8Lo8.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 65.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1681
    },
    {
      "id": 13518,
      "post_number": 2,
      "username": "Konstantin",
      "name": "Konstantin",
      "created_at": "2025-06-01T10:55:37.832Z",
      "updated_at": "2025-06-01T11:01:21.910Z",
      "cooked": "<p>I’m facing the exact same issue. I disconnected the repo, deleted the github repo and made a new one and reconnected which worked. Edited only one file and as I wanted to push or pull I got the same error message as you. This is very unfortunate as I just bought the pro plan to have the online and offline sync ability for my (soon due) thesis.</p>",
      "raw": "I'm facing the exact same issue. I disconnected the repo, deleted the github repo and made a new one and reconnected which worked. Edited only one file and as I wanted to push or pull I got the same error message as you. This is very unfortunate as I just bought the pro plan to have the online and offline sync ability for my (soon due) thesis.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1683
    },
    {
      "id": 13520,
      "post_number": 3,
      "username": "David",
      "name": "David",
      "created_at": "2025-06-01T11:03:37.584Z",
      "updated_at": "2025-06-01T11:36:45.268Z",
      "cooked": "<p>I am sorry to hear that!<br>\nI have not yet found a solution, and am still experiencing the problem.<br>\n(I am also in the exact same boat, having bought the pro plan to sync my bachelor’s thesis)</p>",
      "raw": "I am sorry to hear that!\nI have not yet found a solution, and am still experiencing the problem.\n(I am also in the exact same boat, having bought the pro plan to sync my bachelor's thesis)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1681
    },
    {
      "id": 13557,
      "post_number": 4,
      "username": "AMendoza",
      "name": "AMendoza",
      "created_at": "2025-06-02T01:58:44.646Z",
      "updated_at": "2025-06-02T01:58:44.646Z",
      "cooked": "<p>I am experiencing this error as well.</p>",
      "raw": "I am experiencing this error as well.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1691
    },
    {
      "id": 13571,
      "post_number": 5,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-06-02T10:47:05.124Z",
      "updated_at": "2025-06-02T10:47:05.124Z",
      "cooked": "<p>The problem should be fixed now. It was introduced on Friday in the course of fixing another bug. We apologize for the inconvenience.</p>",
      "raw": "The problem should be fixed now. It was introduced on Friday in the course of fixing another bug. We apologize for the inconvenience.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 3,
      "reads": 21,
      "score": 59.2,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 13574,
      "post_number": 6,
      "username": "David",
      "name": "David",
      "created_at": "2025-06-02T11:04:44.324Z",
      "updated_at": "2025-06-02T11:04:44.324Z",
      "cooked": "<p>Thank you. It seems fixed.</p>\n<p>In the meantime, I’ve had to manually push my changes to GitHub (downloading the files). However, when I now tried to pull the changes from the WebApp, it presented me with some, what I guess are, merge conflicts. Even though I chose to keep all the Typst files (from the WebApp) multiple changes were made to my files, that looked a lot like some kind of corruption. Luckily, I had a backup and have restored it. If you are interested in the “corruption”: <a href=\"https://github.com/ETIMC/Report/commit/9009678c76e9137a592bf87857291c910cf1b312\" rel=\"noopener nofollow ugc\">https://github.com/ETIMC/Report/commit/9009678c76e9137a592bf87857291c910cf1b312</a></p>",
      "raw": "Thank you. It seems fixed.\n\nIn the meantime, I've had to manually push my changes to GitHub (downloading the files). However, when I now tried to pull the changes from the WebApp, it presented me with some, what I guess are, merge conflicts. Even though I chose to keep all the Typst files (from the WebApp) multiple changes were made to my files, that looked a lot like some kind of corruption. Luckily, I had a backup and have restored it. If you are interested in the \"corruption\": [https://github.com/ETIMC/Report/commit/9009678c76e9137a592bf87857291c910cf1b312](https://github.com/ETIMC/Report/commit/9009678c76e9137a592bf87857291c910cf1b312)",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1681
    },
    {
      "id": 13584,
      "post_number": 7,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-06-02T12:45:33.561Z",
      "updated_at": "2025-06-02T12:45:33.561Z",
      "cooked": "<p>Thanks for the details and the backup branch, it will be useful in investigating that issue.</p>",
      "raw": "Thanks for the details and the backup branch, it will be useful in investigating that issue.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 13673,
      "post_number": 8,
      "username": "Konstantin",
      "name": "Konstantin",
      "created_at": "2025-06-04T09:57:52.389Z",
      "updated_at": "2025-06-04T09:57:52.389Z",
      "cooked": "<p>Thank you for fixing and the update! Works like a charm again now. Absolutely back in love with Typst &lt;3</p>",
      "raw": "Thank you for fixing and the update! Works like a charm again now. Absolutely back in love with Typst <3",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1683
    }
  ],
  "scraped_at": "2025-06-10T09:46:57.535963"
}
{
  "topic_metadata": {
    "id": 4409,
    "title": "How do I include custom references to items in a table?",
    "slug": "how-do-i-include-custom-references-to-items-in-a-table",
    "posts_count": 6,
    "created_at": "2025-06-01T10:57:57.489Z",
    "last_posted_at": "2025-06-05T14:34:40.607Z",
    "views": 53,
    "like_count": 3,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "tables",
      "referencing"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 648
  },
  "posts": [
    {
      "id": 13519,
      "post_number": 1,
      "username": "Erik_Frisk",
      "name": "Erik Frisk",
      "created_at": "2025-06-01T10:57:57.548Z",
      "updated_at": "2025-06-05T15:11:40.527Z",
      "cooked": "<p>Hi,</p>\n<p>I am learning Typst (explains probable beginners mistakes below)  and I am writing a template that includes writing tables of requirements.</p>\n<p>I would like to be able to reference individual requirements, i.e., put a label on selected requirements and be able to reference them like<br>\n<code>@req_ui implies ...</code> =&gt; <code>Req. 2 implies</code></p>\n<p>I have tried with creating a custom kind (in a figure function call) as I understand <a href=\"https://typst.app/docs/reference/model/ref/\" class=\"inline-onebox\">Reference Function – Typst Documentation</a>, but I can’t really get it to work with the table.</p>\n<p>My question is then simply: What is the (best) way to achieve this functionality?</p>\n<p>The table below is a minimal example similar to what I am aiming for:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let req_counter = counter(\"req\")\n#req_counter.update(1)\n\n#table(columns: (auto, auto, auto),\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header([*No*], [*Requirement*], [*Priority*]),\n    [#context req_counter.display() #req_counter.step()], \n     [A requirement on computational load], \n     [1],\n    [#context req_counter.display() #req_counter.step()], \n     [A requirement on UI], \n     [2],\n)\n</code></pre>\n<p>Best,<br>\nErik</p>\n<p>Edit:<br>\nI tried something like this (with a custom show rule)</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure(kind: \"req\", supplement: \"Req.\", context req_counter.display())&lt;b&gt;\n@b\n</code></pre>\n<p>and then the reference is OK but I can’t get this to work with the table of requirements.</p>",
      "raw": "Hi, \n\nI am learning Typst (explains probable beginners mistakes below)  and I am writing a template that includes writing tables of requirements.\n\nI would like to be able to reference individual requirements, i.e., put a label on selected requirements and be able to reference them like\n`@req_ui implies ...` => `Req. 2 implies`\n\nI have tried with creating a custom kind (in a figure function call) as I understand https://typst.app/docs/reference/model/ref/, but I can't really get it to work with the table.\n\nMy question is then simply: What is the (best) way to achieve this functionality?\n\nThe table below is a minimal example similar to what I am aiming for:\n```typst\n#let req_counter = counter(\"req\")\n#req_counter.update(1)\n\n#table(columns: (auto, auto, auto),\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header([*No*], [*Requirement*], [*Priority*]),\n    [#context req_counter.display() #req_counter.step()], \n     [A requirement on computational load], \n     [1],\n    [#context req_counter.display() #req_counter.step()], \n     [A requirement on UI], \n     [2],\n)\n```\n\nBest, \n  Erik\n\n\nEdit:\nI tried something like this (with a custom show rule)\n```typst\n#figure(kind: \"req\", supplement: \"Req.\", context req_counter.display())<b>\n@b\n```\nand then the reference is OK but I can't get this to work with the table of requirements.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 38.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1682
    },
    {
      "id": 13531,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-01T14:11:40.038Z",
      "updated_at": "2025-06-01T14:12:45.689Z",
      "cooked": "<p>With many tricks, it’s possible to achieve something that would be a reasonable way to do this. You had all the elements at hand!!</p>\n<p>Basically:</p>\n<ul>\n<li>You need figure elements to handle your numbering for you when referencing requirements</li>\n<li>We are still using the <code>req_counter</code>, although I’d probably replace it with <code>counter(figure.where(kind: \"req\"))</code> if that causes issues (it probably wouldn’t)</li>\n<li>“invisible” <code>figure</code>s have the unfortunate side effect of adding a block, so we can just style them to only show an empty body</li>\n</ul>\n<p>Putting all that together, we generate a label for each requirement (figure), and … that’s it!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let req_counter = counter(\"req\")\n#req_counter.update(1)\n#show figure.where(kind: \"req\"): it =&gt; it.body // remove block\n#let Req(text, priority) = {\n  let no = () =&gt; req_counter.display() + req_counter.step()\n  let number = () =&gt; req_counter.get().at(0)\n  let req() = figure(\n    kind: \"req\",\n    supplement: \"Req.\",\n    numbering: \"1.\",\n  )[]\n  return (\n    context [#no()#req()#label(\"req:\" + str(number()))],\n    text,\n    priority,\n  )\n}\n\n#table(\n  columns: (auto, auto, auto),\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header([*No*], [*Requirement*], [*Priority*]),\n  ..Req([A requirement on computational load], [1]),\n  ..Req([A requirement on UI], [2])\n)\n\n@req:1\n\n@req:2\n</code></pre>",
      "raw": "With many tricks, it's possible to achieve something that would be a reasonable way to do this. You had all the elements at hand!!\n\nBasically:\n- You need figure elements to handle your numbering for you when referencing requirements\n- We are still using the `req_counter`, although I'd probably replace it with `counter(figure.where(kind: \"req\"))` if that causes issues (it probably wouldn't)\n- \"invisible\" `figure`s have the unfortunate side effect of adding a block, so we can just style them to only show an empty body\n\nPutting all that together, we generate a label for each requirement (figure), and ... that's it!\n\n```typ\n#let req_counter = counter(\"req\")\n#req_counter.update(1)\n#show figure.where(kind: \"req\"): it => it.body // remove block\n#let Req(text, priority) = {\n  let no = () => req_counter.display() + req_counter.step()\n  let number = () => req_counter.get().at(0)\n  let req() = figure(\n    kind: \"req\",\n    supplement: \"Req.\",\n    numbering: \"1.\",\n  )[]\n  return (\n    context [#no()#req()#label(\"req:\" + str(number()))],\n    text,\n    priority,\n  )\n}\n\n#table(\n  columns: (auto, auto, auto),\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header([*No*], [*Requirement*], [*Priority*]),\n  ..Req([A requirement on computational load], [1]),\n  ..Req([A requirement on UI], [2])\n)\n\n@req:1\n\n@req:2\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 33.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13534,
      "post_number": 3,
      "username": "Erik_Frisk",
      "name": "Erik Frisk",
      "created_at": "2025-06-01T14:39:38.286Z",
      "updated_at": "2025-06-01T14:39:38.286Z",
      "cooked": "<p>This worked really well, thanks a lot!</p>",
      "raw": "This worked really well, thanks a lot!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 18.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1682
    },
    {
      "id": 13721,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T23:37:06.848Z",
      "updated_at": "2025-06-04T23:37:56.706Z",
      "cooked": "<p>Slightly shortened:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure.where(kind: \"req\"): it =&gt; it.body // remove block\n\n#let req-counter = counter(\"req\")\n#req-counter.update(1)\n#let Req(text, priority) = {\n  let no() = req-counter.display() + req-counter.step()\n  let number() = req-counter.get().first()\n  let req() = figure(kind: \"req\", supplement: \"Req.\", numbering: \"1.\")[]\n  (context [#no()#req()#label(\"req:\" + str(number()))], text, priority)\n}\n\n#table(\n  columns: 3,\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header[*No*][*Requirement*][*Priority*],\n  ..Req[A requirement on computational load][1],\n  ..Req[A requirement on UI][2],\n)\n\n@req:1\n\n@req:2\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/57be8e60fe78abed97af286c5b6d55dfb693f453.png\" data-download-href=\"https://forum.typst.app/uploads/default/57be8e60fe78abed97af286c5b6d55dfb693f453\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/5/57be8e60fe78abed97af286c5b6d55dfb693f453.png\" alt=\"image\" data-base62-sha1=\"cwdNT1446m0c4C8TgUxiG0PWjlh\" width=\"340\" height=\"132\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">340×132 7.71 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Slightly shortened:\n\n```typ\n#show figure.where(kind: \"req\"): it => it.body // remove block\n\n#let req-counter = counter(\"req\")\n#req-counter.update(1)\n#let Req(text, priority) = {\n  let no() = req-counter.display() + req-counter.step()\n  let number() = req-counter.get().first()\n  let req() = figure(kind: \"req\", supplement: \"Req.\", numbering: \"1.\")[]\n  (context [#no()#req()#label(\"req:\" + str(number()))], text, priority)\n}\n\n#table(\n  columns: 3,\n  align: (center, left, center),\n  stroke: none,\n  table.hline(stroke: 0.75pt, position: bottom),\n  table.header[*No*][*Requirement*][*Priority*],\n  ..Req[A requirement on computational load][1],\n  ..Req[A requirement on UI][2],\n)\n\n@req:1\n\n@req:2\n```\n\n![image|340x132](upload://cwdNT1446m0c4C8TgUxiG0PWjlh.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 17.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13752,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-06-05T13:04:47.803Z",
      "updated_at": "2025-06-05T13:04:47.803Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/erik_frisk\">@Erik_Frisk</a>, could you maybe try to revise your post’s title to be a complete question as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a>:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>We hope by adhering to this, we make the information in this forum easy to find in the future.</p>\n<p>Also, don’t forget to tick <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\"> one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @Erik_Frisk, could you maybe try to revise your post’s title to be a complete question as per the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11):\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nWe hope by adhering to this, we make the information in this forum easy to find in the future. \n\nAlso, don’t forget to tick :ballot_box_with_check: one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 12.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 13763,
      "post_number": 6,
      "username": "Erik_Frisk",
      "name": "Erik Frisk",
      "created_at": "2025-06-05T14:34:40.607Z",
      "updated_at": "2025-06-05T14:34:40.607Z",
      "cooked": "<p>Sure!</p>\n<p>I’ve ticked the solution that helped me.</p>\n<p>I would be happy to revise the OP title, but I’m not sure where to click to edit.</p>",
      "raw": "Sure! \n\nI've ticked the solution that helped me.\n\nI would be happy to revise the OP title, but I'm not sure where to click to edit.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1682
    }
  ],
  "scraped_at": "2025-06-10T09:46:56.802279"
}
{
  "topic_metadata": {
    "id": 4417,
    "title": "How to put two images next to each other in one table row?",
    "slug": "how-to-put-two-images-next-to-each-other-in-one-table-row",
    "posts_count": 6,
    "created_at": "2025-06-01T16:28:58.014Z",
    "last_posted_at": "2025-06-01T22:07:10.197Z",
    "views": 49,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "flokl",
    "tags": [
      "layout",
      "tables",
      "graphics"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 654
  },
  "posts": [
    {
      "id": 13539,
      "post_number": 1,
      "username": "Roland",
      "name": "Roland",
      "created_at": "2025-06-01T16:28:58.093Z",
      "updated_at": "2025-06-05T12:37:52.922Z",
      "cooked": "<p>I wanted to make a cheat sheet for myself with my own notes, but I don’t fully understand the typst documentation.</p>\n<p>I’m trying to achieve this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4.png\" data-download-href=\"https://forum.typst.app/uploads/default/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4\" title=\"ps_20250601181849\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4_2_690x76.png\" alt=\"ps_20250601181849\" data-base62-sha1=\"e7aesvoeGXNDMCgUTjIofs2Otve\" width=\"690\" height=\"76\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4_2_690x76.png, https://forum.typst.app/uploads/default/original/2X/6/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/62edc7a8815eb65cd1be5896bdfe2c6ec9dbf5d4.png 2x\" data-dominant-color=\"484848\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">ps_20250601181849</span><span class=\"informations\">906×101 19.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>And this is what I get:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/95a212c7bc412b6ebc9c4f42ba7036d45709350d.png\" data-download-href=\"https://forum.typst.app/uploads/default/95a212c7bc412b6ebc9c4f42ba7036d45709350d\" title=\"ps_20250601181951\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/95a212c7bc412b6ebc9c4f42ba7036d45709350d_2_690x308.png\" alt=\"ps_20250601181951\" data-base62-sha1=\"llInMPeKrDT6PBboM5RJQMMSoVf\" width=\"690\" height=\"308\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/95a212c7bc412b6ebc9c4f42ba7036d45709350d_2_690x308.png, https://forum.typst.app/uploads/default/original/2X/9/95a212c7bc412b6ebc9c4f42ba7036d45709350d.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/95a212c7bc412b6ebc9c4f42ba7036d45709350d.png 2x\" data-dominant-color=\"FDFDFD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">ps_20250601181951</span><span class=\"informations\">728×326 15.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>In last line there should be + sign between two circles images, but there isn’t, and one circle is in lower line.</p>\n<p>Typst code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  image(\"circle-512-flat-Playstation.svg\", width: 4%) + image(\"circle-512-flat-Playstation.svg\", width: 4%),\n)\n</code></pre>",
      "raw": "I wanted to make a cheat sheet for myself with my own notes, but I don't fully understand the typst documentation.\n\nI'm trying to achieve this:\n![ps_20250601181849|690x76](upload://e7aesvoeGXNDMCgUTjIofs2Otve.png)\n\nAnd this is what I get:\n![ps_20250601181951|690x308](upload://llInMPeKrDT6PBboM5RJQMMSoVf.png)\n\nIn last line there should be + sign between two circles images, but there isn't, and one circle is in lower line.\n\nTypst code:\n```typst\n#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  image(\"circle-512-flat-Playstation.svg\", width: 4%) + image(\"circle-512-flat-Playstation.svg\", width: 4%),\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 73.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1687
    },
    {
      "id": 13542,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-01T17:53:42.407Z",
      "updated_at": "2025-06-01T18:19:39.634Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/roland\">@Roland</a>,</p>\n<p>inside the argument list of <code>table</code> you are in <a href=\"https://typst.app/docs/reference/syntax/#modes\">code mode</a>. There, the plus symbol is used to join elements together, in your case the two images. You can use a string (<code>image(...) + \" + \" + image(...)</code>) to show it.</p>\n<p>The two images show up in separate lines because an <a href=\"https://typst.app/docs/reference/visualize/image/\">image is a block-level</a> element, to force them inline you have to wrap them in a box: <code>box(image(...))</code>.</p>\n<p><em>Edit: added links to the relevant documentation sections</em></p>",
      "raw": "Hey @Roland,\n\ninside the argument list of `table` you are in [code mode](https://typst.app/docs/reference/syntax/#modes). There, the plus symbol is used to join elements together, in your case the two images. You can use a string (`image(...) + \" + \" + image(...)`) to show it.\n\nThe two images show up in separate lines because an [image is a block-level](https://typst.app/docs/reference/visualize/image/) element, to force them inline you have to wrap them in a box: `box(image(...))`.\n\n*Edit: added links to the relevant documentation sections*",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13543,
      "post_number": 3,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-01T17:57:52.477Z",
      "updated_at": "2025-06-01T17:57:52.477Z",
      "cooked": "<p>Can you please edit your code example and use a code block instead of a block quote?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">```typst\nyour code\n```\n</code></pre>\n<p>Thanks!</p>",
      "raw": "Can you please edit your code example and use a code block instead of a block quote? \n````\n```typst\nyour code\n```\n````\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13547,
      "post_number": 4,
      "username": "Roland",
      "name": "Roland",
      "created_at": "2025-06-01T19:27:55.687Z",
      "updated_at": "2025-06-01T19:27:55.687Z",
      "cooked": "<p>Thank you <span class=\"mention\">@floki</span>. I edited original post to use code block.</p>\n<p>I was able to use plus symbol, like you said, but still have problem with inline images.</p>\n<p>It looks like this now:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/991e8fdfa53d7c0a51f818c6906f10377b9f96fe.png\" data-download-href=\"https://forum.typst.app/uploads/default/991e8fdfa53d7c0a51f818c6906f10377b9f96fe\" title=\"ps_20250601212038\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/991e8fdfa53d7c0a51f818c6906f10377b9f96fe_2_690x455.png\" alt=\"ps_20250601212038\" data-base62-sha1=\"lQywY8VA58NNDGbAVaTl6RL4d6C\" width=\"690\" height=\"455\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/991e8fdfa53d7c0a51f818c6906f10377b9f96fe_2_690x455.png, https://forum.typst.app/uploads/default/original/2X/9/991e8fdfa53d7c0a51f818c6906f10377b9f96fe.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/991e8fdfa53d7c0a51f818c6906f10377b9f96fe.png 2x\" data-dominant-color=\"FEFDFD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">ps_20250601212038</span><span class=\"informations\">879×580 24.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>And code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-Flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  box(image(\"d-pad-down.png\", width: 4%) + \" + \" + image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n  [Blade Slash],\n  box(image(\"d-pad-left.png\", width: 4%) + \" + \" + image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n)\n</code></pre>\n<p>If i try add # symbol before box, I got this error:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">[21:27:14] compiled with errors\n\nerror: the character `#` is not valid in code\n   ┌─ opis.typ:23:2\n   │\n23 │   #box(image(\"d-pad-down.png\", width: 4%) + \" + \" + image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n   │   ^\n\nerror: the character `#` is not valid in code\n   ┌─ opis.typ:25:2\n   │\n25 │   #box(image(\"d-pad-left.png\", width: 4%) + \" + \" + image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n   │   ^\n</code></pre>\n<p>I don’t know if I’m interpreting this correctly, but such an operation is not allowed in a table cell?</p>",
      "raw": "Thank you @floki. I edited original post to use code block.\n\nI was able to use plus symbol, like you said, but still have problem with inline images.\n\nIt looks like this now:\n![ps_20250601212038|690x455](upload://lQywY8VA58NNDGbAVaTl6RL4d6C.png)\n\nAnd code:\n```typst\n#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-Flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  box(image(\"d-pad-down.png\", width: 4%) + \" + \" + image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n  [Blade Slash],\n  box(image(\"d-pad-left.png\", width: 4%) + \" + \" + image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n)\n```\n\nIf i try add # symbol before box, I got this error:\n```typst\n[21:27:14] compiled with errors\n\nerror: the character `#` is not valid in code\n   ┌─ opis.typ:23:2\n   │\n23 │   #box(image(\"d-pad-down.png\", width: 4%) + \" + \" + image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n   │   ^\n\nerror: the character `#` is not valid in code\n   ┌─ opis.typ:25:2\n   │\n25 │   #box(image(\"d-pad-left.png\", width: 4%) + \" + \" + image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n   │   ^\n```\n\nI don't know if I'm interpreting this correctly, but such an operation is not allowed in a table cell?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1687
    },
    {
      "id": 13548,
      "post_number": 5,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-01T19:56:18.205Z",
      "updated_at": "2025-06-01T19:58:44.466Z",
      "cooked": "<p>You nearly got it, the images need to be individually wrapped in a <code>box</code>.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-Flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  box(image(\"d-pad-down.png\", width: 4%)) + \" + \" + box(image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n  [Blade Slash],\n  box(image(\"d-pad-left.png\", width: 4%)) + \" + \" + box(image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n)\n</code></pre>\n<p>No need for to explicitly start code mode with <code>#</code> as you already started it with <code>#table(...)</code>. You would only need it if you switched into content mode (square brackets) again e.g. you could also write:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">...\n[Uppercut],\n[#box(image(\"d-pad-down.png\", width: 4%)) + #box(image(\"triangle-512-Flat-Playstation.svg\", width: 4%))],\n...\n</code></pre>\n<p>Thanks for using code blocks :)</p>",
      "raw": " You nearly got it, the images need to be individually wrapped in a `box`.\n\n```typst\n#set table(\n  stroke: none,\n)\n\n#table(\n  columns: (auto, 1fr),\n  inset: 10pt,\n  align: (center, right),\n  [Front Punch],\n  image(\"square-512-Flat-Playstation.svg\", width: 4%),\n  [Back Punch],\n  image(\"triangle-512-Flat-Playstation.svg\", width: 4%),\n  [Front Kick],\n  image(\"cross-512-Flat-Playstation.svg\", width: 4%),\n  [Back Kick],\n  image(\"circle-512-Flat-Playstation.svg\", width: 4%),\n  [Uppercut],\n  box(image(\"d-pad-down.png\", width: 4%)) + \" + \" + box(image(\"triangle-512-Flat-Playstation.svg\", width: 4%)),\n  [Blade Slash],\n  box(image(\"d-pad-left.png\", width: 4%)) + \" + \" + box(image(\"square-512-Flat-Playstation.svg\", width: 4%)),\n)\n```\n\nNo need for to explicitly start code mode with `#` as you already started it with `#table(...)`. You would only need it if you switched into content mode (square brackets) again e.g. you could also write: \n```typst\n...\n[Uppercut],\n[#box(image(\"d-pad-down.png\", width: 4%)) + #box(image(\"triangle-512-Flat-Playstation.svg\", width: 4%))],\n...\n``` \n\nThanks for using code blocks :)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13552,
      "post_number": 6,
      "username": "Roland",
      "name": "Roland",
      "created_at": "2025-06-01T22:07:10.197Z",
      "updated_at": "2025-06-01T22:07:10.197Z",
      "cooked": "<p>Thank you so much, it worked! I wish you a peaceful evening.</p>",
      "raw": "Thank you so much, it worked! I wish you a peaceful evening.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1687
    }
  ],
  "scraped_at": "2025-06-10T09:46:56.094798"
}
{
  "topic_metadata": {
    "id": 4419,
    "title": "How to print bibliography without line breaks between references",
    "slug": "how-to-print-bibliography-without-line-breaks-between-references",
    "posts_count": 3,
    "created_at": "2025-06-01T17:07:37.628Z",
    "last_posted_at": "2025-06-05T13:26:18.191Z",
    "views": 40,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "sijo",
    "tags": [
      "citation",
      "csl"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 318
  },
  "posts": [
    {
      "id": 13541,
      "post_number": 1,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-06-01T17:07:37.711Z",
      "updated_at": "2025-06-01T17:07:37.711Z",
      "cooked": "<p>I tweaked the IEEE csl so that my bibliography looks like this:</p>\n<p><strong>[1] Smith et al. (2020) 10.5194/acp-20-9591-2020a</strong><br>\n<strong>[2] Doe et al. (2021) 10.5194/acp-20-9591-2020xyz</strong><br>\n<strong>[3] Smith &amp; Wesson (2023) 10.5194/acp-20-9591-2020abc</strong></p>\n<p>How can I suppress line breaks between bibliographic items, as in:</p>\n<p><strong>[1] Smith et al. (2020) 10.5194/acp-20-9591-2020a [2] Doe et al. (2021) 10.5194/acp-20-9591-2020xyz [3] Smith &amp; Wesson (2023) 10.5194/acp-20-9591-2020abc</strong></p>\n<p>The objective is, obviously, to produce a more compact list of references.</p>\n<p>Should I tweak my csl file or do something within Typst?</p>",
      "raw": "I tweaked the IEEE csl so that my bibliography looks like this:\n\n**[1] Smith et al. (2020) 10.5194/acp-20-9591-2020a**\n**[2] Doe et al. (2021) 10.5194/acp-20-9591-2020xyz**\n**[3] Smith & Wesson (2023) 10.5194/acp-20-9591-2020abc**\n\nHow can I suppress line breaks between bibliographic items, as in:\n\n**[1] Smith et al. (2020) 10.5194/acp-20-9591-2020a [2] Doe et al. (2021) 10.5194/acp-20-9591-2020xyz [3] Smith & Wesson (2023) 10.5194/acp-20-9591-2020abc**\n\nThe objective is, obviously, to produce a more compact list of references.\n\nShould I tweak my csl file or do something within Typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 13751,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T12:55:46.765Z",
      "updated_at": "2025-06-05T12:55:46.765Z",
      "cooked": "<p>This is not possible because bibliography uses grid, and you can’t override <code>bibliography.entry</code>: <a href=\"https://github.com/typst/typst/pull/5932#issuecomment-2765710360\" class=\"inline-onebox\">Add `bibliography.entry` element by xkevio · Pull Request #5932 · typst/typst · GitHub</a>.</p>\n<p>Same goes to <a href=\"https://typst.app/universe/package/alexandria\" class=\"inline-onebox\">alexandria – Typst Universe</a>, but you can actually modify it:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let render-bibliography(...) = {\n  ...\n    for e in bib.references {\n      h(0.25em, weak: true)\n      [#metadata(none)#label(bib.prefix + e.key)]\n      if e.prefix != none {\n        hayagriva.render(e.prefix)\n      }\n      h(0.65em)\n      hayagriva.render(e.reference)\n    }\n  ...\n}\n</code></pre>\n<p>replacing</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let render-bibliography(...) = {\n  ...\n    grid(\n      columns: 2,\n      // rows: (),\n      column-gutter: 0.65em,\n      // row-gutter: 13.2pt,\n      row-gutter: par.spacing,\n      // fill: none,\n      // align: auto,\n      // stroke: (:),\n      // inset: (:),\n      ..for e in bib.references {\n        (\n          {\n            [#metadata(none)#label(bib.prefix + e.key)]\n            if e.prefix != none {\n              hayagriva.render(e.prefix)\n            }\n          },\n          hayagriva.render(e.reference),\n        )\n      },\n    )\n  ...\n}\n</code></pre>\n<br>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/alexandria:0.2.0\": *\n#show: alexandria(prefix: \"\", read: path =&gt; read(path))\n#bibliographyx(\"works.bib\", full: true, title: \"\")\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/29cc459b255cc3b9fc7685c44941d9fac800135b.png\" data-download-href=\"https://forum.typst.app/uploads/default/29cc459b255cc3b9fc7685c44941d9fac800135b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/2/29cc459b255cc3b9fc7685c44941d9fac800135b.png\" alt=\"image\" data-base62-sha1=\"5XLe3ROTXKn1TQy3pYyaT31LGYP\" width=\"583\" height=\"301\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">583×301 98.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Cc <a class=\"mention\" href=\"/u/sillyfreak\">@SillyFreak</a></p>",
      "raw": "This is not possible because bibliography uses grid, and you can't override `bibliography.entry`: https://github.com/typst/typst/pull/5932#issuecomment-2765710360.\n\nSame goes to https://typst.app/universe/package/alexandria, but you can actually modify it:\n\n```typ\n#let render-bibliography(...) = {\n  ...\n    for e in bib.references {\n      h(0.25em, weak: true)\n      [#metadata(none)#label(bib.prefix + e.key)]\n      if e.prefix != none {\n        hayagriva.render(e.prefix)\n      }\n      h(0.65em)\n      hayagriva.render(e.reference)\n    }\n  ...\n}\n```\n\nreplacing\n\n```typ\n#let render-bibliography(...) = {\n  ...\n    grid(\n      columns: 2,\n      // rows: (),\n      column-gutter: 0.65em,\n      // row-gutter: 13.2pt,\n      row-gutter: par.spacing,\n      // fill: none,\n      // align: auto,\n      // stroke: (:),\n      // inset: (:),\n      ..for e in bib.references {\n        (\n          {\n            [#metadata(none)#label(bib.prefix + e.key)]\n            if e.prefix != none {\n              hayagriva.render(e.prefix)\n            }\n          },\n          hayagriva.render(e.reference),\n        )\n      },\n    )\n  ...\n}\n```\n\n<br>\n\n```typ\n#import \"@preview/alexandria:0.2.0\": *\n#show: alexandria(prefix: \"\", read: path => read(path))\n#bibliographyx(\"works.bib\", full: true, title: \"\")\n```\n\n![image|583x301](upload://5XLe3ROTXKn1TQy3pYyaT31LGYP.png)\n\nCc @SillyFreak",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13756,
      "post_number": 3,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-05T13:26:18.191Z",
      "updated_at": "2025-06-05T13:30:31.678Z",
      "cooked": "<p>You can transform the grid to something else:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show bibliography: bib =&gt; {\n  show grid: g =&gt; g.children.map(cell =&gt; cell.body).join(\" \")\n  bib\n}\n\n= Title\nText.@work1 @work2\n\n#bibliography(bytes(\"\n  @online{work1,\n  \ttitle = {Some Work},\n    author = {Some Author},\n  \tyear = 2024,\n  }\n  @online{work2,\n  \ttitle = {Another Work},\n    author = {Another Author},\n  \tyear = 2025,\n  }\n\"))\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/9e4f4f92e6cc18aef543aba0b88496576eb337fb.png\" data-download-href=\"https://forum.typst.app/uploads/default/9e4f4f92e6cc18aef543aba0b88496576eb337fb\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/9/9e4f4f92e6cc18aef543aba0b88496576eb337fb.png\" alt=\"image\" data-base62-sha1=\"mAtmvpTz5YezFz3X3usQdaMWs1t\" width=\"493\" height=\"138\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">658×184 13.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You can transform the grid to something else:\n\n```\n#show bibliography: bib => {\n  show grid: g => g.children.map(cell => cell.body).join(\" \")\n  bib\n}\n\n= Title\nText.@work1 @work2\n\n#bibliography(bytes(\"\n  @online{work1,\n  \ttitle = {Some Work},\n    author = {Some Author},\n  \tyear = 2024,\n  }\n  @online{work2,\n  \ttitle = {Another Work},\n    author = {Another Author},\n  \tyear = 2025,\n  }\n\"))\n```\n\n![image|658x184, 75%](upload://mAtmvpTz5YezFz3X3usQdaMWs1t.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 12,
      "score": 47.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:46:55.351465"
}
{
  "topic_metadata": {
    "id": 4420,
    "title": "How to properly reference local packages in Windows?",
    "slug": "how-to-properly-reference-local-packages-in-windows",
    "posts_count": 4,
    "created_at": "2025-06-01T18:07:01.670Z",
    "last_posted_at": "2025-06-04T13:42:55.155Z",
    "views": 60,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Mike_Wood",
    "tags": [
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 684
  },
  "posts": [
    {
      "id": 13544,
      "post_number": 1,
      "username": "Mike_Wood",
      "name": "Mike Wood",
      "created_at": "2025-06-01T18:07:01.742Z",
      "updated_at": "2025-06-01T18:07:01.742Z",
      "cooked": "<p>I have created a simple local Typst package here:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">C:\\Users\\User\\AppData\\Roaming\\typst\\packages\\local\\shorthand\\0.1.0\n</code></pre>\n<p>Files include <code>typst.toml</code>:</p>\n<pre data-code-wrap=\"toml\"><code class=\"lang-toml\">[package]\nname = \"shorthand\"\nversion = \"0.1.0\"\nentrypoint = \"main.typ\"\nauthors = [\"mikewood1980\"]\nlicense = \"MIT\"\ndescription = \"Shortland tools.\"\n</code></pre>\n<p>And a basic function definition in the <code>main.typ</code> file:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// main.typ\n\n#let foo = \"This is bar\"\n</code></pre>\n<p>I am then testing this package on my desktop, using a new file  (<code>new.typ</code>) in which I have tried to import this local package:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// local typst file on desktop\n\n#import \"@local/shorthand:0.1.0\"\n</code></pre>\n<p>However, I am getting the following error (using Tinymist in VS Code on W10):</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473.png\" data-download-href=\"https://forum.typst.app/uploads/default/30dbad755d21c9418baa22fc5ec4a02983197473\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_690x98.png\" alt=\"image\" data-base62-sha1=\"6YdzGDLhHXot3NqOAgz0klJtT1h\" width=\"690\" height=\"98\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_690x98.png, https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_1035x147.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473.png 2x\" data-dominant-color=\"3F4040\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1210×172 34.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I appears that it knows the right location for the file, but is getting backslashes the wrong way in places, which I assume is the cause of the package not being found.</p>\n<p>It this likely to be a mistake that I have made, a problem with Tinymist, or some other bug?</p>",
      "raw": "I have created a simple local Typst package here:\n\n```\nC:\\Users\\User\\AppData\\Roaming\\typst\\packages\\local\\shorthand\\0.1.0\n```\n\nFiles include `typst.toml`:\n\n```toml\n[package]\nname = \"shorthand\"\nversion = \"0.1.0\"\nentrypoint = \"main.typ\"\nauthors = [\"mikewood1980\"]\nlicense = \"MIT\"\ndescription = \"Shortland tools.\"\n```\n\nAnd a basic function definition in the `main.typ` file:\n\n```typ\n// main.typ\n\n#let foo = \"This is bar\"\n```\n\nI am then testing this package on my desktop, using a new file  (`new.typ`) in which I have tried to import this local package:\n\n```typ\n// local typst file on desktop\n\n#import \"@local/shorthand:0.1.0\"\n```\n\nHowever, I am getting the following error (using Tinymist in VS Code on W10): \n\n![image|690x98](upload://6YdzGDLhHXot3NqOAgz0klJtT1h.png)\n\nI appears that it knows the right location for the file, but is getting backslashes the wrong way in places, which I assume is the cause of the package not being found.\n\nIt this likely to be a mistake that I have made, a problem with Tinymist, or some other bug?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 43.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1688
    },
    {
      "id": 13545,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-06-01T18:40:49.425Z",
      "updated_at": "2025-06-02T14:40:57.887Z",
      "cooked": "<p>Hi there,</p>\n<p>Your description fits <a href=\"https://github.com/typst/packages\" class=\"inline-onebox\">GitHub - typst/packages: Packages for Typst.</a> and I was able to reproduce it without any error on Windows 11 with Tinymist 0.13.12 installed in VSCode 1.100.2.</p>\n<p>So to answer your question, you are properly referencing the local package in Windows, as far as you are describing.</p>\n<p>There is no issue with the slashes or backslashes (although I agree it looks weird).</p>\n<p>The issue is most likely the way your files are on your filesystem. Perhaps you should try to recreate your own package, let’s say <code>shorthand2</code> step by step and see?</p>",
      "raw": "Hi there, \n\nYour description fits https://github.com/typst/packages and I was able to reproduce it without any error on Windows 11 with Tinymist 0.13.12 installed in VSCode 1.100.2. \n\nSo to answer your question, you are properly referencing the local package in Windows, as far as you are describing. \n\nThere is no issue with the slashes or backslashes (although I agree it looks weird). \n\nThe issue is most likely the way your files are on your filesystem. Perhaps you should try to recreate your own package, let's say `shorthand2` step by step and see?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 13561,
      "post_number": 3,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-06-02T07:57:37.031Z",
      "updated_at": "2025-06-02T14:31:02.628Z",
      "cooked": "<p>Hi there,</p>\n<p>You seem to be going down the proper route. At least I could reproduce your setup without errors.</p>\n<p>I wouldn’t worry too much about the mix of slashes and backslashes as Windows supports both. The output of Tinymist in VSCode contains many entries where it doesn’t cause any problems.</p>\n<p>A few pointers:</p>\n<ul>\n<li>\n<p>I’m sure you would know but… Save everything. Reboot. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> Reopen your files. Check the error is still present.</p>\n</li>\n<li>\n<p>Perhaps Update VSCode and Tinymist, especially if you haven’t done so in a while?</p>\n</li>\n<li>\n<p>You mention a file <code>new.typ</code> but the screenshot of the error mentions <code>test.typ</code>. Is that a leftover issue from a previous test or did you end up naming the files differently? Worth eliminating IMO.</p>\n</li>\n<li>\n<p>Although it looks like it is the case, I would verify that <code>cd %APPDATA%</code> points to <code>C:\\Users\\User\\AppData\\Roaming\\</code>.</p>\n</li>\n<li>\n<p>Verify that your <code>typst.toml</code> file contains <code>entrypoint = \"main.typ\"</code> and not something else…</p>\n<ul>\n<li><strong>Note:</strong> <strong>The screenshot of the error you have provided indicates <code>file not found</code> but for the file <code>typst.toml</code> and I would have expected <code>main.typ</code> to show up there. This is where I would concentrate.</strong></li>\n</ul>\n</li>\n</ul>\n<p>If it doesn’t work, perhaps you could upload your files here:</p>\n<ul>\n<li>main.typ</li>\n<li>typst.toml</li>\n<li>new.typ<br>\nand indicate your version of Tinymist and VSCode.</li>\n</ul>\n<p>Finally, there is a <a href=\"https://discord.com/channels/1054443721975922748/1260973804637786224\" class=\"inline-onebox\">Discord</a> channel for Tinymist and also you could open an issue on <a href=\"https://github.com/Myriad-Dreamin/tinymist/issues\" class=\"inline-onebox\">GitHub · Where software is built</a> if the problem persists.</p>\n<p>EDIT: Out of curiosity, do you see your package in Tinymist like this?</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/343a4eb6aaf898e5d596aacbb0f88ab580023b42.png\" data-download-href=\"https://forum.typst.app/uploads/default/343a4eb6aaf898e5d596aacbb0f88ab580023b42\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/3/343a4eb6aaf898e5d596aacbb0f88ab580023b42.png\" alt=\"image\" data-base62-sha1=\"7s1KBlHL2S55rKGShRFpj0geuci\" width=\"334\" height=\"461\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">334×461 21.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Please come back with your findings!</p>",
      "raw": "Hi there, \n\nYou seem to be going down the proper route. At least I could reproduce your setup without errors. \n\nI wouldn't worry too much about the mix of slashes and backslashes as Windows supports both. The output of Tinymist in VSCode contains many entries where it doesn't cause any problems.  \n\nA few pointers:\n- I'm sure you would know but... Save everything. Reboot. :slight_smile: Reopen your files. Check the error is still present. \n\n- Perhaps Update VSCode and Tinymist, especially if you haven't done so in a while?\n\n- You mention a file `new.typ` but the screenshot of the error mentions `test.typ`. Is that a leftover issue from a previous test or did you end up naming the files differently? Worth eliminating IMO. \n\n- Although it looks like it is the case, I would verify that `cd %APPDATA%` points to `C:\\Users\\User\\AppData\\Roaming\\`.\n\n- Verify that your `typst.toml` file contains `entrypoint = \"main.typ\"` and not something else... \n  - **Note:** **The screenshot of the error you have provided indicates `file not found` but for the file `typst.toml` and I would have expected `main.typ` to show up there. This is where I would concentrate.** \n\nIf it doesn't work, perhaps you could upload your files here:\n- main.typ\n- typst.toml\n- new.typ\nand indicate your version of Tinymist and VSCode. \n\nFinally, there is a https://discord.com/channels/1054443721975922748/1260973804637786224 channel for Tinymist and also you could open an issue on https://github.com/Myriad-Dreamin/tinymist/issues if the problem persists. \n\nEDIT: Out of curiosity, do you see your package in Tinymist like this?\n\n![image|334x461](upload://7s1KBlHL2S55rKGShRFpj0geuci.png)\n\n\nPlease come back with your findings!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 13690,
      "post_number": 4,
      "username": "Mike_Wood",
      "name": "Mike Wood",
      "created_at": "2025-06-04T13:42:55.155Z",
      "updated_at": "2025-06-04T13:43:48.581Z",
      "cooked": "<p>Hi</p>\n<p>Thanks so much for you help, and apologies for the slow response. Work is very busy at the moment!</p>\n<p>Thank you for all your suggestions. In the end, it was quite trivial, but you were right that I should look at the location of the files more closely.</p>\n<p>I had originally created the TOML file using ‘create new’ text document:</p>\n<p>In Windows Explorer:  &gt; new &gt; text document</p>\n<p>I then saved this as <code>typst.toml</code>, but since windows thought I was saving a text document, it saved it as <code>typst.toml.txt</code>. The <code>.txt</code> extension was hidden in Windows Explorer, so missed that it was <strong>not</strong> formatted as TOML file. Once I changed this, the problem was solved!</p>\n<p>Thanks again. I would not have gotten to the bottom of this so quickly without<br>\nyour help.</p>",
      "raw": "Hi \n\nThanks so much for you help, and apologies for the slow response. Work is very busy at the moment!\n\nThank you for all your suggestions. In the end, it was quite trivial, but you were right that I should look at the location of the files more closely.\n\nI had originally created the TOML file using 'create new' text document:\n\nIn Windows Explorer: <right-click> > new > text document\n\nI then saved this as `typst.toml`, but since windows thought I was saving a text document, it saved it as `typst.toml.txt`. The `.txt` extension was hidden in Windows Explorer, so missed that it was **not** formatted as TOML file. Once I changed this, the problem was solved!\n\nThanks again. I would not have gotten to the bottom of this so quickly without \nyour help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 10,
      "score": 17.0,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1688
    }
  ],
  "scraped_at": "2025-06-10T09:46:54.644020"
}
{
  "topic_metadata": {
    "id": 4429,
    "title": "How to customize figure labels?",
    "slug": "how-to-customize-figure-labels",
    "posts_count": 3,
    "created_at": "2025-06-02T09:30:51.656Z",
    "last_posted_at": "2025-06-02T11:34:11.564Z",
    "views": 30,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Junot",
    "tags": [
      "figures"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 269
  },
  "posts": [
    {
      "id": 13565,
      "post_number": 1,
      "username": "MarionP",
      "name": "MarionP",
      "created_at": "2025-06-02T09:30:51.747Z",
      "updated_at": "2025-06-02T09:30:51.747Z",
      "cooked": "<p>Hi there!</p>\n<p>I’m new to Typst, and so far, I’m really enjoying it.<br>\nI would like to know if there is a way to change the automatic labelling from “Figure 1” to “Fig. 1”?<br>\nI’ve so far figured out how to add automatically bold to the label, but not how to change it.</p>\n<p>Here is my code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure.caption: it =&gt; context box(\n  align(left)[\n    *#it.supplement~#it.counter.display()#it.separator*#it.body\n  ]\n)\n#figure(\n  rect(),\n  caption: [My caption],\n) &lt;fig1&gt;\n</code></pre>\n<p>Thank you all!<br>\nMarion</p>",
      "raw": "Hi there!\n\nI'm new to Typst, and so far, I'm really enjoying it.\nI would like to know if there is a way to change the automatic labelling from \"Figure 1\" to \"Fig. 1\"?\nI've so far figured out how to add automatically bold to the label, but not how to change it. \n\nHere is my code:\n```typ\n#show figure.caption: it => context box(\n  align(left)[\n    *#it.supplement~#it.counter.display()#it.separator*#it.body\n  ]\n)\n#figure(\n  rect(),\n  caption: [My caption],\n) <fig1>\n```\n\nThank you all!\nMarion",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 63.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1693
    },
    {
      "id": 13576,
      "post_number": 2,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-02T11:31:28.827Z",
      "updated_at": "2025-06-02T11:31:28.827Z",
      "cooked": "<p>Do you want it to be “Fig” underneath the figure itself (1) or when you reference it in text (2)?</p>\n<p>(1) You can just add a <code>supplement</code> parameter to your figure:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n    ...,\n    supplement: [Fig.]\n)\n</code></pre>\n<p>(2) Like shown in the docs you can set a show rule for when you reference a figure in normal form (reference to the name of the figure instead of the page) like (<a href=\"https://typst.app/docs/reference/model/ref/\" class=\"inline-onebox\">Reference Function – Typst Documentation</a>)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show ref.where(form: \"normal\"): set ref(supplement: it =&gt; {\n  if it.func() == figure {\n    \"Fig.\"\n  }\n})\n\n#figure(...)&lt;fig&gt;\nIn @fig we see...\n</code></pre>\n<p>If you only want to reference it like that once, you could also just use <code>In @fig[Fig.] we see...</code></p>\n<p>This is all mentioned in the Typst Documentation so head over there if something is not clear.<br>\nI hope this answers your question.</p>",
      "raw": "Do you want it to be \"Fig\" underneath the figure itself (1) or when you reference it in text (2)?\n\n(1) You can just add a `supplement` parameter to your figure:\n```\n#figure(\n    ...,\n    supplement: [Fig.]\n)\n```\n\n(2) Like shown in the docs you can set a show rule for when you reference a figure in normal form (reference to the name of the figure instead of the page) like (https://typst.app/docs/reference/model/ref/)\n```\n#show ref.where(form: \"normal\"): set ref(supplement: it => {\n  if it.func() == figure {\n    \"Fig.\"\n  }\n})\n\n#figure(...)<fig>\nIn @fig we see...\n```\n\nIf you only want to reference it like that once, you could also just use `In @fig[Fig.] we see...`\n\nThis is all mentioned in the Typst Documentation so head over there if something is not clear.\nI hope this answers your question.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 15,
      "score": 38.0,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13577,
      "post_number": 3,
      "username": "MarionP",
      "name": "MarionP",
      "created_at": "2025-06-02T11:34:11.564Z",
      "updated_at": "2025-06-02T11:34:11.564Z",
      "cooked": "<p>Ooooh it was so easy!<br>\nThank you so much for the quick answer, it works wonders. I was looking for the solution 1), but I actually didn’t knew I would need the 2) as well haha.</p>\n<p>Thank you again, have a nice day!</p>",
      "raw": "Ooooh it was so easy!\nThank you so much for the quick answer, it works wonders. I was looking for the solution 1), but I actually didn't knew I would need the 2) as well haha.\n\nThank you again, have a nice day!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1693
    }
  ],
  "scraped_at": "2025-06-10T09:46:53.924277"
}
{
  "topic_metadata": {
    "id": 4430,
    "title": "How to resize a figure to make it small?",
    "slug": "how-to-resize-a-figure-to-make-it-small",
    "posts_count": 4,
    "created_at": "2025-06-02T10:51:04.880Z",
    "last_posted_at": "2025-06-05T14:09:33.595Z",
    "views": 38,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Electron_Wizard",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 209
  },
  "posts": [
    {
      "id": 13572,
      "post_number": 1,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-06-02T10:51:04.997Z",
      "updated_at": "2025-06-02T10:52:02.306Z",
      "cooked": "<p>I have the following dummy code</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n    grid(\n        columns: (1fr, 1fr),\n        rows: (auto, auto),\n        gutter: auto,\n        random-fractal-tree(  // Configuration params),\n        lsystem( // Configuration params),\n    ),\n    kind: image,\n    caption: [Dummy figure]\n)\n</code></pre>\n<p>I have converted the grid into a figure with a caption. How can I resize (width and height) the figure to make it smaller?</p>\n<p>Thank you.</p>",
      "raw": "I have the following dummy code\n```typ\n#figure(\n    grid(\n        columns: (1fr, 1fr),\n        rows: (auto, auto),\n        gutter: auto,\n        random-fractal-tree(  // Configuration params),\n        lsystem( // Configuration params),\n    ),\n    kind: image,\n    caption: [Dummy figure]\n)\n```\nI have converted the grid into a figure with a caption. How can I resize (width and height) the figure to make it smaller?\n\nThank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    },
    {
      "id": 13579,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-06-02T12:26:23.519Z",
      "updated_at": "2025-06-02T12:26:23.519Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/andrew_duncan\">@Andrew_Duncan</a>,</p>\n<p>I don’t have access to my PC right now as I’m in Japan traveling.</p>\n<p>You could set two show rules! The first one adjusts the width of a figure and the other one centers the figure:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show figure: set block(width: 80%)\n#show figure: set align(center)\n</code></pre>\n<p>If you only want to have it specifically for one figure, just encase the whole thing in a scope <code>#[...]</code>.</p>\n<p>Hope this helps!</p>",
      "raw": "Hello @Andrew_Duncan,\n\nI don't have access to my PC right now as I'm in Japan traveling.\n\nYou could set two show rules! The first one adjusts the width of a figure and the other one centers the figure:\n\n```typst\n#show figure: set block(width: 80%)\n#show figure: set align(center)\n```\n\nIf you only want to have it specifically for one figure, just encase the whole thing in a scope `#[...]`.\n\nHope this helps!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 23.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 13581,
      "post_number": 3,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-06-02T12:30:29.025Z",
      "updated_at": "2025-06-02T12:30:29.025Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Electron_Wizard\" data-post=\"2\" data-topic=\"4430\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/electron_wizard/48/1615_2.png\" class=\"avatar\"> Electron_Wizard:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure: set block(width: 80%)\n#show figure: set align(center)\n</code></pre>\n</blockquote>\n</aside>\n<p>Thank you for your support.</p>",
      "raw": "[quote=\"Electron_Wizard, post:2, topic:4430\"]\n```\n#show figure: set block(width: 80%)\n#show figure: set align(center)\n```\n[/quote]\n\nThank you for your support.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    },
    {
      "id": 13759,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T14:09:33.595Z",
      "updated_at": "2025-06-05T14:09:33.595Z",
      "cooked": "<p>For inline comments, there is block syntax: <a href=\"https://typst.app/docs/reference/syntax/#comments\" class=\"inline-onebox\">Syntax – Typst Documentation</a></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n    grid(\n        columns: (1fr, 1fr),\n        rows: 2,\n        random-fractal-tree(/* Configuration params */),\n        lsystem(/* Configuration params */),\n    ),\n    caption: [Dummy figure]\n)\n</code></pre>\n<p>This also keeps the syntax highlighting correct.</p>\n<p>Not sure what <code>gutter: auto</code> does, probably not needed. <a href=\"https://github.com/typst/typst/issues/6391\" class=\"inline-onebox\">Clarify `grid.column-gutter` docs (take 2) · Issue #6391 · typst/typst · GitHub</a></p>",
      "raw": "For inline comments, there is block syntax: https://typst.app/docs/reference/syntax/#comments\n\n```typ\n#figure(\n    grid(\n        columns: (1fr, 1fr),\n        rows: 2,\n        random-fractal-tree(/* Configuration params */),\n        lsystem(/* Configuration params */),\n    ),\n    caption: [Dummy figure]\n)\n```\n\nThis also keeps the syntax highlighting correct.\n\nNot sure what `gutter: auto` does, probably not needed. https://github.com/typst/typst/issues/6391",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 9,
      "score": 1.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:53.227009"
}
{
  "topic_metadata": {
    "id": 4431,
    "title": "How can I add extra spacing above 'heading 1' on new pages",
    "slug": "how-can-i-add-extra-spacing-above-heading-1-on-new-pages",
    "posts_count": 7,
    "created_at": "2025-06-02T10:56:38.979Z",
    "last_posted_at": "2025-06-04T10:17:17.169Z",
    "views": 70,
    "like_count": 3,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "flokl",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 966
  },
  "posts": [
    {
      "id": 13573,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-02T10:56:39.060Z",
      "updated_at": "2025-06-02T12:44:53.003Z",
      "cooked": "<p>Thanks to help from many here, most of my issues setting up my template have been resolved, but I have one more. Here is my code example, modified to take in recent solutions.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;ep-start&gt;, &lt;ep-end&gt;))\n    .chunks(2)\n    .any(((start, end)) =&gt; {\n      start.location().page() &lt; page-num and page-num &lt; end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it =&gt; [#metadata[]&lt;ep-start&gt;] + it + [#metadata[]&lt;ep-end&gt;]\n\n#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n</code></pre>\n<p>However, I would like, book style, to have a separation, of say 5em, between the header and the Part heading. I have tried everything I can think of using a block or <code>#v</code> but, with my efforts, at best they have had no effect, at worst the heading disappears completely.</p>\n<p>Can someone please help me to accomplish this? Thanks.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks to help from many here, most of my issues setting up my template have been resolved, but I have one more. Here is my code example, modified to take in recent solutions.\n\n```typ\n// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<ep-start>, <ep-end>))\n    .chunks(2)\n    .any(((start, end)) => {\n      start.location().page() < page-num and page-num < end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it => [#metadata[]<ep-start>] + it + [#metadata[]<ep-end>]\n\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n```\nHowever, I would like, book style, to have a separation, of say 5em, between the header and the Part heading. I have tried everything I can think of using a block or `#v` but, with my efforts, at best they have had no effect, at worst the heading disappears completely.\n\nCan someone please help me to accomplish this? Thanks.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13587,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-02T13:21:43.486Z",
      "updated_at": "2025-06-02T13:21:43.486Z",
      "cooked": "<p>Using something like this with <code>v</code> should work just fine:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\")\n  v(5cm)\n  it\n}\n</code></pre>\n<p>(Whether to write it like that or with <code>+</code> doesn’t matter, it’s the same thing)</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">pagebreak(weak: true, to: \"odd\") + v(5cm) + it\n</code></pre>",
      "raw": "Using something like this with `v` should work just fine:\n\n```\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\")\n  v(5cm)\n  it\n}\n```\n\n\n(Whether to write it like that or with `+` doesn't matter, it's the same thing)\n```typc\npagebreak(weak: true, to: \"odd\") + v(5cm) + it\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13593,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-02T17:26:29.215Z",
      "updated_at": "2025-06-02T17:26:29.215Z",
      "cooked": "<p>Thanks for the reply, but that adds the space <strong>after</strong> the heading, not above the heading, which is where I want it.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09.png\" data-download-href=\"https://forum.typst.app/uploads/default/390d6e3c99bf9de23774fa9c0584620f53391f09\" title=\"SCR-20250602-qcbw\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_359x500.png\" alt=\"SCR-20250602-qcbw\" data-base62-sha1=\"88HZqw78PuOvGzSFkEORE9VcGQV\" width=\"359\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_359x500.png, https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_538x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09.png 2x\" data-dominant-color=\"F5F5F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250602-qcbw</span><span class=\"informations\">594×826 75.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks for the reply, but that adds the space **after** the heading, not above the heading, which is where I want it.\n\n![SCR-20250602-qcbw|359x500](upload://88HZqw78PuOvGzSFkEORE9VcGQV.png)\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13599,
      "post_number": 4,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-02T18:05:29.955Z",
      "updated_at": "2025-06-02T18:07:14.814Z",
      "cooked": "<p>Hm. In my example it didn’t do that, so maybe you can share the complete code?</p>\n<p>Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;ep-start&gt;, &lt;ep-end&gt;))\n    .chunks(2)\n    .any(((start, end)) =&gt; {\n      start.location().page() &lt; page-num and page-num &lt; end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it =&gt; [#metadata[]&lt;ep-start&gt;] + it + [#metadata[]&lt;ep-end&gt;]\n\n#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + v(5em) + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/930c497d10e479a039610d61499328a5d1cadf8e.png\" data-download-href=\"https://forum.typst.app/uploads/default/930c497d10e479a039610d61499328a5d1cadf8e\" title=\"bild\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_177x250.png\" alt=\"bild\" data-base62-sha1=\"kYQvOf4nsltaDgBhmBFWWfovlNQ\" width=\"177\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_177x250.png, https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_265x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_354x500.png 2x\" data-dominant-color=\"F5F5F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">bild</span><span class=\"informations\">442×623 42.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hm. In my example it didn't do that, so maybe you can share the complete code?\n\nOk I can take your example and it seems to work. There's a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.\n\n```typst\n// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<ep-start>, <ep-end>))\n    .chunks(2)\n    .any(((start, end)) => {\n      start.location().page() < page-num and page-num < end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it => [#metadata[]<ep-start>] + it + [#metadata[]<ep-end>]\n\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + v(5em) + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n```\n\n![bild|354x500, 50%](upload://kYQvOf4nsltaDgBhmBFWWfovlNQ.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13634,
      "post_number": 5,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-03T11:40:54.714Z",
      "updated_at": "2025-06-03T11:40:54.714Z",
      "cooked": "<p>Thank you for this. In all my attempts the one thing I did not try was putting <code>+</code> before the <code>(5em)</code>! You say:</p>\n<blockquote>\n<p>Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.</p>\n</blockquote>\n<p>Absolutely, but as always I’m stymied in trying to combine the “tweak” with existing code. The manual says:</p>\n<blockquote>\n<p>If <a class=\"hashtag-cooked\" href=\"/tag/hydra\" data-type=\"tag\" data-slug=\"hydra\" data-id=\"136\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>hydra</span></a> is used with ⟨skip-starting⟩: true on such a starting page, it will not show anything. This is turned on by default.</p>\n</blockquote>\n<p>As with the code lines:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> footer: context if not is-page-empty() {\n    align(center, counter(page).display())}\n</code></pre>\n<p>where the default placing of the page number is overridden, so too adding the <code>+(5em)</code> seems to override the default and we end up with</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c.png\" data-download-href=\"https://forum.typst.app/uploads/default/cecdaae8d115e17f2a43f8d42ba8e158defbe53c\" title=\"SCR-20250603-laxk\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_354x500.png\" alt=\"SCR-20250603-laxk\" data-base62-sha1=\"tvsZZ1kpQNMageeJqlcIIOIQz7u\" width=\"354\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_354x500.png, https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_531x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250603-laxk</span><span class=\"informations\">574×810 74.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>So, it seems that the “tweak” in question is to include <code>starting-page: true</code> somewhere in the code, or, in this case to turn on “Book mode”:</p>\n<blockquote>\n<p>If <a class=\"hashtag-cooked\" href=\"/tag/hydra\" data-type=\"tag\" data-slug=\"hydra\" data-id=\"136\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>hydra</span></a> is used on a leading page with ⟨book⟩: true, then it will not show an active element, if it is still visible on the trailing page. This is turned off by default.</p>\n</blockquote>\n<p>But where this should be placed in the code and in what form is not made at all clear to the likes of me! Again I just end up with errors that I can’t resolve.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you for this. In all my attempts the one thing I did not try was putting `+` before the `(5em)`! You say:\n\n> Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.\n\nAbsolutely, but as always I'm stymied in trying to combine the \"tweak\" with existing code. The manual says:\n\n> If #hydra is used with ⟨skip-starting⟩: true on such a starting page, it will not show anything. This is turned on by default.\n\nAs with the code lines:\n\n```typ\n footer: context if not is-page-empty() {\n    align(center, counter(page).display())}\n```\nwhere the default placing of the page number is overridden, so too adding the `+(5em)` seems to override the default and we end up with\n\n![SCR-20250603-laxk|354x500](upload://tvsZZ1kpQNMageeJqlcIIOIQz7u.png)\n\nSo, it seems that the \"tweak\" in question is to include `starting-page: true` somewhere in the code, or, in this case to turn on \"Book mode\":\n\n> If #hydra is used on a leading page with ⟨book⟩: true, then it will not show an active element, if it is still visible on the trailing page. This is turned off by default.\n\nBut where this should be placed in the code and in what form is not made at all clear to the likes of me! Again I just end up with errors that I can't resolve.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13642,
      "post_number": 6,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-03T15:07:48.102Z",
      "updated_at": "2025-06-03T15:07:48.102Z",
      "cooked": "<p>Page 5 of the <a href=\"https://raw.githubusercontent.com/typst/packages/main/packages/preview/hydra/0.6.1/assets/manual.pdf\">hydra manual</a> contains the fix for your exact problem :).</p>\n<blockquote>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// do\n#show heading: it =&gt; block(v(8cm) + it\n// don't\n#show heading: it =&gt; v(8cm) + it\n</code></pre>\n</blockquote>\n<p>You have to wrap the vertical spacing and the heading in a block.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">...\npagebreak(weak: true, to: \"odd\")\nblock(v(5em) + it)\n...\n</code></pre>",
      "raw": "Page 5 of the [hydra manual](https://raw.githubusercontent.com/typst/packages/main/packages/preview/hydra/0.6.1/assets/manual.pdf) contains the fix for your exact problem :). \n> ```typst\n> // do\n> #show heading: it => block(v(8cm) + it\n> // don't\n> #show heading: it => v(8cm) + it\n> ```\n\nYou have to wrap the vertical spacing and the heading in a block.\n```typst\n...\npagebreak(weak: true, to: \"odd\")\nblock(v(5em) + it)\n...\n```",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 16,
      "score": 38.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13677,
      "post_number": 7,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-04T10:17:17.169Z",
      "updated_at": "2025-06-04T10:17:17.169Z",
      "cooked": "<p>Thank you so much!</p>\n<p>I have to say that I had read the manual many times, but couldn’t get that to work; it just returned an error that I couldn’t resolve, so I don’t know what I had typed wrong. As I have said, where the example code doesn’t match the more complex code you already have working, marrying the two is not immediately obvious to us beginners.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you so much!\n\nI have to say that I had read the manual many times, but couldn't get that to work; it just returned an error that I couldn't resolve, so I don't know what I had typed wrong. As I have said, where the example code doesn't match the more complex code you already have working, marrying the two is not immediately obvious to us beginners.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 11,
      "score": 17.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    }
  ],
  "scraped_at": "2025-06-10T09:46:52.504411"
}
{
  "topic_metadata": {
    "id": 4432,
    "title": "How do i get the line length of the last line in a paragraph?",
    "slug": "how-do-i-get-the-line-length-of-the-last-line-in-a-paragraph",
    "posts_count": 18,
    "created_at": "2025-06-02T11:18:23.370Z",
    "last_posted_at": "2025-06-06T15:02:37.528Z",
    "views": 129,
    "like_count": 3,
    "reply_count": 16,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 989
  },
  "posts": [
    {
      "id": 13575,
      "post_number": 1,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-02T11:18:23.455Z",
      "updated_at": "2025-06-03T11:41:54.255Z",
      "cooked": "<p>I’m looking to make a function that draws a line, beginning from the last word in a paragraph until the end of the page (minus margin ofcourse). I tried looping over the width of the paragraph while subtracting the page width but that’s not ideal because if I’m not wrong Typst puts all the words next to eachother while measuring width. Another idea is placing an invisible marker at the end of the paragraph and measuring from there but I don’t know how to implement that.</p>\n<p>Does anyone have an idea or a reference to the right docs? Thanks!</p>",
      "raw": "I'm looking to make a function that draws a line, beginning from the last word in a paragraph until the end of the page (minus margin ofcourse). I tried looping over the width of the paragraph while subtracting the page width but that's not ideal because if I'm not wrong Typst puts all the words next to eachother while measuring width. Another idea is placing an invisible marker at the end of the paragraph and measuring from there but I don't know how to implement that.\n\nDoes anyone have an idea or a reference to the right docs? Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 30.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13578,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-02T12:19:55.480Z",
      "updated_at": "2025-06-02T12:20:24.483Z",
      "cooked": "<p>For a line to margin, you can make a box that occupies the remaining space using <code>box(width: 1fr, ...)</code>. Here are several ways to get a line using this box:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(margin: 3cm)\n\n#lorem(100)\n#box(width: 1fr, line(length: 100%))\n\n#lorem(100)\n#box(width: 1fr, stroke: (top: 1pt))\n\n// Quality of result will depend on PDF reader and font\n#lorem(100)\n#box(width: 1fr, repeat[─])\n</code></pre>",
      "raw": "For a line to margin, you can make a box that occupies the remaining space using `box(width: 1fr, ...)`. Here are several ways to get a line using this box:\n\n```\n#set page(margin: 3cm)\n\n#lorem(100)\n#box(width: 1fr, line(length: 100%))\n\n#lorem(100)\n#box(width: 1fr, stroke: (top: 1pt))\n\n// Quality of result will depend on PDF reader and font\n#lorem(100)\n#box(width: 1fr, repeat[─])\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 30.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13632,
      "post_number": 3,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-03T11:25:13.706Z",
      "updated_at": "2025-06-03T11:25:13.706Z",
      "cooked": "<p>Thanks, i didn’t realize it was this simple :)</p>",
      "raw": "Thanks, i didn't realize it was this simple :)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13633,
      "post_number": 4,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-03T11:31:07.076Z",
      "updated_at": "2025-06-03T11:31:07.076Z",
      "cooked": "<p>Adjacent, to this, do you maybe know how to apply this to headings? When i try to set a show rule for headings it just draws the line underneath the heading title.</p>",
      "raw": "Adjacent, to this, do you maybe know how to apply this to headings? When i try to set a show rule for headings it just draws the line underneath the heading title.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13635,
      "post_number": 5,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-03T12:02:54.514Z",
      "updated_at": "2025-06-03T12:02:54.514Z",
      "cooked": "<p>By default, a heading is in a block element, and if you add a box after a block it will come below. You can solve this by wrapping the heading in a box:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: it =&gt; box(it) + box(width: 1fr, line(length: 100%))\n</code></pre>",
      "raw": "By default, a heading is in a block element, and if you add a box after a block it will come below. You can solve this by wrapping the heading in a box:\n\n```\n#show heading: it => box(it) + box(width: 1fr, line(length: 100%))\n```",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13637,
      "post_number": 6,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-03T12:32:53.287Z",
      "updated_at": "2025-06-03T12:32:53.287Z",
      "cooked": "<p>I tried that but it seems that the heading then gets handled like a table or grid with two columns, so the line doesn’t span after the last word (given that the heading is more than 1 line long) but in the next “column”. I don’t now how to achieve the line like in regular text (like you provided).</p>",
      "raw": "I tried that but it seems that the heading then gets handled like a table or grid with two columns, so the line doesn't span after the last word (given that the heading is more than 1 line long) but in the next \"column\". I don't now how to achieve the line like in regular text (like you provided).",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13647,
      "post_number": 7,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-03T17:17:45.219Z",
      "updated_at": "2025-06-03T18:12:53.132Z",
      "cooked": "<p>Ah right, then you need something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: it =&gt; block({\n  if it.numbering != none {\n    counter(heading).display(it.numbering) + \" \"\n  } \n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n</code></pre>\n<p>The problem is that this doesn’t return a heading, so it could prevent some rules on headings (higher up in the document) from being applied. So make sure to put this rule at the top. Or make it return a new heading, but then you’d need a trick to avoid recursion and spurious counter increments.</p>",
      "raw": "Ah right, then you need something like\n\n```\n#show heading: it => block({\n  if it.numbering != none {\n    counter(heading).display(it.numbering) + \" \"\n  } \n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n```\n\nThe problem is that this doesn't return a heading, so it could prevent some rules on headings (higher up in the document) from being applied. So make sure to put this rule at the top. Or make it return a new heading, but then you'd need a trick to avoid recursion and spurious counter increments.",
      "reply_to_post_number": 6,
      "reply_count": 3,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 34.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13687,
      "post_number": 8,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-04T12:40:54.930Z",
      "updated_at": "2025-06-04T12:40:54.930Z",
      "cooked": "<p>Thanks, adding to that I put the counter and remaining “heading” in a grid to keep the text after the numbering when the heading goes onto the next line.<br>\nHowever the text’s spacing is a little bit weird and I don’t see why that is, it now spans the text over the entire page sometimes with huge gaps. Do you maybe now the reason? I added a picture to clarify.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/31d77e7898493c1560f1bd343d33a4f8a4088a60.png\" data-download-href=\"https://forum.typst.app/uploads/default/31d77e7898493c1560f1bd343d33a4f8a4088a60\" title=\"Screenshot_2025-06-04_14-40-34\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/31d77e7898493c1560f1bd343d33a4f8a4088a60_2_690x306.png\" alt=\"Screenshot_2025-06-04_14-40-34\" data-base62-sha1=\"76V5zubcDJqmklXokfaqu9fpvP2\" width=\"690\" height=\"306\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/31d77e7898493c1560f1bd343d33a4f8a4088a60_2_690x306.png, https://forum.typst.app/uploads/default/optimized/2X/3/31d77e7898493c1560f1bd343d33a4f8a4088a60_2_1035x459.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/3/31d77e7898493c1560f1bd343d33a4f8a4088a60_2_1380x612.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot_2025-06-04_14-40-34</span><span class=\"informations\">1407×626 74.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Thanks, adding to that I put the counter and remaining \"heading\" in a grid to keep the text after the numbering when the heading goes onto the next line.\nHowever the text's spacing is a little bit weird and I don't see why that is, it now spans the text over the entire page sometimes with huge gaps. Do you maybe now the reason? I added a picture to clarify.\n![Screenshot_2025-06-04_14-40-34|690x306](upload://76V5zubcDJqmklXokfaqu9fpvP2.png)",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13692,
      "post_number": 9,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-04T14:24:15.751Z",
      "updated_at": "2025-06-04T14:24:15.751Z",
      "cooked": "<p>This seems to be due to text justification. If you use <code>it.body</code> Typst interprets it as a paragraph (see <a href=\"https://typst.app/docs/reference/model/par/\">documentation</a>) and it is affected by the paragraph’s text justification rule. To fix your issue, you have to disable justification inside the heading show rule and optionally enable hyphenation.</p>",
      "raw": "This seems to be due to text justification. If you use `it.body` Typst interprets it as a paragraph (see [documentation](https://typst.app/docs/reference/model/par/)) and it is affected by the paragraph's text justification rule. To fix your issue, you have to disable justification inside the heading show rule and optionally enable hyphenation.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13695,
      "post_number": 10,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-04T16:45:29.425Z",
      "updated_at": "2025-06-04T16:45:29.425Z",
      "cooked": "<p>That indeed works, i tried this but i didn’t put it inside the show rule. Thanks!</p>",
      "raw": "That indeed works, i tried this but i didn't put it inside the show rule. Thanks!",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13761,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T14:17:20.398Z",
      "updated_at": "2025-06-05T14:17:20.398Z",
      "cooked": "<p>The spacing between numbering and body should be <a href=\"https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-library/src/model/heading.rs?plain=1#L223\"><code>0.3em</code></a>.</p>",
      "raw": "The spacing between numbering and body should be [`0.3em`](https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-library/src/model/heading.rs?plain=1#L223).",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13762,
      "post_number": 12,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T14:23:01.740Z",
      "updated_at": "2025-06-05T14:23:01.740Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"7\" data-topic=\"4432\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>The problem is that this doesn’t return a heading, so it could prevent some rules on headings (higher up in the document) from being applied.</p>\n</blockquote>\n</aside>\n<p>Which rules?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: set text(15pt)\n#show heading: set block(spacing: 5pt)\n\n#show heading: it =&gt; block({\n  if it.numbering != none { counter(heading).display(it.numbering) + h(0.3em) }\n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n\n= Heading\n\n#set heading(numbering: \"1.\")\n\n= Heading\n</code></pre>",
      "raw": "[quote=\"sijo, post:7, topic:4432\"]\nThe problem is that this doesn’t return a heading, so it could prevent some rules on headings (higher up in the document) from being applied.\n[/quote]\n\nWhich rules?\n\n```typ\n#show heading: set text(15pt)\n#show heading: set block(spacing: 5pt)\n\n#show heading: it => block({\n  if it.numbering != none { counter(heading).display(it.numbering) + h(0.3em) }\n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n\n= Heading\n\n#set heading(numbering: \"1.\")\n\n= Heading\n```",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 21,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13769,
      "post_number": 13,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-05T15:18:36.227Z",
      "updated_at": "2025-06-05T15:18:57.454Z",
      "cooked": "<p>Show-it rules as in <code>#show heading: it =&gt; ...</code></p>\n<p>For example</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Doesn't work because of the next rule below\n#show heading: it =&gt; block(stroke: red, it)\n\n#show heading: it =&gt; block({\n  if it.numbering != none { counter(heading).display(it.numbering) + h(0.3em) }\n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n\n= Heading\n\n#set heading(numbering: \"1.\")\n\n= Heading\n</code></pre>",
      "raw": "Show-it rules as in `#show heading: it => ...`\n\nFor example\n\n```\n// Doesn't work because of the next rule below\n#show heading: it => block(stroke: red, it)\n\n#show heading: it => block({\n  if it.numbering != none { counter(heading).display(it.numbering) + h(0.3em) }\n  it.body\n  box(width: 1fr, line(length: 100%))\n})\n\n= Heading\n\n#set heading(numbering: \"1.\")\n\n= Heading\n```",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13797,
      "post_number": 14,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T22:50:35.309Z",
      "updated_at": "2025-06-05T22:50:35.309Z",
      "cooked": "<p>Oh, yeah, other show rules won’t work when you have a destructive show rule/re-implementation of an element. But, generally speaking, you won’t have 2 show rules for the same thing in the first place. Only if you add state or metadata, that is.</p>\n<p>Destructuring show rul<strong>e</strong> go first, the rest goes after.</p>",
      "raw": "Oh, yeah, other show rules won't work when you have a destructive show rule/re-implementation of an element. But, generally speaking, you won't have 2 show rules for the same thing in the first place. Only if you add state or metadata, that is.\n\nDestructuring show rul**e** go first, the rest goes after.",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13809,
      "post_number": 15,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-06T09:25:30.195Z",
      "updated_at": "2025-06-06T09:25:59.304Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"14\" data-topic=\"4432\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>But, generally speaking, you won’t have 2 show rules for the same thing in the first place.</p>\n</blockquote>\n</aside>\n<p>You might have rules with different selectors that match the same element, or beside your custom rules you might also use a template that applies some show-it rules…</p>",
      "raw": "[quote=\"Andrew, post:14, topic:4432\"]\nBut, generally speaking, you won’t have 2 show rules for the same thing in the first place.\n[/quote]\n\nYou might have rules with different selectors that match the same element, or beside your custom rules you might also use a template that applies some show-it rules...",
      "reply_to_post_number": 14,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13814,
      "post_number": 16,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-06T13:47:33.104Z",
      "updated_at": "2025-06-06T13:47:33.104Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"15\" data-topic=\"4432\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>beside your custom rules you might also use a template that applies some show-it rules</p>\n</blockquote>\n</aside>\n<p>If a template function exists, then all rules would be in there, as is best practice. Sometimes it’s better to merge 2 show rules, if they exist, removing the potential loss of styling.</p>",
      "raw": "[quote=\"sijo, post:15, topic:4432\"]\nbeside your custom rules you might also use a template that applies some show-it rules\n[/quote]\n\nIf a template function exists, then all rules would be in there, as is best practice. Sometimes it's better to merge 2 show rules, if they exist, removing the potential loss of styling.",
      "reply_to_post_number": 15,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 17,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13820,
      "post_number": 17,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-06T14:34:24.002Z",
      "updated_at": "2025-06-06T14:37:36.579Z",
      "cooked": "<blockquote>\n<p>If a template function exists, then all rules would be in there, as is best practice.</p>\n</blockquote>\n<p>I disagree, it’s quite common to apply a template from a package and also add some personal show rules (without making a new “merged” template). There’s nothing wrong with that…</p>\n<p>And there’s yet another case when you need multiple show-it rules and must be careful: when you have a rule at the global scope, and one inside of another show rule. For example</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline: it =&gt; {\n  show heading: x =&gt; ...\n  it\n}\n</code></pre>",
      "raw": "> If a template function exists, then all rules would be in there, as is best practice.\n\nI disagree, it's quite common to apply a template from a package and also add some personal show rules (without making a new \"merged\" template). There's nothing wrong with that...\n\nAnd there's yet another case when you need multiple show-it rules and must be careful: when you have a rule at the global scope, and one inside of another show rule. For example\n\n```\n#show outline: it => {\n  show heading: x => ...\n  it\n}\n```",
      "reply_to_post_number": 16,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13822,
      "post_number": 18,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-06T15:02:37.528Z",
      "updated_at": "2025-06-06T15:02:37.528Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"17\" data-topic=\"4432\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>I disagree</p>\n</blockquote>\n</aside>\n<p>Assuming it’s all yours, no package.</p>",
      "raw": "[quote=\"sijo, post:17, topic:4432\"]\nI disagree\n[/quote]\n\nAssuming it's all yours, no package.",
      "reply_to_post_number": 17,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 16,
      "score": 2.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:51.675364"
}
{
  "topic_metadata": {
    "id": 4434,
    "title": "Your document contains nothing referenciable. Try adding a label or bibliography",
    "slug": "your-document-contains-nothing-referenciable-try-adding-a-label-or-bibliography",
    "posts_count": 7,
    "created_at": "2025-06-02T12:57:17.965Z",
    "last_posted_at": "2025-06-02T18:38:59.155Z",
    "views": 57,
    "like_count": 0,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "juliohm",
    "tags": [
      "web-app",
      "bibtex"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 448
  },
  "posts": [
    {
      "id": 13585,
      "post_number": 1,
      "username": "juliohm",
      "name": "Júlio Hoffimann",
      "created_at": "2025-06-02T12:57:18.030Z",
      "updated_at": "2025-06-05T14:30:44.848Z",
      "cooked": "<p>Dear Typst community,</p>\n<p>First off. Thank you for building Typst. It is an amazing tool <img src=\"https://forum.typst.app/images/emoji/apple/heart_hands.png?v=12\" title=\":heart_hands:\" class=\"emoji\" alt=\":heart_hands:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>I’ve started my Typst experience with a <a href=\"https://typst.app/universe/package/bubble\">template</a> I found, and everything is working smoothly, except citations from a bibliography file.</p>\n<p>I followed the instructions in the documentation:</p>\n<ol>\n<li>Created a <code>references.bib</code> file with BibTeX entries.</li>\n<li>Added <code>#bibliography(\"references.bib\")</code> at the end of the document.</li>\n<li>Attempted to cite entries with the <code>@Foo1998</code> syntax.</li>\n</ol>\n<p>For some reason, labels from the <code>references.bib</code> file are not recognized. When I attempt to press the <code>@</code> in the menu bar, it shows the message in the title of this thread:</p>\n<blockquote>\n<p>Your document contains nothing referenciable. Try adding a label or bibliography.</p>\n</blockquote>\n<p>I searched online, and in this forum, and couldn’t find an answer to this issue. Could someone please help?</p>",
      "raw": "Dear Typst community,\n\nFirst off. Thank you for building Typst. It is an amazing tool :heart_hands:\n\nI've started my Typst experience with a [template](https://typst.app/universe/package/bubble) I found, and everything is working smoothly, except citations from a bibliography file.\n\nI followed the instructions in the documentation:\n\n1. Created a `references.bib` file with BibTeX entries.\n2. Added `#bibliography(\"references.bib\")` at the end of the document.\n3. Attempted to cite entries with the `@Foo1998` syntax.\n\nFor some reason, labels from the `references.bib` file are not recognized. When I attempt to press the `@` in the menu bar, it shows the message in the title of this thread:\n\n>Your document contains nothing referenciable. Try adding a label or bibliography.\n\nI searched online, and in this forum, and couldn't find an answer to this issue. Could someone please help?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1694
    },
    {
      "id": 13591,
      "post_number": 2,
      "username": "sitandr",
      "name": "sitandr",
      "created_at": "2025-06-02T14:20:10.415Z",
      "updated_at": "2025-06-02T14:26:20.970Z",
      "cooked": "<p>That’s strange, seems like it doesn’t “see” the bibliography. It could be related to some show-rules in template or the bibtex file, it is hard to tell from what you said.</p>\n<p>Could you share the project or create some minimial example with the error? That would make it much easier to find out what’s wrong.</p>",
      "raw": "That's strange, seems like it doesn't \"see\" the bibliography. It could be related to some show-rules in template or the bibtex file, it is hard to tell from what you said.\n\nCould you share the project or create some minimial example with the error? That would make it much easier to find out what's wrong.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 19
    },
    {
      "id": 13592,
      "post_number": 3,
      "username": "Rifling",
      "name": "",
      "created_at": "2025-06-02T14:21:10.638Z",
      "updated_at": "2025-06-02T14:49:22.573Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/juliohm\">@juliohm</a> , can you share an example of your references.bib and your main.txt file?<br>\nI suspect that the reference file is not written correctly.<br>\nFor example, the following code works:</p>\n<p>main.typ:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// default text of the bubble template and the following lines\n\n#lorem(25)\n#bibliography(\"references.bib\")\n</code></pre>\n<p>references.bib:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">@article{Foo1998,\n  author = {John Foo},\n  title = {Something Interesting},\n  year = {1998},\n  journal = {Journal of Test Data}\n}\n</code></pre>",
      "raw": "Hi @juliohm , can you share an example of your references.bib and your main.txt file?\nI suspect that the reference file is not written correctly.\nFor example, the following code works:\n\nmain.typ:\n```typ\n// default text of the bubble template and the following lines\n\n#lorem(25)\n#bibliography(\"references.bib\")\n```\nreferences.bib:\n```\n@article{Foo1998,\n  author = {John Foo},\n  title = {Something Interesting},\n  year = {1998},\n  journal = {Journal of Test Data}\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1609
    },
    {
      "id": 13594,
      "post_number": 4,
      "username": "juliohm",
      "name": "Júlio Hoffimann",
      "created_at": "2025-06-02T17:29:01.087Z",
      "updated_at": "2025-06-02T17:29:01.087Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/rifling\">@Rifling</a> the <code>references.bib</code> file has the following content:</p>\n<pre data-code-wrap=\"bibtex\"><code class=\"lang-bibtex\">@article{Krumbein1967,\n  title={FORTRAN IV Computer Programs for Markov Chain Experiments in Geology},\n  author={W.C. Krumbein},\n  journal={Bulletin (Kansas Geological Survey)},\n  year={1967},\n  url={https://api.semanticscholar.org/CorpusID:276237192}\n}\n\n@article{Carle1996,\n  doi = {10.1007/bf02083656},\n  url = {https://doi.org/10.1007/bf02083656},\n  year = {1996},\n  month = may,\n  publisher = {Springer Science and Business Media {LLC}},\n  volume = {28},\n  number = {4},\n  pages = {453--476},\n  author = {Steven F. Carle and Graham E. Fogg},\n  title = {Transition probability-based indicator geostatistics},\n  journal = {Mathematical Geology}\n}\n</code></pre>\n<p>Do you see any problem with it?</p>",
      "raw": "@Rifling the `references.bib` file has the following content:\n\n```bibtex\n@article{Krumbein1967,\n  title={FORTRAN IV Computer Programs for Markov Chain Experiments in Geology},\n  author={W.C. Krumbein},\n  journal={Bulletin (Kansas Geological Survey)},\n  year={1967},\n  url={https://api.semanticscholar.org/CorpusID:276237192}\n}\n\n@article{Carle1996,\n  doi = {10.1007/bf02083656},\n  url = {https://doi.org/10.1007/bf02083656},\n  year = {1996},\n  month = may,\n  publisher = {Springer Science and Business Media {LLC}},\n  volume = {28},\n  number = {4},\n  pages = {453--476},\n  author = {Steven F. Carle and Graham E. Fogg},\n  title = {Transition probability-based indicator geostatistics},\n  journal = {Mathematical Geology}\n}\n```\n\nDo you see any problem with it?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 14.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1694
    },
    {
      "id": 13595,
      "post_number": 5,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2025-06-02T17:32:22.475Z",
      "updated_at": "2025-06-02T17:33:01.381Z",
      "cooked": "<p>Your <code>references.bib</code> looks fine and I have just tested it with the <code>bubble</code> template you used and it works fine for me. Anything else you changed for the template?</p>",
      "raw": "Your `references.bib` looks fine and I have just tested it with the `bubble` template you used and it works fine for me. Anything else you changed for the template?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 34.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 13596,
      "post_number": 6,
      "username": "juliohm",
      "name": "Júlio Hoffimann",
      "created_at": "2025-06-02T17:33:59.271Z",
      "updated_at": "2025-06-02T17:33:59.271Z",
      "cooked": "<p>I believe this was a glitch in the Typst app somehow. I restarted it and it now works as expected. Sorry for the noise.</p>",
      "raw": "I believe this was a glitch in the Typst app somehow. I restarted it and it now works as expected. Sorry for the noise.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1694
    },
    {
      "id": 13603,
      "post_number": 7,
      "username": "Rifling",
      "name": "",
      "created_at": "2025-06-02T18:38:59.155Z",
      "updated_at": "2025-06-02T18:39:15.149Z",
      "cooked": "<p>Yes <a class=\"mention\" href=\"/u/juliohm\">@juliohm</a> , sometimes the web application may have latencies.<br>\nI suggest you take a look at the <a href=\"https://github.com/Myriad-Dreamin/tinymist\" rel=\"noopener nofollow ugc\">VSCode Tinymist</a> extension, for writing locally.</p>",
      "raw": "Yes @juliohm , sometimes the web application may have latencies.\nI suggest you take a look at the [VSCode Tinymist](https://github.com/Myriad-Dreamin/tinymist) extension, for writing locally.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1609
    }
  ],
  "scraped_at": "2025-06-10T09:46:50.894374"
}
{
  "topic_metadata": {
    "id": 4436,
    "title": "How to change the kind of a figure with a table?",
    "slug": "how-to-change-the-kind-of-a-figure-with-a-table",
    "posts_count": 3,
    "created_at": "2025-06-02T13:58:35.178Z",
    "last_posted_at": "2025-06-03T05:57:49.903Z",
    "views": 43,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bluss",
    "tags": [
      "figures"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 157
  },
  "posts": [
    {
      "id": 13588,
      "post_number": 1,
      "username": "PhiloSoPh",
      "name": "S.",
      "created_at": "2025-06-02T13:58:35.238Z",
      "updated_at": "2025-06-03T05:58:14.721Z",
      "cooked": "<p>How can I change the kind of this “figure” from table to figure as it will be labled as a table…</p>\n<p><span class=\"hashtag-raw\">#figure</span>(<br>\ntable(<br>\ncolumns: (auto),<br>\nimage(“images/0_progress 1000.png”),<br>\nimage(“images/0_performance 1000.png”)<br>\n),<br>\ncaption: “progress (top) &amp; performance (bottom) for 1000 episodes”)<br>\n&lt;1000episodes&gt;</p>",
      "raw": "How can I change the kind of this \"figure\" from table to figure as it will be labled as a table..\n\n#figure(\n  table(\n  columns: (auto),\n  image(\"images/0_progress 1000.png\"),\n  image(\"images/0_performance 1000.png\")\n),\n  caption: \"progress (top) & performance (bottom) for 1000 episodes\")\n  <1000episodes>",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1439
    },
    {
      "id": 13589,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-02T14:07:15.351Z",
      "updated_at": "2025-06-02T14:07:15.351Z",
      "cooked": "<p>You can either</p>\n<ul>\n<li>use a grid instead of a table. They are almost the same thing but with different default for spacing and strokes</li>\n<li>Pass the figure function this exact parameter: <code>kind: image</code>. So the value to the parameter is the image function (element).</li>\n</ul>",
      "raw": "You can either\n\n- use a grid instead of a table. They are almost the same thing but with different default for spacing and strokes\n- Pass the figure function this exact parameter: `kind: image`. So the value to the parameter is the image function (element).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13607,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-06-03T05:57:49.903Z",
      "updated_at": "2025-06-03T05:57:49.903Z",
      "cooked": "<p>The correct approach is to use a grid instead of a table. The difference is in semantics: you use a table to display data. You use a grid only to lay things out visually in a grid or side by side, as you are doing here. So you should use a grid and only use a table when you’re displaying data in the document for the best results.</p>",
      "raw": "The correct approach is to use a grid instead of a table. The difference is in semantics: you use a table to display data. You use a grid only to lay things out visually in a grid or side by side, as you are doing here. So you should use a grid and only use a table when you're displaying data in the document for the best results.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 15,
      "score": 48.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:46:50.124466"
}
{
  "topic_metadata": {
    "id": 4440,
    "title": "How to have table cells of same height, because of a rowspan in first column?",
    "slug": "how-to-have-table-cells-of-same-height-because-of-a-rowspan-in-first-column",
    "posts_count": 6,
    "created_at": "2025-06-02T18:18:51.469Z",
    "last_posted_at": "2025-06-07T11:23:35.983Z",
    "views": 77,
    "like_count": 7,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1132
  },
  "posts": [
    {
      "id": 13601,
      "post_number": 1,
      "username": "TheBigBadBoy",
      "name": "",
      "created_at": "2025-06-02T18:18:51.577Z",
      "updated_at": "2025-06-02T18:20:26.083Z",
      "cooked": "<p>In the table below, I would like the cells on the last 3 rows to have the same exact height.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">table(columns: 9, stroke: (paint: gray.lighten(65%)), align: horizon,\n    table.cell(colspan: 2)[Number of #acrpl(\"GPU\")], table.vline(stroke: (paint: black)), ..range(7).map(n =&gt; [#(calc.pow(2,n))]), table.hline(stroke: (paint: black)),\n    table.cell(rowspan: 3, align: horizon, rotate(-90deg, reflow: true, [Iteration time (ms)])),\n    [Blocking #acs(\"MPI\")], [136.8], [69.1], [35.9], [22.1], [14.8], [15.1], [40.8],\n    [Non-blocking #acs(\"MPI\")], [136.8], [68.7], [34.7], [18.2], [9.5], [5.6], [7.2],\n    [Masked\\ #acs(\"MPI\")], [136.8], [68.6], [34.3], [17.2], [8.7], [4.4], [3.4]\n  )\n</code></pre>\n<p>The output I get shows this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f.png\" data-download-href=\"https://forum.typst.app/uploads/default/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f_2_690x242.png\" alt=\"image\" data-base62-sha1=\"pmYwnFBVBbgOckVbt1ogtqdyPqT\" width=\"690\" height=\"242\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f_2_690x242.png, https://forum.typst.app/uploads/default/optimized/2X/b/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f_2_1035x363.png 1.5x, https://forum.typst.app/uploads/default/original/2X/b/b1cf3d7bd00141f7c4386d733b7d7ddfeca1d80f.png 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1094×384 22 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "In the table below, I would like the cells on the last 3 rows to have the same exact height.\n```typ\ntable(columns: 9, stroke: (paint: gray.lighten(65%)), align: horizon,\n    table.cell(colspan: 2)[Number of #acrpl(\"GPU\")], table.vline(stroke: (paint: black)), ..range(7).map(n => [#(calc.pow(2,n))]), table.hline(stroke: (paint: black)),\n    table.cell(rowspan: 3, align: horizon, rotate(-90deg, reflow: true, [Iteration time (ms)])),\n    [Blocking #acs(\"MPI\")], [136.8], [69.1], [35.9], [22.1], [14.8], [15.1], [40.8],\n    [Non-blocking #acs(\"MPI\")], [136.8], [68.7], [34.7], [18.2], [9.5], [5.6], [7.2],\n    [Masked\\ #acs(\"MPI\")], [136.8], [68.6], [34.3], [17.2], [8.7], [4.4], [3.4]\n  )\n```\n\nThe output I get shows this:\n![image|690x242](upload://pmYwnFBVBbgOckVbt1ogtqdyPqT.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 54.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1697
    },
    {
      "id": 13602,
      "post_number": 2,
      "username": "TheBigBadBoy",
      "name": "",
      "created_at": "2025-06-02T18:21:16.657Z",
      "updated_at": "2025-06-02T18:21:16.657Z",
      "cooked": "<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"955\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/allanchain/48/758_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-to-make-each-grid-cell-take-up-all-available-space/955\">How to make each grid cell take up all available space?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Sorry, I can’t find a proper and concise way to describe the problem in the title. Let me explain in detail here. \nI’m making a poster with many color boxes. I want all boxes aligned and fill up all available vertical space and thus there is no extra blank areas. Here is a simplified version of it: \n#set page(width: 300pt, height: 200pt)\n\n#set rect(\n  inset: 8pt,\n  fill: rgb(\"e4e5ea\"),\n  width: 100%,\n  radius: 5pt,\n)\n\n#grid(\n  columns: (1fr, 1fr, 1fr),\n  gutter: 3pt,\n  grid.cell(rowspan: 2, rect…\n  </blockquote>\n</aside>\n<p>\nMight be a good starting point, however it makes the table take the place of the whole page.</p>",
      "raw": "https://forum.typst.app/t/how-to-make-each-grid-cell-take-up-all-available-space/955\nMight be a good starting point, however it makes the table take the place of the whole page.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1697
    },
    {
      "id": 13767,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T15:11:55.468Z",
      "updated_at": "2025-06-06T14:23:55.674Z",
      "cooked": "<p>Hello. I don’t know how abstracted this should be, but I think you would have to use some wrapper either way. The only other way I can think of is similar to <a href=\"https://forum.typst.app/t/how-to-distribute-column-widths-equally-for-specific-rows-in-a-table/4044/4\" class=\"inline-onebox\">How to distribute column widths equally for specific rows in a table? - #4 by Andrew</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set rotate(reflow: true)\n\n#let even-height(first, ..rest) = {\n  if (\n    type(first) != content\n      or first.func() != table.cell\n      or \"rowspan\" not in first.fields()\n  ) {\n    return arguments(first, ..rest)\n  }\n  let height = measure(first).height\n  let rows = first.fields().rowspan\n  (first,)\n  rest.pos().map(block.with(height: height / rows))\n}\n\n#context table(\n  columns: 9,\n  stroke: gray.lighten(65%),\n  align: center + horizon,\n  table.header(\n    table.cell(colspan: 2)[Number of GPUs],\n    table.vline(stroke: (paint: black)),\n    ..range(7).map(n =&gt; [#calc.pow(2, n)]),\n  ),\n  table.hline(stroke: black),\n  ..even-height(\n    table.cell(rowspan: 3, rotate(-90deg)[Iteration time (ms)]),\n    [Blocking MPI],\n    [136.8],\n    [69.1],\n    [35.9],\n    [22.1],\n    [14.8],\n    [15.1],\n    [40.8],\n\n    [Non-blocking MPI],\n    [136.8],\n    [68.7],\n    [34.7],\n    [18.2],\n    [9.5],\n    [5.6],\n    [7.2],\n\n    [Masked\\ MPI],\n    [136.8],\n    [68.6],\n    [34.3],\n    [17.2],\n    [8.7],\n    [4.4],\n    [3.4],\n  ),\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/223fd46def05da19d7b9f911c9e3c4b5d1e34d18.png\" data-download-href=\"https://forum.typst.app/uploads/default/223fd46def05da19d7b9f911c9e3c4b5d1e34d18\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/223fd46def05da19d7b9f911c9e3c4b5d1e34d18_2_345x149.png\" alt=\"image\" data-base62-sha1=\"4SYZiCMzxLI9fYnwjXQHTZN6DwY\" width=\"345\" height=\"149\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/223fd46def05da19d7b9f911c9e3c4b5d1e34d18_2_345x149.png, https://forum.typst.app/uploads/default/optimized/2X/2/223fd46def05da19d7b9f911c9e3c4b5d1e34d18_2_517x223.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/2/223fd46def05da19d7b9f911c9e3c4b5d1e34d18_2_690x298.png 2x\" data-dominant-color=\"1A1A1A\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">754×326 38.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>You have to get the height of the first cell somehow, otherwise any ratio or fraction will be against page sizes. You can just specify absolute length to <code>rows</code>, and it will work, but it’s a manual value.</p>\n<p>Here is the easiest approach: get the first tall cell, the rest of the cells, <a href=\"https://typst.app/docs/reference/layout/measure/\">measure</a> the total height, get the number of rows spanned, divide one by another and set the height for the rest of the cells to this.</p>",
      "raw": "Hello. I don't know how abstracted this should be, but I think you would have to use some wrapper either way. The only other way I can think of is similar to https://forum.typst.app/t/how-to-distribute-column-widths-equally-for-specific-rows-in-a-table/4044/4?u=andrew.\n\n```typ\n#set rotate(reflow: true)\n\n#let even-height(first, ..rest) = {\n  if (\n    type(first) != content\n      or first.func() != table.cell\n      or \"rowspan\" not in first.fields()\n  ) {\n    return arguments(first, ..rest)\n  }\n  let height = measure(first).height\n  let rows = first.fields().rowspan\n  (first,)\n  rest.pos().map(block.with(height: height / rows))\n}\n\n#context table(\n  columns: 9,\n  stroke: gray.lighten(65%),\n  align: center + horizon,\n  table.header(\n    table.cell(colspan: 2)[Number of GPUs],\n    table.vline(stroke: (paint: black)),\n    ..range(7).map(n => [#calc.pow(2, n)]),\n  ),\n  table.hline(stroke: black),\n  ..even-height(\n    table.cell(rowspan: 3, rotate(-90deg)[Iteration time (ms)]),\n    [Blocking MPI],\n    [136.8],\n    [69.1],\n    [35.9],\n    [22.1],\n    [14.8],\n    [15.1],\n    [40.8],\n\n    [Non-blocking MPI],\n    [136.8],\n    [68.7],\n    [34.7],\n    [18.2],\n    [9.5],\n    [5.6],\n    [7.2],\n\n    [Masked\\ MPI],\n    [136.8],\n    [68.6],\n    [34.3],\n    [17.2],\n    [8.7],\n    [4.4],\n    [3.4],\n  ),\n)\n```\n\n![image|690x298, 50%](upload://4SYZiCMzxLI9fYnwjXQHTZN6DwY.png)\n\nYou have to get the height of the first cell somehow, otherwise any ratio or fraction will be against page sizes. You can just specify absolute length to `rows`, and it will work, but it's a manual value.\n\nHere is the easiest approach: get the first tall cell, the rest of the cells, [measure](https://typst.app/docs/reference/layout/measure/) the total height, get the number of rows spanned, divide one by another and set the height for the rest of the cells to this.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 18.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13834,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-06-07T07:01:33.146Z",
      "updated_at": "2025-06-07T07:01:33.146Z",
      "cooked": "<p>You can use <code>rows</code> to set the height of rows. Here are some alternative approaches using it:</p>\n<ol>\n<li>Guessing a fixed height for the cells (or measuring if you prefer) and using that. (Note that the last row height is repeated, so the 3 rows have the same height.)</li>\n<li>Limiting the space available to the table (or using the whole remainder of your page), and using <code>1fr</code> (1 fractional unit) rows which automatically split remaining space equally.</li>\n</ol>\n<p>For the former, you’d use e.g. <code>rows: (auto, 3em)</code>. For the latter, <code>rows: (auto, 1em)</code>. Since the former one is pretty straightforward, here’s how the second one would look like.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\"a4\", height: auto)\n#block(height: 5cm, table(\n  columns: 9,\n  stroke: gray.lighten(65%),\n  align: center + horizon,\n  rows: (auto, 1fr),\n  table.header(\n    table.cell(colspan: 2)[Number of GPUs],\n    table.vline(stroke: (paint: black)),\n    ..range(7).map(n =&gt; [#calc.pow(2, n)]),\n  ),\n  table.hline(stroke: black),\n  table.cell(rowspan: 3, rotate(-90deg, reflow: true)[Iteration time (ms)]),\n  [Blocking MPI],\n  [136.8],\n  [69.1],\n  [35.9],\n  [22.1],\n  [14.8],\n  [15.1],\n  [40.8],\n\n  [Non-blocking MPI],\n  [136.8],\n  [68.7],\n  [34.7],\n  [18.2],\n  [9.5],\n  [5.6],\n  [7.2],\n\n  [Masked\\ MPI],\n  [136.8],\n  [68.6],\n  [34.3],\n  [17.2],\n  [8.7],\n  [4.4],\n  [3.4],\n))\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e23a8028e3706ea22e89ef27a54e509a9f474bf4.png\" data-download-href=\"https://forum.typst.app/uploads/default/e23a8028e3706ea22e89ef27a54e509a9f474bf4\" title=\"output: last 3 rows have the same height\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/e23a8028e3706ea22e89ef27a54e509a9f474bf4_2_690x187.png\" alt=\"output: last 3 rows have the same height\" data-base62-sha1=\"whjfd32SW7MGGqFVhSpas0Kbj0w\" width=\"690\" height=\"187\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/e23a8028e3706ea22e89ef27a54e509a9f474bf4_2_690x187.png, https://forum.typst.app/uploads/default/optimized/2X/e/e23a8028e3706ea22e89ef27a54e509a9f474bf4_2_1035x280.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/e/e23a8028e3706ea22e89ef27a54e509a9f474bf4_2_1380x374.png 2x\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">output: last 3 rows have the same height</span><span class=\"informations\">1918×521 82 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You can use `rows` to set the height of rows. Here are some alternative approaches using it:\n\n1. Guessing a fixed height for the cells (or measuring if you prefer) and using that. (Note that the last row height is repeated, so the 3 rows have the same height.)\n2. Limiting the space available to the table (or using the whole remainder of your page), and using `1fr` (1 fractional unit) rows which automatically split remaining space equally.\n\nFor the former, you'd use e.g. `rows: (auto, 3em)`. For the latter, `rows: (auto, 1em)`. Since the former one is pretty straightforward, here's how the second one would look like.\n\n\n```typ\n#set page(\"a4\", height: auto)\n#block(height: 5cm, table(\n  columns: 9,\n  stroke: gray.lighten(65%),\n  align: center + horizon,\n  rows: (auto, 1fr),\n  table.header(\n    table.cell(colspan: 2)[Number of GPUs],\n    table.vline(stroke: (paint: black)),\n    ..range(7).map(n => [#calc.pow(2, n)]),\n  ),\n  table.hline(stroke: black),\n  table.cell(rowspan: 3, rotate(-90deg, reflow: true)[Iteration time (ms)]),\n  [Blocking MPI],\n  [136.8],\n  [69.1],\n  [35.9],\n  [22.1],\n  [14.8],\n  [15.1],\n  [40.8],\n\n  [Non-blocking MPI],\n  [136.8],\n  [68.7],\n  [34.7],\n  [18.2],\n  [9.5],\n  [5.6],\n  [7.2],\n\n  [Masked\\ MPI],\n  [136.8],\n  [68.6],\n  [34.3],\n  [17.2],\n  [8.7],\n  [4.4],\n  [3.4],\n))\n```\n\n![output: last 3 rows have the same height|690x187](upload://whjfd32SW7MGGqFVhSpas0Kbj0w.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 17,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13839,
      "post_number": 5,
      "username": "TheBigBadBoy",
      "name": "",
      "created_at": "2025-06-07T10:10:24.540Z",
      "updated_at": "2025-06-07T10:10:24.540Z",
      "cooked": "<p>Thanks to both of you for your help!<br>\nI really thought Typst had a thing like “minimize the area of the table while maximize rows height when they are <code>1fr</code>”.<br>\nI think I’ll go with the first answer though, as it provides some abstraction (and I have a few tables across my document, so I don’t feel like measuring everything). Thanks again.</p>",
      "raw": "Thanks to both of you for your help!\nI really thought Typst had a thing like \"minimize the area of the table while maximize rows height when they are `1fr`\".\nI think I'll go with the first answer though, as it provides some abstraction (and I have a few tables across my document, so I don't feel like measuring everything). Thanks again.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1697
    },
    {
      "id": 13843,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-06-07T11:23:35.983Z",
      "updated_at": "2025-06-07T12:01:44.135Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"TheBigBadBoy\" data-post=\"5\" data-topic=\"4440\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/thebigbadboy/48/3242_2.png\" class=\"avatar\"> TheBigBadBoy:</div>\n<blockquote>\n<p>minimize the area of the table while maximize rows height when they are <code>1fr</code></p>\n</blockquote>\n</aside>\n<p>huh, that framing inspired me. You can actually do that*: measure how much space the table requres with <code>auto</code> rows, and then put it in a fitting block with <code>1fr</code> rows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let t = table(\n  columns: 9,\n  // rows not specified\n  stroke: (paint: gray.lighten(65%)),\n  align: horizon,\n  \n  table.cell(colspan: 2)[Number of #acrpl(\"GPU\")],\n  table.vline(stroke: (paint: black)),\n  ..range(7).map(n =&gt; [#(calc.pow(2,n))]),\n  table.hline(stroke: (paint: black)),\n  \n  table.cell(rowspan: 3, align: horizon, rotate(-90deg, reflow: true, [Iteration time (ms)])),\n  [Blocking #acs(\"MPI\")], [136.8], [69.1], [35.9], [22.1], [14.8], [15.1], [40.8],\n  [Non-blocking #acs(\"MPI\")], [136.8], [68.7], [34.7], [18.2], [9.5], [5.6], [7.2],\n  [Masked\\ #acs(\"MPI\")], [136.8], [68.6], [34.3], [17.2], [8.7], [4.4], [3.4]\n)\n#layout(outer-size =&gt; {\n  // measure without rows configured, but constrained by available space\n  let size = measure(..outer-size, t)\n  // use set rules to change rows\n  set table(rows: (auto,) + 3 * (1fr,))\n  // render the table in a block with fixed size, so that 1fr only fills that space\n  block(..size, t)\n})\n</code></pre>\n<p>* this has the problem that the table might actually need more space when row heights are distributed, so it’s still not perfect. For example, if one row was significantly taller than the others, then distributing height away from it will make it overflow. You can see that by adding <code>lorem(20)</code> to one of the rows.</p>\n<p>(<a class=\"mention\" href=\"/u/andrew\">@Andrew</a>’s solution seems to have the same problem, but additionally his table is generally a bit taller than necessary (when there’s actually height to distribute) because he doesn’t factor in table insets.)</p>\n<p>I think that means that there are generally two cases:</p>\n<ul>\n<li>if the leftmost column’s height is larger than what is needed for accommodating three rows as tall as the tallest one (like your example), then my (and Andrew’s) trick works</li>\n<li>if the sum of the rows is taller than the leftmost column, then our tricks will no longer work, and instead the row height needs to be based on the tallest cell in all three rows</li>\n</ul>",
      "raw": "[quote=\"TheBigBadBoy, post:5, topic:4440\"]\nminimize the area of the table while maximize rows height when they are `1fr`\n[/quote]\n\nhuh, that framing inspired me. You can actually do that\\*: measure how much space the table requres with `auto` rows, and then put it in a fitting block with `1fr` rows:\n```\n#let t = table(\n  columns: 9,\n  // rows not specified\n  stroke: (paint: gray.lighten(65%)),\n  align: horizon,\n  \n  table.cell(colspan: 2)[Number of #acrpl(\"GPU\")],\n  table.vline(stroke: (paint: black)),\n  ..range(7).map(n => [#(calc.pow(2,n))]),\n  table.hline(stroke: (paint: black)),\n  \n  table.cell(rowspan: 3, align: horizon, rotate(-90deg, reflow: true, [Iteration time (ms)])),\n  [Blocking #acs(\"MPI\")], [136.8], [69.1], [35.9], [22.1], [14.8], [15.1], [40.8],\n  [Non-blocking #acs(\"MPI\")], [136.8], [68.7], [34.7], [18.2], [9.5], [5.6], [7.2],\n  [Masked\\ #acs(\"MPI\")], [136.8], [68.6], [34.3], [17.2], [8.7], [4.4], [3.4]\n)\n#layout(outer-size => {\n  // measure without rows configured, but constrained by available space\n  let size = measure(..outer-size, t)\n  // use set rules to change rows\n  set table(rows: (auto,) + 3 * (1fr,))\n  // render the table in a block with fixed size, so that 1fr only fills that space\n  block(..size, t)\n})\n```\n\n\\* this has the problem that the table might actually need more space when row heights are distributed, so it's still not perfect. For example, if one row was significantly taller than the others, then distributing height away from it will make it overflow. You can see that by adding `lorem(20)` to one of the rows.\n\n(@Andrew's solution seems to have the same problem, but additionally his table is generally a bit taller than necessary (when there's actually height to distribute) because he doesn't factor in table insets.)\n\nI think that means that there are generally two cases:\n- if the leftmost column's height is larger than what is needed for accommodating three rows as tall as the tallest one (like your example), then my (and Andrew's) trick works\n- if the sum of the rows is taller than the leftmost column, then our tricks will no longer work, and instead the row height needs to be based on the tallest cell in all three rows",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 2,
      "reads": 15,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:46:49.413984"
}
{
  "topic_metadata": {
    "id": 4450,
    "title": "How to make footer font smaller than body?",
    "slug": "how-to-make-footer-font-smaller-than-body",
    "posts_count": 4,
    "created_at": "2025-06-04T00:16:11.313Z",
    "last_posted_at": "2025-06-05T16:30:29.523Z",
    "views": 55,
    "like_count": 1,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bensetterholm",
    "tags": [
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 229
  },
  "posts": [
    {
      "id": 13648,
      "post_number": 1,
      "username": "indoor_plant",
      "name": "",
      "created_at": "2025-06-04T00:16:11.514Z",
      "updated_at": "2025-06-04T00:16:11.514Z",
      "cooked": "<p>I had the whole body font set to 8pt in my template</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">set text(\n  hyphenate: auto,\n  spacing: 175%,\n  size: 8pt,\n)\n</code></pre>\n<p>and then each chapter set to 11pt</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(size: 11pt)\n</code></pre>\n<p>this is the only way my previous alternating header font size adjusted so when I switched to using a basic footer page number</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"— 1 —\")\n</code></pre>\n<p>I kept it and it worked fine.</p>\n<p>I just added some pages at the beginning of the chapters and it forces the footer to be 11pt no matter what I do (moved to the end, and then added them to their own sections, nada)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#pagebreak()\n#set page(background: image(\"turntable-01.png\"))\n#pagebreak()\n#set page(background: image(\"turntable-02.png\"))\n\\\n=== chapter one\n</code></pre>\n<p>also, if I don’t add that linebreak above the chapter one heading, none of my block spacing actually applies…</p>\n<p>any thoughts would be helpful!</p>",
      "raw": "I had the whole body font set to 8pt in my template \n```\nset text(\n  hyphenate: auto,\n  spacing: 175%,\n  size: 8pt,\n)\n```\nand then each chapter set to 11pt \n```\n#set text(size: 11pt)\n```\nthis is the only way my previous alternating header font size adjusted so when I switched to using a basic footer page number\n```\n#set page(numbering: \"— 1 —\")\n```\nI kept it and it worked fine.\n\nI just added some pages at the beginning of the chapters and it forces the footer to be 11pt no matter what I do (moved to the end, and then added them to their own sections, nada)\n```\n#pagebreak()\n#set page(background: image(\"turntable-01.png\"))\n#pagebreak()\n#set page(background: image(\"turntable-02.png\"))\n\\\n=== chapter one\n```\nalso, if I don't add that linebreak above the chapter one heading, none of my block spacing actually applies...\n\nany thoughts would be helpful!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 24.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1257
    },
    {
      "id": 13694,
      "post_number": 2,
      "username": "bensetterholm",
      "name": "Benjamin Setterholm",
      "created_at": "2025-06-04T14:50:24.695Z",
      "updated_at": "2025-06-04T14:50:24.695Z",
      "cooked": "<p>Instead of setting <code>numbering</code>, would it work for you to define the <code>footer</code> explicitly? (Given that <code>numbering</code> only renders anything if the <code>footer</code> is blank, I assume that is okay for you)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  footer: context {\n      set text(size: 8pt)\n      set align(center)\n      [\\- #counter(page).get().first() \\-]\n  }\n)\n</code></pre>",
      "raw": "Instead of setting `numbering`, would it work for you to define the `footer` explicitly? (Given that `numbering` only renders anything if the `footer` is blank, I assume that is okay for you)\n\n```typ\n#set page(\n  footer: context {\n      set text(size: 8pt)\n      set align(center)\n      [\\- #counter(page).get().first() \\-]\n  }\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 28.4,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1073
    },
    {
      "id": 13696,
      "post_number": 3,
      "username": "indoor_plant",
      "name": "",
      "created_at": "2025-06-04T16:45:32.846Z",
      "updated_at": "2025-06-04T16:45:32.846Z",
      "cooked": "<p>oh wow, this worked perfectly, thank you!<br>\nI definitely didn’t realize that about numbering so thanks for letting me know!</p>",
      "raw": "oh wow, this worked perfectly, thank you! \nI definitely didn't realize that about numbering so thanks for letting me know!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1257
    },
    {
      "id": 13778,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T16:30:29.523Z",
      "updated_at": "2025-06-05T16:30:29.523Z",
      "cooked": "<p>You should use <code>counter(page).display()</code> when just displaying. It will track <code>page.numbering</code> value.</p>",
      "raw": "You should use `counter(page).display()` when just displaying. It will track `page.numbering` value.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 10,
      "score": 1.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:48.674129"
}
{
  "topic_metadata": {
    "id": 4454,
    "title": "How to add text and symbol to subscript?",
    "slug": "how-to-add-text-and-symbol-to-subscript",
    "posts_count": 5,
    "created_at": "2025-06-04T09:41:16.717Z",
    "last_posted_at": "2025-06-05T16:41:28.958Z",
    "views": 36,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "gezepi",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 222
  },
  "posts": [
    {
      "id": 13671,
      "post_number": 1,
      "username": "nhanncv",
      "name": "Nhan",
      "created_at": "2025-06-04T09:41:16.794Z",
      "updated_at": "2025-06-04T09:41:16.794Z",
      "cooked": "<p>This is what I expected<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a81aa837beefe12a94ae7237649f9d50d90cfbf6.png\" data-download-href=\"https://forum.typst.app/uploads/default/a81aa837beefe12a94ae7237649f9d50d90cfbf6\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/a/a81aa837beefe12a94ae7237649f9d50d90cfbf6.png\" alt=\"image\" data-base62-sha1=\"nZ7kjkF0t2BYNOh9QNHK5bDX9m6\" width=\"344\" height=\"158\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">344×158 58.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I have tried <code>$succ#sub[W(succ#sub['])]$</code> but this is what I got<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/a/ac8c16f300eb91c71270a105d34f7b6ca45a4617.png\" alt=\"image\" data-base62-sha1=\"oCqgsXwBlqFJuHcQYnj3GmHgF4b\" width=\"132\" height=\"46\">. I have to use <code>sub</code> because <code>_</code> makes the notation incorrect. So what is the way to subscript text with symbols and texts included.</p>\n<p>Thanks.</p>",
      "raw": "This is what I expected\n![image|344x158](upload://nZ7kjkF0t2BYNOh9QNHK5bDX9m6.png)\n\nI have tried `$succ#sub[W(succ#sub['])]$` but this is what I got \n![image|132x46](upload://oCqgsXwBlqFJuHcQYnj3GmHgF4b.png). I have to use `sub` because `_` makes the notation incorrect. So what is the way to subscript text with symbols and texts included.\n\nThanks.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1502
    },
    {
      "id": 13675,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-06-04T10:07:18.421Z",
      "updated_at": "2025-06-04T10:07:18.421Z",
      "cooked": "<p>Does this achieve what you are looking for?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$succ#sub[$W([succ'])$]$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/27a45d5152674417331d934a81f6bd2158294b78.png\" alt=\"image\" data-base62-sha1=\"5EGLMCgsSdYr9zQE2yV8RggqYgU\" width=\"194\" height=\"72\"></p>\n<p>The change was to surround everything within <code>sub[]</code> with <code>$$</code> so that it is interpreted as math.  Calling <code>#sub</code> switches from math mode to content mode so you need to switch back to math.</p>\n<p>To get the W closer to the initial succ symbol, you can add a <code>0pt</code> horizontal distance:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$succ#h(0pt)#sub[$W([succ'])$]$\n</code></pre>",
      "raw": "Does this achieve what you are looking for?\n```\n$succ#sub[$W([succ'])$]$\n```\n![image|194x72](upload://5EGLMCgsSdYr9zQE2yV8RggqYgU.png)\n\nThe change was to surround everything within `sub[]` with `$$` so that it is interpreted as math.  Calling `#sub` switches from math mode to content mode so you need to switch back to math.\n\nTo get the W closer to the initial succ symbol, you can add a `0pt` horizontal distance:\n```\n$succ#h(0pt)#sub[$W([succ'])$]$\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 13676,
      "post_number": 3,
      "username": "nhanncv",
      "name": "Nhan",
      "created_at": "2025-06-04T10:09:57.096Z",
      "updated_at": "2025-06-04T10:09:57.096Z",
      "cooked": "<p>Oh nice. That’s what I’m looking for. Thank you!</p>",
      "raw": "Oh nice. That's what I'm looking for. Thank you!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1502
    },
    {
      "id": 13680,
      "post_number": 4,
      "username": "sjfhsjfh",
      "name": "sjfhsjfh",
      "created_at": "2025-06-04T11:13:00.493Z",
      "updated_at": "2025-06-04T11:13:00.493Z",
      "cooked": "<p>Try this(for single use)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ attach(succ, br: W([succ'])) $\n</code></pre>\n<p>If you’d like all your <code>succ</code> operators to be like that, then you can redefine the text operator:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// It seems that the default succ definition has limits: true\n#let succ = math.op(sym.succ, limits: false)\n\n$ succ_(W([succ'])) $\n</code></pre>",
      "raw": "Try this(for single use)\n\n```typ\n$ attach(succ, br: W([succ'])) $\n```\n\nIf you’d like all your `succ` operators to be like that, then you can redefine the text operator:\n\n```typ\n// It seems that the default succ definition has limits: true\n#let succ = math.op(sym.succ, limits: false)\n\n$ succ_(W([succ'])) $\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 13,
      "score": 37.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 120
    },
    {
      "id": 13780,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T16:41:28.958Z",
      "updated_at": "2025-06-05T16:41:28.958Z",
      "cooked": "<p>Removing limits is nice. The in-between solution is</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let sub = sub\n$succ sub(W([succ'])).$\n\n#let nosp = h(0pt)\n$succ nosp sub(W([succ'])).$\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b60ce3809aaed923ad31fabd3f8c7def5e7e0ba4.png\" data-download-href=\"https://forum.typst.app/uploads/default/b60ce3809aaed923ad31fabd3f8c7def5e7e0ba4\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/b/b60ce3809aaed923ad31fabd3f8c7def5e7e0ba4.png\" alt=\"image\" data-base62-sha1=\"pYuvPRUfOXUGR1fenUDsRmMxuQs\" width=\"156\" height=\"136\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">208×182 7.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Removing limits is nice. The in-between solution is\n\n```typ\n#let sub = sub\n$succ sub(W([succ'])).$\n\n#let nosp = h(0pt)\n$succ nosp sub(W([succ'])).$\n```\n\n![image|208x182, 75%](upload://pYuvPRUfOXUGR1fenUDsRmMxuQs.png)",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 11,
      "score": 1.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:47.964995"
}
{
  "topic_metadata": {
    "id": 4461,
    "title": "How to insert an image into the header: Full width, borderless, overlay text",
    "slug": "how-to-insert-an-image-into-the-header-full-width-borderless-overlay-text",
    "posts_count": 4,
    "created_at": "2025-06-04T13:37:51.101Z",
    "last_posted_at": "2025-06-04T17:47:36.818Z",
    "views": 26,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "layout",
      "graphics",
      "header-footer",
      "images"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 534
  },
  "posts": [
    {
      "id": 13689,
      "post_number": 1,
      "username": "Cheesey",
      "name": "Cheesey",
      "created_at": "2025-06-04T13:37:51.223Z",
      "updated_at": "2025-06-04T13:37:51.223Z",
      "cooked": "<p>I want to use my company’s header image to create reports and guides as per our CI guide. I have tried out <a href=\"https://forum.typst.app/t/how-do-i-insert-an-image-into-the-header/513\">this solution</a>, but didn’t get far with it.</p>\n<p>The header I am talking about is a header bar, with a colored 3mm line at the very top, company logo and slogan on the right and some white space to fill with text  about 75% of the rest. The header is 2-3cm in height and should fill the full page width of an A4 paper (210mm)</p>\n<p>Here is an example of what I have accomplished so far, but as you can see, the header is not present on the title page and it’s misplaced and cut off on the following pages.<br>\nInterestingly though it looks different on the table of contents page versus the regular pages after.</p>\n<p>How can I get the image into the header, so that it’s flush with the left, right and upper paper border without gaps and the option to put some text over it, like the current heading on the pages?</p>\n<p><a href=\"https://typst.app/project/rpAyYDX06J9t2R6jFoyfoX\">https://typst.app/project/rpAyYDX06J9t2R6jFoyfoX</a></p>",
      "raw": "I want to use my company's header image to create reports and guides as per our CI guide. I have tried out [this solution](https://forum.typst.app/t/how-do-i-insert-an-image-into-the-header/513), but didn't get far with it. \n\nThe header I am talking about is a header bar, with a colored 3mm line at the very top, company logo and slogan on the right and some white space to fill with text  about 75% of the rest. The header is 2-3cm in height and should fill the full page width of an A4 paper (210mm)\n\nHere is an example of what I have accomplished so far, but as you can see, the header is not present on the title page and it's misplaced and cut off on the following pages. \nInterestingly though it looks different on the table of contents page versus the regular pages after. \n\nHow can I get the image into the header, so that it's flush with the left, right and upper paper border without gaps and the option to put some text over it, like the current heading on the pages?\n\n[https://typst.app/project/rpAyYDX06J9t2R6jFoyfoX](https://typst.app/project/rpAyYDX06J9t2R6jFoyfoX)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1704
    },
    {
      "id": 13693,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-06-04T14:48:24.571Z",
      "updated_at": "2025-06-04T14:48:24.571Z",
      "cooked": "<p>Do you want to use the logo/image as is or do you want to add the line and the text with Typst?<br>\nIf you just want to place the image at the top of the page you can use the <a href=\"https://typst.app/docs/reference/layout/page/#parameters-background\"><code>background</code></a> which uses the full width of the page. Since the background is just centered on the page by default, you have to wrap it in <code>align(top, ..)</code>.<br>\nI also adjusted the top margin of the page to 4cm since the image is too high for the default margin. You should just adjust the spacing to whatever looks best in your opinion.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  background: align(top, image(\"company_a4_header_portrait.png\")),\n  margin: (top: 4cm)\n)\n</code></pre>\n<p>For skipping the title page there are two options. You can either use the page counter as you already did in your example or you can only apply the set rule for the background after the title page.</p>\n<p>If you want to place additional text on top of the image, you can wrap the image in a block and use <a href=\"https://typst.app/docs/reference/layout/place/\"><code>place()</code></a>.</p>",
      "raw": "Do you want to use the logo/image as is or do you want to add the line and the text with Typst?\nIf you just want to place the image at the top of the page you can use the [`background`](https://typst.app/docs/reference/layout/page/#parameters-background) which uses the full width of the page. Since the background is just centered on the page by default, you have to wrap it in `align(top, ..)`.\nI also adjusted the top margin of the page to 4cm since the image is too high for the default margin. You should just adjust the spacing to whatever looks best in your opinion.\n\n```typ\n#set page(\n  background: align(top, image(\"company_a4_header_portrait.png\")),\n  margin: (top: 4cm)\n)\n```\n\nFor skipping the title page there are two options. You can either use the page counter as you already did in your example or you can only apply the set rule for the background after the title page.\n\nIf you want to place additional text on top of the image, you can wrap the image in a block and use [`place()`](https://typst.app/docs/reference/layout/place/).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 17,
      "score": 38.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 13697,
      "post_number": 3,
      "username": "Cheesey",
      "name": "Cheesey",
      "created_at": "2025-06-04T16:53:49.801Z",
      "updated_at": "2025-06-04T16:53:49.801Z",
      "cooked": "<p>Thank you so much! It is so much easier as I thought it would be!</p>\n<p>Could you give an example for the set rule for the background after the title page?</p>",
      "raw": "Thank you so much! It is so much easier as I thought it would be! \n\nCould you give an example for the set rule for the background after the title page?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1704
    },
    {
      "id": 13699,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-06-04T17:47:36.818Z",
      "updated_at": "2025-06-04T17:47:36.818Z",
      "cooked": "<p>The set rule will be applied starting from its position in the document. Adding the titlepage before the set rule will therefore give you a blank titlepage.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">Put your titlepage here...\n\n#set page(\n  background: align(top, image(\"company_a4_header_portrait.png\")),\n  margin: (top: 4cm)\n)\n\n... and the rest of your document here.\n</code></pre>\n<p>This could be a lot more elegant if you create a template that generates the titlepage for you. In that case you would call a global show rule at the start of the document. If this sound interesting, you can check out this tutorial in the docs <a href=\"https://typst.app/docs/tutorial/making-a-template/\" class=\"inline-onebox\">Making a Template – Typst Documentation</a>.</p>",
      "raw": "The set rule will be applied starting from its position in the document. Adding the titlepage before the set rule will therefore give you a blank titlepage.\n\n```\nPut your titlepage here...\n\n#set page(\n  background: align(top, image(\"company_a4_header_portrait.png\")),\n  margin: (top: 4cm)\n)\n\n... and the rest of your document here.\n```\n\nThis could be a lot more elegant if you create a template that generates the titlepage for you. In that case you would call a global show rule at the start of the document. If this sound interesting, you can check out this tutorial in the docs https://typst.app/docs/tutorial/making-a-template/.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 13,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:46:47.236222"
}
{
  "topic_metadata": {
    "id": 4462,
    "title": "How to set font size of margin notes?",
    "slug": "how-to-set-font-size-of-margin-notes",
    "posts_count": 2,
    "created_at": "2025-06-04T17:25:51.597Z",
    "last_posted_at": "2025-06-04T20:47:45.603Z",
    "views": 20,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "scripting",
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 272
  },
  "posts": [
    {
      "id": 13698,
      "post_number": 1,
      "username": "Tom",
      "name": "Tom",
      "created_at": "2025-06-04T17:25:51.666Z",
      "updated_at": "2025-06-04T17:25:51.666Z",
      "cooked": "<p>I am using <a href=\"https://typst.app/universe/package/marginalia\">the marginalia package</a> and I am having problems customizing of the margin notes.</p>\n<p>I want to change the font size. According to <a>the documentation</a>, <code>note</code> has a <code>text-style</code> argument. When I try to change it using a set rule, the document compiles with an error:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set note(\n    text-style: (size: 8pt)\n)\n</code></pre>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">error: only element functions can be used in set rules\n</code></pre>\n<p>Is there a better solution than to wrap the note function in my custom function?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let mote(t) = note(text-style: (size: 8pt))[#t]\n</code></pre>",
      "raw": "I am using [the marginalia package](https://typst.app/universe/package/marginalia) and I am having problems customizing of the margin notes.\n\nI want to change the font size. According to [the documentation]([file:///home/tom/Downloads/Marginalia.pdf](https://github.com/nleanba/typst-marginalia/blob/v0.1.4/Marginalia.pdf)), `note` has a `text-style` argument. When I try to change it using a set rule, the document compiles with an error:\n\n```typ\n#set note(\n    text-style: (size: 8pt)\n)\n```\n\n```\nerror: only element functions can be used in set rules\n```\n\nIs there a better solution than to wrap the note function in my custom function?\n\n```\n#let mote(t) = note(text-style: (size: 8pt))[#t]\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 140
    },
    {
      "id": 13704,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-06-04T20:47:45.603Z",
      "updated_at": "2025-06-04T20:56:55.390Z",
      "cooked": "<p>Since the documentation states that</p>\n<blockquote>\n<p>Both <code>note()</code> and <code>notefigure()</code> accept a <code>text-style</code> and <code>par-style</code> parameter…</p>\n</blockquote>\n<p>using the function <code>note()</code> itself for the configuration seems to be your only option. Instead redefining it you can however just change the default value of <code>text-style</code> with <a href=\"https://typst.app/docs/reference/foundations/function/#definitions-with\"><code>with()</code></a>. You will still have access to the other parameters and you can even override the <code>text-style</code>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let note = note.with(text-style: (size: 8pt))\n</code></pre>\n<p>Edit: This was also the answer by the author of the package to the same question in a GitHub issue, see <a href=\"https://github.com/nleanba/typst-marginalia/issues/5\" class=\"inline-onebox\">Globally setting text characteristics for margin notes · Issue #5 · nleanba/typst-marginalia · GitHub</a>.</p>\n<p>A note regarding the compilation error. Set rules for custom elements/functions are not (yet) available. There is an experimental package called <a href=\"https://github.com/PgBiel/elembic\"><code>elembic</code></a> that introduces custom elements and types. This does however not help you here since marginalia does not use this.</p>",
      "raw": "Since the documentation states that\n> Both `note()` and `notefigure()` accept a `text-style` and `par-style` parameter...\n\nusing the function `note()` itself for the configuration seems to be your only option. Instead redefining it you can however just change the default value of `text-style` with [`with()`](https://typst.app/docs/reference/foundations/function/#definitions-with). You will still have access to the other parameters and you can even override the `text-style`.\n\n```typ\n#let note = note.with(text-style: (size: 8pt))\n```\n\nEdit: This was also the answer by the author of the package to the same question in a GitHub issue, see https://github.com/nleanba/typst-marginalia/issues/5.\n\nA note regarding the compilation error. Set rules for custom elements/functions are not (yet) available. There is an experimental package called [`elembic`](https://github.com/PgBiel/elembic) that introduces custom elements and types. This does however not help you here since marginalia does not use this.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 13,
      "score": 47.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:46:46.514782"
}
{
  "topic_metadata": {
    "id": 4470,
    "title": "Why is a @reference not resolved when passed as argument to a function?",
    "slug": "why-is-a-reference-not-resolved-when-passed-as-argument-to-a-function",
    "posts_count": 4,
    "created_at": "2025-06-05T03:50:05.814Z",
    "last_posted_at": "2025-06-05T17:18:51.629Z",
    "views": 46,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "fabien_sanglard",
    "tags": [
      "referencing",
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 323
  },
  "posts": [
    {
      "id": 13731,
      "post_number": 1,
      "username": "fabien_sanglard",
      "name": "fabien sanglard",
      "created_at": "2025-06-05T03:50:05.896Z",
      "updated_at": "2025-06-05T21:47:03.996Z",
      "cooked": "<p>I have created a quote function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let quote(text, author) = {\n  rect(\n     inset: 0in,\n     box(\n        width: 100%,\n        fill: silver,\n        inset: 1em,\n        [#text\n        #align(right)[#sym.dash #author]\n        ],   \n      )\n  )\n}\n</code></pre>\n<p>It works as expect.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#quote(\"blablablabla\", \"John\")\n</code></pre>\n<p>The problem is that if I try to add a reference in the author parameter (e.g: <code>John@myReference</code>). Then it just prints that “text” verbatim, without resolving the reference (I see <code>- John@myReference</code> as the author of the quote instead of <code>John[1]</code>. Is there a solution to this or my <code>quote</code> function is wrong?</p>",
      "raw": "I have created a quote function.\n```\n#let quote(text, author) = {\n  rect(\n     inset: 0in,\n     box(\n        width: 100%,\n        fill: silver,\n        inset: 1em,\n        [#text\n        #align(right)[#sym.dash #author]\n        ],   \n      )\n  )\n}\n```\nIt works as expect.\n\n```\n#quote(\"blablablabla\", \"John\")\n```\n\nThe problem is that if I try to add a reference in the author parameter (e.g: `John@myReference`). Then it just prints that \"text\" verbatim, without resolving the reference (I see `- John@myReference` as the author of the quote instead of `John[1]`. Is there a solution to this or my `quote` function is wrong?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1707
    },
    {
      "id": 13732,
      "post_number": 2,
      "username": "fabien_sanglard",
      "name": "fabien sanglard",
      "created_at": "2025-06-05T04:05:29.893Z",
      "updated_at": "2025-06-05T04:05:29.893Z",
      "cooked": "<p>I found the answer. I will leave it here in case it can help someone. The problem is that I was invoking the function with a <code>string</code> instead of a <code>content</code>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#quote(\"blablablabla\", [John@myRef])\n</code></pre>\n<p>works \\0/ !</p>",
      "raw": "I found the answer. I will leave it here in case it can help someone. The problem is that I was invoking the function with a `string` instead of a `content`.\n\n```\n#quote(\"blablablabla\", [John@myRef])\n```\n\nworks \\0/ !",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 8.6,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1707
    },
    {
      "id": 13758,
      "post_number": 3,
      "username": "fabien_sanglard",
      "name": "fabien sanglard",
      "created_at": "2025-06-05T13:58:06.527Z",
      "updated_at": "2025-06-05T14:05:17.633Z",
      "cooked": "<p>Still this is a bit tedious to have to call the function with content instead of a string.<br>\nwhy can I not convert the string <code>author</code> back into a content with <code>[#author]</code>? The following does not work.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let quote(text, author) = {\n  rect(\n     inset: 0in,\n     box(\n        width: 100%,\n        fill: silver,\n        inset: 1em,\n        [#text\n        #align(right)[#sym.dash #author]\n        ],   \n      )\n  )\n}\n</code></pre>\n<p>Notice how I try to convert the string into a content with <code>[#string]</code> (to no avail).</p>",
      "raw": "Still this is a bit tedious to have to call the function with content instead of a string. \nwhy can I not convert the string `author` back into a content with `[#author]`? The following does not work.\n\n```\n#let quote(text, author) = {\n  rect(\n     inset: 0in,\n     box(\n        width: 100%,\n        fill: silver,\n        inset: 1em,\n        [#text\n        #align(right)[#sym.dash #author]\n        ],   \n      )\n  )\n}\n```\n\nNotice how I try to convert the string into a content with `[#string]` (to no avail).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 13.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1707
    },
    {
      "id": 13786,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T17:18:51.629Z",
      "updated_at": "2025-06-05T17:18:51.629Z",
      "cooked": "<p><a href=\"https://typst.app/docs/reference/model/ref/#syntax\">The reference syntax</a> is only available in <a href=\"https://typst.app/docs/reference/syntax/#markup\">markup mode</a>. You shouldn’t use things like they are not supposed to be used, this gives no benefit whatsoever. You can use <a href=\"https://typst.app/docs/reference/foundations/eval/\"><code>eval</code></a> to evaluate stuff.</p>\n<p>There is a built-in <a href=\"https://typst.app/docs/reference/model/quote/\"><code>quote</code></a> function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show quote.where(block: true): set pad(0pt)\n#show quote.where(block: true): block.with(\n  width: 100%,\n  inset: 1em,\n  stroke: 1pt,\n  fill: silver,\n)\n\n#let attr = eval.with(mode: \"markup\")\n\n#figure(supplement: \"Mastodon\")[] &lt;myRef&gt;\n\n#quote(\"blablablabla\", block: true, attribution: [John@myRef])\n\n#quote(\"blablablabla\", block: true, attribution: attr(\"John@myRef\"))\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/4a14f68969ee946e3617d8c4c392f53ec1ee7bae.png\" data-download-href=\"https://forum.typst.app/uploads/default/4a14f68969ee946e3617d8c4c392f53ec1ee7bae\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/4/4a14f68969ee946e3617d8c4c392f53ec1ee7bae.png\" alt=\"image\" data-base62-sha1=\"azmffgwDHSdeNLFXUBvLh0CcsuW\" width=\"591\" height=\"173\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">591×173 6.83 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "[The reference syntax](https://typst.app/docs/reference/model/ref/#syntax) is only available in [markup mode](https://typst.app/docs/reference/syntax/#markup). You shouldn't use things like they are not supposed to be used, this gives no benefit whatsoever. You can use [`eval`](https://typst.app/docs/reference/foundations/eval/) to evaluate stuff.\n\nThere is a built-in [`quote`](https://typst.app/docs/reference/model/quote/) function:\n\n```typ\n#show quote.where(block: true): set pad(0pt)\n#show quote.where(block: true): block.with(\n  width: 100%,\n  inset: 1em,\n  stroke: 1pt,\n  fill: silver,\n)\n\n#let attr = eval.with(mode: \"markup\")\n\n#figure(supplement: \"Mastodon\")[] <myRef>\n\n#quote(\"blablablabla\", block: true, attribution: [John@myRef])\n\n#quote(\"blablablabla\", block: true, attribution: attr(\"John@myRef\"))\n```\n\n![image|591x173](upload://azmffgwDHSdeNLFXUBvLh0CcsuW.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 83.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:45.704763"
}
{
  "topic_metadata": {
    "id": 4473,
    "title": "Is `pagebreak` just a command, or also an element?",
    "slug": "is-pagebreak-just-a-command-or-also-an-element",
    "posts_count": 6,
    "created_at": "2025-06-05T07:41:28.401Z",
    "last_posted_at": "2025-06-05T19:33:54.409Z",
    "views": 57,
    "like_count": 3,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "model"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 702
  },
  "posts": [
    {
      "id": 13740,
      "post_number": 1,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-05T07:41:28.480Z",
      "updated_at": "2025-06-05T10:53:55.646Z",
      "cooked": "<p>Continuing the discussion from <a href=\"https://forum.typst.app/t/how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages/4384/8\">How can I suppress headers and footers on blank verso/trailing pages</a>:</p>\n<p>We use a show rule “trick” to make pagebreaks detectable.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// make pagebreaks detectable\n#show pagebreak: it =&gt; {\n  [#metadata(none) &lt;empty-page-start&gt;]\n  it\n  [#metadata(none) &lt;empty-page-end&gt;]\n}\n</code></pre>\n<aside class=\"quote no-group\" data-username=\"quachpas\" data-post=\"4\" data-topic=\"4384\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages/4384/4\">How can I suppress headers and footers on blank verso/trailing pages</a></div>\n<blockquote>\n<p>As for the trick used here, very briefly, because a <a href=\"https://typst.app/docs/reference/layout/pagebreak\"><code>pagebreak</code></a> is also an element, then you can re-define it to also raise a “start” and an “end” flag (<a href=\"https://typst.app/docs/reference/introspection/metadata/\">metadata</a>), and return “yes, the page is empty”, if you are currently between any of these two flags.</p>\n</blockquote>\n</aside>\n<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a> was confused about this, because he thought a <code>pagebreak()</code> was just a command.</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"8\" data-topic=\"4384\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages/4384/8\">How can I suppress headers and footers on blank verso/trailing pages</a></div>\n<blockquote>\n<p>I was actually also confused at this. A neat trick. So <code>pagebreak</code> is not just a command, but an element that can span a long way, even a whole page?</p>\n</blockquote>\n</aside>",
      "raw": "Continuing the discussion from [How can I suppress headers and footers on blank verso/trailing pages](https://forum.typst.app/t/how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages/4384/8):\n\nWe use a show rule \"trick\" to make pagebreaks detectable.\n```typ\n// make pagebreaks detectable\n#show pagebreak: it => {\n  [#metadata(none) <empty-page-start>]\n  it\n  [#metadata(none) <empty-page-end>]\n}\n```\n[quote=\"quachpas, post:4, topic:4384\"]\nAs for the trick used here, very briefly, because a [`pagebreak`](https://typst.app/docs/reference/layout/pagebreak) is also an element, then you can re-define it to also raise a “start” and an “end” flag ([metadata](https://typst.app/docs/reference/introspection/metadata/)), and return “yes, the page is empty”, if you are currently between any of these two flags.\n[/quote]\n\n@Andrew was confused about this, because he thought a `pagebreak()` was just a command.\n[quote=\"Andrew, post:8, topic:4384\"]\nI was actually also confused at this. A neat trick. So `pagebreak` is not just a command, but an element that can span a long way, even a whole page?\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13744,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-05T10:54:07.025Z",
      "updated_at": "2025-06-05T11:37:40.487Z",
      "cooked": "<p>Yes, for all intents and purposes a <code>pagebreak</code> is an element. I think you can find more elements than you can find non-elements. What I mean by <code>element</code> is the compiler definition of one. See <a href=\"https://forum.typst.app/t/how-can-i-enumerate-every-element-function-in-typst/3642\" class=\"inline-onebox\">How can I enumerate every element function in Typst?</a>. It doesn’t mean the show rule will go well (e.g., with cite).</p>\n<p>For more details, see the <a href=\"https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-library/src/layout/page.rs#L372\">page.rs code</a></p>\n<p>Below is “unexpected”, but perfectly acceptable Typst code.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.overbrace: it =&gt; {\n  it.annotation\n}\n$overbrace(1 + 1, \"sum\")$\n</code></pre>\n<p>For bibliography show rules, it’s very difficult… This is because the bibliography is not very flexible atm. Any reference to a label is first checked against the bibliography, and turned into a citation, but with no referring element.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/99bbc6aa8cf24bd38c8624cb05da153eac4c279e.png\" data-download-href=\"https://forum.typst.app/uploads/default/99bbc6aa8cf24bd38c8624cb05da153eac4c279e\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/9/99bbc6aa8cf24bd38c8624cb05da153eac4c279e.png\" alt=\"image\" data-base62-sha1=\"lVZmoNe1SijOCCHNgmvjHbM30jY\" width=\"690\" height=\"407\" data-dominant-color=\"2D1C38\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">701×414 36.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show cite: it =&gt; { // Do not do this\n  ref(it.key) // it's a trap! (infinite loop)\n}\n#show ref: it =&gt; {\n  // how to detect if the ref is to a bibliography item? \n  // it.element == none?\n  // not very satisfying!\n}\n</code></pre>",
      "raw": "\nYes, for all intents and purposes a `pagebreak` is an element. I think you can find more elements than you can find non-elements. What I mean by `element` is the compiler definition of one. See https://forum.typst.app/t/how-can-i-enumerate-every-element-function-in-typst/3642. It doesn't mean the show rule will go well (e.g., with cite).\n\nFor more details, see the [page.rs code](https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-library/src/layout/page.rs#L372)\n\nBelow is \"unexpected\", but perfectly acceptable Typst code.\n```typ\n#show math.overbrace: it => {\n  it.annotation\n}\n$overbrace(1 + 1, \"sum\")$\n```\n\nFor bibliography show rules, it's very difficult... This is because the bibliography is not very flexible atm. Any reference to a label is first checked against the bibliography, and turned into a citation, but with no referring element.\n![image|690x407](upload://lVZmoNe1SijOCCHNgmvjHbM30jY.png)\n\n```typ\n#show cite: it => { // Do not do this\n  ref(it.key) // it's a trap! (infinite loop)\n}\n#show ref: it => {\n  // how to detect if the ref is to a bibliography item? \n  // it.element == none?\n  // not very satisfying!\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 8.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13748,
      "post_number": 3,
      "username": "sijo",
      "name": "",
      "created_at": "2025-06-05T11:31:34.961Z",
      "updated_at": "2025-06-05T11:32:49.758Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"quachpas\" data-post=\"2\" data-topic=\"4473\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\"> quachpas:</div>\n<blockquote>\n<p>a <code>pagebreak</code> is treated like an element (but does not create one)</p>\n</blockquote>\n</aside>\n<p>In what sense does it not create an element? The <code>page</code> code is a bit orthogonal, the comment there is about the absence of a “page element” rather than pagebreak.</p>\n<p>For example the following code</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: repr\n= A\n#pagebreak()\n= B\n</code></pre>\n<p>shows</p>\n<pre><code class=\"lang-plaintext\">sequence(\n  heading(depth: 1, body: [A]),\n  [ ],\n  pagebreak(),\n  [ ],\n  heading(depth: 1, body: [B]),\n  parbreak(),\n)\n</code></pre>\n<p>As far as I can see there is a real <code>pagebreak</code> element in the sequence.</p>\n<p>Maybe there’s a confusion between page breaks (which are explicit markers to request a new page) and pages. Compiling <code>#lorem(10000)</code> will generate multiple pages without a single page break and in this case <code>#show pagebreak: ...</code> won’t match anything.</p>\n<p>(Regarding the <code>math.overbrace</code> and <code>ref</code> things I’m a bit confused, are you sure they belong to this post?)</p>",
      "raw": "[quote=\"quachpas, post:2, topic:4473\"]\na `pagebreak` is treated like an element (but does not create one)\n[/quote]\n\nIn what sense does it not create an element? The `page` code is a bit orthogonal, the comment there is about the absence of a \"page element\" rather than pagebreak.\n\nFor example the following code\n\n```\n#show: repr\n= A\n#pagebreak()\n= B\n```\n\nshows\n\n```text\nsequence(\n  heading(depth: 1, body: [A]),\n  [ ],\n  pagebreak(),\n  [ ],\n  heading(depth: 1, body: [B]),\n  parbreak(),\n)\n```\n\nAs far as I can see there is a real `pagebreak` element in the sequence.\n\nMaybe there's a confusion between page breaks (which are explicit markers to request a new page) and pages. Compiling `#lorem(10000)` will generate multiple pages without a single page break and in this case `#show pagebreak: ...` won't match anything.\n\n(Regarding the `math.overbrace` and `ref` things I'm a bit confused, are you sure they belong to this post?)",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 3,
      "reads": 20,
      "score": 88.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13749,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-05T11:36:29.685Z",
      "updated_at": "2025-06-05T11:36:29.685Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"3\" data-topic=\"4473\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>In what sense does it not create an element? The <code>page</code> code is a bit orthogonal, the comment there is about the absence of a “page element” rather than pagebreak.</p>\n</blockquote>\n</aside>\n<p>Ah you’re quite right! I read too fast. I will correct it.</p>",
      "raw": "[quote=\"sijo, post:3, topic:4473\"]\nIn what sense does it not create an element? The `page` code is a bit orthogonal, the comment there is about the absence of a “page element” rather than pagebreak.\n[/quote]\n\nAh you're quite right! I read too fast. I will correct it.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 18,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13760,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-05T14:15:53.989Z",
      "updated_at": "2025-06-05T14:15:53.989Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"3\" data-topic=\"4473\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>(Regarding the <code>math.overbrace</code> and <code>ref</code> things I’m a bit confused, are you sure they belong to this post?)</p>\n</blockquote>\n</aside>\n<p>I was expanding on the topic of elements by picking at something that is unexpectedly an element, e.g., “math.overbrace”, and the fact that some elements that in theory should exist, don’t, e.g., bibliography items.</p>",
      "raw": "[quote=\"sijo, post:3, topic:4473\"]\n(Regarding the `math.overbrace` and `ref` things I’m a bit confused, are you sure they belong to this post?)\n[/quote]\n\nI was expanding on the topic of elements by picking at something that is unexpectedly an element, e.g., \"math.overbrace\", and the fact that some elements that in theory should exist, don't, e.g., bibliography items.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 17,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13793,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T19:33:54.409Z",
      "updated_at": "2025-06-05T19:36:13.307Z",
      "cooked": "<p>I thought <code>pagebreak</code> is as long as a <code>state.update</code> or <code>metadata</code> — you can’t do anything with it, and the start/end markers will be in the exact same spot. But apparently pagebreak literally spans a whole page if needed.</p>\n<p>I’m aware that <code>pagebreak</code> is an element. So, the title isn’t actually something that someone asked or interested in answer to (not me).</p>",
      "raw": "I thought `pagebreak` is as long as a `state.update` or `metadata` --- you can't do anything with it, and the start/end markers will be in the exact same spot. But apparently pagebreak literally spans a whole page if needed.\n\nI'm aware that `pagebreak` is an element. So, the title isn't actually something that someone asked or interested in answer to (not me).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:45.004020"
}
{
  "topic_metadata": {
    "id": 4480,
    "title": "How to Add line numbers before every line in a block?",
    "slug": "how-to-add-line-numbers-before-every-line-in-a-block",
    "posts_count": 4,
    "created_at": "2025-06-05T13:32:27.590Z",
    "last_posted_at": "2025-06-06T06:21:38.662Z",
    "views": 50,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 307
  },
  "posts": [
    {
      "id": 13757,
      "post_number": 1,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-06-05T13:32:27.656Z",
      "updated_at": "2025-06-05T13:33:17.314Z",
      "cooked": "<p>I have the following Typst code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">  #block(\n  fill: aqua,\n  inset: 8pt,\n  radius: 4pt,\n  width: 100%,\n  [\n    #lorem(150)\n  ],\n)\n</code></pre>\n<p>I would like to automatically add a line number before every line which is generated by <span class=\"hashtag-raw\">#lorem</span>(150) . I also need enough space (around one tab) between the line number and the line.<br>\nThank you.</p>",
      "raw": "I have the following Typst code:\n```typ\n  #block(\n  fill: aqua,\n  inset: 8pt,\n  radius: 4pt,\n  width: 100%,\n  [\n    #lorem(150)\n  ],\n)\n```\nI would like to automatically add a line number before every line which is generated by #lorem(150) . I also need enough space (around one tab) between the line number and the line.\nThank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    },
    {
      "id": 13794,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T19:51:32.781Z",
      "updated_at": "2025-06-05T19:52:53.826Z",
      "cooked": "<p>The only one I know of is <a href=\"https://typst.app/docs/reference/model/par/#definitions-line\"><code>par.line</code></a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#block(fill: aqua, inset: 8pt, radius: 4pt, width: 100%)[\n  #set par.line(numbering: \"1.\")\n  #lorem(150)\n]\n\na\\u{9}a\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/347e2bfa505b688685b547ab98c9f4ee08455f8a.png\" data-download-href=\"https://forum.typst.app/uploads/default/347e2bfa505b688685b547ab98c9f4ee08455f8a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/3/347e2bfa505b688685b547ab98c9f4ee08455f8a.png\" alt=\"image\" data-base62-sha1=\"7un9jEfpQlFJFFvyyyrf32OBvS2\" width=\"624\" height=\"272\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">624×272 64.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Tab character doesn’t have a defined width. If anything, it’s a control character that is unprintable, same goes to all <a href=\"https://www.ascii-code.com/\">first 32 characters</a>.</p>",
      "raw": "The only one I know of is [`par.line`](https://typst.app/docs/reference/model/par/#definitions-line).\n\n```typ\n#block(fill: aqua, inset: 8pt, radius: 4pt, width: 100%)[\n  #set par.line(numbering: \"1.\")\n  #lorem(150)\n]\n\na\\u{9}a\n```\n\n![image|624x272](upload://7un9jEfpQlFJFFvyyyrf32OBvS2.png)\n\nTab character doesn't have a defined width. If anything, it's a control character that is unprintable, same goes to all [first 32 characters](https://www.ascii-code.com/).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13795,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T22:15:10.553Z",
      "updated_at": "2025-06-05T22:15:10.553Z",
      "cooked": "<p>Using my hack I implemented last month for filling N lines of space regardless of text, here it is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let color-box(\n  body,\n  fill: aqua,\n  inset: 8pt,\n  radius: 4pt,\n  width: 100%,\n  body-indent: 1.5em,\n  dx: 0pt,\n  numbering: \"1\",\n) = {\n  set par.line(numbering: numbering)\n  show: block.with(fill: fill, inset: inset, radius: radius, width: width)\n  body = pad(left: body-indent, body)\n  let num(n) = if numbering != none { std.numbering(numbering, n) }\n  layout(size =&gt; {\n    let leading = par.leading.to-absolute()\n    let one = measure([a], ..size).height + leading\n    let height = measure(body, ..size).height + leading\n    let line-count = int(height / one + 0.1)\n    let line-numbers = range(1, line-count + 1).map(num)\n    place(dx: dx, grid(align: right, gutter: leading, ..line-numbers))\n    body + parbreak()\n  })\n}\n\n#set par(justify: true)\n\n#color-box(numbering: \"1.\", body-indent: 1.5em, dx: -0.3em)[\n  #lorem(150)\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/dd30cf9cc026c3a98d93feec17f50af995ed9b68.png\" data-download-href=\"https://forum.typst.app/uploads/default/dd30cf9cc026c3a98d93feec17f50af995ed9b68\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/d/dd30cf9cc026c3a98d93feec17f50af995ed9b68.png\" alt=\"image\" data-base62-sha1=\"vyK64NKBr5xnhlXm4iFGvYtW3xu\" width=\"616\" height=\"240\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">616×240 61.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>So the only tricky part is counting the number of lines, which is always very close to an integer, sometimes is exactly an integer, depending on float division.</p>",
      "raw": "Using my hack I implemented last month for filling N lines of space regardless of text, here it is:\n\n```typ\n#let color-box(\n  body,\n  fill: aqua,\n  inset: 8pt,\n  radius: 4pt,\n  width: 100%,\n  body-indent: 1.5em,\n  dx: 0pt,\n  numbering: \"1\",\n) = {\n  set par.line(numbering: numbering)\n  show: block.with(fill: fill, inset: inset, radius: radius, width: width)\n  body = pad(left: body-indent, body)\n  let num(n) = if numbering != none { std.numbering(numbering, n) }\n  layout(size => {\n    let leading = par.leading.to-absolute()\n    let one = measure([a], ..size).height + leading\n    let height = measure(body, ..size).height + leading\n    let line-count = int(height / one + 0.1)\n    let line-numbers = range(1, line-count + 1).map(num)\n    place(dx: dx, grid(align: right, gutter: leading, ..line-numbers))\n    body + parbreak()\n  })\n}\n\n#set par(justify: true)\n\n#color-box(numbering: \"1.\", body-indent: 1.5em, dx: -0.3em)[\n  #lorem(150)\n]\n```\n\n![image|616x240](upload://vyK64NKBr5xnhlXm4iFGvYtW3xu.png)\n\nSo the only tricky part is counting the number of lines, which is always very close to an integer, sometimes is exactly an integer, depending on float division.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 34.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13808,
      "post_number": 4,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-06-06T06:21:38.662Z",
      "updated_at": "2025-06-06T06:21:38.662Z",
      "cooked": "<p>Thank you Andrew for your support.</p>",
      "raw": "Thank you Andrew for your support.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    }
  ],
  "scraped_at": "2025-06-10T09:46:44.274542"
}
{
  "topic_metadata": {
    "id": 4500,
    "title": "How to hide the right stroke of a single table cell (not the entire column)?",
    "slug": "how-to-hide-the-right-stroke-of-a-single-table-cell-not-the-entire-column",
    "posts_count": 3,
    "created_at": "2025-06-08T10:58:29.216Z",
    "last_posted_at": "2025-06-08T11:55:42.394Z",
    "views": 24,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 209
  },
  "posts": [
    {
      "id": 13864,
      "post_number": 1,
      "username": "Amit_Singh",
      "name": "Amit Singh",
      "created_at": "2025-06-08T10:58:29.298Z",
      "updated_at": "2025-06-08T10:58:29.298Z",
      "cooked": "<p>Hello Typst Community,</p>\n<p>I’m trying to achieve a specific styling for a table in Typst and I’m looking for the best way to hide the right border (stroke) of <em>only</em> a specific cell, without affecting the rest of the column’s borders.</p>\n<p>Here’s a simplified example of my table:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.cell(stroke: none,)[col 1],[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n</code></pre>",
      "raw": "Hello Typst Community,\n\nI'm trying to achieve a specific styling for a table in Typst and I'm looking for the best way to hide the right border (stroke) of *only* a specific cell, without affecting the rest of the column's borders.\n\nHere's a simplified example of my table:\n```\n#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.cell(stroke: none,)[col 1],[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 52.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1230
    },
    {
      "id": 13866,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-08T11:50:37.267Z",
      "updated_at": "2025-06-08T11:50:37.267Z",
      "cooked": "<p>Hello, you need to set the border to <code>none</code> for both the right side of the first cell and the left side of the second cell.  To do this, <code>stroke</code> can accept a dictionary where you specify sides such as <code>left</code>, <code>top</code>, <code>right</code>, <code>bottom</code>, <code>x</code>, <code>y</code> and <code>rest</code>.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.cell(stroke: (right: none))[col 1],table.cell(stroke: (left: none),)[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n</code></pre>\n<p>An alternative would be to use <code>vline</code>.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.vline(stroke: none, x: 1, start: 0, end: 1),\n  [col 1],[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/baa89e04c1dedc3925c2bc1192cb20f844e9db03.png\" data-download-href=\"https://forum.typst.app/uploads/default/baa89e04c1dedc3925c2bc1192cb20f844e9db03\" title=\"test\"><img src=\"https://forum.typst.app/uploads/default/original/2X/b/baa89e04c1dedc3925c2bc1192cb20f844e9db03.png\" alt=\"test\" data-base62-sha1=\"qDg4mixQUMGxNpcSbIHRagm1KZJ\" width=\"364\" height=\"222\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">test</span><span class=\"informations\">364×222 18 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hello, you need to set the border to `none` for both the right side of the first cell and the left side of the second cell.  To do this, `stroke` can accept a dictionary where you specify sides such as `left`, `top`, `right`, `bottom`, `x`, `y` and `rest`.\n```typst\n#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.cell(stroke: (right: none))[col 1],table.cell(stroke: (left: none),)[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n```\nAn alternative would be to use `vline`.\n```typst\n#table(\n  columns: (auto, auto, auto),\n  inset: 10pt,\n  align: horizon,\n  table.vline(stroke: none, x: 1, start: 0, end: 1),\n  [col 1],[col 2], [col 3],\n  [c1 r1],[c2 r2], [c3 r3]\n)\n```\n![test|364x222](upload://qDg4mixQUMGxNpcSbIHRagm1KZJ.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 15,
      "score": 82.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13867,
      "post_number": 3,
      "username": "Amit_Singh",
      "name": "Amit Singh",
      "created_at": "2025-06-08T11:55:42.394Z",
      "updated_at": "2025-06-08T11:55:42.394Z",
      "cooked": "<p>Thank you <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\">, that was exactly what I needed!</p>",
      "raw": "Thank you 😊, that was exactly what I needed!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1230
    }
  ],
  "scraped_at": "2025-06-10T09:46:43.563770"
}
{
  "topic_metadata": {
    "id": 453,
    "title": "How to display content from an array vertically in a table?",
    "slug": "how-to-display-content-from-an-array-vertically-in-a-table",
    "posts_count": 15,
    "created_at": "2024-09-18T15:18:33.592Z",
    "last_posted_at": "2024-09-19T19:21:38.792Z",
    "views": 864,
    "like_count": 8,
    "reply_count": 9,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Tinger",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1346
  },
  "posts": [
    {
      "id": 1777,
      "post_number": 1,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T15:18:33.749Z",
      "updated_at": "2024-09-19T17:36:31.886Z",
      "cooked": "<p>Hi,<br>\nI do not manage to display vertically in a table data that are stored in an array.<br>\nI have written some code to illustrate it.<br>\nSolution 2 works as it is hard coded, but solution 3 does not as the spray is not seen inside the align(center). How can I expose …questions_2 inside the align() ?<br>\nThanks in advance for your answer.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let questions_2 = (  \n  [2 x 1 =],\n  [2 x 2 =],\n  [2 x 3 =],\n  [2 x 4 =],\n  [2 x 5 =]  \n)\n\n#let questions_3 = (  \n  [3 x 1 =],\n  [3 x 2 =],\n  [3 x 3 =],\n  [3 x 4 =],\n  [3 x 5 =]  \n)\n\nSolution 1 horizontal\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    ..questions_2.map(questionDisplay =&gt; [My question: #questionDisplay])\n)\n\n\n\\\n\\\n\n\n\nSolution 2 : harcoded works\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    align(center)[\n      my question questions.at(0) \n      [My question: 3 x 7 = .........]\n      [My question: 3 x 2 = .........] \n      [My question: 3 x 8 = .........] \n      [My question: 3 x 9 = .........] \n      [My question: 3 x 3 = .........] \n      [My question: 3 x 6 = .........] \n      [My question: 3 x 4 = .........]     \n    ],\n    align(center)[\n      [My question: 5 x 5 = .........] \n      [My question: 5 x 7 = .........] \n      [My question: 5 x 2 = .........] \n      [My question: 5 x 8 = .........] \n      [My question: 5 x 9 = .........] \n      [My question: 5 x 3 = .........] \n      [My question: 5 x 6 = .........] \n      [My question: 5 x 4 = .........]     \n    ],\n    align(center)[\n      [My question:  4 x 5 = .........] \n      [My question:  4 x 7 = .........] \n      [My question:  4 x 2 = .........] \n      [My question:  4 x 8 = .........] \n      [My question:  4 x 9 = .........] \n      [My question:  4 x 3 = .........] \n      [My question:  4 x 6 = .........] \n      [My question:  4 x 4 = .........]     \n    ]\n  ),\n)\n\n\n\\\n\\\n\n\nSolution 3\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    align(center)[\n      ..questions_2,\n    ],\n    align(center)[\n      ..questions_3\n    ]\n)</code></pre>",
      "raw": "Hi,\nI do not manage to display vertically in a table data that are stored in an array.\nI have written some code to illustrate it.\nSolution 2 works as it is hard coded, but solution 3 does not as the spray is not seen inside the align(center). How can I expose ..questions_2 inside the align() ?\nThanks in advance for your answer.\n\n```typ\n#let questions_2 = (  \n  [2 x 1 =],\n  [2 x 2 =],\n  [2 x 3 =],\n  [2 x 4 =],\n  [2 x 5 =]  \n)\n\n#let questions_3 = (  \n  [3 x 1 =],\n  [3 x 2 =],\n  [3 x 3 =],\n  [3 x 4 =],\n  [3 x 5 =]  \n)\n\nSolution 1 horizontal\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    ..questions_2.map(questionDisplay => [My question: #questionDisplay])\n)\n\n\n\\\n\\\n\n\n\nSolution 2 : harcoded works\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    align(center)[\n      my question questions.at(0) \n      [My question: 3 x 7 = .........]\n      [My question: 3 x 2 = .........] \n      [My question: 3 x 8 = .........] \n      [My question: 3 x 9 = .........] \n      [My question: 3 x 3 = .........] \n      [My question: 3 x 6 = .........] \n      [My question: 3 x 4 = .........]     \n    ],\n    align(center)[\n      [My question: 5 x 5 = .........] \n      [My question: 5 x 7 = .........] \n      [My question: 5 x 2 = .........] \n      [My question: 5 x 8 = .........] \n      [My question: 5 x 9 = .........] \n      [My question: 5 x 3 = .........] \n      [My question: 5 x 6 = .........] \n      [My question: 5 x 4 = .........]     \n    ],\n    align(center)[\n      [My question:  4 x 5 = .........] \n      [My question:  4 x 7 = .........] \n      [My question:  4 x 2 = .........] \n      [My question:  4 x 8 = .........] \n      [My question:  4 x 9 = .........] \n      [My question:  4 x 3 = .........] \n      [My question:  4 x 6 = .........] \n      [My question:  4 x 4 = .........]     \n    ]\n  ),\n)\n\n\n\\\n\\\n\n\nSolution 3\n#grid(\n    columns: (1fr, 1fr, 1fr),\n    gutter: 10pt,\n\n    align(center)[\n      ..questions_2,\n    ],\n    align(center)[\n      ..questions_3\n    ]\n)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 87,
      "score": 3392.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1780,
      "post_number": 2,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-09-18T16:20:22.594Z",
      "updated_at": "2024-09-18T16:24:05.817Z",
      "cooked": "<p>The layout order of <code>grid</code> is row-major, i.e, for a sequence <code>0..5 </code> you’d get:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(columns: 3\n  [0], [1], [2],\n  [3], [4], [5],\n)\n</code></pre>\n<p>As I understand it you’d like to display it in a column-major fashion for the same sequence:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(columns: 3\n  [0], [2], [4],\n  [1], [3], [5],\n)\n</code></pre>\n<p>To do this you need to transpose the sequence with respect to the number of columns, you can transpose an array by using <code>zip</code> followed by <code>flatten</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let questions2 = (  \n  [2 x 1 =],\n  [2 x 2 =],\n  [2 x 3 =],\n  [2 x 4 =],\n  [2 x 5 =],\n)\n\n#let questions3 = (  \n  [3 x 1 =],\n  [3 x 2 =],\n  [3 x 3 =],\n  [3 x 4 =],\n  [3 x 5 =],\n)\n\n#let questions4 = (  \n  [4 x 1 =],\n  [4 x 2 =],\n  [4 x 3 =],\n  [4 x 4 =],\n  [4 x 5 =],\n)\n\n#let questions = array.zip(questions2, questions3, questions4).flatten()\n\n#set align(center)\n#grid(columns: (1fr, 1fr, 1fr), inset: 1em, ..questions)\n</code></pre>\n<p>You can see that we have exactly as many arrays as we have columns, we then zip them up such that we get a sequence of triplets, one from each sequence and then we concatenate these triplets back into one larger sequence, effectively transposing the array.</p>\n<p>Resulting in the following output:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0.png\" data-download-href=\"https://forum.typst.app/uploads/default/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0_2_690x306.png\" alt=\"image\" data-base62-sha1=\"qpRqlJbKhDm4bE2IQH1zFG6tlL2\" width=\"690\" height=\"306\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0_2_690x306.png, https://forum.typst.app/uploads/default/original/1X/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0.png 1.5x, https://forum.typst.app/uploads/default/original/1X/b924ea97ba7cb3fb12c1597217c7a1cec12c23b0.png 2x\" data-dominant-color=\"FEFEFE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">696×309 11.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>As an aside, your definitions can be automated too:</p>\n<details>\n<summary>\nSummary</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let questions(n, k) = range(1, k + 1).map(i =&gt; [#n x #i =])\n#let questions = array.zip(..range(2, 4).map(n =&gt; questions(n, 5))).flatten()\n\n#set align(center)\n#grid(columns: (1fr, 1fr, 1fr), inset: 1em, ..questions)\n</code></pre>\n</details>",
      "raw": "The layout order of `grid` is row-major, i.e, for a sequence `0..5 ` you'd get:\n```typ\n#grid(columns: 3\n  [0], [1], [2],\n  [3], [4], [5],\n)\n```\n\nAs I understand it you'd like to display it in a column-major fashion for the same sequence:\n\n```typ\n#grid(columns: 3\n  [0], [2], [4],\n  [1], [3], [5],\n)\n```\n\nTo do this you need to transpose the sequence with respect to the number of columns, you can transpose an array by using `zip` followed by `flatten`:\n```typ\n#let questions2 = (  \n  [2 x 1 =],\n  [2 x 2 =],\n  [2 x 3 =],\n  [2 x 4 =],\n  [2 x 5 =],\n)\n\n#let questions3 = (  \n  [3 x 1 =],\n  [3 x 2 =],\n  [3 x 3 =],\n  [3 x 4 =],\n  [3 x 5 =],\n)\n\n#let questions4 = (  \n  [4 x 1 =],\n  [4 x 2 =],\n  [4 x 3 =],\n  [4 x 4 =],\n  [4 x 5 =],\n)\n\n#let questions = array.zip(questions2, questions3, questions4).flatten()\n\n#set align(center)\n#grid(columns: (1fr, 1fr, 1fr), inset: 1em, ..questions)\n```\n\nYou can see that we have exactly as many arrays as we have columns, we then zip them up such that we get a sequence of triplets, one from each sequence and then we concatenate these triplets back into one larger sequence, effectively transposing the array.\n\nResulting in the following output:\n![image|690x306, 100%](upload://qpRqlJbKhDm4bE2IQH1zFG6tlL2.png)\n\nAs an aside, your definitions can be automated too:\n[details=\"Summary\"]\n```typ\n#let questions(n, k) = range(1, k + 1).map(i => [#n x #i =])\n#let questions = array.zip(..range(2, 4).map(n => questions(n, 5))).flatten()\n\n#set align(center)\n#grid(columns: (1fr, 1fr, 1fr), inset: 1em, ..questions)\n```\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 79,
      "score": 215.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 1781,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T16:25:54.667Z",
      "updated_at": "2024-09-18T16:30:36.923Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let questions2 = range(5).map(i =&gt; [2 x #(i + 1) =])\n#let questions3 = range(5).map(i =&gt; [3 x #(i + 1) =])\n\n#let formatter = it =&gt; [My question: #it]\n\n#let column1 = questions2.map(formatter)\n#let column2 = questions3.map(formatter)\n#let column3 = ([],) * column1.len()\n\n#grid(\n  columns: (1fr, 1fr, 1fr),\n  gutter: 10pt,\n  ..questions2.map(it =&gt; (it, [], [])).flatten()\n)\n\n#v(8em)\n\n#grid(\n  columns: (1fr,) * 3,\n  gutter: 10pt,\n  ..array.zip(column1, column2, column3).flatten()\n)\n</code></pre>\n<div align=\"center\">\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/46b288794a227c9f101a011d259f37280f56f2f3.png\" alt=\"image\" data-base62-sha1=\"a5pVywnA5fdnj3c6rJbug38cFDt\" width=\"508\" height=\"343\"></p>\n</div>\n<p>To make it a little bit more flexible:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let columns = (column1, column2, column3)\n#grid(\n  columns: (1fr,) * columns.len(),\n  gutter: 10pt,\n  ..array.zip(..columns).flatten()\n)\n</code></pre>",
      "raw": "```typ\n#let questions2 = range(5).map(i => [2 x #(i + 1) =])\n#let questions3 = range(5).map(i => [3 x #(i + 1) =])\n\n#let formatter = it => [My question: #it]\n\n#let column1 = questions2.map(formatter)\n#let column2 = questions3.map(formatter)\n#let column3 = ([],) * column1.len()\n\n#grid(\n  columns: (1fr, 1fr, 1fr),\n  gutter: 10pt,\n  ..questions2.map(it => (it, [], [])).flatten()\n)\n\n#v(8em)\n\n#grid(\n  columns: (1fr,) * 3,\n  gutter: 10pt,\n  ..array.zip(column1, column2, column3).flatten()\n)\n```\n\n<div align=center>\n\n![image|508x343, 100%](upload://a5pVywnA5fdnj3c6rJbug38cFDt.png)\n</div>\n\nTo make it a little bit more flexible:\n\n```typ\n#let columns = (column1, column2, column3)\n#grid(\n  columns: (1fr,) * columns.len(),\n  gutter: 10pt,\n  ..array.zip(..columns).flatten()\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 77,
      "score": 60.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1783,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-09-18T16:29:07.439Z",
      "updated_at": "2024-09-18T17:55:35.983Z",
      "cooked": "<p>To build on <a class=\"mention\" href=\"/u/tinger\">@Tinger</a>’s answer, a reusable function for transposing a 1D array could look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let arr = ([a], [b], [c], [d], [e])\n\n/// Transpose a 1D-array as if it was a 2D array. The array is treated as if it\n/// was width*height (width is inferred) and ends up as height*width. The array\n/// is padded with `none` elements to handle non-\"rectangular\" arrays.\n#let transpose(arr, height) = {\n  let width = calc.ceil(arr.len() / height)\n  let missing = width * height - arr.len()\n  // add dummy elements so that the array is \"rectangular\"\n  arr += (none,) * missing\n  // transpose the array\n  array.zip(..arr.chunks(width)).join()\n}\n\n// treat the array as having 3 columns\n#table(columns: 3, ..arr)\n\n// treat the array as having 3 rows,\n// transposing it to have 3 columns instead\n#table(columns: 3, ..transpose(arr, 3))\n</code></pre>\n<details>\n<summary>\nResult</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/6fbd7ad4c29c43e06157d109b475c0653664d869.png\" alt=\"transpose\" data-base62-sha1=\"fWuXnVGmr21cDDJJrza7F3fSI0p\" width=\"154\" height=\"230\"></p>\n</details>\n<p>In your case, you could call this as</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">transpose((..questions2, ..questions3, ..questions4), 3)\n</code></pre>",
      "raw": "To build on @Tinger's answer, a reusable function for transposing a 1D array could look like this:\n```typ\n#let arr = ([a], [b], [c], [d], [e])\n\n/// Transpose a 1D-array as if it was a 2D array. The array is treated as if it\n/// was width*height (width is inferred) and ends up as height*width. The array\n/// is padded with `none` elements to handle non-\"rectangular\" arrays.\n#let transpose(arr, height) = {\n  let width = calc.ceil(arr.len() / height)\n  let missing = width * height - arr.len()\n  // add dummy elements so that the array is \"rectangular\"\n  arr += (none,) * missing\n  // transpose the array\n  array.zip(..arr.chunks(width)).join()\n}\n\n// treat the array as having 3 columns\n#table(columns: 3, ..arr)\n\n// treat the array as having 3 rows,\n// transposing it to have 3 columns instead\n#table(columns: 3, ..transpose(arr, 3))\n```\n\n[details=\"Result\"]\n![transpose|309x460, 50%](upload://fWuXnVGmr21cDDJJrza7F3fSI0p.png)\n[/details]\n\nIn your case, you could call this as\n```typc\ntranspose((..questions2, ..questions3, ..questions4), 3)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 72,
      "score": 234.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 1784,
      "post_number": 5,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T16:47:17.158Z",
      "updated_at": "2024-09-18T16:47:17.158Z",
      "cooked": "<p>Amazing! Really clear and well documented solutions! And quick too! Thanks a lot for your precise answers, I can now close the topic as I have my answer.<br>\nIt will help me to quickly build evaluations for my class!</p>",
      "raw": "Amazing! Really clear and well documented solutions! And quick too! Thanks a lot for your precise answers, I can now close the topic as I have my answer.\nIt will help me to quickly build evaluations for my class!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 65,
      "score": 37.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1786,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T16:51:02.761Z",
      "updated_at": "2024-09-18T16:52:12.166Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Allon\" data-post=\"5\" data-topic=\"453\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/1F0115/48.png\" class=\"avatar\"> Allon:</div>\n<blockquote>\n<p>Thanks a lot for your precise answers, I can now close the topic as I have my answer.</p>\n</blockquote>\n</aside>\n<p>You’re welcome! If a post answered your question, can you please mark it as a solution? This will let newcomers know that this question is already answered, which can speed up “answer searching”. :)</p>",
      "raw": "[quote=\"Allon, post:5, topic:453\"]\nThanks a lot for your precise answers, I can now close the topic as I have my answer.\n[/quote]\n\nYou're welcome! If a post answered your question, can you please mark it as a solution? This will let newcomers know that this question is already answered, which can speed up \"answer searching\". :)",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 63,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1788,
      "post_number": 7,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T17:10:36.188Z",
      "updated_at": "2024-09-18T17:10:36.188Z",
      "cooked": "<p>One little comment for the readers who would find this solution. It works for my needs but you will need exactly the same numbers of questions in each array zipped otherwise a full result line is missing. This is the way zip works if I understood it well.</p>",
      "raw": "One little comment for the readers who would find this solution. It works for my needs but you will need exactly the same numbers of questions in each array zipped otherwise a full result line is missing. This is the way zip works if I understood it well.",
      "reply_to_post_number": 6,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 60,
      "score": 26.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1790,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T17:17:57.114Z",
      "updated_at": "2024-09-18T17:17:57.114Z",
      "cooked": "<p>Correct, from <a href=\"https://typst.app/docs/reference/foundations/array/#definitions-zip\"><code>array.zip</code></a>’s documentation:</p>\n<blockquote>\n<p>If the arrays to be zipped have different lengths, they are zipped up to the last element of the shortest array and all remaining elements are ignored.</p>\n</blockquote>\n<p>You probably can make some intermediate logic that will fill the shortest arrays with additional empty elements (or add the missing elements manually) so that they all have the same length and nothing will be ignored when zipping them up.</p>",
      "raw": "Correct, from [`array.zip`](https://typst.app/docs/reference/foundations/array/#definitions-zip)'s documentation:\n\n> If the arrays to be zipped have different lengths, they are zipped up to the last element of the shortest array and all remaining elements are ignored.\n\nYou probably can make some intermediate logic that will fill the shortest arrays with additional empty elements (or add the missing elements manually) so that they all have the same length and nothing will be ignored when zipping them up.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 16.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1792,
      "post_number": 9,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-09-18T17:50:44.113Z",
      "updated_at": "2024-09-18T17:59:00.208Z",
      "cooked": "<p>just so it doesn’t go under: my response’s <code>transpose</code> function <em>does</em> handle arrays of “odd” lengths.</p>\n<p>(I just realized that I may have screwed up in the exact handling, but I’ll fix it after confirming – edit: it’s fixed)</p>\n<p>PS: you ticked Andrew’s response; if you look at your original post in this thread, you’ll see that it appears there up there. Please tick one of the responses that contains the actual answer so that <em>that</em> is the one that appears up there - be that Andrew’s other response, or a different one.</p>",
      "raw": "just so it doesn't go under: my response's `transpose` function _does_ handle arrays of \"odd\" lengths.\n\n(I just realized that I may have screwed up in the exact handling, but I'll fix it after confirming -- edit: it's fixed)\n\nPS: you ticked Andrew's response; if you look at your original post in this thread, you'll see that it appears there up there. Please tick one of the responses that contains the actual answer so that _that_ is the one that appears up there - be that Andrew's other response, or a different one.",
      "reply_to_post_number": 7,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 20.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 1821,
      "post_number": 10,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T20:09:44.335Z",
      "updated_at": "2024-09-18T20:09:44.335Z",
      "cooked": "<p>Yes, I get the principle now (never hear about zip before!), I had to do it with paper and pen to understand but this is easy. Thanks!</p>",
      "raw": "Yes, I get the principle now (never hear about zip before!), I had to do it with paper and pen to understand but this is easy. Thanks!",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1822,
      "post_number": 11,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T20:10:27.773Z",
      "updated_at": "2024-09-18T20:10:27.773Z",
      "cooked": "<p>Tick problem solved :)</p>",
      "raw": "Tick problem solved :)",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 43,
      "score": 38.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1823,
      "post_number": 12,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-18T20:12:12.592Z",
      "updated_at": "2024-09-18T20:12:12.592Z",
      "cooked": "<p>I need to go from n arrray to n array as I need to have table 3 table 4 and table 5 in the right column, so I am not sure that a solution using a 1 array input could work.</p>",
      "raw": "I need to go from n arrray to n array as I need to have table 3 table 4 and table 5 in the right column, so I am not sure that a solution using a 1 array input could work.",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    },
    {
      "id": 1826,
      "post_number": 13,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-09-18T20:33:58.407Z",
      "updated_at": "2024-09-18T20:33:58.407Z",
      "cooked": "<p>That sounds like a bit of a different issue, not directly about having column-ordering of cells in a table. could you ask this in a new thread? With a bit more detail; as it is I’m not sure what “table 3 table 4 and table 5 in the right column” means – what’s with the other columns? (Address this in your new post, not in this thread).</p>",
      "raw": "That sounds like a bit of a different issue, not directly about having column-ordering of cells in a table. could you ask this in a new thread? With a bit more detail; as it is I'm not sure what \"table 3 table 4 and table 5 in the right column\" means -- what's with the other columns? (Address this in your new post, not in this thread).",
      "reply_to_post_number": 12,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 1834,
      "post_number": 14,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T22:16:56.145Z",
      "updated_at": "2024-09-18T22:16:56.145Z",
      "cooked": "<p>Also, do keep in mind that you can ask <em>as many</em> questions as you want, but to not clutter one topic with everything, they all should be creating separately (via “+ New Topic” button at <a href=\"https://forum.typst.app/\">https://forum.typst.app/</a>). It’s very tempting to ask follow-up questions (in the same topic), I know from experience. We must resist the urge! /j</p>",
      "raw": "Also, do keep in mind that you can ask *as many* questions as you want, but to not clutter one topic with everything, they all should be creating separately (via \"+ New Topic\" button at https://forum.typst.app/). It's very tempting to ask follow-up questions (in the same topic), I know from experience. We must resist the urge! /j",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 28.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1946,
      "post_number": 15,
      "username": "Allon",
      "name": "Allon",
      "created_at": "2024-09-19T19:21:38.792Z",
      "updated_at": "2024-09-19T19:21:38.792Z",
      "cooked": "<p>I did not want to ask any question, just commented that the last solution was not the right one for me <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nThanks a lot for the great help!</p>",
      "raw": "I did not want to ask any question, just commented that the last solution was not the right one for me :slight_smile: \nThanks a lot for the great help!",
      "reply_to_post_number": 14,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 22.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 367
    }
  ],
  "scraped_at": "2025-06-10T09:58:42.537107"
}
{
  "topic_metadata": {
    "id": 455,
    "title": "How to set the columnspan or the rowspan of a specific cell with a show-set rule (when creating table from a CSV file)?",
    "slug": "how-to-set-the-columnspan-or-the-rowspan-of-a-specific-cell-with-a-show-set-rule-when-creating-table-from-a-csv-file",
    "posts_count": 10,
    "created_at": "2024-09-18T16:26:27.718Z",
    "last_posted_at": "2024-09-19T10:41:29.769Z",
    "views": 844,
    "like_count": 8,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 1923
  },
  "posts": [
    {
      "id": 1782,
      "post_number": 1,
      "username": "shazid",
      "name": "Shazid",
      "created_at": "2024-09-18T16:26:27.902Z",
      "updated_at": "2024-09-18T16:28:39.018Z",
      "cooked": "<p>I am trying to create a very large table from a CSV file. It has some cells that need to have column span and some that need row span. The CSV looks something like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/b6315f565db0f1723991e3213f0ad64655ac4d77.png\" alt=\"image\" data-base62-sha1=\"pZKG860bpmdeOQ0qWrt06vawkAL\" width=\"289\" height=\"126\"></p>\n<p>I have copy-pasted the contents of the CSV file below:</p>\n<pre data-code-wrap=\"csv\"><code class=\"lang-csv\">,Spanned column,\nA,B,C\nSpanned row,1,2\n,3,4\nD,5,6\n</code></pre>\n<p>What I have tried so far:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let dat = csv(\"test.csv\")\n\n#{\n// approach 1\n  show table.cell.where(x:1, y:0): set table.cell(colspan: 2)\n  show table.cell.where(x:0, y:2): set table.cell(rowspan: 2)\n  table(\n    columns: 3,\n    ..dat.flatten()\n  )\n}\n\n#{\n// approach 2\n  show table.cell.where(x: 1, y:0): it =&gt; table.cell(colspan: 2)[#it]\n  show table.cell.where(x: 0, y:2): it =&gt; table.cell(colspan: 2)[#it]\n  table(\n    columns: 3,\n    ..dat.flatten()\n  )\n}\n</code></pre>\n<p>Neither approach seem to work. Neither table has any column or row span. MWE link: <a href=\"https://typst.app/project/r7fzqahb3BQJTwBRFV4-Ei\" class=\"inline-onebox\">Typst</a></p>\n<p>Any help regarding this would be greatly appreciated. Thank you.</p>",
      "raw": "I am trying to create a very large table from a CSV file. It has some cells that need to have column span and some that need row span. The CSV looks something like this:\n![image|289x126](upload://pZKG860bpmdeOQ0qWrt06vawkAL.png)\n\nI have copy-pasted the contents of the CSV file below:\n```csv\n,Spanned column,\nA,B,C\nSpanned row,1,2\n,3,4\nD,5,6\n```\n\nWhat I have tried so far:\n```typst\n#let dat = csv(\"test.csv\")\n\n#{\n// approach 1\n  show table.cell.where(x:1, y:0): set table.cell(colspan: 2)\n  show table.cell.where(x:0, y:2): set table.cell(rowspan: 2)\n  table(\n    columns: 3,\n    ..dat.flatten()\n  )\n}\n\n#{\n// approach 2\n  show table.cell.where(x: 1, y:0): it => table.cell(colspan: 2)[#it]\n  show table.cell.where(x: 0, y:2): it => table.cell(colspan: 2)[#it]\n  table(\n    columns: 3,\n    ..dat.flatten()\n  )\n}\n```\n\nNeither approach seem to work. Neither table has any column or row span. MWE link: https://typst.app/project/r7fzqahb3BQJTwBRFV4-Ei\n\nAny help regarding this would be greatly appreciated. Thank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 64,
      "score": 4197.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 284
    },
    {
      "id": 1791,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T17:36:45.827Z",
      "updated_at": "2024-09-18T17:51:38.560Z",
      "cooked": "<p>From a comment <a href=\"https://github.com/typst/typst/issues/4159#issuecomment-2116280907\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Show-set rules don't seem to work for `table.cell` · Issue #4159 · typst/typst · GitHub</a> :</p>\n<blockquote>\n<p>Unfortunately this just hasn’t been implemented yet, but it will be in the future, for sure.</p>\n<p>In the meantime, if your selector only relies on the cell’s position, you can use e.g. <code>#set table(fill: (x, y) =&gt; if x == 0 { red } else { blue })</code>.</p>\n</blockquote>\n<p>The described workaround only works for fields that support function type <strong>and</strong> are available in the <a href=\"https://typst.app/docs/reference/model/table/#parameters\"><code>table()</code></a> function: <code>fill</code>, <code>align</code>, <code>stroke</code>, <code>inset</code>.</p>\n<p>Since you need to modify the cell itself by changing the <code>colspan</code>/<code>rowspan</code> field, you also won’t be able to use something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show table.cell: it =&gt; {\n  if it.x == 1 and it.y == 0 { table.cell(colspan: 2, it) } else { it }\n}\n</code></pre>\n<p>This is because you can’t create a new element inside a show rule for that element, i.e., creating a table cell inside a show rule for a table cell. You probably can get away with it if your newly created cell won’t trigger the same branch of the if statement, but in this case this is not possible. Only if you change cell’s content or inset value etc. beforehand.</p>\n<p>The second approach probably didn’t work either because you again try to create a new cell inside a show rule for a cell and/or because show rule is applied later (not when you create a table with elements). I’m not entirely sure.</p>\n<p>I still think that maybe some hacky workaround is possible, but I need time to figure out if this is true.</p>\n<p>Update. Yes my hacky solution works, but I need to make it prettier and more reusable.</p>",
      "raw": "From a comment https://github.com/typst/typst/issues/4159#issuecomment-2116280907 :\n\n> Unfortunately this just hasn't been implemented yet, but it will be in the future, for sure.\n> \n> In the meantime, if your selector only relies on the cell's position, you can use e.g. `#set table(fill: (x, y) => if x == 0 { red } else { blue })`.\n\nThe described workaround only works for fields that support function type **and** are available in the [`table()`](https://typst.app/docs/reference/model/table/#parameters) function: `fill`, `align`, `stroke`, `inset`.\n\nSince you need to modify the cell itself by changing the `colspan`/`rowspan` field, you also won't be able to use something like this:\n\n```typ\n#show table.cell: it => {\n  if it.x == 1 and it.y == 0 { table.cell(colspan: 2, it) } else { it }\n}\n```\n\nThis is because you can't create a new element inside a show rule for that element, i.e., creating a table cell inside a show rule for a table cell. You probably can get away with it if your newly created cell won't trigger the same branch of the if statement, but in this case this is not possible. Only if you change cell's content or inset value etc. beforehand.\n\nThe second approach probably didn't work either because you again try to create a new cell inside a show rule for a cell and/or because show rule is applied later (not when you create a table with elements). I'm not entirely sure.\n\nI still think that maybe some hacky workaround is possible, but I need time to figure out if this is true.\n\nUpdate. Yes my hacky solution works, but I need to make it prettier and more reusable.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 46.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1793,
      "post_number": 3,
      "username": "shazid",
      "name": "Shazid",
      "created_at": "2024-09-18T17:52:35.248Z",
      "updated_at": "2024-09-18T17:52:35.248Z",
      "cooked": "<p>Welp, guess I’ll just have to wait till it is implemented then.</p>",
      "raw": "Welp, guess I'll just have to wait till it is implemented then.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 284
    },
    {
      "id": 1797,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T18:54:45.465Z",
      "updated_at": "2024-09-18T19:15:56.636Z",
      "cooked": "<details>\n<summary>\nDefault result</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let dat = csv(\"test.csv\")\n\n#repr(dat)\n\n#set table(align: center + horizon)\n\n#table(columns: (3cm,) * 3, ..dat.flatten())\n</code></pre>\n<div align=\"center\">\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/bd99aab49f1770c7dd8977f08955587273297794.png\" alt=\"image\" data-base62-sha1=\"r3hteEOT76tnwYSfrZHG8ZoNBI0\" width=\"252\" height=\"188\"></p>\n</div>\n</details>\n<hr>\n<p>First attempt:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let dat = csv(\"test.csv\")\n#set table(align: center + horizon)\n#{\n  // show table.cell.where(y: 0, x: 1): set table.cell(colspan: 2)\n  // show table.cell.where(y: 2, x: 0): set table.cell(rowspan: 2)\n  let colspan-cells = ((0, 1),) // (y, x)\n  let rowspan-cells = ((2, 0),) // (y, x)\n  let data = dat\n  for ((y, x)) in colspan-cells {\n    data.at(y) = {\n      let row = data.at(y)\n      let _ = row.remove(x + 1)\n      row\n    }\n  }\n  for ((y, x)) in rowspan-cells {\n    data.at(y + 1) = {\n      let row = data.at(y + 1)\n      let _ = row.remove(x)\n      row\n    }\n  }\n  let bonus-coloring = (fill: green.transparentize(70%))\n  table(columns: (3cm,) * 3, ..data\n  .enumerate()\n  .map(((y, row)) =&gt; row.enumerate().map(((x, cell)) =&gt;\n  if x == 1 and y == 0 {\n    table.cell(colspan: 2, cell, ..bonus-coloring)\n  } else if x == 0 and y == 2 {\n    table.cell(rowspan: 2, cell, ..bonus-coloring)\n  } else {\n    cell\n  }))\n  .flatten())\n}\n</code></pre>\n<div align=\"center\">\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/68415b6a2608b8dd9ff4af83082db29c9feed255.png\" alt=\"image\" data-base62-sha1=\"eShGoGUxFU1TzQR5ZC3HycyNlZz\" width=\"324\" height=\"120\"></p>\n</div>\n<hr>\n<p>Second attempt:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let dat = csv(\"test.csv\")\n#set table(align: center + horizon)\n\n/// Removes elements which will be overwritten by a `colspan`/`rowspan`.\n/// * `data` a 2D array of future cell content elements\n/// * `colspan-cells` an array of tuples `(y, x, length)` describing each colspan cell\n/// * `rowspan-cells` an array of tuples `(y, x, length)` describing each rowspan cell\n/// Returns a prepared 2D `array`.\n///\n/// Note that length of each row can differ.\n#let prepare-data(data, colspan-cells, rowspan-cells) = {\n  for ((y, x, length)) in colspan-cells {\n    data.at(y) = {\n      let row = data.at(y)\n      for i in range(length - 1) {\n        assert(\n          (x + 1) &lt; row.len(),\n          message: \"Column span out of bounds: \" + repr((y, x, length)),\n        )\n        let _ = row.remove(x + 1)\n      }\n      row\n    }\n  }\n  for ((y, x, length)) in rowspan-cells {\n    for i in range(length - 1) {\n      data.at(y + 1 + i) = {\n        assert(\n          (y + 1 + i) &lt; data.len(),\n          message: \"Row span out of bounds: \" + repr((y, x, length)),\n        )\n        let row = data.at(y + 1 + i)\n        let _ = row.remove(x)\n        row\n      }\n    }\n  }\n  data\n}\n\n/// Adds `colspan`/`rowspan` field to specified cells.\n/// * `cells` a 2D array of cells (content)\n/// * `colspan-cells` an array of tuples `(y, x, length)` describing each colspan cell\n/// * `rowspan-cells` an array of tuples `(y, x, length)` describing each rowspan cell\n/// Returns flatten `array` of patched cells.\n///\n/// Note that this is not tested for when cell already wrapped in `cell()`.\n#let patch-span-cells(cells, colspan-cells, rowspan-cells) = {\n  let fill = (fill: green.transparentize(70%))\n  for ((y, x, length)) in colspan-cells {\n    cells.at(y).at(x) = table.cell(colspan: length, cells.at(y).at(x), ..fill)\n  }\n  for ((y, x, length)) in rowspan-cells {\n    cells.at(y).at(x) = table.cell(rowspan: length, cells.at(y).at(x), ..fill)\n  }\n  cells.flatten()\n}\n\n#{\n  // show table.cell.where(y: 0, x: 1): set table.cell(colspan: 2)\n  // show table.cell.where(y: 2, x: 0): set table.cell(rowspan: 2)\n  let colspan-cells = ((0, 1, 2),) // (y, x, length), min_length = 2 (no-op for \"&lt; 2\")\n  let rowspan-cells = ((2, 0, 2),) // (y, x, length), min_length = 2 (no-op for \"&lt; 2\")\n  let data = prepare-data(dat, colspan-cells, rowspan-cells)\n  table(\n    columns: (3cm,) * 3,\n    ..patch-span-cells(data, colspan-cells, rowspan-cells),\n  )\n}\n</code></pre>\n<div align=\"center\">\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/fadb6a7682fe9b5b38e8cbf4e960bb1cdb771917.png\" alt=\"image\" data-base62-sha1=\"zNbsLpFXHitNcYeF6wEfUunSwNV\" width=\"328\" height=\"121\"></p>\n</div>\n<p>You can merge or rewrite the 2 helper functions however you see fit. If you don’t need to do anything in between, then you don’t really need two of them. But they can also be easily merged by making a 3rd wrapper function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let patch-spans(data, colspan-cells, rowspan-cells) = {\n  patch-span-cells(\n    prepare-data(dat, colspan-cells, rowspan-cells),\n    colspan-cells,\n    rowspan-cells,\n  )\n}\n\n#table(\n  // A small bonus (can only use (the initial) unmodified\n  // 2D array here).\n  columns: dat.at(0).len(),\n  ..patch-spans(dat, colspan-cells, rowspan-cells),\n)\n</code></pre>",
      "raw": "[details=\"Default result\"]\n```typ\n#let dat = csv(\"test.csv\")\n\n#repr(dat)\n\n#set table(align: center + horizon)\n\n#table(columns: (3cm,) * 3, ..dat.flatten())\n```\n\n<div align=center>\n\n![image|336x251, 75%](upload://r3hteEOT76tnwYSfrZHG8ZoNBI0.png)\n</div>\n[/details]\n\n---\n\nFirst attempt:\n\n```typ\n#let dat = csv(\"test.csv\")\n#set table(align: center + horizon)\n#{\n  // show table.cell.where(y: 0, x: 1): set table.cell(colspan: 2)\n  // show table.cell.where(y: 2, x: 0): set table.cell(rowspan: 2)\n  let colspan-cells = ((0, 1),) // (y, x)\n  let rowspan-cells = ((2, 0),) // (y, x)\n  let data = dat\n  for ((y, x)) in colspan-cells {\n    data.at(y) = {\n      let row = data.at(y)\n      let _ = row.remove(x + 1)\n      row\n    }\n  }\n  for ((y, x)) in rowspan-cells {\n    data.at(y + 1) = {\n      let row = data.at(y + 1)\n      let _ = row.remove(x)\n      row\n    }\n  }\n  let bonus-coloring = (fill: green.transparentize(70%))\n  table(columns: (3cm,) * 3, ..data\n  .enumerate()\n  .map(((y, row)) => row.enumerate().map(((x, cell)) =>\n  if x == 1 and y == 0 {\n    table.cell(colspan: 2, cell, ..bonus-coloring)\n  } else if x == 0 and y == 2 {\n    table.cell(rowspan: 2, cell, ..bonus-coloring)\n  } else {\n    cell\n  }))\n  .flatten())\n}\n```\n\n<div align=center>\n\n![image|324x120](upload://eShGoGUxFU1TzQR5ZC3HycyNlZz.png)\n</div>\n\n---\n\nSecond attempt:\n\n```typ\n#let dat = csv(\"test.csv\")\n#set table(align: center + horizon)\n\n/// Removes elements which will be overwritten by a `colspan`/`rowspan`.\n/// * `data` a 2D array of future cell content elements\n/// * `colspan-cells` an array of tuples `(y, x, length)` describing each colspan cell\n/// * `rowspan-cells` an array of tuples `(y, x, length)` describing each rowspan cell\n/// Returns a prepared 2D `array`.\n///\n/// Note that length of each row can differ.\n#let prepare-data(data, colspan-cells, rowspan-cells) = {\n  for ((y, x, length)) in colspan-cells {\n    data.at(y) = {\n      let row = data.at(y)\n      for i in range(length - 1) {\n        assert(\n          (x + 1) < row.len(),\n          message: \"Column span out of bounds: \" + repr((y, x, length)),\n        )\n        let _ = row.remove(x + 1)\n      }\n      row\n    }\n  }\n  for ((y, x, length)) in rowspan-cells {\n    for i in range(length - 1) {\n      data.at(y + 1 + i) = {\n        assert(\n          (y + 1 + i) < data.len(),\n          message: \"Row span out of bounds: \" + repr((y, x, length)),\n        )\n        let row = data.at(y + 1 + i)\n        let _ = row.remove(x)\n        row\n      }\n    }\n  }\n  data\n}\n\n/// Adds `colspan`/`rowspan` field to specified cells.\n/// * `cells` a 2D array of cells (content)\n/// * `colspan-cells` an array of tuples `(y, x, length)` describing each colspan cell\n/// * `rowspan-cells` an array of tuples `(y, x, length)` describing each rowspan cell\n/// Returns flatten `array` of patched cells.\n///\n/// Note that this is not tested for when cell already wrapped in `cell()`.\n#let patch-span-cells(cells, colspan-cells, rowspan-cells) = {\n  let fill = (fill: green.transparentize(70%))\n  for ((y, x, length)) in colspan-cells {\n    cells.at(y).at(x) = table.cell(colspan: length, cells.at(y).at(x), ..fill)\n  }\n  for ((y, x, length)) in rowspan-cells {\n    cells.at(y).at(x) = table.cell(rowspan: length, cells.at(y).at(x), ..fill)\n  }\n  cells.flatten()\n}\n\n#{\n  // show table.cell.where(y: 0, x: 1): set table.cell(colspan: 2)\n  // show table.cell.where(y: 2, x: 0): set table.cell(rowspan: 2)\n  let colspan-cells = ((0, 1, 2),) // (y, x, length), min_length = 2 (no-op for \"< 2\")\n  let rowspan-cells = ((2, 0, 2),) // (y, x, length), min_length = 2 (no-op for \"< 2\")\n  let data = prepare-data(dat, colspan-cells, rowspan-cells)\n  table(\n    columns: (3cm,) * 3,\n    ..patch-span-cells(data, colspan-cells, rowspan-cells),\n  )\n}\n```\n\n<div align=center>\n\n![image|328x121](upload://zNbsLpFXHitNcYeF6wEfUunSwNV.png)\n</div>\n\nYou can merge or rewrite the 2 helper functions however you see fit. If you don't need to do anything in between, then you don't really need two of them. But they can also be easily merged by making a 3rd wrapper function:\n\n```typ\n#let patch-spans(data, colspan-cells, rowspan-cells) = {\n  patch-span-cells(\n    prepare-data(dat, colspan-cells, rowspan-cells),\n    colspan-cells,\n    rowspan-cells,\n  )\n}\n\n#table(\n  // A small bonus (can only use (the initial) unmodified\n  // 2D array here).\n  columns: dat.at(0).len(),\n  ..patch-spans(dat, colspan-cells, rowspan-cells),\n)\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 51,
      "score": 575.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1815,
      "post_number": 5,
      "username": "shazid",
      "name": "Shazid",
      "created_at": "2024-09-18T19:35:40.330Z",
      "updated_at": "2024-09-18T19:35:40.330Z",
      "cooked": "<p>That works perfectly, thank you very much.</p>\n<p>But, now I wonder if this could be extended to support cells with <em><strong>both</strong></em> column span <em><strong>and</strong></em> row span.</p>",
      "raw": "That works perfectly, thank you very much.\n\nBut, now I wonder if this could be extended to support cells with ***both*** column span ***and*** row span.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 43,
      "score": 58.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 284
    },
    {
      "id": 1818,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-18T19:58:33.423Z",
      "updated_at": "2024-09-18T19:58:33.423Z",
      "cooked": "<p>Most definitely! If you can easily (with a hack) do this for column-/row-span-only cells, then you can do this for column-and-rowspan cells.</p>\n<p>The algorithm does 2 basic steps:</p>\n<ol>\n<li>delete all elements from a matrix that shouldn’t be visible in the result table (due to a span);</li>\n<li>add a <code>table.cell()</code> wrapper to all elements in the matrix that are span cells’ content.</li>\n</ol>\n<p>Based on that, for a “block-span” cell you need to delete a block of elements from the matrix first (excluding the top-left element, which is the span-cell) — needs 2 nested for-loops (instead of 2 separate ones), and then add a <code>table.cell()</code> wrapper with <code>colspan</code> and <code>rowspan</code> fields set to the desired size.</p>",
      "raw": "Most definitely! If you can easily (with a hack) do this for column-/row-span-only cells, then you can do this for column-and-rowspan cells.\n\nThe algorithm does 2 basic steps:\n1. delete all elements from a matrix that shouldn't be visible in the result table (due to a span);\n2. add a `table.cell()` wrapper to all elements in the matrix that are span cells' content.\n\nBased on that, for a \"block-span\" cell you need to delete a block of elements from the matrix first (excluding the top-left element, which is the span-cell) — needs 2 nested for-loops (instead of 2 separate ones), and then add a `table.cell()` wrapper with `colspan` and `rowspan` fields set to the desired size.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 46,
      "score": 39.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1890,
      "post_number": 7,
      "username": "shazid",
      "name": "Shazid",
      "created_at": "2024-09-19T09:14:30.665Z",
      "updated_at": "2024-09-19T09:14:30.665Z",
      "cooked": "<p>I have come up with a “arguably simpler” method (depending on whom you ask).</p>\n<p><strong>It relies on the CSV itself having flags for which cells should not be visible.</strong> However, this is not a problem for my current use case because the data is generated from R. So, I can just put something like “” in the cells that will be spanned over by other cells in R before writing the CSV to disk.</p>\n<p>For example, suppose that the CSV looks as follows:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/41416dc46e480f8f7d3c5e1ba508a2f935ebf0c0.png\" alt=\"image\" data-base62-sha1=\"9jhdoEt31V37QOZRpbrVDCdfBXa\" width=\"278\" height=\"167\"></p>\n<p>You can copy from below (I have named it <code>new.csv</code> in the code that follows):</p>\n<pre><code class=\"lang-auto\">,Spans column,&lt;spanned&gt;\nA,B,C\nSpans row,1,2\n&lt;spanned&gt;,3,4\nD,Spans rect,&lt;spanned&gt;\nE,&lt;spanned&gt;,&lt;spanned&gt;\nF,5,6\n</code></pre>\n<p>The Typst code I have written to make the table is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let ndat = csv(\"new.csv\")\n\n#let cellinfo = (\n  (0, 1, 1, 2, red.transparentize(70%)),    // (row, col, rowspan, colspan, cell color)\n  (2, 0, 2, 1, green.transparentize(70%)),\n  (4, 1, 2, 2, blue.transparentize(70%))\n)\n\n#let prepdat(csvdat, cellinfo) = {\n  for (r, c, rs, cs, clr) in cellinfo{\n    csvdat.at(r).at(c) = table.cell(csvdat.at(r).at(c), colspan: cs, rowspan: rs, fill: clr)\n  }\n  \n  let filter_func(item) = {item != \"&lt;spanned&gt;\"}\n  \n  let csvflat = csvdat.flatten()\n  csvflat = csvflat.filter(filter_func)\n  return csvflat\n}\n\n#table(\n  columns: 3, \n  ..prepdat(ndat, cellinfo)\n)\n</code></pre>\n<p>The minimum working example can be found here: <a href=\"https://typst.app/project/r7fzqahb3BQJTwBRFV4-Ei\" class=\"inline-onebox\">Typst</a></p>\n<p>I would like to thank <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> for his original solution which inspired me to write my own solution</p>",
      "raw": "I have come up with a \"arguably simpler\" method (depending on whom you ask).\n\n**It relies on the CSV itself having flags for which cells should not be visible.** However, this is not a problem for my current use case because the data is generated from R. So, I can just put something like \"<spanned>\" in the cells that will be spanned over by other cells in R before writing the CSV to disk.\n\nFor example, suppose that the CSV looks as follows:\n\n![image|278x167](upload://9jhdoEt31V37QOZRpbrVDCdfBXa.png)\n\nYou can copy from below (I have named it `new.csv` in the code that follows):\n\n```\n,Spans column,<spanned>\nA,B,C\nSpans row,1,2\n<spanned>,3,4\nD,Spans rect,<spanned>\nE,<spanned>,<spanned>\nF,5,6\n```\n\nThe Typst code I have written to make the table is:\n```typ\n#let ndat = csv(\"new.csv\")\n\n#let cellinfo = (\n  (0, 1, 1, 2, red.transparentize(70%)),    // (row, col, rowspan, colspan, cell color)\n  (2, 0, 2, 1, green.transparentize(70%)),\n  (4, 1, 2, 2, blue.transparentize(70%))\n)\n\n#let prepdat(csvdat, cellinfo) = {\n  for (r, c, rs, cs, clr) in cellinfo{\n    csvdat.at(r).at(c) = table.cell(csvdat.at(r).at(c), colspan: cs, rowspan: rs, fill: clr)\n  }\n  \n  let filter_func(item) = {item != \"<spanned>\"}\n  \n  let csvflat = csvdat.flatten()\n  csvflat = csvflat.filter(filter_func)\n  return csvflat\n}\n\n#table(\n  columns: 3, \n  ..prepdat(ndat, cellinfo)\n)\n```\n\nThe minimum working example can be found here: https://typst.app/project/r7fzqahb3BQJTwBRFV4-Ei\n\nI would like to thank @Andrew for his original solution which inspired me to write my own solution",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 40,
      "score": 48.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 284
    },
    {
      "id": 1891,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-19T09:27:59.883Z",
      "updated_at": "2024-09-19T09:27:59.883Z",
      "cooked": "<p>If the CSV file indeed can be altered, then this is indeed a better solution size-wise (and feature-wise). I see you’ve added block-spans, nice. One downside to this will be instances where you have big spans, which means you have to mark a lot of elements/cells in the CSV instead of just providing a position and a span length of a single spanned element. And also a very small potential problem is if you can have virtually any string in the CSV cell, including the spanned marker. But I don’t think this is the case here.</p>\n<aside class=\"quote no-group\" data-username=\"shazid\" data-post=\"7\" data-topic=\"455\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/001666/48.png\" class=\"avatar\"> shazid:</div>\n<blockquote>\n<p>The Typst code I have written to make the table is:</p>\n</blockquote>\n</aside>\n<p>You should share the output too (you can put it in a “details” block if you want).</p>",
      "raw": "If the CSV file indeed can be altered, then this is indeed a better solution size-wise (and feature-wise). I see you've added block-spans, nice. One downside to this will be instances where you have big spans, which means you have to mark a lot of elements/cells in the CSV instead of just providing a position and a span length of a single spanned element. And also a very small potential problem is if you can have virtually any string in the CSV cell, including the spanned marker. But I don't think this is the case here.\n\n[quote=\"shazid, post:7, topic:455\"]\nThe Typst code I have written to make the table is:\n[/quote]\n\nYou should share the output too (you can put it in a \"details\" block if you want).",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 31,
      "score": 16.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1895,
      "post_number": 9,
      "username": "shazid",
      "name": "Shazid",
      "created_at": "2024-09-19T09:48:20.494Z",
      "updated_at": "2024-09-19T09:48:20.494Z",
      "cooked": "<p>I think the main issue with the my solution would be performance if the table is really big or if there are many such tables, since we have to filter out elements of an array (which is quite an expensive task, I assume).</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"8\" data-topic=\"455\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>You should share the output too (you can put it in a “details” block if you want).</p>\n</blockquote>\n</aside>\n<p>I tried to post the screenshot of the output. But, it doesn’t let me post multiple screenshots because I’m new to the forum.</p>",
      "raw": "I think the main issue with the my solution would be performance if the table is really big or if there are many such tables, since we have to filter out elements of an array (which is quite an expensive task, I assume).\n\n[quote=\"Andrew, post:8, topic:455\"]\nYou should share the output too (you can put it in a “details” block if you want).\n[/quote]\n\nI tried to post the screenshot of the output. But, it doesn't let me post multiple screenshots because I'm new to the forum.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 30,
      "score": 16.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 284
    },
    {
      "id": 1903,
      "post_number": 10,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-19T10:41:29.769Z",
      "updated_at": "2024-09-19T10:41:29.769Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"shazid\" data-post=\"9\" data-topic=\"455\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/001666/48.png\" class=\"avatar\"> shazid:</div>\n<blockquote>\n<p>I think the main issue with the my solution would be performance if the table is really big or if there are many such tables, since we have to filter out elements of an array (which is quite an expensive task, I assume).</p>\n</blockquote>\n</aside>\n<p>Right, I forgot about that. Yeah, filtering will be more expensive. I think it will go from <code>O(s)</code> to <code>O(r*c)</code> where <code>s</code> — number of spans, <code>r</code> — number of rows, <code>c</code> — number of columns.</p>\n<aside class=\"quote no-group\" data-username=\"shazid\" data-post=\"9\" data-topic=\"455\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/001666/48.png\" class=\"avatar\"> shazid:</div>\n<blockquote>\n<p>I tried to post the screenshot of the output. But, it doesn’t let me post multiple screenshots because I’m new to the forum.</p>\n</blockquote>\n</aside>\n<p>Oh, I see. If you want to lift the current limits, you can check out <a href=\"https://forum.typst.app/t/new-user-limits-are-annoyingly-restrictive/474/2\" class=\"inline-onebox\">New user limits are annoyingly restrictive - #2 by quachpas</a>.</p>",
      "raw": "[quote=\"shazid, post:9, topic:455\"]\nI think the main issue with the my solution would be performance if the table is really big or if there are many such tables, since we have to filter out elements of an array (which is quite an expensive task, I assume).\n[/quote]\n\nRight, I forgot about that. Yeah, filtering will be more expensive. I think it will go from `O(s)` to `O(r*c)` where `s` — number of spans, `r` — number of rows, `c` — number of columns.\n\n[quote=\"shazid, post:9, topic:455\"]\nI tried to post the screenshot of the output. But, it doesn’t let me post multiple screenshots because I’m new to the forum.\n[/quote]\n\nOh, I see. If you want to lift the current limits, you can check out https://forum.typst.app/t/new-user-limits-are-annoyingly-restrictive/474/2.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 32,
      "score": 46.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:58:41.777331"
}
