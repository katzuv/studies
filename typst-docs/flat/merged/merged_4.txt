{
  "topic_metadata": {
    "id": 1226,
    "title": "V 0.12 breaks show par: set block(below: 2.5em) -- how to fix?",
    "slug": "v-0-12-breaks-show-par-set-block-below-2-5em-how-to-fix",
    "posts_count": 4,
    "created_at": "2024-10-20T12:56:48.115Z",
    "last_posted_at": "2024-12-19T05:05:10.195Z",
    "views": 236,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 233
  },
  "posts": [
    {
      "id": 4298,
      "post_number": 1,
      "username": "JS213",
      "name": "JS213",
      "created_at": "2024-10-20T12:56:48.259Z",
      "updated_at": "2024-10-20T12:56:48.259Z",
      "cooked": "<p>Before 0.12 I used the follow in a <span class=\"hashtag-raw\">#let</span> project() block<br>\nshow par: set block(below: 2.5em)</p>\n<p>I have headings and paragraphs. To get my paragraph spacing right - I need spacing between paragraphs, and after paragraphs that come before headings, but not after headings. This worked great.</p>\n<p>Now 0.12 says to replace the show with<br>\nset par(spacing: 2.5em)</p>\n<p>Now I get no spacing between a paragraph and the subsequent heading, and yes spacing between a heading the subsequent paragraph.</p>\n<p>How to fix?</p>",
      "raw": "Before 0.12 I used the follow in a #let project() block \nshow par: set block(below: 2.5em)\n\nI have headings and paragraphs. To get my paragraph spacing right - I need spacing between paragraphs, and after paragraphs that come before headings, but not after headings. This worked great.\n\nNow 0.12 says to replace the show with\nset par(spacing: 2.5em)\n\nNow I get no spacing between a paragraph and the subsequent heading, and yes spacing between a heading the subsequent paragraph.\n\nHow to fix?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 611.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 634
    },
    {
      "id": 4327,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-20T14:59:36.860Z",
      "updated_at": "2024-10-20T14:59:48.930Z",
      "cooked": "<p>I think the clue is here (<a href=\"https://typst.app/docs/reference/model/par/#parameters-spacing\" class=\"inline-onebox\">Paragraph Function – Typst Documentation</a>):</p>\n<blockquote>\n<p>When a paragraph is adjacent to a <a href=\"https://typst.app/docs/reference/layout/block/\"><code>block</code></a> that is not a paragraph, that block’s <a href=\"https://typst.app/docs/reference/layout/block/#parameters-above\"><code>above</code></a> or <a href=\"https://typst.app/docs/reference/layout/block/#parameters-below\"><code>below</code></a> property takes precedence over the paragraph spacing. Headings, for instance, reduce the spacing below them by default for a better look.</p>\n</blockquote>\n<p>Which means that to get the old behavior, you have to enable/increase <code>above</code> spacing on headings as well. Someone may correct me if there is an easier way to replicate the old way.</p>",
      "raw": "I think the clue is here (https://typst.app/docs/reference/model/par/#parameters-spacing):\n\n> When a paragraph is adjacent to a [`block`](https://typst.app/docs/reference/layout/block/) that is not a paragraph, that block's [`above`](https://typst.app/docs/reference/layout/block/#parameters-above) or [`below`](https://typst.app/docs/reference/layout/block/#parameters-below) property takes precedence over the paragraph spacing. Headings, for instance, reduce the spacing below them by default for a better look.\n\nWhich means that to get the old behavior, you have to enable/increase `above` spacing on headings as well. Someone may correct me if there is an easier way to replicate the old way.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 40.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4345,
      "post_number": 3,
      "username": "JS213",
      "name": "JS213",
      "created_at": "2024-10-20T21:24:26.674Z",
      "updated_at": "2024-10-20T21:24:26.674Z",
      "cooked": "<p>Thanks for this! I’ll get to work on that.</p>",
      "raw": "Thanks for this! I'll get to work on that.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 634
    },
    {
      "id": 6767,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-12-19T05:05:10.195Z",
      "updated_at": "2024-12-19T05:05:10.195Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/js213\">@JS213</a>, if <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>’s reply solved your problem, could you please mark it as a solution with the <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> button? Thanks!</p>",
      "raw": "Hey @JS213, if @xkevio's reply solved your problem, could you please mark it as a solution with the :white_check_mark: button? Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 16.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:20.713083"
}
{
  "topic_metadata": {
    "id": 1227,
    "title": "How to get rid of a padding on the right side of block quotations?",
    "slug": "how-to-get-rid-of-a-padding-on-the-right-side-of-block-quotations",
    "posts_count": 3,
    "created_at": "2024-10-20T12:59:37.987Z",
    "last_posted_at": "2024-10-20T14:55:27.892Z",
    "views": 70,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 281
  },
  "posts": [
    {
      "id": 4299,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-20T12:59:38.081Z",
      "updated_at": "2024-10-20T13:25:01.848Z",
      "cooked": "<p>It seems that block quotations have 1em inset on the left and right sides:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true)\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/badbb54f24513895d79e3303d90ebc1f291ecadc.png\" data-download-href=\"https://forum.typst.app/uploads/default/badbb54f24513895d79e3303d90ebc1f291ecadc\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/badbb54f24513895d79e3303d90ebc1f291ecadc_2_517x153.png\" alt=\"image\" data-base62-sha1=\"qF1wZUlhq073yTEiONnnCfzNU4Y\" width=\"517\" height=\"153\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/badbb54f24513895d79e3303d90ebc1f291ecadc_2_517x153.png, https://forum.typst.app/uploads/default/optimized/1X/badbb54f24513895d79e3303d90ebc1f291ecadc_2_775x229.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/badbb54f24513895d79e3303d90ebc1f291ecadc_2_1034x306.png 2x\" data-dominant-color=\"E5E5E4\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1234×368 183 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I style block quotations with a stroke on the left side:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true)\n#show quote.where(block: true): set block(spacing: 1em, width: 100%)\n#show quote.where(block: true): block.with(stroke: (left: 4pt + silver, rest: none))\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/eca7da7b9718cc488fda06e778141a0bab415177.png\" alt=\"image\" data-base62-sha1=\"xLyj3zn5C4BzoQJaKRPu7HUjIqP\" width=\"197\" height=\"145\"></p>\n<p>…and because of this, the inset on the right side looks redundant. How to get rid of it?</p>\n<p><strong>Addendum:</strong></p>\n<p>To solve this issue (and after all, I suspect this is not a really good way), I tried to add <code>-1em</code> negative inset, but for some reason it looks like <code>-2</code>. Neither <code>-0.5</code> really works.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true)\n#show quote.where(block: true): set block(spacing: 1em, width: 100%, inset: (right: -1em))\n#show quote.where(block: true): block.with(stroke: (left: 4pt + silver, rest: none))\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/a5667aac37f144ec4b2137c411f70cf56f7d323c.png\" data-download-href=\"https://forum.typst.app/uploads/default/a5667aac37f144ec4b2137c411f70cf56f7d323c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/a5667aac37f144ec4b2137c411f70cf56f7d323c_2_690x173.png\" alt=\"image\" data-base62-sha1=\"nBclhytrNyHbQF1mRitcgyLqbpy\" width=\"690\" height=\"173\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/a5667aac37f144ec4b2137c411f70cf56f7d323c_2_690x173.png, https://forum.typst.app/uploads/default/optimized/1X/a5667aac37f144ec4b2137c411f70cf56f7d323c_2_1035x259.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/a5667aac37f144ec4b2137c411f70cf56f7d323c_2_1380x346.png 2x\" data-dominant-color=\"E1E1E1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1714×430 116 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "It seems that block quotations have 1em inset on the left and right sides:\n\n```typ\n#set par(first-line-indent: 1em, justify: true)\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n```\n\n![image|690x205, 75%](upload://qF1wZUlhq073yTEiONnnCfzNU4Y.png)\n\nI style block quotations with a stroke on the left side:\n\n```typ\n#set par(first-line-indent: 1em, justify: true)\n#show quote.where(block: true): set block(spacing: 1em, width: 100%)\n#show quote.where(block: true): block.with(stroke: (left: 4pt + silver, rest: none))\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n```\n\n![image|438x324, 45%](upload://xLyj3zn5C4BzoQJaKRPu7HUjIqP.png)\n\n...and because of this, the inset on the right side looks redundant. How to get rid of it?\n\n**Addendum:**\n\nTo solve this issue (and after all, I suspect this is not a really good way), I tried to add `-1em` negative inset, but for some reason it looks like `-2`. Neither `-0.5` really works.\n\n```typ\n#set par(first-line-indent: 1em, justify: true)\n#show quote.where(block: true): set block(spacing: 1em, width: 100%, inset: (right: -1em))\n#show quote.where(block: true): block.with(stroke: (left: 4pt + silver, rest: none))\n\n#lorem(50)\n\n#quote(block: true)[#lorem(50)]\n```\n\n![image|690x173](upload://nBclhytrNyHbQF1mRitcgyLqbpy.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 174.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4303,
      "post_number": 2,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-20T13:23:35.919Z",
      "updated_at": "2024-10-20T13:24:02.875Z",
      "cooked": "<p>An inset of about <code>-0.35em</code> seems to roughly work.</p>\n<pre><code class=\"lang-auto\">#show quote.where(block: true): set block(spacing: 1em,\nwidth: 100%, inset: (right: -0.35em))\n</code></pre>\n<p>But this is not really a satisfying solution, because it seems arbitrary. <img src=\"https://forum.typst.app/images/emoji/apple/thinking.png?v=12\" title=\":thinking:\" class=\"emoji\" alt=\":thinking:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "An inset of about `-0.35em` seems to roughly work. \n```\n#show quote.where(block: true): set block(spacing: 1em,\nwidth: 100%, inset: (right: -0.35em))\n```\nBut this is not really a satisfying solution, because it seems arbitrary. :thinking:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 4321,
      "post_number": 3,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-20T14:55:27.892Z",
      "updated_at": "2024-10-20T14:55:27.892Z",
      "cooked": "<p>If you look at the docs for <code>quote</code>, it mentions that the quote element is styled with <code>pad</code> unlike most other elements which means you can enable/disable padding with a show-set rule like this: <code>#show quote.where(block: true): set pad(left: 1em, right: 0em)</code></p>",
      "raw": "If you look at the docs for `quote`, it mentions that the quote element is styled with `pad` unlike most other elements which means you can enable/disable padding with a show-set rule like this: `#show quote.where(block: true): set pad(left: 1em, right: 0em)`",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 16,
      "score": 43.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    }
  ],
  "scraped_at": "2025-06-10T09:56:19.992976"
}
{
  "topic_metadata": {
    "id": 1239,
    "title": "How to create different outline entry styles based on the kind of outline",
    "slug": "how-to-create-different-outline-entry-styles-based-on-the-kind-of-outline",
    "posts_count": 5,
    "created_at": "2024-10-20T18:01:33.649Z",
    "last_posted_at": "2024-10-21T10:03:09.574Z",
    "views": 548,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 239
  },
  "posts": [
    {
      "id": 4335,
      "post_number": 1,
      "username": "wulfheart",
      "name": "Alex",
      "created_at": "2024-10-20T18:01:33.729Z",
      "updated_at": "2024-10-20T18:01:33.729Z",
      "cooked": "<p>Hello,</p>\n<p>I have different kind of outlines and I would like to have different outline.entry styles based on the kind of outline it is.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: \"Inhaltsverzeichnis\", indent: 2em)\n\n= Abbildungsverzeichnis\n#outline(title: none, indent: 2em, target: figure.where(kind: image))\n\n= Tabellenverzeichnis\n#outline(title: none, indent: 2em, target: figure.where(kind: table))\n</code></pre>\n<p>If it is the default out line I would like to apply the following, otherwise it should use the default.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n      strong[\n        #v(2em, weak: true)\n        #it.body\n        #h(1fr)\n        #it.page\n      ]\n    }\n</code></pre>\n<p>I tried <code>#show outline.where(kind: heading).entry.where</code> but it doesn’t work. How can I achieve this?</p>",
      "raw": "Hello,\n\nI have different kind of outlines and I would like to have different outline.entry styles based on the kind of outline it is. \n\n```typ\n#outline(title: \"Inhaltsverzeichnis\", indent: 2em)\n\n= Abbildungsverzeichnis\n#outline(title: none, indent: 2em, target: figure.where(kind: image))\n\n= Tabellenverzeichnis\n#outline(title: none, indent: 2em, target: figure.where(kind: table))\n```\n\nIf it is the default out line I would like to apply the following, otherwise it should use the default.\n```typ\n#show outline.entry.where(level: 1): it => {\n      strong[\n        #v(2em, weak: true)\n        #it.body\n        #h(1fr)\n        #it.page\n      ]\n    }\n```\n\nI tried `#show outline.where(kind: heading).entry.where` but it doesn't work. How can I achieve this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 60,
      "score": 3027.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 568
    },
    {
      "id": 4339,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-20T18:52:29.616Z",
      "updated_at": "2024-10-20T18:52:49.350Z",
      "cooked": "<p>You can’t access the target, but you can access the elements themselves to find out of what kind they are:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n  if it.element.func() != heading {\n    // Keep default style if not a heading.\n    return it\n  }\n\n  v(2em, weak: true)\n  strong(it.body + h(1fr) + it.page)\n}\n</code></pre>",
      "raw": "You can't access the target, but you can access the elements themselves to find out of what kind they are:\n\n```typ\n#show outline.entry.where(level: 1): it => {\n  if it.element.func() != heading {\n    // Keep default style if not a heading.\n    return it\n  }\n\n  v(2em, weak: true)\n  strong(it.body + h(1fr) + it.page)\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 53,
      "score": 45.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4342,
      "post_number": 3,
      "username": "wulfheart",
      "name": "Alex",
      "created_at": "2024-10-20T19:14:03.440Z",
      "updated_at": "2024-10-20T19:14:03.440Z",
      "cooked": "<p>Thank you very much!</p>",
      "raw": "Thank you very much!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 35.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 568
    },
    {
      "id": 4343,
      "post_number": 4,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-20T20:28:37.036Z",
      "updated_at": "2024-10-20T20:29:09.408Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/wulfheart\">@wulfheart</a> Something else, if you set</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(lang: \"de\")\n</code></pre>\n<p>your outline will automatically have “Inhaltsverzeichnis” as its title, no need to set it manually.</p>",
      "raw": "@wulfheart Something else, if you set\n ```typ\n#set text(lang: \"de\")\n```\nyour outline will automatically have \"Inhaltsverzeichnis\" as its title, no need to set it manually.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 64.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4390,
      "post_number": 5,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-21T10:03:09.574Z",
      "updated_at": "2024-10-21T10:03:09.574Z",
      "cooked": "<p>It may be more idiomatic to use different rules for those by scoping them with a selector like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.where(target: figure.where(kind: table)): it =&gt; {\n  show outline.entry: set text(red)\n  it\n}\n</code></pre>\n<p>Although, it looks a little wordy like this.</p>",
      "raw": "It may be more idiomatic to use different rules for those by scoping them with a selector like so:\n```typ\n#show outline.where(target: figure.where(kind: table)): it => {\n  show outline.entry: set text(red)\n  it\n}\n```\n\nAlthough, it looks a little wordy like this.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 13.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    }
  ],
  "scraped_at": "2025-06-10T09:56:19.263484"
}
{
  "topic_metadata": {
    "id": 1255,
    "title": "How to organize Projects in the web app?",
    "slug": "how-to-organize-projects-in-the-web-app",
    "posts_count": 3,
    "created_at": "2024-10-21T11:05:02.389Z",
    "last_posted_at": "2024-12-10T18:24:18.591Z",
    "views": 133,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "web-app"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 87
  },
  "posts": [
    {
      "id": 4395,
      "post_number": 1,
      "username": "Derivat",
      "name": "",
      "created_at": "2024-10-21T11:05:02.528Z",
      "updated_at": "2024-12-15T10:26:28.507Z",
      "cooked": "<p>I use the Typst web app to write my homework several times every week. I’ve been doing that for a while, but now there are just too many projects.<br>\nAre there any features for organizing implemented in the web app such as labels, tags or folders?</p>",
      "raw": "I use the Typst web app to write my homework several times every week. I've been doing that for a while, but now there are just too many projects.\nAre there any features for organizing implemented in the web app such as labels, tags or folders?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 78.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 642
    },
    {
      "id": 6459,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-12-10T11:11:55.509Z",
      "updated_at": "2024-12-11T07:11:54.329Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/derivat\">@Derivat</a>,<br>\nI think there has been discourse off the forum. I think <a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a> would be the most knowledgeable to give an answer on the progress</p>",
      "raw": "Hello @Derivat,\nI think there has been discourse off the forum. I think @laurmaedje would be the most knowledgeable to give an answer on the progress",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 7.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 6477,
      "post_number": 3,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-12-10T18:24:18.591Z",
      "updated_at": "2024-12-10T18:24:18.591Z",
      "cooked": "<p>There are no project folders yet, but we have plans to add that feature.</p>",
      "raw": "There are no project folders yet, but we have plans to add that feature.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 41.4,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    }
  ],
  "scraped_at": "2025-06-10T09:56:18.543049"
}
{
  "topic_metadata": {
    "id": 1259,
    "title": "How to pass integers to the \"binom\" function?",
    "slug": "how-to-pass-integers-to-the-binom-function",
    "posts_count": 4,
    "created_at": "2024-10-21T13:10:22.450Z",
    "last_posted_at": "2024-10-21T16:02:16.579Z",
    "views": 52,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 221
  },
  "posts": [
    {
      "id": 4403,
      "post_number": 1,
      "username": "voyager",
      "name": "voyager",
      "created_at": "2024-10-21T13:10:22.554Z",
      "updated_at": "2024-10-21T16:02:32.027Z",
      "cooked": "<p>If I put a variable into $binom(<span class=\"hashtag-raw\">#a</span>,<span class=\"hashtag-raw\">#b</span>)$ it raises the error “expected content, foud interger”.</p>\n<p>Follow the example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let triangle(n) = (\n  for i in range(0,n)\n    [#align(\n      center,\n      block[\n        #for c in range(0,i +1) [\n        #box(\n            $binom(#i,#c)$\n        )\n        #h(1em)\n        ]\n      ]\n    )\n  ] \n)\n</code></pre>\n<p>if I put the variables inside <span class=\"chcklst-box fa fa-square-o fa-fw\"></span> the error disappear but the number is printed inside <span class=\"chcklst-box fa fa-square-o fa-fw\"></span>.</p>",
      "raw": "If I put a variable into $binom(#a,#b)$ it raises the error \"expected content, foud interger\".\n\nFollow the example:\n\n```typ\n#let triangle(n) = (\n  for i in range(0,n)\n    [#align(\n      center,\n      block[\n        #for c in range(0,i +1) [\n        #box(\n            $binom(#i,#c)$\n        )\n        #h(1em)\n        ]\n      ]\n    )\n  ] \n)\n```\nif I put the variables inside [ ] the error disappear but the number is printed inside [ ].",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 68.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 415
    },
    {
      "id": 4404,
      "post_number": 2,
      "username": "voyager",
      "name": "voyager",
      "created_at": "2024-10-21T13:21:27.958Z",
      "updated_at": "2024-10-21T16:02:42.957Z",
      "cooked": "<p>addeding “” before the first parameter the error disappear:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let triangle1(n) = (\n  for i in range(0,n)\n    [#align(\n      center,\n      block[\n        #for c in range(0,i +1) [\n        #box(\n            $binom(\"\"#i,#c)$\n        )\n        #h(1em)\n        ]\n      ]\n    )\n  ] \n)\n</code></pre>",
      "raw": "addeding \"\" before the first parameter the error disappear:\n```typ\n#let triangle1(n) = (\n  for i in range(0,n)\n    [#align(\n      center,\n      block[\n        #for c in range(0,i +1) [\n        #box(\n            $binom(\"\"#i,#c)$\n        )\n        #h(1em)\n        ]\n      ]\n    )\n  ] \n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 415
    },
    {
      "id": 4407,
      "post_number": 3,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-21T14:08:50.441Z",
      "updated_at": "2024-10-21T14:08:50.441Z",
      "cooked": "<p>Wrap <code>i</code> and <code>c</code> with <code>str</code> to convert them strings.</p>\n<p>Also, you can call <code>math.binom</code> to avoid extra $$.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let triangle(n) = (\n  for i in range(0, n) {\n    align(\n      center,\n      block(for c in range(0, i + 1) {\n        box(math.binom(str(i), str(c)))\n        h(1em)\n      }),\n    )\n  }\n)\n\n#triangle(5)\n</code></pre>",
      "raw": "Wrap `i` and `c` with `str` to convert them strings.\n\nAlso, you can call `math.binom` to avoid extra $$.\n\n```typ\n#let triangle(n) = (\n  for i in range(0, n) {\n    align(\n      center,\n      block(for c in range(0, i + 1) {\n        box(math.binom(str(i), str(c)))\n        h(1em)\n      }),\n    )\n  }\n)\n\n#triangle(5)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 18.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4427,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-21T16:02:16.579Z",
      "updated_at": "2024-10-21T16:03:07.555Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/voyager\">@voyager</a>! I’ve moved your post to the better-suited <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category. In addition, I’ve changed the title of your post to better reflect our guidelines for question posts: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your post title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>In addition, if <a class=\"mention\" href=\"/u/paran3xus\">@ParaN3xus</a>’s answer helped you, consider marking it as the solution! <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @voyager! I've moved your post to the better-suited #questions category. In addition, I've changed the title of your post to better reflect our guidelines for question posts: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your post title is a question you'd ask to a friend about Typst. :wink:\n\nIn addition, if @ParaN3xus's answer helped you, consider marking it as the solution! :white_check_mark:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:17.824019"
}
{
  "topic_metadata": {
    "id": 1262,
    "title": "Is it correct that `#set page(...)` only applies to current document.typ?",
    "slug": "is-it-correct-that-set-page-only-applies-to-current-document-typ",
    "posts_count": 2,
    "created_at": "2024-10-21T14:11:07.146Z",
    "last_posted_at": "2024-10-21T14:48:17.965Z",
    "views": 89,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "layout",
      "page"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 172
  },
  "posts": [
    {
      "id": 4408,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-21T14:11:07.241Z",
      "updated_at": "2024-10-25T15:19:34.779Z",
      "cooked": "<p>Hi<br>\nI have a master document that includes other documents to be part of it with</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#include \"inputs/section1.typ\"\n#include \"inputs/section2.typ\"\n...etc\n</code></pre>\n<p>I wanted to figure out how I can have a different page margin on a single page in the document.</p>\n<p>I tried this</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#pagebreak()\n#set page(margin: (top: 1in))\n\n...page content\n</code></pre>\n<p>To my surprise, this already only changed the margin of a single page. After some testing I realised that the effect of the <span class=\"hashtag-raw\">#set</span> rule is local to the .typ file that gets included by the master document. Is this intended behaviour?</p>",
      "raw": "Hi\nI have a master document that includes other documents to be part of it with\n```typst\n#include \"inputs/section1.typ\"\n#include \"inputs/section2.typ\"\n...etc\n````\n I wanted to figure out how I can have a different page margin on a single page in the document.\n\nI tried this\n```typst\n#pagebreak()\n#set page(margin: (top: 1in))\n\n...page content\n```\nTo my surprise, this already only changed the margin of a single page. After some testing I realised that the effect of the #set rule is local to the .typ file that gets included by the master document. Is this intended behaviour?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 216.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4415,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-21T14:48:17.965Z",
      "updated_at": "2024-10-21T14:48:17.965Z",
      "cooked": "<p>Yes, show rules and set rules affect only the current scope. The current scope is the current file when you write at the top level, but it can be even smaller, for example you could do</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let f() = {\n  set page(margin: 0pt, width: 3cm, height: 2cm)\n  [x]\n}\n\n#f()\n\nText...\n</code></pre>\n<p>and this will apply the page settings only for the content produced by <code>f()</code> (so only one page, with “x” on it).</p>",
      "raw": "Yes, show rules and set rules affect only the current scope. The current scope is the current file when you write at the top level, but it can be even smaller, for example you could do\n\n```typ\n#let f() = {\n  set page(margin: 0pt, width: 3cm, height: 2cm)\n  [x]\n}\n\n#f()\n\nText...\n```\n\nand this will apply the page settings only for the content produced by `f()` (so only one page, with \"x\" on it).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:17.112809"
}
{
  "topic_metadata": {
    "id": 1264,
    "title": "What's the reason there is a mandatory trailing comma in table syntax?",
    "slug": "whats-the-reason-there-is-a-mandatory-trailing-comma-in-table-syntax",
    "posts_count": 2,
    "created_at": "2024-10-21T15:15:32.532Z",
    "last_posted_at": "2024-10-21T15:29:08.269Z",
    "views": 71,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 257
  },
  "posts": [
    {
      "id": 4417,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-21T15:15:32.603Z",
      "updated_at": "2024-10-21T15:26:34.059Z",
      "cooked": "<p>The following example, with minor changes, is from <a href=\"https://typst.app/docs/guides/table-guide\">https://typst.app/docs/guides/table-guide</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#rotate(\n  -90deg,\n  reflow: true,\n\n  table(\n    columns: (1fr,) + 5 * (auto,),\n    inset: (x: 0.6em),\n    stroke: (_, y) =&gt; (\n      x: 1pt,\n      top: if y &lt;= 1 { 1pt } else { 0pt },\n      bottom: 1pt\n    ),\n    align: (left, right, right, right, right, left),\n\n    table.header(\n      [Student Name],\n      [Assignment 1], [Assignment 2],\n      [Mid-term], [Final Exam],\n      [Total Grade]\n    ),\n    [Jane Smith], [78%], [82%], [75%], [80%], [B],\n    [Alex Johnson], [90%], [95%], [94%], [96%], [A+],\n    [John Doe], [85%], [90%], [88%], [92%], [A],\n    [Maria Garcia], [88%], [84%], [89%], [85%], [B+],\n    [Zhang Wei], [93%], [89%], [90%], [91%], [A-],\n    [Marina Musterfrau], [96%], [91%], [74%], [69%], [B-]\n  )\n)\n</code></pre>\n<p>What is the reason that if we remove a comma after <code>1fr</code> or after <code>auto</code>, there is an error? How to avoid it?</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">columns: (1fr,) + 5 * (auto,),  // ok\ncolumns: (1fr) + 5 * (auto),    // error\n</code></pre>",
      "raw": "The following example, with minor changes, is from <https://typst.app/docs/guides/table-guide>.\n\n```typ\n#rotate(\n  -90deg,\n  reflow: true,\n\n  table(\n    columns: (1fr,) + 5 * (auto,),\n    inset: (x: 0.6em),\n    stroke: (_, y) => (\n      x: 1pt,\n      top: if y <= 1 { 1pt } else { 0pt },\n      bottom: 1pt\n    ),\n    align: (left, right, right, right, right, left),\n\n    table.header(\n      [Student Name],\n      [Assignment 1], [Assignment 2],\n      [Mid-term], [Final Exam],\n      [Total Grade]\n    ),\n    [Jane Smith], [78%], [82%], [75%], [80%], [B],\n    [Alex Johnson], [90%], [95%], [94%], [96%], [A+],\n    [John Doe], [85%], [90%], [88%], [92%], [A],\n    [Maria Garcia], [88%], [84%], [89%], [85%], [B+],\n    [Zhang Wei], [93%], [89%], [90%], [91%], [A-],\n    [Marina Musterfrau], [96%], [91%], [74%], [69%], [B-]\n  )\n)\n```\n\nWhat is the reason that if we remove a comma after `1fr` or after `auto`, there is an error? How to avoid it?\n\n```none\ncolumns: (1fr,) + 5 * (auto,),  // ok\ncolumns: (1fr) + 5 * (auto),    // error\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 85.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4421,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-21T15:29:08.269Z",
      "updated_at": "2024-10-21T15:29:08.269Z",
      "cooked": "<p>This is because parentheses have two functions in Typst.</p>\n<p>One is to change the order of operations, for example, the calculation order of <code>(a + b) * c</code> and <code>a + b * c</code> is altered by the parentheses.</p>\n<p>The other function is to represent a list, for example, <code>(a, b, c)</code>.</p>\n<p>The problem is, when you want to input <code>(a)</code>, Typst interprets it as changing the order of operations rather than a list. Therefore, <code>(1fr)</code> and <code>1fr</code> are exactly the same, and <code>(auto)</code> and <code>auto</code> are also exactly the same.</p>\n<p>Obviously, <code>5 * auto</code> is not valid, so it causes an error. In contrast, the purpose of the comma in <code>(1fr, )</code> is to indicate to Typst that this is a list.</p>",
      "raw": "This is because parentheses have two functions in Typst. \n\nOne is to change the order of operations, for example, the calculation order of `(a + b) * c` and `a + b * c` is altered by the parentheses. \n\nThe other function is to represent a list, for example, `(a, b, c)`. \n\nThe problem is, when you want to input `(a)`, Typst interprets it as changing the order of operations rather than a list. Therefore, `(1fr)` and `1fr` are exactly the same, and `(auto)` and `auto` are also exactly the same. \n\nObviously, `5 * auto` is not valid, so it causes an error. In contrast, the purpose of the comma in `(1fr, )` is to indicate to Typst that this is a list.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 25,
      "score": 65.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    }
  ],
  "scraped_at": "2025-06-10T09:56:16.362699"
}
{
  "topic_metadata": {
    "id": 1266,
    "title": "Why the definition of \"show regex\" doesn't work in a function?",
    "slug": "why-the-definition-of-show-regex-doesnt-work-in-a-function",
    "posts_count": 4,
    "created_at": "2024-10-21T15:25:05.758Z",
    "last_posted_at": "2024-10-21T16:38:41.992Z",
    "views": 156,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 230
  },
  "posts": [
    {
      "id": 4419,
      "post_number": 1,
      "username": "andres.gimenez",
      "name": "Andrés Jorge Giménez Muñoz",
      "created_at": "2024-10-21T15:25:05.949Z",
      "updated_at": "2024-10-21T15:25:05.949Z",
      "cooked": "<p>I want to define several rules with show regex in a template. If you define show regex within the insole, before the bodysuit works.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-template(\n  body\n) = {\n  [My template]\n\n  show regex(\"=+/?(.+)\"): it =&gt; {\n     it.fields()\n  }\n\n  body\n}\n</code></pre>\n<p>But if I define a function in another file and call it from the template, it doesn’t work for me. Why does this happen?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"./sugar.typ\": *\n\n#let my-template(\n  body\n) = {\n  [My template]\n\n  __sugar()\n\n  body\n}\n</code></pre>\n<p>Let me leave an example</p>\n<p><a href=\"https://typst.app/project/rDUPwG7CTptF_cKa8D2_Pv\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rDUPwG7CTptF_cKa8D2_Pv</a></p>",
      "raw": "I want to define several rules with show regex in a template. If you define show regex within the insole, before the bodysuit works. \n\n```typ\n#let my-template(\n  body\n) = {\n  [My template]\n\n  show regex(\"=+/?(.+)\"): it => {\n     it.fields()\n  }\n\n  body\n}\n```\n\nBut if I define a function in another file and call it from the template, it doesn't work for me. Why does this happen?\n\n```typ\n#import \"./sugar.typ\": *\n\n#let my-template(\n  body\n) = {\n  [My template]\n\n  __sugar()\n\n  body\n}\n```\n\nLet me leave an example\n\nhttps://typst.app/project/rDUPwG7CTptF_cKa8D2_Pv",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 356.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 543
    },
    {
      "id": 4423,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-21T15:42:40.651Z",
      "updated_at": "2024-10-21T15:43:47.115Z",
      "cooked": "<p>This looks like a duplicate of this post:</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"1042\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/00298C/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/why-is-the-template-function-i-wrote-not-working-properly/1042\">Why is the template function I wrote not working properly?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    I am trying to put all my style and ctheorem customisations in a separate template file. I want to call a single #show all in my document. The code below works, except that I can’t seem to call two functions within #all() that both take and return #doc. As per my comments within the code, the theorems are formatting perfectly, but the styles are not applying. I am new and don’t (yet) properly understand how Typst is processing everything. Also, if I call styles first and then theorems, styles wo…\n  </blockquote>\n</aside>\n\n<p>Edit: not exactly, but I think the answer there will help you a lot.</p>",
      "raw": "This looks like a duplicate of this post:\n\nhttps://forum.typst.app/t/why-is-the-template-function-i-wrote-not-working-properly/1042\n\nEdit: not exactly, but I think the answer there will help you a lot.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 31.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4424,
      "post_number": 3,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-21T15:43:58.812Z",
      "updated_at": "2024-10-21T15:43:58.812Z",
      "cooked": "<p>This is because <code>show</code> only works on content within its scope. In your example, this scope is the interior of the <code>__sugar()</code> function definition.</p>\n<p>The principle of <code>show</code> is that it will take everything that matches its selector below and within its scope, and process it using the function you specify. So when you call <code>__sugar()</code>, <code>show</code> did nothing because there is nothing else in it’s  scope.</p>\n<p>To fix this issue, you need to write another <code>show</code> in the scope you want. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let __sugar(content) = {\n  show regex(\"=+/?(.+)\"): it =&gt; {\n    it.fields()\n  }\n  content\n}\n\n#let my-template(\n  body\n) = {\n  [My template]\n\n  show: __sugar\n\n  body\n}\n</code></pre>",
      "raw": "This is because `show` only works on content within its scope. In your example, this scope is the interior of the `__sugar()` function definition.\n\nThe principle of `show` is that it will take everything that matches its selector below and within its scope, and process it using the function you specify. So when you call `__sugar()`, `show` did nothing because there is nothing else in it's  scope.\n\nTo fix this issue, you need to write another `show` in the scope you want. For example:\n```typ\n#let __sugar(content) = {\n  show regex(\"=+/?(.+)\"): it => {\n    it.fields()\n  }\n  content\n}\n\n#let my-template(\n  body\n) = {\n  [My template]\n\n  show: __sugar\n\n  body\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 101.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4432,
      "post_number": 4,
      "username": "andres.gimenez",
      "name": "Andrés Jorge Giménez Muñoz",
      "created_at": "2024-10-21T16:38:41.992Z",
      "updated_at": "2024-10-21T16:41:30.221Z",
      "cooked": "<p>Thanks for the reply.</p>",
      "raw": "Thanks for the reply.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 20.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 543
    }
  ],
  "scraped_at": "2025-06-10T09:56:15.543244"
}
{
  "topic_metadata": {
    "id": 1273,
    "title": "How can I format the last row of a table?",
    "slug": "how-can-i-format-the-last-row-of-a-table",
    "posts_count": 8,
    "created_at": "2024-10-21T16:56:07.137Z",
    "last_posted_at": "2025-03-01T17:14:51.048Z",
    "views": 463,
    "like_count": 6,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "tables",
      "styling"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 559
  },
  "posts": [
    {
      "id": 4434,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-21T16:56:07.233Z",
      "updated_at": "2025-03-09T10:33:31.175Z",
      "cooked": "<p>I can format the first row, I need to get the last row also</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set table(\n\tinset: (x:0.5em,y:.4em),\n\tstroke:_gridlines,\n\tfill: (x, y) =&gt; if y==0 { rgb(_shadecolor) },\n)\n</code></pre>",
      "raw": "I can format the first row, I need to get the last row also\n```typ\n#set table(\n\tinset: (x:0.5em,y:.4em),\n\tstroke:_gridlines,\n\tfill: (x, y) => if y==0 { rgb(_shadecolor) },\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 1778.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4452,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-22T08:02:58.718Z",
      "updated_at": "2024-10-22T08:02:58.718Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/mgholam\">@mgholam</a>,</p>\n<p>Unfortunately, I don’t seem to have found a programatic way to shade the last row of your table. You should be able to using a variable, and changing n-rows appropriately for each table.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let n-rows = 3\n#set table(\n\tinset: (x:0.5em,y:.4em),\n\tstroke:_gridlines,\n\tfill: (x, y) =&gt; if y==0 or y == n-rows { rgb(_shadecolor) },\n)\n</code></pre>\n<p>don’t hesitate to provide a full minimal example the next time you ask a question, as stated in <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a>.</p>",
      "raw": "Hello @mgholam,\n\nUnfortunately, I don't seem to have found a programatic way to shade the last row of your table. You should be able to using a variable, and changing n-rows appropriately for each table.\n\n```typ\n#let n-rows = 3\n#set table(\n\tinset: (x:0.5em,y:.4em),\n\tstroke:_gridlines,\n\tfill: (x, y) => if y==0 or y == n-rows { rgb(_shadecolor) },\n)\n```\n\ndon't hesitate to provide a full minimal example the next time you ask a question, as stated in https://forum.typst.app/t/how-to-post-in-the-questions-category/11.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 93.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4456,
      "post_number": 3,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-22T08:16:09.777Z",
      "updated_at": "2024-10-22T08:16:09.777Z",
      "cooked": "<p>Thanks!<br>\nThat is what I did, set a variable and checked against that.</p>",
      "raw": "Thanks!\nThat is what I did, set a variable and checked against that.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 27.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4503,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-22T23:15:09.859Z",
      "updated_at": "2024-10-22T23:15:09.859Z",
      "cooked": "<p>I had proposed one potential way around this in this issue: <a href=\"https://github.com/typst/typst/issues/3697\" class=\"inline-onebox\">Resolve further fields in `grid` and `table` show rules · Issue #3697 · typst/typst · GitHub</a></p>\n<p>Though I’m not fully sure whether that is the best way forward. Frankly I agree that this is quite an annoying limitation. I hope we can find a good design that solves it.</p>",
      "raw": "I had proposed one potential way around this in this issue: https://github.com/typst/typst/issues/3697\n\nThough I'm not fully sure whether that is the best way forward. Frankly I agree that this is quite an annoying limitation. I hope we can find a good design that solves it.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 12.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4508,
      "post_number": 5,
      "username": "LordBaryhobal",
      "name": "Baryhobal",
      "created_at": "2024-10-23T05:43:31.310Z",
      "updated_at": "2024-10-23T05:43:31.310Z",
      "cooked": "<p>If you put you cells in an array, you can automatically compute the number of rows according to the number of columns, like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let n-cols = 3\n#let cells = ([A], [B], [C], [D], [E], [F], [G])\n#let n-rows = calc.ceil(cells.len() / n-cols)\n#table(\n  columns: n-cols,\n  fill: (_, y) =&gt; if y == n-rows - 1 {\n    gray.lighten(50%)\n  } else {\n    none\n  },\n  ..cells\n)\n</code></pre>\n<p>If this is something you need in multiple places, you could even wrap it in a function, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-table(cells, ..args) = {\n  let columns = args.named().at(\"columns\", default: 1)\n  let n-cols = if type(columns) == int {\n    columns\n  } else {\n    columns.len()\n  }\n  let n-rows = calc.ceil(cells.len() / n-cols)\n  table(\n    columns: columns,\n    ..args,\n    fill: (_, y) =&gt; if y == n-rows - 1 {\n      gray.lighten(50%)\n    } else {\n      none\n    },\n    ..cells\n  )\n}\n</code></pre>",
      "raw": "If you put you cells in an array, you can automatically compute the number of rows according to the number of columns, like so:\n```typ\n#let n-cols = 3\n#let cells = ([A], [B], [C], [D], [E], [F], [G])\n#let n-rows = calc.ceil(cells.len() / n-cols)\n#table(\n  columns: n-cols,\n  fill: (_, y) => if y == n-rows - 1 {\n    gray.lighten(50%)\n  } else {\n    none\n  },\n  ..cells\n)\n```\nIf this is something you need in multiple places, you could even wrap it in a function, for example:\n```typ\n#let my-table(cells, ..args) = {\n  let columns = args.named().at(\"columns\", default: 1)\n  let n-cols = if type(columns) == int {\n    columns\n  } else {\n    columns.len()\n  }\n  let n-rows = calc.ceil(cells.len() / n-cols)\n  table(\n    columns: columns,\n    ..args,\n    fill: (_, y) => if y == n-rows - 1 {\n      gray.lighten(50%)\n    } else {\n      none\n    },\n    ..cells\n  )\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 47.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 585
    },
    {
      "id": 4512,
      "post_number": 6,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-23T07:03:16.267Z",
      "updated_at": "2024-10-23T07:03:16.267Z",
      "cooked": "<p>Taking <a class=\"mention\" href=\"/u/lordbaryhobal\">@LordBaryhobal</a>’s solution one step further so that it handles cells that span columns and rows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-table(cells, ..args) = {\n  let columns = args.named().at(\"columns\", default: 1)\n  let n-cols = if type(columns) == int {\n    columns\n  } else {\n    columns.len()\n  }\n  let n-cells = cells.fold(\n    0,\n    (curVal, cell) =&gt; curVal + cell.at(\"colspan\", default: 1) * cell.at(\"rowspan\", default: 1)\n  )\n  let n-rows = calc.ceil(n-cells / n-cols)\n  table(\n    columns: columns,\n    ..args,\n    fill: (_, y) =&gt; if y == n-rows - 1 {\n      gray.lighten(50%)\n    } else {\n      none\n    },\n    ..cells\n  )\n}\n</code></pre>\n<p>Then it can be used as before:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#my-table(\n  (\n    table.cell(colspan: 2, [A]), table.cell(rowspan: 2, [B]),\n    [C], [D],\n    table.cell(colspan: 3, [E]),\n    [F]\n  ),\n  columns: 3\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/743b62a40b69bc3af1408c0b0b7dfae4497fafb9.png\" alt=\"image\" data-base62-sha1=\"gAeCnwKUkR2130SYfdnTPYQCuqB\" width=\"147\" height=\"153\"></p>\n<p>The change was to not trust the length of the <code>cells</code> array, but to use <code>fold</code> to process each one, checking for <code>colspan</code> and <code>rowspan</code>, getting the total number of spaces taken up by the given cells.</p>",
      "raw": "Taking @LordBaryhobal's solution one step further so that it handles cells that span columns and rows:\n```typ\n#let my-table(cells, ..args) = {\n  let columns = args.named().at(\"columns\", default: 1)\n  let n-cols = if type(columns) == int {\n    columns\n  } else {\n    columns.len()\n  }\n  let n-cells = cells.fold(\n    0,\n    (curVal, cell) => curVal + cell.at(\"colspan\", default: 1) * cell.at(\"rowspan\", default: 1)\n  )\n  let n-rows = calc.ceil(n-cells / n-cols)\n  table(\n    columns: columns,\n    ..args,\n    fill: (_, y) => if y == n-rows - 1 {\n      gray.lighten(50%)\n    } else {\n      none\n    },\n    ..cells\n  )\n}\n```\nThen it can be used as before:\n```typ\n#my-table(\n  (\n    table.cell(colspan: 2, [A]), table.cell(rowspan: 2, [B]),\n    [C], [D],\n    table.cell(colspan: 3, [E]),\n    [F]\n  ),\n  columns: 3\n)\n```\n![image|147x153](upload://gAeCnwKUkR2130SYfdnTPYQCuqB.png)\n\nThe change was to not trust the length of the `cells` array, but to use `fold` to process each one, checking for `colspan` and `rowspan`, getting the total number of spaces taken up by the given cells.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 33,
      "score": 126.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4687,
      "post_number": 7,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-25T20:51:22.325Z",
      "updated_at": "2024-10-25T20:51:22.325Z",
      "cooked": "<p>Now you’re thinking in tables <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nGood job!</p>",
      "raw": "Now you're thinking in tables :wink:\nGood job!",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 9272,
      "post_number": 8,
      "username": "lelimacon",
      "name": "",
      "created_at": "2025-03-01T17:14:51.048Z",
      "updated_at": "2025-03-01T17:15:17.587Z",
      "cooked": "<p>You can customize some cell properties based on the table size like this :</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show table: t =&gt; {\n  let width = t.columns.len()\n  let height = t.children.len() / width\n\n  show table.cell.where(y: height - 1): strong\n  show table.cell.where(x: width - 1): c =&gt; {\n    set align(right)\n    c\n  }\n\n  t\n}\n</code></pre>\n<p>Unfortunately I couldn’t make it work with the <code>fill</code> property.</p>",
      "raw": "You can customize some cell properties based on the table size like this :\n\n```typst\n#show table: t => {\n  let width = t.columns.len()\n  let height = t.children.len() / width\n\n  show table.cell.where(y: height - 1): strong\n  show table.cell.where(x: width - 1): c => {\n    set align(right)\n    c\n  }\n\n  t\n}\n```\n\nUnfortunately I couldn't make it work with the `fill` property.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1290
    }
  ],
  "scraped_at": "2025-06-10T09:56:14.833412"
}
{
  "topic_metadata": {
    "id": 1276,
    "title": "How to fix \"Warning: state.display is deprecated in 0.12.0\"?",
    "slug": "how-to-fix-warning-state-display-is-deprecated-in-0-12-0",
    "posts_count": 4,
    "created_at": "2024-10-21T19:07:29.822Z",
    "last_posted_at": "2024-11-07T00:01:40.295Z",
    "views": 264,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Flavio",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 199
  },
  "posts": [
    {
      "id": 4441,
      "post_number": 1,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2024-10-21T19:07:29.927Z",
      "updated_at": "2024-11-07T11:24:01.072Z",
      "cooked": "<p>Hi,<br>\nI’m migrating my templates to Typst 0.12.0 and i’m stucked on this state display. By replacing it with get I’m not able to make it work. Any idea?</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = thmcounters.display(x =&gt; {\n  return global_numbering(numbering, ..x.at(\"latest\"))\n})\n</code></pre>\n<p>I tried this but I get wrong value of the state variable.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n</code></pre>\n<p>Thanks a lot</p>",
      "raw": "Hi,\nI'm migrating my templates to Typst 0.12.0 and i'm stucked on this state display. By replacing it with get I'm not able to make it work. Any idea?\n\n```typc\nnumber = thmcounters.display(x => {\n  return global_numbering(numbering, ..x.at(\"latest\"))\n})\n```\n\nI tried this but I get wrong value of the state variable.\n\n```typc\nnumber = global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n```\n\nThanks a lot",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 855.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 4442,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-21T21:16:49.144Z",
      "updated_at": "2024-10-21T21:16:49.144Z",
      "cooked": "<p>See here: <a href=\"https://github.com/sahasatvik/typst-theorems/pull/39/files#diff-6300fa1cd4ad6618d26f11a049622f0679c3813e37fe20e28f042e36ed1e2a38R80-R82\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Update ctheorems for Typst 0.12 by PgBiel · Pull Request #39 · sahasatvik/typst-theorems · GitHub</a>.</p>\n<p><a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> is already working on updating ctheorems, so you can copy his fixes.</p>",
      "raw": "See here: https://github.com/sahasatvik/typst-theorems/pull/39/files#diff-6300fa1cd4ad6618d26f11a049622f0679c3813e37fe20e28f042e36ed1e2a38R80-R82.\n\n@PgBiel is already working on updating ctheorems, so you can copy his fixes.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 50,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4447,
      "post_number": 3,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2024-10-22T06:00:09.664Z",
      "updated_at": "2024-11-07T11:23:17.178Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"xkevio\" data-post=\"2\" data-topic=\"1276\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/xkevio/48/37_2.png\" class=\"avatar\"> xkevio:</div>\n<blockquote>\n<p><a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> is already working on updating ctheorems, so you can copy his fixes.</p>\n</blockquote>\n</aside>\n<p>Thanks a lot, the trick was suing context right after the “=”.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = context {\n  global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n}\n</code></pre>",
      "raw": "[quote=\"xkevio, post:2, topic:1276\"]\n@PgBiel is already working on updating ctheorems, so you can copy his fixes.\n[/quote]\n\nThanks a lot, the trick was suing context right after the \"=\".\n```typc\nnumber = context {\n  global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 49,
      "score": 39.6,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 5244,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-11-07T00:01:40.295Z",
      "updated_at": "2024-11-07T00:01:40.295Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/flavio\">@Flavio</a> , please post questions in <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> in the future! I’ve also updated your title to be compliant with our question post guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> (generally, make sure your post title is a question you’d ask to a friend about Typst <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\">)</p>\n<p>Thanks and hope you enjoy using the forum! <img src=\"https://forum.typst.app/uploads/default/original/1X/274f848b78859852628e9efdb7d0aefa6c38bb26.png?v=12\" title=\":typstguy:\" class=\"emoji emoji-custom\" alt=\":typstguy:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Flavio , please post questions in #questions in the future! I've also updated your title to be compliant with our question post guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11 (generally, make sure your post title is a question you'd ask to a friend about Typst :wink:)\n\nThanks and hope you enjoy using the forum! :typstguy:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 40.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:14.023032"
}
{
  "topic_metadata": {
    "id": 1283,
    "title": "Displaying specific data from CSV file",
    "slug": "displaying-specific-data-from-csv-file",
    "posts_count": 5,
    "created_at": "2024-10-22T11:07:06.989Z",
    "last_posted_at": "2024-10-22T15:30:17.928Z",
    "views": 762,
    "like_count": 5,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "quachpas",
    "tags": [
      "tables",
      "data-loading"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 740
  },
  "posts": [
    {
      "id": 4466,
      "post_number": 1,
      "username": "YellowSeas",
      "name": "John Joy",
      "created_at": "2024-10-22T11:07:07.133Z",
      "updated_at": "2024-10-22T11:07:07.133Z",
      "cooked": "<p>Good day Typst Community!</p>\n<p>I’ve been trying out Typst for a couple days now before our company purchases the Pro version for our report creation.</p>\n<p>Some of our use cases involve importing data from a CSV file and then displaying it as a table. I have some questions on the same:</p>\n<ol>\n<li>How do we include the european notation (using commas instead of dots) for floating numbers? In general a double quotes around the value should suffice (or using curly brackets in the case of LaTex). However, this doesn’t seem to translate in Typst? Any leads on this?</li>\n<li>Once I import the csv as a dictionary (where each column is tied to the header key), I’d like to only display certain columns. May I know how I can parse the csv output to be able to extract and display only specific columns?</li>\n</ol>\n<p>I would appreciate your help and thank you in advance for your inputs!</p>",
      "raw": "Good day Typst Community!\n\nI’ve been trying out Typst for a couple days now before our company purchases the Pro version for our report creation.\n\nSome of our use cases involve importing data from a CSV file and then displaying it as a table. I have some questions on the same:\n\n1. How do we include the european notation (using commas instead of dots) for floating numbers? In general a double quotes around the value should suffice (or using curly brackets in the case of LaTex). However, this doesn’t seem to translate in Typst? Any leads on this?\n2. Once I import the csv as a dictionary (where each column is tied to the header key), I’d like to only display certain columns. May I know how I can parse the csv output to be able to extract and display only specific columns?\n\nI would appreciate your help and thank you in advance for your inputs!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 53,
      "score": 4005.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 645
    },
    {
      "id": 4467,
      "post_number": 2,
      "username": "YellowSeas",
      "name": "John Joy",
      "created_at": "2024-10-22T11:29:10.547Z",
      "updated_at": "2024-10-23T14:51:01.135Z",
      "cooked": "<p>Looks like I figured out the second part of my question (importing the CSV as an array). Posting example code below:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let results = csv(\"sampleCSV.csv\",\n          row-type: array)\n#figure(\n  table(\n    // columns: 4,\n    table.header([Node], [Voltage Level $ k V^2 $]),\n    columns : 2,\n        fill: (_, y) =&gt; if y == 0 {\n      gray.lighten(75%)\n    }, \n    // ..results.flatten(),\n    ..for(node,_,pFaults,..) in results.slice(1){(node, pFaults)}) //this is where I am selective in picking the 1st column and 3rd column for view\n  )\n  ,\n    caption: [Dummy results from a CSV file ],\n) &lt;results_A01&gt;  \n</code></pre>",
      "raw": "Looks like I figured out the second part of my question (importing the CSV as an array). Posting example code below:\n```typ\n#let results = csv(\"sampleCSV.csv\",\n          row-type: array)\n#figure(\n  table(\n    // columns: 4,\n    table.header([Node], [Voltage Level $ k V^2 $]),\n    columns : 2,\n        fill: (_, y) => if y == 0 {\n      gray.lighten(75%)\n    }, \n    // ..results.flatten(),\n    ..for(node,_,pFaults,..) in results.slice(1){(node, pFaults)}) //this is where I am selective in picking the 1st column and 3rd column for view\n  )\n  ,\n    caption: [Dummy results from a CSV file ],\n) <results_A01>  \n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 40.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 645
    },
    {
      "id": 4469,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-22T11:54:26.028Z",
      "updated_at": "2024-10-22T11:54:26.028Z",
      "cooked": "<p>Hello!</p>\n<p>For number localization, you can take a look at this <a href=\"https://github.com/typst/typst/issues/1093\" rel=\"noopener nofollow ugc\">GitHub issue</a>. Quoting <a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a></p>\n<blockquote>\n<p>Automatic locale-aware number formatting will happen</p>\n</blockquote>\n<p>In the mean time <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> provides a simple solution for “1.1” to “1,1”.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show regex(\"\\d+\\.\\d+\"): num =&gt; num.text.replace(\".\", \",\")\n</code></pre>\n<p>You can restrict this to tables by only wrapping it in a table show rule.</p>\n<p>For filtering columns in a csv, you can map-slice if the columns are contingous, or map-at</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let filtered = t.map(\n  it =&gt; {\n    // it.slice(0, 2)\n    (it.at(0), it.at(1))\n  }\n)\n</code></pre>\n<p>The object given by <code>csv</code> is an array of rows, hence you apply <code>map</code> which operates on each row, selecting only the columns you want by index, starting from 0. Your solution also works! <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hello! \n\nFor number localization, you can take a look at this [GitHub issue](https://github.com/typst/typst/issues/1093). Quoting @laurmaedje \n> Automatic locale-aware number formatting will happen\n\nIn the mean time @Andrew provides a simple solution for \"1.1\" to \"1,1\".\n\n```typ\n#show regex(\"\\d+\\.\\d+\"): num => num.text.replace(\".\", \",\")\n```\nYou can restrict this to tables by only wrapping it in a table show rule.\n\nFor filtering columns in a csv, you can map-slice if the columns are contingous, or map-at\n```typ\n#let filtered = t.map(\n  it => {\n    // it.slice(0, 2)\n    (it.at(0), it.at(1))\n  }\n)\n```\n\nThe object given by `csv` is an array of rows, hence you apply `map` which operates on each row, selecting only the columns you want by index, starting from 0. Your solution also works! :smiley:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 51,
      "score": 95.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4470,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-22T12:04:18.107Z",
      "updated_at": "2024-10-22T12:04:18.107Z",
      "cooked": "<p>I guess your questions have been answered already but here’s an alternative way to do it using <code>row-type: dictionary</code> and parsing the numbers to actual floating point numbers (instead of changing how typst shows them):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Content of CSV file\n#let csv-data = ```\ncol1,col2,col3\n\"1,1\",\"2,1\",\"3,1\"\n\"1,2\",\"2,2\",\"3,2\"\n```.text\n\n// To load a file, replace csv.decode(string) with csv(filename)\n#let data = csv.decode(csv-data, row-type: dictionary)\n\n// Parse a float encoded as string with comma decimal separator\n#let eu-float(s) = float(s.replace(\",\", \".\"))\n\n#let parse-values(data) = {\n  // Get desired values from each row\n  data.map(row =&gt; (row.col1, row.col3))\n      // Flatten to a simple array of values\n      .flatten()\n      // Parse strings to floats\n      .map(eu-float)\n}\n\n#parse-values(data)\n</code></pre>",
      "raw": "I guess your questions have been answered already but here's an alternative way to do it using `row-type: dictionary` and parsing the numbers to actual floating point numbers (instead of changing how typst shows them):\n\n```typ\n// Content of CSV file\n#let csv-data = ```\ncol1,col2,col3\n\"1,1\",\"2,1\",\"3,1\"\n\"1,2\",\"2,2\",\"3,2\"\n```.text\n\n// To load a file, replace csv.decode(string) with csv(filename)\n#let data = csv.decode(csv-data, row-type: dictionary)\n\n// Parse a float encoded as string with comma decimal separator\n#let eu-float(s) = float(s.replace(\",\", \".\"))\n\n#let parse-values(data) = {\n  // Get desired values from each row\n  data.map(row => (row.col1, row.col3))\n      // Flatten to a simple array of values\n      .flatten()\n      // Parse strings to floats\n      .map(eu-float)\n}\n\n#parse-values(data)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 49,
      "score": 174.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4488,
      "post_number": 5,
      "username": "raimann",
      "name": "Felipe Raimann",
      "created_at": "2024-10-22T15:30:17.928Z",
      "updated_at": "2024-10-22T15:45:42.221Z",
      "cooked": "<p>I recommend you to take a look at the excellent (and not very well known) package <a href=\"https://typst.app/universe/package/tabut\">tabut</a>.</p>\n<p>Here is my code to handle <code>csv</code> files selecting columns:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let table-tabut-csv(csvinput, colnames, align: auto, ..args) = {\n  let data-columns = {\n    let aux = ()\n\n    for colname in colnames {\n        aux.push((header: [], func: r =&gt; r.at(colname)))\n    }\n\n    (aux)\n  }\n\n  let datacsv = records-from-csv(csvinput)\n  let celdas-tabut = tabut-cells(\n    datacsv,\n    data-columns,\n    headers: false,\n    align: align\n  )\n\n  table(\n    stroke: none,\n    table.hline(),\n    ..args,\n    ..celdas-tabut,\n    table.hline()\n  )\n}\n</code></pre>\n<p>Then, you use it only with:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">table-tabut-csv(csv(\"input.csv\"), (\"col1\", \"col3\"))\n</code></pre>\n<p>And you get a <code>table</code> formatted as you defined it in the function. Obviously, you can also get the <code>tabut-cells</code> and do the formatting thing in another code. Perhaps there is a fancier way to do this, even you can work with <code>tabut</code> to do more tricks with your data. Take a look at <a>their documentation</a> (and more specifically, <a href=\"https://github.com/Amelia-Mowers/typst-tabut?tab=readme-ov-file#csv-data\" rel=\"noopener nofollow ugc\">documentation of csv files</a>).</p>\n<p>As an example showing only columns <code>col1</code> and <code>col3</code> from an <code>input.csv</code> file.</p>\n<p>If your company or you are profiting from table generation, please also consider donating to <a href=\"https://github.com/sponsors/PgBiel\" rel=\"noopener nofollow ugc\">PgBiel</a>.</p>",
      "raw": "I recommend you to take a look at the excellent (and not very well known) package [tabut](https://typst.app/universe/package/tabut).\n\nHere is my code to handle `csv` files selecting columns:\n\n```typst\n#let table-tabut-csv(csvinput, colnames, align: auto, ..args) = {\n  let data-columns = {\n    let aux = ()\n\n    for colname in colnames {\n        aux.push((header: [], func: r => r.at(colname)))\n    }\n\n    (aux)\n  }\n\n  let datacsv = records-from-csv(csvinput)\n  let celdas-tabut = tabut-cells(\n    datacsv,\n    data-columns,\n    headers: false,\n    align: align\n  )\n\n  table(\n    stroke: none,\n    table.hline(),\n    ..args,\n    ..celdas-tabut,\n    table.hline()\n  )\n}\n```\n\nThen, you use it only with:\n\n```typst\ntable-tabut-csv(csv(\"input.csv\"), (\"col1\", \"col3\"))\n```\n\nAnd you get a `table` formatted as you defined it in the function. Obviously, you can also get the `tabut-cells` and do the formatting thing in another code. Perhaps there is a fancier way to do this, even you can work with `tabut` to do more tricks with your data. Take a look at [their documentation](?tab=readme-ov-file#csv-data) (and more specifically, [documentation of csv files](https://github.com/Amelia-Mowers/typst-tabut?tab=readme-ov-file#csv-data)).\n\nAs an example showing only columns `col1` and `col3` from an `input.csv` file.\n\nIf your company or you are profiting from table generation, please also consider donating to [PgBiel](https://github.com/sponsors/PgBiel).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 44,
      "score": 113.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 10
    }
  ],
  "scraped_at": "2025-06-10T09:56:13.232815"
}
{
  "topic_metadata": {
    "id": 1286,
    "title": "How to attach a note to a table?",
    "slug": "how-to-attach-a-note-to-a-table",
    "posts_count": 4,
    "created_at": "2024-10-22T13:08:17.744Z",
    "last_posted_at": "2024-10-22T14:55:47.123Z",
    "views": 217,
    "like_count": 5,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "sijo",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 205
  },
  "posts": [
    {
      "id": 4472,
      "post_number": 1,
      "username": "tanloong",
      "name": "tanloong",
      "created_at": "2024-10-22T13:08:17.914Z",
      "updated_at": "2024-10-22T13:08:17.914Z",
      "cooked": "<p>How to attach a note to the bottom of a table like below?<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6678b5e4b1ac5d441cabed4727bbfbc59139c490.png\" data-download-href=\"https://forum.typst.app/uploads/default/6678b5e4b1ac5d441cabed4727bbfbc59139c490\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/6678b5e4b1ac5d441cabed4727bbfbc59139c490_2_690x198.png\" alt=\"image\" data-base62-sha1=\"eCvk1VXcZuSA2cBSep52DIDOtgs\" width=\"690\" height=\"198\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/6678b5e4b1ac5d441cabed4727bbfbc59139c490_2_690x198.png, https://forum.typst.app/uploads/default/optimized/2X/6/6678b5e4b1ac5d441cabed4727bbfbc59139c490_2_1035x297.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/6/6678b5e4b1ac5d441cabed4727bbfbc59139c490_2_1380x396.png 2x\" data-dominant-color=\"F3EEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1558×448 75.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "How to attach a note to the bottom of a table like below?\n![image|690x198](upload://eCvk1VXcZuSA2cBSep52DIDOtgs.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 961.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 652
    },
    {
      "id": 4473,
      "post_number": 2,
      "username": "tanloong",
      "name": "tanloong",
      "created_at": "2024-10-22T13:17:12.712Z",
      "updated_at": "2024-10-22T13:17:12.712Z",
      "cooked": "<p>OK I think I figure it out. Just add one more cell that spans across all the columns.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure(\n  table(\n    columns: (1fr, 1fr, 1fr),\n    align: left,\n    stroke: none,\n    table.hline(),\n    [Relation], [Governor], [Dependent],\n    table.hline(),\n    [determiner], [_linguist_], [_the_],\n    [nominal subject], [_climbs_], [_linguist_],\n    [root], [_ROOT_], [_climbs_],\n    [direct object], [_climbs_], [_rocks_],\n    table.hline(),\n    // attach the note\n    table.cell(colspan: 3, [_Note._ This parse was obtained via the Stanford Dependency Parser]),\n  ),\n  caption: [Dependency representation of the sentence “The linguist climbs rocks.”],\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/7753ceabded61983a5b3b0f5b89c5fa1c6d54739.png\" data-download-href=\"https://forum.typst.app/uploads/default/7753ceabded61983a5b3b0f5b89c5fa1c6d54739\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/7753ceabded61983a5b3b0f5b89c5fa1c6d54739_2_690x214.png\" alt=\"image\" data-base62-sha1=\"h1CngIzjzBu1zL7OwgxOQOtareF\" width=\"690\" height=\"214\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/7753ceabded61983a5b3b0f5b89c5fa1c6d54739_2_690x214.png, https://forum.typst.app/uploads/default/optimized/2X/7/7753ceabded61983a5b3b0f5b89c5fa1c6d54739_2_1035x321.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/7/7753ceabded61983a5b3b0f5b89c5fa1c6d54739_2_1380x428.png 2x\" data-dominant-color=\"F4EFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1571×488 69.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "OK I think I figure it out. Just add one more cell that spans across all the columns.\n\n```typst\n#figure(\n  table(\n    columns: (1fr, 1fr, 1fr),\n    align: left,\n    stroke: none,\n    table.hline(),\n    [Relation], [Governor], [Dependent],\n    table.hline(),\n    [determiner], [_linguist_], [_the_],\n    [nominal subject], [_climbs_], [_linguist_],\n    [root], [_ROOT_], [_climbs_],\n    [direct object], [_climbs_], [_rocks_],\n    table.hline(),\n    // attach the note\n    table.cell(colspan: 3, [_Note._ This parse was obtained via the Stanford Dependency Parser]),\n  ),\n  caption: [Dependency representation of the sentence “The linguist climbs rocks.”],\n)\n```\n\n![image|690x214](upload://h1CngIzjzBu1zL7OwgxOQOtareF.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 56.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 652
    },
    {
      "id": 4478,
      "post_number": 3,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-22T14:20:29.761Z",
      "updated_at": "2024-10-22T14:20:29.761Z",
      "cooked": "<p>You’re solution works fine, but note you can give more than a table as first argument to <code>figure</code>. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n  {\n    show table: set block(below: 0.4em)\n    table(\n      columns: (1fr, 1fr, 1fr),\n      align: left,\n      stroke: none,\n      table.hline(),\n      [Relation], [Governor], [Dependent],\n      table.hline(),\n      [determiner], [_linguist_], [_the_],\n      [nominal subject], [_climbs_], [_linguist_],\n      [root], [_ROOT_], [_climbs_],\n      [direct object], [_climbs_], [_rocks_],\n      table.hline(),\n    )\n    align(left, [_Note._ This parse was obtained via the Stanford Dependency Parser])\n    v(0.5em)\n  },\n  caption: [Dependency representation of the sentence “The linguist climbs rocks.”],\n)\n</code></pre>",
      "raw": "You're solution works fine, but note you can give more than a table as first argument to `figure`. For example:\n\n```typ\n#figure(\n  {\n    show table: set block(below: 0.4em)\n    table(\n      columns: (1fr, 1fr, 1fr),\n      align: left,\n      stroke: none,\n      table.hline(),\n      [Relation], [Governor], [Dependent],\n      table.hline(),\n      [determiner], [_linguist_], [_the_],\n      [nominal subject], [_climbs_], [_linguist_],\n      [root], [_ROOT_], [_climbs_],\n      [direct object], [_climbs_], [_rocks_],\n      table.hline(),\n    )\n    align(left, [_Note._ This parse was obtained via the Stanford Dependency Parser])\n    v(0.5em)\n  },\n  caption: [Dependency representation of the sentence “The linguist climbs rocks.”],\n)\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 24,
      "score": 119.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4486,
      "post_number": 4,
      "username": "tanloong",
      "name": "tanloong",
      "created_at": "2024-10-22T14:55:47.123Z",
      "updated_at": "2024-10-22T15:14:50.892Z",
      "cooked": "<p>Today I learned. With yours I can also attach notes to an image. Thanks!</p>",
      "raw": "Today I learned. With yours I can also attach notes to an image. Thanks!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 652
    }
  ],
  "scraped_at": "2025-06-10T09:56:12.513846"
}
{
  "topic_metadata": {
    "id": 1290,
    "title": "How to auto-size text and images",
    "slug": "how-to-auto-size-text-and-images",
    "posts_count": 5,
    "created_at": "2024-10-22T14:11:33.462Z",
    "last_posted_at": "2024-10-22T15:21:32.654Z",
    "views": 538,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "sijo",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 513
  },
  "posts": [
    {
      "id": 4477,
      "post_number": 1,
      "username": "willis",
      "name": "",
      "created_at": "2024-10-22T14:11:33.559Z",
      "updated_at": "2024-10-22T14:11:33.559Z",
      "cooked": "<p>I use typst heavily to write lecture slides, one thing that would be very handy would be if when adding text or images to a slide they didn’t wrap to the next page. Write now it’s a process of back and forth setting text size manual and re-rendering, or the equivalent with images. I should say images work better but when you’re combining images and text you have to play around with the image size to make sure that the subsequent text doesn’t page-wrap.</p>\n<p>I’ve used both polylux and touying, and both have tried with the <span class=\"hashtag-raw\">#fit-to-height</span> function, but it’s quite buggy and results in strange layouts.</p>\n<p>How much is this an internal typst layout issue, versus possible within the existing scripting environment?</p>\n<p>To be clear what I’m looking for is a flag for the page that would prevent content from wrapping, and auto-size it to fit within the page if the flag is set to True. From previous attempts at this I gather it’s somewhat complicated because you have to layout out the content first before you decide where it wraps and at what size to set the text.</p>\n<p>There are additional issue when using multiple columns… and ideally you could tell the content to auto-size within a column (i.e. a 2-column slide with text on one side and an image on the other).</p>",
      "raw": "I use typst heavily to write lecture slides, one thing that would be very handy would be if when adding text or images to a slide they didn't wrap to the next page. Write now it's a process of back and forth setting text size manual and re-rendering, or the equivalent with images. I should say images work better but when you're combining images and text you have to play around with the image size to make sure that the subsequent text doesn't page-wrap.\n\nI've used both polylux and touying, and both have tried with the #fit-to-height function, but it's quite buggy and results in strange layouts.\n\nHow much is this an internal typst layout issue, versus possible within the existing scripting environment?\n\nTo be clear what I'm looking for is a flag for the page that would prevent content from wrapping, and auto-size it to fit within the page if the flag is set to True. From previous attempts at this I gather it's somewhat complicated because you have to layout out the content first before you decide where it wraps and at what size to set the text. \n\nThere are additional issue when using multiple columns... and ideally you could tell the content to auto-size within a column (i.e. a 2-column slide with text on one side and an image on the other).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 2091.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 654
    },
    {
      "id": 4479,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-22T14:29:44.669Z",
      "updated_at": "2024-10-22T14:29:44.669Z",
      "cooked": "<p>Typst 0.12 has improved things a bit on this theme. The <a href=\"https://typst.app/docs/reference/layout/scale/\"><code>scale</code> function</a> now accepts absolute dimensions as the target size, and <a href=\"https://typst.app/docs/reference/layout/measure/\"><code>measure</code></a> accepts arguments for the target container size. As I understand, these make the polylux/touying <code>fit-to-height</code> obsolete.</p>\n<p>The <code>measure</code> thing could also help for the specific goal of scaling the text size to fill some available space. But I can only think of a rather inefficient approach: a bisection algorithm to find the largest text size that still fits.</p>",
      "raw": "Typst 0.12 has improved things a bit on this theme. The [`scale` function](https://typst.app/docs/reference/layout/scale/) now accepts absolute dimensions as the target size, and [`measure`](https://typst.app/docs/reference/layout/measure/) accepts arguments for the target container size. As I understand, these make the polylux/touying `fit-to-height` obsolete.\n\nThe `measure` thing could also help for the specific goal of scaling the text size to fill some available space. But I can only think of a rather inefficient approach: a bisection algorithm to find the largest text size that still fits.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 81.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4483,
      "post_number": 3,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-22T14:52:29.359Z",
      "updated_at": "2024-10-22T15:21:07.043Z",
      "cooked": "<p>Here’s an implementation of the bisection algorithm I was referring to:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fill-height-with-text(min: 0.3em, max: 5em, eps: 0.1em, it) = layout(size =&gt; {\n  let fits(text-size, it) = {\n    measure(width: size.width, { set text(text-size); it }).height &lt;= size.height\n  }\n\n  if not fits(min, it) { panic(\"Content doesn't fit even at minimum text size\") }\n  if fits(max, it) { set text(max); it }\n\n  let (a, b) = (min, max)\n  while b - a &gt; eps {\n    let new = 0.5 * (a + b)\n    if fits(new, it) {\n      a = new\n    } else {\n      b = new\n    }\n  }\n\n  set text(a)\n  it\n})\n\n#block(height: 5cm, fill: luma(80%), fill-height-with-text(lorem(10)))\n\n#block(height: 5cm, fill: luma(80%), columns(2)[\n  #fill-height-with-text(lorem(10))\n\n  #fill-height-with-text(lorem(7))\n])\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e.png\" data-download-href=\"https://forum.typst.app/uploads/default/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e_2_345x239.png\" alt=\"image\" data-base62-sha1=\"qORt7I8L2l5lNc6OTt0c2yVlGbk\" width=\"345\" height=\"239\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e_2_345x239.png, https://forum.typst.app/uploads/default/optimized/2X/b/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e_2_517x358.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/b/bbf864fe5462349c43ec1eb7308c3c3c3cf5038e_2_690x478.png 2x\" data-dominant-color=\"C3C3C3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">709×492 63.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Here's an implementation of the bisection algorithm I was referring to:\n\n```typ\n#let fill-height-with-text(min: 0.3em, max: 5em, eps: 0.1em, it) = layout(size => {\n  let fits(text-size, it) = {\n    measure(width: size.width, { set text(text-size); it }).height <= size.height\n  }\n\n  if not fits(min, it) { panic(\"Content doesn't fit even at minimum text size\") }\n  if fits(max, it) { set text(max); it }\n\n  let (a, b) = (min, max)\n  while b - a > eps {\n    let new = 0.5 * (a + b)\n    if fits(new, it) {\n      a = new\n    } else {\n      b = new\n    }\n  }\n\n  set text(a)\n  it\n})\n\n#block(height: 5cm, fill: luma(80%), fill-height-with-text(lorem(10)))\n\n#block(height: 5cm, fill: luma(80%), columns(2)[\n  #fill-height-with-text(lorem(10))\n\n  #fill-height-with-text(lorem(7))\n])\n```\n\n![image|690x478, 50%](upload://qORt7I8L2l5lNc6OTt0c2yVlGbk.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 54,
      "score": 85.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4484,
      "post_number": 4,
      "username": "willis",
      "name": "",
      "created_at": "2024-10-22T14:55:17.839Z",
      "updated_at": "2024-10-22T14:55:17.839Z",
      "cooked": "<p>Wow that’s amazing! I was working on my own crude solution, but that seems to hit the nail on the head. Thanks!</p>",
      "raw": "Wow that's amazing! I was working on my own crude solution, but that seems to hit the nail on the head. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 48,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 654
    },
    {
      "id": 4487,
      "post_number": 5,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-22T15:21:32.654Z",
      "updated_at": "2024-10-22T15:21:32.654Z",
      "cooked": "<p>(I’ve edited the code to avoid producing an error when the max size fits)</p>",
      "raw": "(I've edited the code to avoid producing an error when the max size fits)",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 39.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:11.763360"
}
{
  "topic_metadata": {
    "id": 1292,
    "title": "How can I create a set of shared `set` and `show` rules which can be imported into a theme?",
    "slug": "how-can-i-create-a-set-of-shared-set-and-show-rules-which-can-be-imported-into-a-theme",
    "posts_count": 10,
    "created_at": "2024-10-22T14:45:20.856Z",
    "last_posted_at": "2025-06-07T11:07:26.418Z",
    "views": 1026,
    "like_count": 11,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "templates"
    ],
    "category_id": 5,
    "participant_count": 7,
    "word_count": 821
  },
  "posts": [
    {
      "id": 4481,
      "post_number": 1,
      "username": "Christopher_Marcotte",
      "name": "Christopher Marcotte",
      "created_at": "2024-10-22T14:45:21.020Z",
      "updated_at": "2024-10-22T14:59:10.986Z",
      "cooked": "<p>If I want consistent show and set rules across several templates, I have been trying to do so with a generic styling file, which is imported into each template. This guarantees the consistency, I would think, but in practice does not. E.g., in <code>styling.typ</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text( size: 10pt,\n          fill: blue,\n          font: (\"Lato\", \"Noto Sans\", \"Fira Sans\", ),\n          lang: \"en\",\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n\n#show math.equation: set text(font: (\"Lete Sans Math\", \"Noto Sans Math\", \"Fira Math\", ),\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n#show raw: set text(font: \"Space Mono\",\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n</code></pre>\n<p>while in <code>template.typ</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise(title: \"\", date: none, body) = {\n  // Set the document's basic properties.\n  set document(author: \"Me\", title: title)\n  set page(\n    \"a4\",\n    margin: (top: auto, bottom: auto, left: 1cm, right: 1cm),\n    header: [\n      #set text(0.8em)\n      #parbreak()\n      #line(stroke: blue+1pt, length: 100%)\n   ]\n  )\n\n  // Title row.\n  align(center)[\n    #block(\n      text(\n        weight: 700,\n        size: 1.75em,\n        //font: \"IBM Plex Serif\",\n        title\n      )\n    )\n    #v(1em, weak: true)\n  ]\n\n  // Main body.\n  set par(justify: false, leading: 1em, linebreaks: \"optimized\")\n  include(\"styling.typ\")\n  body\n}\n</code></pre>\n<p>so that in <code>main.typ</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"template.typ\": *\n\n#show: exercise.with(\n  title: \"Hello, World!\",\n  authors: ((name: \"Me\", title: \"\", email: \"\", affiliation:\"\"),),\n  date: \"Now\",\n)\n\nThis is body text!\n\n</code></pre>\n<p>My ultimate goal is to have a set of generic <code>show</code> and <code>set</code> rules that can be used consistently in several different templates (slides, documents, etc) but I can not get it to work correctly. Is this the wrong way to achieve that goal?</p>",
      "raw": "If I want consistent show and set rules across several templates, I have been trying to do so with a generic styling file, which is imported into each template. This guarantees the consistency, I would think, but in practice does not. E.g., in `styling.typ`:\n```typ\n#set text( size: 10pt,\n          fill: blue,\n          font: (\"Lato\", \"Noto Sans\", \"Fira Sans\", ),\n          lang: \"en\",\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n\n#show math.equation: set text(font: (\"Lete Sans Math\", \"Noto Sans Math\", \"Fira Math\", ),\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n#show raw: set text(font: \"Space Mono\",\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n```\nwhile in `template.typ`:\n\n```typ\n#let exercise(title: \"\", date: none, body) = {\n  // Set the document's basic properties.\n  set document(author: \"Me\", title: title)\n  set page(\n    \"a4\",\n    margin: (top: auto, bottom: auto, left: 1cm, right: 1cm),\n    header: [\n      #set text(0.8em)\n      #parbreak()\n      #line(stroke: blue+1pt, length: 100%)\n   ]\n  )\n\n  // Title row.\n  align(center)[\n    #block(\n      text(\n        weight: 700,\n        size: 1.75em,\n        //font: \"IBM Plex Serif\",\n        title\n      )\n    )\n    #v(1em, weak: true)\n  ]\n\n  // Main body.\n  set par(justify: false, leading: 1em, linebreaks: \"optimized\")\n  include(\"styling.typ\")\n  body\n}\n```\nso that in `main.typ`:\n```typ\n#import \"template.typ\": *\n\n#show: exercise.with(\n  title: \"Hello, World!\",\n  authors: ((name: \"Me\", title: \"\", email: \"\", affiliation:\"\"),),\n  date: \"Now\",\n)\n\nThis is body text!\n\n```\n\nMy ultimate goal is to have a set of generic `show` and `set` rules that can be used consistently in several different templates (slides, documents, etc) but I can not get it to work correctly. Is this the wrong way to achieve that goal?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 88,
      "score": 3816.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 270
    },
    {
      "id": 4490,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-22T15:58:37.277Z",
      "updated_at": "2024-10-22T15:58:37.277Z",
      "cooked": "<p>These two posts may help:</p><aside class=\"quote quote-modified\" data-post=\"2\" data-topic=\"1042\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/paran3xus/48/32_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/why-is-the-template-function-i-wrote-not-working-properly/1042/2\">Why is the template function I wrote not working properly?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Basically, show will take everything below it and process it using the function you specify. For example: \n#show: style\ncontent\n\nis equivalent to: \n#style[content]\n\nBased on this rule, let’s take a look at your code. \nFirstly, \n#let theorems(doc) = [\n  #show: thmrules\n  #doc\n]\n\nis equivalent to: \n#let theorems(doc) = [\n  #thmrules(doc)\n]\n\nSo, in reality, thmrules and theorems are exactly the same. \nSecondly, when you call show: all, your doc (which, in this case, refers to your entire document) …\n  </blockquote>\n</aside>\n<aside class=\"quote quote-modified\" data-post=\"3\" data-topic=\"1266\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/paran3xus/48/32_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/why-the-definition-of-show-regex-doesnt-work-in-a-function/1266/3\">Why the definition of \"show regex\" doesn't work in a function?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    This is because show only works on content within its scope. In your example, this scope is the interior of the __sugar() function definition. \nThe principle of show is that it will take everything that matches its selector below and within its scope, and process it using the function you specify. So when you call __sugar(), show did nothing because there is nothing else in it’s  scope. \nTo fix this issue, you need to write another show in the scope you want. For example: \n#let __sugar(content) …\n  </blockquote>\n</aside>\n",
      "raw": "These two posts may help:\nhttps://forum.typst.app/t/why-is-the-template-function-i-wrote-not-working-properly/1042/2?u=paran3xus\nhttps://forum.typst.app/t/why-the-definition-of-show-regex-doesnt-work-in-a-function/1266/3?u=paran3xus",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 80,
      "score": 120.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4491,
      "post_number": 3,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-22T16:04:00.616Z",
      "updated_at": "2024-10-22T16:04:12.024Z",
      "cooked": "<p>In case you still don’t understand: In your example, the <code>set</code> and <code>show</code> functions in <code>styling.typ</code> only work within their own scope, which is within <code>styling.typ</code>. Therefore, they cannot style other parts of the document.</p>\n<p>To fix this, you need to write a function that takes content and returns styled content, like:</p>\n<p><code>styling.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let styling(it) = {\n  set text(\n    size: 10pt,\n    fill: blue,\n    font: (\"Lato\", \"Noto Sans\", \"Fira Sans\"),\n    lang: \"en\",\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n\n  show math.equation: set text(\n    font: (\"Lete Sans Math\", \"Noto Sans Math\", \"Fira Math\"),\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n  show raw: set text(\n    font: \"Space Mono\",\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n  it\n}\n</code></pre>\n<p><code>template.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise(title: \"\", date: none, body) = {\n  ...\n\n  import \"styling.typ\": styling\n  show: styling\n\n  body\n}\n</code></pre>",
      "raw": "In case you still don't understand: In your example, the `set` and `show` functions in `styling.typ` only work within their own scope, which is within `styling.typ`. Therefore, they cannot style other parts of the document.\n\nTo fix this, you need to write a function that takes content and returns styled content, like:\n\n`styling.typ`\n```typ\n#let styling(it) = {\n  set text(\n    size: 10pt,\n    fill: blue,\n    font: (\"Lato\", \"Noto Sans\", \"Fira Sans\"),\n    lang: \"en\",\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n\n  show math.equation: set text(\n    font: (\"Lete Sans Math\", \"Noto Sans Math\", \"Fira Math\"),\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n  show raw: set text(\n    font: \"Space Mono\",\n    ligatures: true,\n    discretionary-ligatures: true,\n    historical-ligatures: true,\n  )\n  it\n}\n```\n\n`template.typ`\n```typ\n#let exercise(title: \"\", date: none, body) = {\n  ...\n\n  import \"styling.typ\": styling\n  show: styling\n\n  body\n}\n```",
      "reply_to_post_number": 2,
      "reply_count": 3,
      "quote_count": 0,
      "like_count": 3,
      "reads": 77,
      "score": 249.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4516,
      "post_number": 4,
      "username": "Christopher_Marcotte",
      "name": "Christopher Marcotte",
      "created_at": "2024-10-23T07:51:56.266Z",
      "updated_at": "2024-10-23T07:51:56.266Z",
      "cooked": "<p>Thanks very much; I hadn’t thought about using a function to create a new scope in which the styling is applied. For my own edification: what does the <code>include(file)</code> do, then, if not insert text from <code>file</code> into the current scope?</p>",
      "raw": "Thanks very much; I hadn't thought about using a function to create a new scope in which the styling is applied. For my own edification: what does the `include(file)` do, then, if not insert text from `file` into the current scope?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 64,
      "score": 27.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 270
    },
    {
      "id": 4594,
      "post_number": 5,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-24T00:43:33.679Z",
      "updated_at": "2024-10-24T00:43:33.679Z",
      "cooked": "<p>According to <a href=\"https://typst.app/docs/reference/scripting/#modules\">Typst Documents</a>, <code>include \"bar.typ\"</code> will</p>\n<blockquote>\n<p>Evaluates the file at the path <code>bar.typ</code> and returns the resulting <a href=\"https://typst.app/docs/reference/foundations/content/\">content</a>.</p>\n</blockquote>\n<p>So I think included Typst files will be treated as individual documents, which won’t affect current context.</p>",
      "raw": "According to [Typst Documents](https://typst.app/docs/reference/scripting/#modules), `include \"bar.typ\"` will \n> Evaluates the file at the path `bar.typ` and returns the resulting [content](https://typst.app/docs/reference/foundations/content/).\n\nSo I think included Typst files will be treated as individual documents, which won't affect current context.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 55,
      "score": 45.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4603,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-24T07:01:18.856Z",
      "updated_at": "2024-10-24T07:01:18.856Z",
      "cooked": "<p>If <code>main.typ</code> does <code>#include \"a.typ\"</code>, then all content produced by <code>a.typ</code> will be inserted as if it had been produced by <code>main.typ</code>. So <code>a.typ</code> can affect the rest of the document in the usual ways for content: if <code>a.typ</code> defines a heading, it will be found by a <code>query(heading)</code> anywhere in <code>main.typ</code>. If <code>a.typ</code> increments a counter the effect will be visible in <code>main.typ</code> (because in typst a counter increment is done by inserting a piece of content with the increment instruction), etc.</p>",
      "raw": "If `main.typ` does `#include \"a.typ\"`, then all content produced by `a.typ` will be inserted as if it had been produced by `main.typ`. So `a.typ` can affect the rest of the document in the usual ways for content: if `a.typ` defines a heading, it will be found by a `query(heading)` anywhere in `main.typ`. If `a.typ` increments a counter the effect will be visible in `main.typ` (because in typst a counter increment is done by inserting a piece of content with the increment instruction), etc.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 54,
      "score": 40.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4609,
      "post_number": 7,
      "username": "Yahuxo",
      "name": "Tobias",
      "created_at": "2024-10-24T10:58:02.762Z",
      "updated_at": "2024-10-24T10:58:02.762Z",
      "cooked": "<p>I think the important point here is that <code>#include</code> returns <em>content</em> from the other file, but does not affect the current <em>context</em>, like function parameters changed with <code>#set</code> or functions overwritten with <code>#show</code>.</p>\n<p>In my understanding this is similar to Hygienic Macros provided by some programming languages (not C).</p>",
      "raw": "I think the important point here is that `#include` returns _content_ from the other file, but does not affect the current _context_, like function parameters changed with `#set` or functions overwritten with `#show`. \n\nIn my understanding this is similar to Hygienic Macros provided by some programming languages (not C).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 50,
      "score": 49.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 472
    },
    {
      "id": 9760,
      "post_number": 8,
      "username": "Alex_Duchnowski",
      "name": "Alex Duchnowski",
      "created_at": "2025-03-13T14:02:31.146Z",
      "updated_at": "2025-03-13T14:04:35.939Z",
      "cooked": "<p>If you want the styling to be universal for a document (rather than used within the context of a specific function like <code>exercise</code>), you can also simply add<br>\n<code>#show: doc =&gt; styling(doc)</code> to the beginning of a file (after importing the <code>styling</code> function), and the formatting will apply to everything that comes after <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "If you want the styling to be universal for a document (rather than used within the context of a specific function like `exercise`), you can also simply add\n`#show: doc => styling(doc)` to the beginning of a file (after importing the `styling` function), and the formatting will apply to everything that comes after :slight_smile:",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 2,
      "reads": 38,
      "score": 66.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1160
    },
    {
      "id": 13841,
      "post_number": 9,
      "username": "Thomas_Surlykke",
      "name": "Thomas Holme Surlykke",
      "created_at": "2025-06-07T10:17:51.669Z",
      "updated_at": "2025-06-07T10:17:51.669Z",
      "cooked": "<p>Is <code>#show: doc =&gt; styling(doc)</code> not the exact same as <code>#show: styling</code>?</p>",
      "raw": "Is `#show: doc => styling(doc)` not the exact same as `#show: styling`?",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1712
    },
    {
      "id": 13842,
      "post_number": 10,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-06-07T11:07:26.418Z",
      "updated_at": "2025-06-07T11:07:26.418Z",
      "cooked": "<p>Yes it is. The difference between</p>\n<aside class=\"quote no-group\" data-username=\"ParaN3xus\" data-post=\"3\" data-topic=\"1292\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/paran3xus/48/32_2.png\" class=\"avatar\"> ParaN3xus:</div>\n<blockquote>\n<p><code>template.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise(title: \"\", date: none, body) = {\n  ...\n\n  import \"styling.typ\": styling\n  show: styling\n\n  body\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>and</p>\n<aside class=\"quote no-group\" data-username=\"Alex_Duchnowski\" data-post=\"8\" data-topic=\"1292\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alex_duchnowski/48/1880_2.png\" class=\"avatar\"> Alex_Duchnowski:</div>\n<blockquote>\n<p>you can also simply add <code>#show: doc =&gt; styling(doc)</code> to the beginning of a file</p>\n</blockquote>\n</aside>\n<p>is not <code>styling</code> vs. <code>doc =&gt; styling(doc)</code> but whether you put the show rule in a function (such as <code>exercise</code>) or at the beginning of your document.</p>",
      "raw": "Yes it is. The difference between\n\n[quote=\"ParaN3xus, post:3, topic:1292\"]\n`template.typ`\n\n```\n#let exercise(title: \"\", date: none, body) = {\n  ...\n\n  import \"styling.typ\": styling\n  show: styling\n\n  body\n}\n```\n[/quote]\n\nand \n\n[quote=\"Alex_Duchnowski, post:8, topic:1292\"]\nyou can also simply add `#show: doc => styling(doc)` to the beginning of a file\n[/quote]\n\nis not `styling` vs. `doc => styling(doc)` but whether you put the show rule in a function (such as `exercise`) or at the beginning of your document.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 2,
      "like_count": 0,
      "reads": 18,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:10.823675"
}
{
  "topic_metadata": {
    "id": 1294,
    "title": "How can I offset my equation numberings from the right margin by some amount?",
    "slug": "how-can-i-offset-my-equation-numberings-from-the-right-margin-by-some-amount",
    "posts_count": 5,
    "created_at": "2024-10-22T14:55:30.247Z",
    "last_posted_at": "2024-11-01T16:45:33.785Z",
    "views": 167,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "scripting",
      "math",
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 353
  },
  "posts": [
    {
      "id": 4485,
      "post_number": 1,
      "username": "ihateliquorice",
      "name": "",
      "created_at": "2024-10-22T14:55:30.410Z",
      "updated_at": "2024-10-23T11:44:42.130Z",
      "cooked": "<p>I wish to align my equation number[ing]s to some arbitrary position offset from the right margin of the page by a specified amount, also using a custom format, eg “|1”. I first assumed I would be able to feed a <code>#box</code> of a certain width and with the desired numbering format as the content of it to my math.equation <code>#set</code> function like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering:[#box(width:1.5cm,\"|1\")])\n</code></pre>\n<p>However, I found that the numbering named argument only accepts strings, not content.</p>\n<p>I do not yet have enough experience with Typst scripting to see how to achieve this or, what’s more important, if this is at all possible given the current version of Typst. Therefore, kindly asking for suggestions and help with getting the functionality sought.</p>\n<p>Regards</p>\n<p>P.S. I imagine, if it exists, the way to achieving the above might also make possible the setting of all the other flavours of numberings, numeric or otherwise.</p>",
      "raw": "I wish to align my equation number[ing]s to some arbitrary position offset from the right margin of the page by a specified amount, also using a custom format, eg \"|1\". I first assumed I would be able to feed a ```#box``` of a certain width and with the desired numbering format as the content of it to my math.equation ```#set``` function like so: \n```typ\n#set math.equation(numbering:[#box(width:1.5cm,\"|1\")])\n``` \n\nHowever, I found that the numbering named argument only accepts strings, not content. \n\nI do not yet have enough experience with Typst scripting to see how to achieve this or, what's more important, if this is at all possible given the current version of Typst. Therefore, kindly asking for suggestions and help with getting the functionality sought. \n\nRegards\n\nP.S. I imagine, if it exists, the way to achieving the above might also make possible the setting of all the other flavours of numberings, numeric or otherwise.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 412.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 655
    },
    {
      "id": 4489,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-22T15:35:33.739Z",
      "updated_at": "2024-10-22T15:35:33.739Z",
      "cooked": "<p>Numbering can also take a function which can include arbitrary content, so you can do as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: n =&gt; box(width: 1.5cm)[|#n])\n$ x := sqrt(5) $\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/ea387c13abb4bfb6bdd88f7f7a4e14a540ed2e9c.png\" alt=\"image\" data-base62-sha1=\"xq0Kfpden9rYSrxQ8JpGMB3J3Xu\" width=\"454\" height=\"73\"></p>",
      "raw": "Numbering can also take a function which can include arbitrary content, so you can do as follows:\n```typ\n#set math.equation(numbering: n => box(width: 1.5cm)[|#n])\n$ x := sqrt(5) $\n```\n\n![image|454x73](upload://xq0Kfpden9rYSrxQ8JpGMB3J3Xu.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 37.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4511,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-23T06:21:50.220Z",
      "updated_at": "2024-10-23T06:21:50.220Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/ihateliquorice\">@ihateliquorice</a>, and welcome! Don’t hesitate to read <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> and modify your post accordingly! It should belong to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category.</p>",
      "raw": "Hello @ihateliquorice, and welcome! Don't hesitate to read https://forum.typst.app/t/how-to-post-in-the-questions-category/11 and modify your post accordingly! It should belong to the #Questions category.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 71.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4806,
      "post_number": 4,
      "username": "iverks",
      "name": "Iver Småge",
      "created_at": "2024-10-29T12:19:59.339Z",
      "updated_at": "2024-10-29T12:19:59.339Z",
      "cooked": "<p>Won’t this also affect the numbering when referencing the equation? Is there a good way to modify the one and the other separately</p>",
      "raw": "Won't this also affect the numbering when referencing the equation? Is there a good way to modify the one and the other separately",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 698
    },
    {
      "id": 5004,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-11-01T16:45:33.785Z",
      "updated_at": "2024-11-01T16:45:33.785Z",
      "cooked": "<p>Depending on the result you want, you can either use a different approach to the original issue:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(target: math.equation)\n\n#set math.equation(numbering: \"|1\")\n#show math.equation.where(block: true): set block(inset: (right: 1.5cm))\n$ x := sqrt(5) $\n</code></pre>\n<p>This will <em>not</em> left-align all the numberings (like a constant-width numbering box would) but instead inset the numberings from the right.</p>\n<p>Another approach would be using the <a href=\"https://forum.typst.app/t/how-to-put-different-page-numbering-in-outline/968/3\">state-outline trick</a> described in another answer.</p>",
      "raw": "Depending on the result you want, you can either use a different approach to the original issue:\n```typ\n#outline(target: math.equation)\n\n#set math.equation(numbering: \"|1\")\n#show math.equation.where(block: true): set block(inset: (right: 1.5cm))\n$ x := sqrt(5) $\n```\nThis will _not_ left-align all the numberings (like a constant-width numbering box would) but instead inset the numberings from the right.\n\nAnother approach would be using the [state-outline trick](https://forum.typst.app/t/how-to-put-different-page-numbering-in-outline/968/3?u=sillyfreak) described in another answer.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:10.072745"
}
{
  "topic_metadata": {
    "id": 1295,
    "title": "How to number every 5th line?",
    "slug": "how-to-number-every-5th-line",
    "posts_count": 5,
    "created_at": "2024-10-22T16:53:57.791Z",
    "last_posted_at": "2024-10-22T22:45:11.979Z",
    "views": 197,
    "like_count": 6,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Mc-Zen",
    "tags": [
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 164
  },
  "posts": [
    {
      "id": 4492,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-10-22T16:53:57.912Z",
      "updated_at": "2024-10-22T16:55:46.891Z",
      "cooked": "<p>Hello everyone,</p>\n<p>I am currently using the following code to number each line in my text:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set par.line(numbering: \"1\", numbering-scope: \"page\")\n</code></pre>\n<p>However, I would like to number only every 5th line (for example, lines 5, 10, 15, etc.). Is there a way to achieve this in Typst? I would appreciate any help or suggestions on how to implement this!</p>\n<p>Thank you in advance for your support!</p>",
      "raw": "Hello everyone,\n\nI am currently using the following code to number each line in my text:\n```typst\n#set par.line(numbering: \"1\", numbering-scope: \"page\")\n```\n\nHowever, I would like to number only every 5th line (for example, lines 5, 10, 15, etc.). Is there a way to achieve this in Typst? I would appreciate any help or suggestions on how to implement this!\n\nThank you in advance for your support!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 622.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 4494,
      "post_number": 2,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2024-10-22T18:21:39.554Z",
      "updated_at": "2024-10-22T18:22:11.914Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mathemensch\">@Mathemensch</a> ,</p>\n<p>The <code>numbering </code> parameter of <a href=\"https://typst.app/docs/reference/model/par/#definitions-line\"><code>par.line</code></a> also accepts a function which the line number is passed to. You can use this to filter out numbers that are not divisible by 5 like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par.line(numbering: i =&gt; if calc.rem(i, 5) == 0 { i })\n</code></pre>",
      "raw": "Hi @Mathemensch ,\n\nThe `numbering ` parameter of [`par.line`](https://typst.app/docs/reference/model/par/#definitions-line) also accepts a function which the line number is passed to. You can use this to filter out numbers that are not divisible by 5 like this:\n```typ\n#set par.line(numbering: i => if calc.rem(i, 5) == 0 { i })\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 2,
      "reads": 39,
      "score": 82.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 4497,
      "post_number": 3,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-10-22T19:26:17.054Z",
      "updated_at": "2024-10-22T19:26:17.054Z",
      "cooked": "<p>Thank you very much!<br>\nI love how versatily typst is.</p>",
      "raw": "Thank you very much!\nI love how versatily typst is.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 32.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 4499,
      "post_number": 4,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2024-10-22T20:52:42.737Z",
      "updated_at": "2024-10-22T20:52:42.737Z",
      "cooked": "<p>Actually I thought just the same when writing down the answer :D</p>",
      "raw": "Actually I thought just the same when writing down the answer :D",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 22.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 4501,
      "post_number": 5,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-22T22:45:11.979Z",
      "updated_at": "2024-10-22T22:45:11.979Z",
      "cooked": "<p>This seems like a great example to add to the docs. PR/issue time? <img src=\"https://forum.typst.app/images/emoji/apple/eyes.png?v=12\" title=\":eyes:\" class=\"emoji\" alt=\":eyes:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "This seems like a great example to add to the docs. PR/issue time? :eyes:",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:09.343090"
}
{
  "topic_metadata": {
    "id": 1296,
    "title": "Broken Square Root Symbol With Concrete Math Font",
    "slug": "broken-square-root-symbol-with-concrete-math-font",
    "posts_count": 4,
    "created_at": "2024-10-22T17:26:44.533Z",
    "last_posted_at": "2024-10-26T06:48:37.496Z",
    "views": 216,
    "like_count": 6,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "mkorje",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 158
  },
  "posts": [
    {
      "id": 4493,
      "post_number": 1,
      "username": "CarrotDLaw",
      "name": "CarrotDLaw",
      "created_at": "2024-10-22T17:26:44.698Z",
      "updated_at": "2024-10-22T17:26:44.698Z",
      "cooked": "<p>Anyone using Typst with Concrete Math font? I face a issue, and I am not sure whether it is Typst’s the font’s fault.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ min_theta sqrt(1 / n sum_(i = 1)^n (sans(\"out\")_i - sum_(j = 1)^d theta_j sans(\"feat\")_(i j) - theta_0)^2) $\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170.png\" data-download-href=\"https://forum.typst.app/uploads/default/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170_2_517x129.png\" alt=\"image\" data-base62-sha1=\"6YDiOrHvxesL1WEmmAqVnYWZ7fW\" width=\"517\" height=\"129\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170_2_517x129.png, https://forum.typst.app/uploads/default/optimized/2X/3/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170_2_775x193.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/30e7af9a9a13288db0c5ce23e3dd5d0e5b422170.png 2x\" data-dominant-color=\"F2F2F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">962×242 16.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>In math block, if the content inside the <code>sqrt</code> gets tall enough, the square root symbol becomes broken. The default New Computer Modern Math works fine though.</p>",
      "raw": "Anyone using Typst with Concrete Math font? I face a issue, and I am not sure whether it is Typst's the font's fault.\n\n```typ\n$ min_theta sqrt(1 / n sum_(i = 1)^n (sans(\"out\")_i - sum_(j = 1)^d theta_j sans(\"feat\")_(i j) - theta_0)^2) $\n```\n\n![image|690x173, 75%](upload://6YDiOrHvxesL1WEmmAqVnYWZ7fW.png)\n\nIn math block, if the content inside the `sqrt` gets tall enough, the square root symbol becomes broken. The default New Computer Modern Math works fine though.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 319.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 573
    },
    {
      "id": 4625,
      "post_number": 2,
      "username": "Enivex",
      "name": "Enivex",
      "created_at": "2024-10-24T16:49:43.291Z",
      "updated_at": "2024-10-24T16:49:43.291Z",
      "cooked": "<p>Based on <a href=\"https://github.com/typst/typst/pull/5288#discussion_r1815038580\" class=\"inline-onebox\">Fix bugs in math glyph assembly code by mkorje · Pull Request #5288 · typst/typst · GitHub</a> this is a font bug</p>",
      "raw": "Based on https://github.com/typst/typst/pull/5288#discussion_r1815038580 this is a font bug",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 41.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 5
    },
    {
      "id": 4637,
      "post_number": 3,
      "username": "mkorje",
      "name": "Max",
      "created_at": "2024-10-25T03:41:41.726Z",
      "updated_at": "2024-10-25T03:41:41.726Z",
      "cooked": "<p>I’ve sent an email to the author of the font regarding this issue and how it could be fixed. I’ll add an update here once I get a response.</p>",
      "raw": "I've sent an email to the author of the font regarding this issue and how it could be fixed. I'll add an update here once I get a response.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 30.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 76
    },
    {
      "id": 4696,
      "post_number": 4,
      "username": "mkorje",
      "name": "Max",
      "created_at": "2024-10-26T06:48:37.496Z",
      "updated_at": "2024-10-26T06:48:37.496Z",
      "cooked": "<p>A new version (0.64) of the font has been released which includes a fix for this! It is already on <a href=\"https://ctan.org/pkg/concmath-otf?lang=en\" rel=\"noopener nofollow ugc\">CTAN</a>.</p>",
      "raw": "A new version (0.64) of the font has been released which includes a fix for this! It is already on [CTAN](https://ctan.org/pkg/concmath-otf?lang=en).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 27,
      "score": 65.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 76
    }
  ],
  "scraped_at": "2025-06-10T09:56:08.612624"
}
{
  "topic_metadata": {
    "id": 1299,
    "title": "How can I exclude part of a heading from the outline?",
    "slug": "how-can-i-exclude-part-of-a-heading-from-the-outline",
    "posts_count": 5,
    "created_at": "2024-10-22T23:48:42.694Z",
    "last_posted_at": "2024-10-23T13:22:53.629Z",
    "views": 561,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "sijo",
    "tags": [
      "outline"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 263
  },
  "posts": [
    {
      "id": 4505,
      "post_number": 1,
      "username": "cAtte",
      "name": "",
      "created_at": "2024-10-22T23:48:42.801Z",
      "updated_at": "2024-10-25T10:50:55.334Z",
      "cooked": "<p>Hi! Does anyone know if there’s a way to exclude <em>part</em> of a heading from the generated outline? (I know that to exclude the whole thing, you can just use <code>heading(outlined: false)</code>).</p>\n<p>Something like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/3/37e649460ac56fd3318a7d6458fa5158c37d4d8d.png\" alt=\"image\" data-base62-sha1=\"7YvE6rcziQyvygVGHscxXOjNkrb\" width=\"672\" height=\"149\"></p>\n<p>The following is a way to do it by creating a “ghost” heading but it’s obviously not very nice nor reproducible:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline()\n#place(hide[= hey])\n#heading(outlined: false)[hey (test)]\n</code></pre>\n<p>And here’s how you could do it in LaTeX AFAICT:</p>\n<pre data-code-wrap=\"txt\"><code class=\"lang-txt\">\\documentclass{article}\n\\begin{document}\n    \\tableofcontents\n    \\subsection[hey]{hey (test)}\n\\end{document}\n</code></pre>",
      "raw": "Hi! Does anyone know if there's a way to exclude *part* of a heading from the generated outline? (I know that to exclude the whole thing, you can just use `heading(outlined: false)`).\n\nSomething like this:\n![image|672x149](upload://7YvE6rcziQyvygVGHscxXOjNkrb.png)\n\nThe following is a way to do it by creating a \"ghost\" heading but it's obviously not very nice nor reproducible:\n\n```typ\n#outline()\n#place(hide[= hey])\n#heading(outlined: false)[hey (test)]\n```\n\nAnd here's how you could do it in LaTeX AFAICT:\n\n```txt\n\\documentclass{article}\n\\begin{document}\n    \\tableofcontents\n    \\subsection[hey]{hey (test)}\n\\end{document}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 2744.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 658
    },
    {
      "id": 4507,
      "post_number": 2,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-23T05:20:43.213Z",
      "updated_at": "2024-10-23T05:20:43.213Z",
      "cooked": "<p>You could work around this by using a lower level heading (like 5th level or however deep your document goes and doing something like this</p>\n<pre><code class=\"lang-auto\">#outline(depth: 4)\n</code></pre>\n<p>Obviously, you need to create a new header with a level below 4 for this to work, but then you’d have a header that would be bookmarked in the PDF but not visible in the outline</p>",
      "raw": "You could work around this by using a lower level heading (like 5th level or however deep your document goes and doing something like this\n```\n#outline(depth: 4)\n```\nObviously, you need to create a new header with a level below 4 for this to work, but then you'd have a header that would be bookmarked in the PDF but not visible in the outline",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 88.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4510,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-23T06:16:13.724Z",
      "updated_at": "2024-10-23T06:16:13.724Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/catte\">@cAtte</a> and welcome!<br>\nYou might like to read the following topics:</p>\n<ul>\n<li><a href=\"https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685\" class=\"inline-onebox\">How to add an invisible Heading to an outline?</a></li>\n<li><a href=\"https://forum.typst.app/t/how-to-add-an-empty-heading-to-the-pdf-outline/1172\" class=\"inline-onebox\">How to add an empty heading to the PDF outline?</a></li>\n</ul>\n<p>I think some of the answers there might help you</p>",
      "raw": "Hello @cAtte and welcome!\nYou might like to read the following topics:\n- https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685\n- https://forum.typst.app/t/how-to-add-an-empty-heading-to-the-pdf-outline/1172\n\nI think some of the answers there might help you",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 153.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4543,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T12:42:05.030Z",
      "updated_at": "2024-10-23T12:42:42.023Z",
      "cooked": "<p>There’s no direct support for this currently but it has been discussed a lot, see the GitHub issues <a href=\"https://github.com/typst/typst/issues/1889\" rel=\"noopener nofollow ugc\">here</a> and <a href=\"https://github.com/typst/typst/issues/1295\" rel=\"noopener nofollow ugc\">here</a> and the linked PRs.</p>",
      "raw": "There's no direct support for this currently but it has been discussed a lot, see the GitHub issues [here](https://github.com/typst/typst/issues/1889) and [here](https://github.com/typst/typst/issues/1295) and the linked PRs.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 57.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4554,
      "post_number": 5,
      "username": "cAtte",
      "name": "",
      "created_at": "2024-10-23T13:22:53.629Z",
      "updated_at": "2024-10-23T13:22:53.629Z",
      "cooked": "<p>thanks everyone! that first issue seems pretty relevant</p>",
      "raw": "thanks everyone! that first issue seems pretty relevant",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 658
    }
  ],
  "scraped_at": "2025-06-10T09:56:07.892972"
}
{
  "topic_metadata": {
    "id": 1302,
    "title": "The font can be changed in mathematical mode?",
    "slug": "the-font-can-be-changed-in-mathematical-mode",
    "posts_count": 4,
    "created_at": "2024-10-23T07:11:55.214Z",
    "last_posted_at": "2024-10-23T13:58:33.941Z",
    "views": 458,
    "like_count": 6,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 148
  },
  "posts": [
    {
      "id": 4514,
      "post_number": 1,
      "username": "andres.gimenez",
      "name": "Andrés Jorge Giménez Muñoz",
      "created_at": "2024-10-23T07:11:55.353Z",
      "updated_at": "2024-10-23T07:11:55.353Z",
      "cooked": "<p>This example changes the size of the numbers in math mode, but not the fonts.</p>\n<pre><code class=\"lang-auto\">#set text(size: 22pt, font:\"OpenDyslexic\")\n\nMath mode 54\n\n$3/4+2/3$\n</code></pre>",
      "raw": "This example changes the size of the numbers in math mode, but not the fonts.\n\n```\n#set text(size: 22pt, font:\"OpenDyslexic\")\n\nMath mode 54\n\n$3/4+2/3$\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 58,
      "score": 2236.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 543
    },
    {
      "id": 4515,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T07:49:19.739Z",
      "updated_at": "2024-10-23T07:49:19.739Z",
      "cooked": "<p>You can change the math font with <code>#show math.equation: set text(font: ...)</code> but this won’t work with OpenDyslexic since it’s not a math font (math fonts include lots of symbols not found in regular fonts).</p>",
      "raw": "You can change the math font with `#show math.equation: set text(font: ...)` but this won't work with OpenDyslexic since it's not a math font (math fonts include lots of symbols not found in regular fonts).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 58,
      "score": 241.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4553,
      "post_number": 3,
      "username": "andres.gimenez",
      "name": "Andrés Jorge Giménez Muñoz",
      "created_at": "2024-10-23T13:19:19.794Z",
      "updated_at": "2024-10-23T13:19:19.794Z",
      "cooked": "<p>Thanks for the information. I’ve been trying and in Word it doesn’t work either. Is the specification called mathematical sources?, I will comment on it in an OpenDyslexic forum to see if anyone dares to complete them.</p>",
      "raw": "Thanks for the information. I've been trying and in Word it doesn't work either. Is the specification called mathematical sources?, I will comment on it in an OpenDyslexic forum to see if anyone dares to complete them.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 185.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 543
    },
    {
      "id": 4556,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T13:58:33.941Z",
      "updated_at": "2024-10-23T13:58:33.941Z",
      "cooked": "<p>Math font have a special math table documented <a href=\"https://learn.microsoft.com/en-us/typography/opentype/spec/math\" rel=\"noopener nofollow ugc\">here</a>.  See also this website for an overview of math font implementation: <a href=\"https://github.com/notofonts/math/blob/main/documentation/building-math-fonts/index.md\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">math/documentation/building-math-fonts/index.md at main · notofonts/math · GitHub</a></p>",
      "raw": "Math font have a special math table documented [here](https://learn.microsoft.com/en-us/typography/opentype/spec/math).  See also this website for an overview of math font implementation: https://github.com/notofonts/math/blob/main/documentation/building-math-fonts/index.md",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 52,
      "score": 90.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:07.163198"
}
{
  "topic_metadata": {
    "id": 1305,
    "title": "What is the `it` in show rules exactly?",
    "slug": "what-is-the-it-in-show-rules-exactly",
    "posts_count": 15,
    "created_at": "2024-10-23T09:47:57.016Z",
    "last_posted_at": "2025-01-23T16:35:13.676Z",
    "views": 702,
    "like_count": 23,
    "reply_count": 13,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "gezepi",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 7,
    "word_count": 1237
  },
  "posts": [
    {
      "id": 4519,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T09:47:57.121Z",
      "updated_at": "2024-10-23T09:58:45.985Z",
      "cooked": "<p>I cannot quite figure out what <code>it</code> is in show rules. I have this example that I use to prevent line breaks on inline equations:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation.where(block: false): it =&gt; {\n  box(it)\n}\n</code></pre>\n<p>What is <code>it</code> exactly in this case? I am a bit puzzled that this just works, e.g. the correct math styling is still applied still applied to the inline equations.</p>",
      "raw": "I cannot quite figure out what `it` is in show rules. I have this example that I use to prevent line breaks on inline equations:\n\n```typst\n#show math.equation.where(block: false): it => {\n  box(it)\n}\n```\nWhat is `it` exactly in this case? I am a bit puzzled that this just works, e.g. the correct math styling is still applied still applied to the inline equations.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 118,
      "score": 1813.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4520,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T09:58:34.587Z",
      "updated_at": "2024-10-23T09:58:34.587Z",
      "cooked": "<p>The right part of this show rule is an <a href=\"https://typst.app/docs/reference/foundations/function/#unnamed\">unnamed function</a>. The <a href=\"https://typst.app/docs/reference/styling/#show-rules\">show rule docs</a> have other examples; using a function and show-set are the two fundamental forms of show rules.</p>\n<p>In the anonymous function, <code>it</code> is the parameter and is filled by the show rule with its target: the element that matched the show rule. In this case, the function would be called once for every non-block equation.</p>",
      "raw": "The right part of this show rule is an [unnamed function](https://typst.app/docs/reference/foundations/function/#unnamed). The [show rule docs](https://typst.app/docs/reference/styling/#show-rules) have other examples; using a function and show-set are the two fundamental forms of show rules.\n\nIn the anonymous function, `it` is the parameter and is filled by the show rule with its target: the element that matched the show rule. In this case, the function would be called once for every non-block equation.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 117,
      "score": 58.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4521,
      "post_number": 3,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T10:15:33.812Z",
      "updated_at": "2024-10-23T10:16:37.263Z",
      "cooked": "<p>So is the show rule above equivalent to replacing every</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#math.equation(block: false, ...)\nor\n$...$\n</code></pre>\n<p>with</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#box(math.equation(block:false, ...))\n</code></pre>\n<p>?</p>",
      "raw": "So is the show rule above equivalent to replacing every\n\n```typst\n#math.equation(block: false, ...)\nor\n$...$\n```\n\nwith\n\n```typst\n#box(math.equation(block:false, ...))\n```\n?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 114,
      "score": 62.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4522,
      "post_number": 4,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-23T10:44:39.120Z",
      "updated_at": "2024-10-23T11:38:53.961Z",
      "cooked": "<p>A useful way to explore what things are is to use the <a href=\"https://typst.app/docs/reference/foundations/repr/\"><code>repr()</code></a> function.  For instance:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: false): it =&gt; repr(it)\n\n$1+2=3$\n</code></pre>\n<p>Results in:</p>\n<pre><code class=\"lang-auto\">equation(\n  block: false,\n  numbering: none,\n  number-align: end + horizon,\n  supplement: [Equation],\n  body: sequence([1], [+], [2], [=], [3]),\n)\n</code></pre>\n<p>So  in this case you can see that <code>it</code> is an equation, and you could access some of its properties within your function, or use those properties as part of a filter (the <code>.where</code> in the first part of the show rule).</p>\n<p>I’d like to note also that the name <code>it</code> is not required, it’s just a common choice (though I’m not sure why).  The following all produce identical results:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: false): a-name-other-than-it =&gt; repr(a-name-other-than-it)\n#show math.equation.where(block: false): it =&gt; repr(it)\n#show math.equation.where(block: false): repr\n</code></pre>\n<p>In the third case no name is given, but that’s ok because when the show rule is applied to the equation, it is looking for a function to pass what it finds to.  In this case the show rule finds/matches an equation, then that equation is passed directly to <code>repr</code> which accepts a single piece of content as a valid way to call the function.</p>\n<p>Edit:<br>\nThe tooltips that the web app (and Tinymist) provide are also very helpful.  Hovering my mouse over the <code>it</code> shows the same info that <code>repr</code> does:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a481a5e0349c0f0e6036cbc7007d3de0e50133a3.png\" data-download-href=\"https://forum.typst.app/uploads/default/a481a5e0349c0f0e6036cbc7007d3de0e50133a3\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a481a5e0349c0f0e6036cbc7007d3de0e50133a3_2_690x170.png\" alt=\"image\" data-base62-sha1=\"nti4CNLTtz6yakvVC4e2p6GlsMr\" width=\"690\" height=\"170\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a481a5e0349c0f0e6036cbc7007d3de0e50133a3_2_690x170.png, https://forum.typst.app/uploads/default/original/2X/a/a481a5e0349c0f0e6036cbc7007d3de0e50133a3.png 1.5x, https://forum.typst.app/uploads/default/original/2X/a/a481a5e0349c0f0e6036cbc7007d3de0e50133a3.png 2x\" data-dominant-color=\"F0F1F3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">702×173 18 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "A useful way to explore what things are is to use the [`repr()`](https://typst.app/docs/reference/foundations/repr/) function.  For instance:\n```typ\n#show math.equation.where(block: false): it => repr(it)\n\n$1+2=3$\n```\nResults in:\n```\nequation(\n  block: false,\n  numbering: none,\n  number-align: end + horizon,\n  supplement: [Equation],\n  body: sequence([1], [+], [2], [=], [3]),\n)\n```\nSo  in this case you can see that `it` is an equation, and you could access some of its properties within your function, or use those properties as part of a filter (the `.where` in the first part of the show rule).\n\nI'd like to note also that the name `it` is not required, it's just a common choice (though I'm not sure why).  The following all produce identical results:\n```typ\n#show math.equation.where(block: false): a-name-other-than-it => repr(a-name-other-than-it)\n#show math.equation.where(block: false): it => repr(it)\n#show math.equation.where(block: false): repr\n```\nIn the third case no name is given, but that's ok because when the show rule is applied to the equation, it is looking for a function to pass what it finds to.  In this case the show rule finds/matches an equation, then that equation is passed directly to `repr` which accepts a single piece of content as a valid way to call the function.\n\nEdit:\nThe tooltips that the web app (and Tinymist) provide are also very helpful.  Hovering my mouse over the `it` shows the same info that `repr` does:\n![image|690x170](upload://nti4CNLTtz6yakvVC4e2p6GlsMr.png)",
      "reply_to_post_number": null,
      "reply_count": 3,
      "quote_count": 0,
      "like_count": 3,
      "reads": 107,
      "score": 171.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4524,
      "post_number": 5,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T11:01:18.579Z",
      "updated_at": "2024-10-23T11:01:18.579Z",
      "cooked": "<p>Thanks a lot for the repr tipp. This allows me to explore things in typst myself instead of asking here <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Thanks a lot for the repr tipp. This allows me to explore things in typst myself instead of asking here :slight_smile:",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 88,
      "score": 77.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4527,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T11:37:15.473Z",
      "updated_at": "2024-10-23T11:37:15.473Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SebastianJL\" data-post=\"3\" data-topic=\"1305\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sebastianjl/48/870_2.png\" class=\"avatar\"> SebastianJL:</div>\n<blockquote>\n<p>So is the show rule above equivalent to replacing every</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#math.equation(block: false, ...)\nor\n$...$\n</code></pre>\n<p>with</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#box(math.equation(block:false, ...))\n</code></pre>\n<p>?</p>\n</blockquote>\n</aside>\n<p>Exactly. As an aside, since your show rule’s function (<code>it =&gt; box(it)</code>) only calls box and nothing else, you can just use that function directly:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: false): box\n</code></pre>\n<p>or, if you pass some additional parameters to <code>box</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: false): box.with(fill: red)\n</code></pre>\n<p>This would be equivalent to using <code>it =&gt; box(fill: red, it)</code></p>\n<aside class=\"quote no-group\" data-username=\"gezepi\" data-post=\"4\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/C34CE0/48.png\" class=\"avatar\"> gezepi:</div>\n<blockquote>\n<p>I’d like to note also that the name <code>it</code> is not required, it’s just a common choice (though I’m not sure why). The following all produce identical results:</p>\n</blockquote>\n</aside>\n<p>Yes, thanks for pointing that out. I forgot to mention that and it’s commonly misunderstood.</p>\n<p>As far as I know, “it” is just the English word, i.e. it roughly means “the thing”. Another meaning that I’ve seen is “item” but I think that has a bit less attestation. I also like to use “body”, especially for templates intended to be called as “show-everything” rules:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// main.typ\n#import \"template.typ\": my-template\n#show: my-template(config: true)\n\nThis is the body\n\n// template.typ\n#let my-template(\n  config: false,\n  // ... and other options\n) = body =&gt; {\n  // ... apply some styling\n  body\n}\n</code></pre>\n<p>(the example is a bit more complex than it needs to be, as <code>my-template</code> is a function returning a function, but I wanted to write the example like I would actually write my templates)</p>",
      "raw": "[quote=\"SebastianJL, post:3, topic:1305, full:true\"]\nSo is the show rule above equivalent to replacing every\n\n```typ\n#math.equation(block: false, ...)\nor\n$...$\n```\n\nwith\n\n```typ\n#box(math.equation(block:false, ...))\n```\n\n?\n[/quote]\n\nExactly. As an aside, since your show rule's function (`it => box(it)`) only calls box and nothing else, you can just use that function directly:\n```typ\n#show math.equation.where(block: false): box\n```\nor, if you pass some additional parameters to `box`:\n```typ\n#show math.equation.where(block: false): box.with(fill: red)\n```\nThis would be equivalent to using `it => box(fill: red, it)`\n\n[quote=\"gezepi, post:4, topic:1305\"]\nI’d like to note also that the name `it` is not required, it’s just a common choice (though I’m not sure why). The following all produce identical results:\n[/quote]\n\nYes, thanks for pointing that out. I forgot to mention that and it's commonly misunderstood.\n\nAs far as I know, \"it\" is just the English word, i.e. it roughly means \"the thing\". Another meaning that I've seen is \"item\" but I think that has a bit less attestation. I also like to use \"body\", especially for templates intended to be called as \"show-everything\" rules:\n```typ\n// main.typ\n#import \"template.typ\": my-template\n#show: my-template(config: true)\n\nThis is the body\n\n// template.typ\n#let my-template(\n  config: false,\n  // ... and other options\n) = body => {\n  // ... apply some styling\n  body\n}\n```\n(the example is a bit more complex than it needs to be, as `my-template` is a function returning a function, but I wanted to write the example like I would actually write my templates)",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 2,
      "like_count": 0,
      "reads": 89,
      "score": 37.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4546,
      "post_number": 7,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:56:18.692Z",
      "updated_at": "2024-10-23T12:56:18.849Z",
      "cooked": "<p>3 posts were split to a new topic: <a href=\"/t/what-are-the-values-that-are-shown-when-hovering-over-a-variable/1311\">What are the values that are shown when hovering over a variable?</a></p>",
      "raw": "3 posts were split to a new topic: [What are the values that are shown when hovering over a variable?](/t/what-are-the-values-that-are-shown-when-hovering-over-a-variable/1311)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 68,
      "score": 13.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4533,
      "post_number": 8,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T12:12:54.971Z",
      "updated_at": "2024-10-23T12:19:19.046Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"6\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"> SillyFreak:</div>\n<blockquote>\n<p>(the example is a bit more complex than it needs to be, as <code>my-template</code> is a function returning a function, but I wanted to write the example like I would actually write my templates)</p>\n</blockquote>\n</aside>\n<p>Why do you write your templates as functions? I do it like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let template(text-color: black, title: \"\", body) = [\n  #set text(fill: text-color)\n  #text(weight: \"bold\", size: 20pt)[title]\n  #body\n]\n\n#show: template.with(\n  text-color: blue.darken(50%),\n  title: \"hello my friends\"\n)\n\nHi this is my template\n</code></pre>\n<p><strong>Edit:</strong><br>\nReplaced the code with a working version.</p>",
      "raw": "[quote=\"SillyFreak, post:6, topic:1305\"]\n(the example is a bit more complex than it needs to be, as `my-template` is a function returning a function, but I wanted to write the example like I would actually write my templates)\n[/quote]\n\nWhy do you write your templates as functions? I do it like this:\n\n```typst\n#let template(text-color: black, title: \"\", body) = [\n  #set text(fill: text-color)\n  #text(weight: \"bold\", size: 20pt)[title]\n  #body\n]\n\n#show: template.with(\n  text-color: blue.darken(50%),\n  title: \"hello my friends\"\n)\n\nHi this is my template\n```\n\n**Edit:**\nReplaced the code with a working version.",
      "reply_to_post_number": 6,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 0,
      "reads": 68,
      "score": 38.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4537,
      "post_number": 9,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-23T12:19:34.555Z",
      "updated_at": "2024-10-23T12:19:42.026Z",
      "cooked": "<p>It comes down to the same thing, I do this too, because I prefer it that way, saves the unnecessary <code>.with</code> and looks a little cleaner IMO.</p>",
      "raw": "It comes down to the same thing, I do this too, because I prefer it that way, saves the unnecessary `.with` and looks a little cleaner IMO.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 63,
      "score": 57.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4538,
      "post_number": 10,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:20:33.874Z",
      "updated_at": "2024-10-23T12:20:59.282Z",
      "cooked": "<p>exactly to avoid the <code>with</code> <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> it’s a bit more effort (time and mental load) for the template author, but saves a bit for the template consumer. And hopefully the template will be used a bunch, so prioritizing that hopefully pays off <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "exactly to avoid the `with` :slight_smile: it's a bit more effort (time and mental load) for the template author, but saves a bit for the template consumer. And hopefully the template will be used a bunch, so prioritizing that hopefully pays off :slight_smile:",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 64,
      "score": 37.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4539,
      "post_number": 11,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T12:27:02.346Z",
      "updated_at": "2024-10-23T12:27:27.274Z",
      "cooked": "<p>I prefer the plain version that requires a <code>with</code>: I’m afraid that hiding it will obscure things for new users and push them in a “I don’t know what this is but it magically works” state of mind instead of learning the basics of the scripting language.</p>\n<p>But there’s probably no right answer, it’s all a bit subjective…</p>",
      "raw": "I prefer the plain version that requires a `with`: I'm afraid that hiding it will obscure things for new users and push them in a \"I don't know what this is but it magically works\" state of mind instead of learning the basics of the scripting language.\n\nBut there's probably no right answer, it's all a bit subjective...",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 62,
      "score": 37.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4540,
      "post_number": 12,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T12:37:37.364Z",
      "updated_at": "2024-10-23T12:38:00.939Z",
      "cooked": "<p>I had the \"I don’t know how it works, guess I’ll just write the <code>with</code> \" moment <img src=\"https://forum.typst.app/images/emoji/apple/laughing.png?v=12\" title=\":laughing:\" class=\"emoji\" alt=\":laughing:\" loading=\"lazy\" width=\"20\" height=\"20\"> .<br>\nTo be honest, the documentation and the tutorials are not quite there yet where I am able to just search for things and have them easily explained. Especially on google the info is kind of hard to find.</p>",
      "raw": "I had the \"I don't know how it works, guess I'll just write the `with` \" moment :laughing: .\nTo be honest, the documentation and the tutorials are not quite there yet where I am able to just search for things and have them easily explained. Especially on google the info is kind of hard to find.",
      "reply_to_post_number": 11,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 61,
      "score": 77.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4724,
      "post_number": 14,
      "username": "KS84",
      "name": "KS84",
      "created_at": "2024-10-27T09:16:35.246Z",
      "updated_at": "2024-10-27T09:16:35.246Z",
      "cooked": "<p>Just mentioning this as I didn’t see it mentioned anywhere below. <code>it</code> is just a variable name. You can use any name that you want. It doesn’t have to be it.</p>",
      "raw": "Just mentioning this as I didn’t see it mentioned anywhere below. `it` is just a variable name. You can use any name that you want. It doesn’t have to be it.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 60,
      "score": 107.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 114
    },
    {
      "id": 7399,
      "post_number": 15,
      "username": "neuralpain",
      "name": "neuralpain",
      "created_at": "2025-01-11T17:03:22.303Z",
      "updated_at": "2025-01-11T17:03:22.303Z",
      "cooked": "<p>I know this is question is already answered but,</p>\n<aside class=\"quote no-group\" data-username=\"gezepi\" data-post=\"4\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/C34CE0/48.png\" class=\"avatar\"> gezepi:</div>\n<blockquote>\n<p>I’d like to note also that the name <code>it</code> is not required, it’s just a common choice <strong>(though I’m not sure why)</strong>.</p>\n</blockquote>\n</aside>\n<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"6\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"> SillyFreak:</div>\n<blockquote>\n<p>As far as I know, “it” is just the English word, i.e. it roughly means “the thing”. Another meaning that I’ve seen is “item” but I think that has a bit less attestation.</p>\n</blockquote>\n</aside>\n<p>I personally found it amusing when I saw the <code>show</code> rules example using <code>it</code> as the variable. It was like reading plain English:</p>\n<pre><code class=\"lang-auto\">show (...): it =&gt; [ /* this particular way */ ]\n</code></pre>\n<p>Brilliant.</p>\n<p>Though, I prefer to use names more tailored to the specific rule, or more meaning, if you will.</p>",
      "raw": "I know this is question is already answered but,\n\n[quote=\"gezepi, post:4, topic:1305\"]\nI’d like to note also that the name `it` is not required, it’s just a common choice **(though I’m not sure why)**.\n[/quote]\n\n[quote=\"SillyFreak, post:6, topic:1305\"]\nAs far as I know, “it” is just the English word, i.e. it roughly means “the thing”. Another meaning that I’ve seen is “item” but I think that has a bit less attestation.\n[/quote]\n\nI personally found it amusing when I saw the `show` rules example using `it` as the variable. It was like reading plain English: \n\n```\nshow (...): it => [ /* this particular way */ ]\n```\n\nBrilliant.\n\nThough, I prefer to use names more tailored to the specific rule, or more meaning, if you will.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 2,
      "like_count": 1,
      "reads": 46,
      "score": 34.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 946
    },
    {
      "id": 7808,
      "post_number": 16,
      "username": "KS84",
      "name": "KS84",
      "created_at": "2025-01-23T16:35:13.676Z",
      "updated_at": "2025-01-23T16:35:13.676Z",
      "cooked": "<p>I may be wrong but i think it’s short for “item”. That would be a more conventional choice for documentation like this.</p>",
      "raw": "I may be wrong but i think it’s short for “item”. That would be a more conventional choice for documentation like this.",
      "reply_to_post_number": 15,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 114
    }
  ],
  "scraped_at": "2025-06-10T09:56:06.453032"
}
{
  "topic_metadata": {
    "id": 1306,
    "title": "How to refer to function argument in math mode",
    "slug": "how-to-refer-to-function-argument-in-math-mode",
    "posts_count": 2,
    "created_at": "2024-10-23T10:52:12.823Z",
    "last_posted_at": "2024-10-23T11:26:59.847Z",
    "views": 87,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "math",
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 323
  },
  "posts": [
    {
      "id": 4523,
      "post_number": 1,
      "username": "heptocat",
      "name": "",
      "created_at": "2024-10-23T10:52:12.919Z",
      "updated_at": "2024-10-23T10:52:12.919Z",
      "cooked": "<p>I’m using the fletcher package to create the following diagram<br>\n<span class=\"hashtag-raw\">#diagram</span>({<br>\nlet (PZ, PY) = ((0,0), (0,1))<br>\nnode(PZ, $P(Z)$)<br>\nnode(PY, $P(Y)$)<br>\nedge(PY, PZ, “-&gt;”, $f^*$, right)<br>\nedge(PZ, PY, “-&gt;”, $∃_f$, shift:-0.5)<br>\nedge(PZ, PY, “-&gt;”, $∀_f$, shift:0.5, label-side:left)<br>\n})</p>\n<p>However since this notation is bulky and I need these type of diagrams a lot, I would like to write it in the form</p>\n<p><span class=\"hashtag-raw\">#diagram</span>($<br>\nP(Z) edge(“d”, -&gt;, ∃_f, shift:0.5) edge(“d”, -&gt;, ∃_f, shift:-0.5)<br>\n<br>\nP(Y) edge(“u”, -&gt;, f^*)$)</p>\n<p>However this is not creating the same diagram, as the arrows don’t get shifted - my understanding is that it isn’t interpreting shift:0.5 correctly because I am in math mode. How can I fix this?</p>\n<p>Thanks!</p>",
      "raw": "I'm using the fletcher package to create the following diagram\n#diagram({\nlet (PZ, PY) = ((0,0), (0,1))\nnode(PZ, $P(Z)$)\nnode(PY, $P(Y)$)\nedge(PY, PZ, \"->\", $f^*$, right)\nedge(PZ, PY, \"->\", $∃_f$, shift:-0.5)\nedge(PZ, PY, \"->\", $∀_f$, shift:0.5, label-side:left)\n})\n\nHowever since this notation is bulky and I need these type of diagrams a lot, I would like to write it in the form\n\n#diagram($\n P(Z) edge(\"d\", ->, ∃_f, shift:0.5) edge(\"d\", ->, ∃_f, shift:-0.5)\n \\\nP(Y) edge(\"u\", ->, f^*)$)\n\nHowever this is not creating the same diagram, as the arrows don't get shifted - my understanding is that it isn't interpreting shift:0.5 correctly because I am in math mode. How can I fix this?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 205.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 659
    },
    {
      "id": 4526,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T11:26:59.847Z",
      "updated_at": "2024-10-23T11:27:53.977Z",
      "cooked": "<p>Welcome to the typst Discourse! You can put your code examples between <code>```</code> markers to make them more readable. See <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">here</a> for other tips.</p>\n<p>It’s a bit hard to know what you have in mind with your second example without seeing a complete (minimal) working example. But generally speaking I think it’s a bad idea to try and do everything in math mode. Writing <code>edge(PY, PZ, \"-&gt;\", $f^*$, right)</code> makes a lot of sense: the dollar signs show what part is actually a math formula. The diagram itself is not a formula.</p>\n<p>If you really want to use this shortcut form, I think you’ll have layout problems with the nodes since they are not coded to be math elements. I suppose you could get some things to work, like the edges. To fix the particular issue you have mentioned with <code>shift</code>, you will have to write <code>shift: #(-0.5)</code>. I think you will quickly find that the savings in <code>$</code> characters are quickly lost by the workarounds required to make other things work in math mode <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Welcome to the typst Discourse! You can put your code examples between ` ``` ` markers to make them more readable. See [here](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) for other tips.\n\nIt's a bit hard to know what you have in mind with your second example without seeing a complete (minimal) working example. But generally speaking I think it's a bad idea to try and do everything in math mode. Writing `edge(PY, PZ, \"->\", $f^*$, right)` makes a lot of sense: the dollar signs show what part is actually a math formula. The diagram itself is not a formula.\n\nIf you really want to use this shortcut form, I think you'll have layout problems with the nodes since they are not coded to be math elements. I suppose you could get some things to work, like the edges. To fix the particular issue you have mentioned with `shift`, you will have to write `shift: #(-0.5)`. I think you will quickly find that the savings in `$` characters are quickly lost by the workarounds required to make other things work in math mode :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 50.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:05.552148"
}
{
  "topic_metadata": {
    "id": 1307,
    "title": "Is it possible to have multiple outlines?",
    "slug": "is-it-possible-to-have-multiple-outlines",
    "posts_count": 23,
    "created_at": "2024-10-23T11:13:46.180Z",
    "last_posted_at": "2024-10-28T13:21:56.631Z",
    "views": 498,
    "like_count": 13,
    "reply_count": 20,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 22,
    "accepted_answer_username": "quachpas",
    "tags": [
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1627
  },
  "posts": [
    {
      "id": 4525,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-23T11:13:46.257Z",
      "updated_at": "2024-10-25T10:48:44.588Z",
      "cooked": "<p>I try to create a document with multiple tables of contents. For this, I tried to utilize the <code>figure</code> function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [Lorem &amp; Ipsum], target: figure.where(kind: group1))\n#outline(title: [Dolor &amp; Sit],   target: figure.where(kind: group2))\n#outline(title: [Misc.],         target: figure.where(kind: group3))\n\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Lorem]])\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Ipsum]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Dolor]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Sit]])\n#figure(kind: \"group3\", supplement: [], [#heading(level: 1)[Amet]])\n</code></pre>\n<p>Currently it doesn’t work: there is <code>unknown variable: group1</code> error. How to fix it?</p>\n<p>And also, maybe there is a better way to get multiple tables of contents, without using <code>figure</code>?</p>",
      "raw": "I try to create a document with multiple tables of contents. For this, I tried to utilize the `figure` function.\n\n```typ\n#outline(title: [Lorem & Ipsum], target: figure.where(kind: group1))\n#outline(title: [Dolor & Sit],   target: figure.where(kind: group2))\n#outline(title: [Misc.],         target: figure.where(kind: group3))\n\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Lorem]])\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Ipsum]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Dolor]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Sit]])\n#figure(kind: \"group3\", supplement: [], [#heading(level: 1)[Amet]])\n```\n\nCurrently it doesn't work: there is `unknown variable: group1` error. How to fix it?\n\nAnd also, maybe there is a better way to get multiple tables of contents, without using `figure`?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 59,
      "score": 1821.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4535,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T12:15:18.163Z",
      "updated_at": "2024-10-23T12:15:18.163Z",
      "cooked": "<p>You need to put <code>group1</code>, etc. in <code>\"</code> quotes in the first three lines. To have the figures show up in the outlines, you’ll also need to add captions.</p>\n<p>But figures are probably not what you want to use here. What’s the concrete use case? What are these different outlines? For headings you probably just need to find a clever <code>target: ...</code> for the outlines. You can use a selector to target headings that come before or after some point in your document, or headings with different supplements, or headings with particular labels…</p>",
      "raw": "You need to put `group1`, etc. in `\"` quotes in the first three lines. To have the figures show up in the outlines, you'll also need to add captions.\n\nBut figures are probably not what you want to use here. What's the concrete use case? What are these different outlines? For headings you probably just need to find a clever `target: ...` for the outlines. You can use a selector to target headings that come before or after some point in your document, or headings with different supplements, or headings with particular labels...",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 58,
      "score": 36.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4574,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-23T16:12:59.427Z",
      "updated_at": "2024-10-23T16:13:34.025Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"2\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>What’s the concrete use case? What are these different outlines?</p>\n</blockquote>\n</aside>\n<p>Here is a real-life example. A book is very thick and deeply structured. There are two outlines: a brief one and a detailed one. The brief is located in the beginning and the detailed in the end.</p>\n<p>Brief outline:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/b5aba911e1a5694b37465f2ede579578bac7f67c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_690x494.jpeg\" alt=\"image\" data-base62-sha1=\"pV8cA2zEAPW5m63inwiVSSnzNla\" width=\"690\" height=\"494\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_690x494.jpeg, https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_1035x741.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_1380x988.jpeg 2x\" data-dominant-color=\"EDEDED\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1514×1084 185 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Detailed outline:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_690x478.jpeg\" alt=\"image\" data-base62-sha1=\"oaXeMznCIIUXdj0UTHcNsYC6z5o\" width=\"690\" height=\"478\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_690x478.jpeg, https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_1035x717.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_1380x956.jpeg 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1794×1244 217 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "[quote=\"sijo, post:2, topic:1307\"]\nWhat’s the concrete use case? What are these different outlines?\n[/quote]\n\nHere is a real-life example. A book is very thick and deeply structured. There are two outlines: a brief one and a detailed one. The brief is located in the beginning and the detailed in the end.\n\nBrief outline:\n\n![image|690x494](upload://pV8cA2zEAPW5m63inwiVSSnzNla.jpeg)\n\nDetailed outline:\n\n![image|690x478](upload://oaXeMznCIIUXdj0UTHcNsYC6z5o.jpeg)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 57,
      "score": 16.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4602,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-24T06:48:49.749Z",
      "updated_at": "2024-10-24T06:48:49.749Z",
      "cooked": "<p>Like <a class=\"mention\" href=\"/u/sijo\">@sijo</a> said, it’d be better to specify the <a href=\"https://typst.app/docs/reference/model/outline/#parameters-target\"><code>target</code></a> parameter of <code>outline</code>. But if you are only looking to filter based on the heading level, then you might as well use <code>depth</code></p>\n<p>Summary:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(depth: 2, indent: 1em)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f50b19a12e3e6c53e41cabb0f7634e00a0c06282.png\" data-download-href=\"https://forum.typst.app/uploads/default/f50b19a12e3e6c53e41cabb0f7634e00a0c06282\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f50b19a12e3e6c53e41cabb0f7634e00a0c06282.png\" alt=\"image\" data-base62-sha1=\"yXKLfHfkYDHl7vmAfkeTqGjA7n4\" width=\"690\" height=\"239\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">842×292 9.79 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Table of contents:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(indent: 1em)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/61633da3bab994a8e92353acb8fe2da8aa70dfb1.png\" data-download-href=\"https://forum.typst.app/uploads/default/61633da3bab994a8e92353acb8fe2da8aa70dfb1\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/6/61633da3bab994a8e92353acb8fe2da8aa70dfb1.png\" alt=\"image\" data-base62-sha1=\"dTwW5UR94Z6zKdUnuwPCVP70jp7\" width=\"690\" height=\"301\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">840×367 12.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Like @sijo said, it'd be better to specify the [`target`](https://typst.app/docs/reference/model/outline/#parameters-target) parameter of `outline`. But if you are only looking to filter based on the heading level, then you might as well use `depth`\n\nSummary:\n```typ\n#outline(depth: 2, indent: 1em)\n```\n![image|690x239](upload://yXKLfHfkYDHl7vmAfkeTqGjA7n4.png)\n\nTable of contents:\n```typ\n#outline(indent: 1em)\n```\n![image|690x301](upload://dTwW5UR94Z6zKdUnuwPCVP70jp7.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 44.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4636,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T02:37:23.317Z",
      "updated_at": "2024-10-25T02:37:23.317Z",
      "cooked": "<p>Hello. Sorry for my delay. I tried to use labels. Could you explain, why the outlines are empty?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: \"group1\"))\n#outline(title: [Second outline], target: heading.where(label: \"group2\"))\n#outline(title: [Third outline],  target: heading.where(label: \"group3\"))\n\n= Lorem &lt;group1&gt;\n\n== A\n\n== B\n\n= Ipsum &lt;group1&gt;\n\n= X\n\n= Y\n\n= Dolor &lt;group2&gt;\n\n= Sit &lt;group2&gt;\n\n= Amet &lt;group3&gt;\n</code></pre>",
      "raw": "Hello. Sorry for my delay. I tried to use labels. Could you explain, why the outlines are empty?\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: \"group1\"))\n#outline(title: [Second outline], target: heading.where(label: \"group2\"))\n#outline(title: [Third outline],  target: heading.where(label: \"group3\"))\n\n= Lorem <group1>\n\n== A\n\n== B\n\n= Ipsum <group1>\n\n= X\n\n= Y\n\n= Dolor <group2>\n\n= Sit <group2>\n\n= Amet <group3>\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 12.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4638,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T05:41:30.547Z",
      "updated_at": "2024-10-25T05:41:39.867Z",
      "cooked": "<p>You have to give actual labels, not string, so write <code>where(label: &lt;group1&gt;)</code>.</p>\n<p>By the way if you use these labels only for headings you can simply do <code>target: &lt;group1&gt;</code> <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "You have to give actual labels, not string, so write `where(label: <group1>)`.\n\nBy the way if you use these labels only for headings you can simply do `target: <group1>` :slight_smile:",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 27.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4666,
      "post_number": 7,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T11:14:25.412Z",
      "updated_at": "2024-10-25T11:48:29.560Z",
      "cooked": "<p>Amazing, thanks! But it turns out there is another issue now. What if I need to create a link to a heading? In such a case, I should use an individual label, like <code>#link(&lt;lorem&gt;)[Link to Lorem]</code>, right?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: &lt;group1&gt;))\n#outline(title: [Second outline], target: heading.where(label: &lt;group2&gt;))\n#outline(title: [Third outline],  target: heading.where(label: &lt;group3&gt;))\n\n#pagebreak()\n#link(&lt;lorem&gt;)[Link to Lorem]\n\n#lorem(50)\n\n= Lorem\n&lt;group1&gt;&lt;lorem&gt;\n\n#lorem(500)\n\n= Ipsum\n&lt;group1&gt;\n\n#lorem(500)\n\n= Dolor\n&lt;group2&gt;\n\n#lorem(500)\n\n= Sit\n&lt;group2&gt;\n\n#lorem(500)\n\n= Amet\n&lt;group3&gt;\n\n#lorem(500)\n</code></pre>\n<p>And in such a case, though it works, the compiler complains:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">warning: content labelled multiple times.\nhint: only the last label is used, the rest are ignored\n</code></pre>\n<p>I also tried this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= Lorem&lt;group1&gt;\n~#label(\"lorem\")\n</code></pre>\n<p>And though it works as well, if I click the “Link to Lorem” link, the document is scrolled to somewhat lower than it should be.</p>\n<p>I then tried to change it to</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= Lorem&lt;lorem&gt;\n~#label(\"group1\")\n</code></pre>\n<p>but then the outline is blank again, and I didn’t figured out how to fix it.</p>",
      "raw": "Amazing, thanks! But it turns out there is another issue now. What if I need to create a link to a heading? In such a case, I should use an individual label, like `#link(<lorem>)[Link to Lorem]`, right?\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: <group1>))\n#outline(title: [Second outline], target: heading.where(label: <group2>))\n#outline(title: [Third outline],  target: heading.where(label: <group3>))\n\n#pagebreak()\n#link(<lorem>)[Link to Lorem]\n\n#lorem(50)\n\n= Lorem\n<group1><lorem>\n\n#lorem(500)\n\n= Ipsum\n<group1>\n\n#lorem(500)\n\n= Dolor\n<group2>\n\n#lorem(500)\n\n= Sit\n<group2>\n\n#lorem(500)\n\n= Amet\n<group3>\n\n#lorem(500)\n```\n\nAnd in such a case, though it works, the compiler complains:\n\n```none\nwarning: content labelled multiple times.\nhint: only the last label is used, the rest are ignored\n```\n\nI also tried this:\n\n```typ\n= Lorem<group1>\n~#label(\"lorem\")\n```\n\nAnd though it works as well, if I click the \"Link to Lorem\" link, the document is scrolled to somewhat lower than it should be.\n\nI then tried to change it to\n\n```typ\n= Lorem<lorem>\n~#label(\"group1\")\n```\n\nbut then the outline is blank again, and I didn't figured out how to fix it.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 27.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4667,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T12:08:44.188Z",
      "updated_at": "2024-10-25T12:08:44.188Z",
      "cooked": "<p>Yep you cannot have several labels for the same thing…</p>\n<p>One solution would be to remove the <code>&lt;group1&gt;</code> label for this heading and to make the outline with <code>target: selector(&lt;group1&gt;).or(&lt;lorem&gt;)</code>. But that’s annoying to keep up to date.</p>\n<p>Another solution maybe is to put the extra label just before the heading:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#metadata(none)&lt;lorem&gt;\n= Lorem &lt;group1&gt;\n</code></pre>\n<p>I think that way the link might go to the right location, at least if the heading is not placed in a fancy unusual way.</p>",
      "raw": "Yep you cannot have several labels for the same thing...\n\nOne solution would be to remove the `<group1>` label for this heading and to make the outline with `target: selector(<group1>).or(<lorem>)`. But that's annoying to keep up to date.\n\nAnother solution maybe is to put the extra label just before the heading:\n\n```typ\n#metadata(none)<lorem>\n= Lorem <group1>\n```\n\nI think that way the link might go to the right location, at least if the heading is not placed in a fancy unusual way.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 31.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4669,
      "post_number": 9,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T12:24:41.058Z",
      "updated_at": "2024-10-25T12:24:41.058Z",
      "cooked": "<p>And what you think about using <code>#[ ... ]</code>?</p>\n<pre><code class=\"lang-auto\">#[\n= Lorem&lt;group1&gt;\n]&lt;lorem&gt;\n</code></pre>",
      "raw": "And what you think about using `#[ ... ]`?\n\n```\n#[\n= Lorem<group1>\n]<lorem>\n```",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 16.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4670,
      "post_number": 10,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T12:40:47.190Z",
      "updated_at": "2024-10-25T12:40:47.190Z",
      "cooked": "<p>Instead of labelling every single heading of each group individually, you should probably define a better target in the outline.<br>\nIs there a structured rule as to how you label headings by group?</p>",
      "raw": "Instead of labelling every single heading of each group individually, you should probably define a better target in the outline.\nIs there a structured rule as to how you label headings by group?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 31.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4674,
      "post_number": 11,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T13:08:04.744Z",
      "updated_at": "2024-10-25T13:08:09.657Z",
      "cooked": "<p>I don’t know if this can interfere with other things, like the sticky property of headings… The metadata before the heading seemed less intrusive. But if it works it’s a nice solution.</p>",
      "raw": "I don't know if this can interfere with other things, like the sticky property of headings... The metadata before the heading seemed less intrusive. But if it works it's a nice solution.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4675,
      "post_number": 12,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T13:21:56.142Z",
      "updated_at": "2024-10-25T13:21:56.142Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"quachpas\" data-post=\"10\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\"> quachpas:</div>\n<blockquote>\n<p>Is there a structured rule as to how you label headings by group?</p>\n</blockquote>\n</aside>\n<p>Not sure I understand. If you could provide a simple example of this idea, it would be easier for me to answer <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "[quote=\"quachpas, post:10, topic:1307\"]\nIs there a structured rule as to how you label headings by group?\n[/quote]\n\nNot sure I understand. If you could provide a simple example of this idea, it would be easier for me to answer :slight_smile:",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4676,
      "post_number": 13,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T13:27:38.206Z",
      "updated_at": "2024-10-25T13:27:38.206Z",
      "cooked": "<p>I was probably confusing. How do you decide which heading belongs in which group, was my question.</p>",
      "raw": "I was probably confusing. How do you decide which heading belongs in which group, was my question.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4677,
      "post_number": 14,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T13:46:34.798Z",
      "updated_at": "2024-10-25T13:49:37.638Z",
      "cooked": "<p>[@<a href=\"/u/quachpas\">quachpas</a>] For me, there are two use cases to have multiple outlines.</p>\n<p>The first use case is already illustrated by the screenshots above. This is when you need a brief outline and a detailed outline.</p>\n<p>The second use case is when you need to combine headings arbitrary. E.g., you have a document with headings A, B, C, and so on, to Z. And your main outline includes all of them. But some sections may have special interest, and you may want to have a second outline specifically for them. In such a case, this can look like:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Main outline (26 elements):\n\nA .....\nB .....\nC .....\nD .....\nE .....\n.\n.\n.\nZ .....\n\nAdditional outline (3 elements):\n\nE .....\nM .....\nX .....\n</code></pre>",
      "raw": "[@[quachpas](/u/quachpas)] For me, there are two use cases to have multiple outlines.\n\nThe first use case is already illustrated by the screenshots above. This is when you need a brief outline and a detailed outline.\n\nThe second use case is when you need to combine headings arbitrary. E.g., you have a document with headings A, B, C, and so on, to Z. And your main outline includes all of them. But some sections may have special interest, and you may want to have a second outline specifically for them. In such a case, this can look like:\n\n```none\nMain outline (26 elements):\n\nA .....\nB .....\nC .....\nD .....\nE .....\n.\n.\n.\nZ .....\n\nAdditional outline (3 elements):\n\nE .....\nM .....\nX .....\n```",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4678,
      "post_number": 15,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T13:52:09.597Z",
      "updated_at": "2024-10-25T13:52:09.597Z",
      "cooked": "<p>Hmmm I understand the use case well! My question was more about the labels you use for headings.<br>\nWhen you write</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: &lt;group1&gt;))\n#outline(title: [Second outline], target: heading.where(label: &lt;group2&gt;))\n#outline(title: [Third outline],  target: heading.where(label: &lt;group3&gt;))\n</code></pre>\n<p>what exactly is “group1”, “group2”, and “group3”? We will be able to help you better if you tell us that I think</p>",
      "raw": "Hmmm I understand the use case well! My question was more about the labels you use for headings.\nWhen you write\n\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: <group1>))\n#outline(title: [Second outline], target: heading.where(label: <group2>))\n#outline(title: [Third outline],  target: heading.where(label: <group3>))\n```\nwhat exactly is \"group1\", \"group2\", and \"group3\"? We will be able to help you better if you tell us that I think",
      "reply_to_post_number": 14,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4679,
      "post_number": 16,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-25T15:23:54.835Z",
      "updated_at": "2024-10-25T15:23:54.835Z",
      "cooked": "<p>To put the request for more information in another way: what is your rationale for labelling something <code>&lt;group1&gt;</code>? Do all these headings have something in common that we could use in <code>target</code>?</p>",
      "raw": "To put the request for more information in another way: what is your rationale for labelling something `<group1>`? Do all these headings have something in common that we could use in `target`?",
      "reply_to_post_number": 15,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4681,
      "post_number": 17,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T15:50:12.801Z",
      "updated_at": "2024-10-25T15:51:32.300Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"16\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"> SillyFreak:</div>\n<blockquote>\n<p>Do all these headings have something in common that we could use in <code>target</code>?</p>\n</blockquote>\n</aside>\n<p>If you mean something in common in their appearance, as if they are red or italic or have specific prefix, the answer is no. The appearance of group1-headings, group2-headings, and group3-headings is the same. The headings are separated into three groups soleley on which things they talk about.</p>",
      "raw": "[quote=\"SillyFreak, post:16, topic:1307\"]\nDo all these headings have something in common that we could use in `target`?\n[/quote]\n\nIf you mean something in common in their appearance, as if they are red or italic or have specific prefix, the answer is no. The appearance of group1-headings, group2-headings, and group3-headings is the same. The headings are separated into three groups soleley on which things they talk about.",
      "reply_to_post_number": 16,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 26,
      "score": 25.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4683,
      "post_number": 18,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T16:39:11.131Z",
      "updated_at": "2024-10-25T16:40:12.509Z",
      "cooked": "<p>Recently I asked a different question: How to create a link to a section in such a way that link text will be the same as the heading itself, and if the heading will be changed, link text will be updated automatically, i.e. instead of writing <code>#link&lt;lorem&gt;)[Lorem]</code>, we could write just <code>#link&lt;lorem&gt;)[]</code> (<a href=\"https://forum.typst.app/t/1221\">https://forum.typst.app/t/1221</a>). It was answered by <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>.</p>\n<p>It seems that though <code>#metadata</code> and <code>#[ ... ]</code> solutions can work with xkevio’s solution in theory, it would be quite fragile. So currently I decided to use the <code>target: selector(&lt;...&gt;).or(&lt;...&gt;)</code> solution, mentioned by <a class=\"mention\" href=\"/u/sijo\">@sijo</a> above.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show link: underline\n\n// https://forum.typst.app/t/1221\n#show link.where(body: []): l =&gt; {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.text)\n}\n\n// --\n\n// https://forum.typst.app/t/1307\n#outline(title: [First outline],  target: selector(&lt;group1&gt;).or(&lt;lorem&gt;).or(&lt;ipsum&gt;))\n#outline(title: [Second outline], target: selector(&lt;group2&gt;).or(&lt;dolor&gt;))\n#outline(title: [Third outline],  target: selector(&lt;group3&gt;))\n\n#pagebreak()\n#link(&lt;lorem&gt;)[] \\\n#link(&lt;ipsum&gt;)[] \\\n#link(&lt;dolor&gt;)[]\n\n#lorem(50)\n\n= Lorem\n&lt;lorem&gt;\n\n#lorem(325)\n\n= Ipsum\n&lt;ipsum&gt;\n\n#lorem(325)\n\n= Dolor\n&lt;dolor&gt;\n\n#lorem(325)\n\n= Sit\n&lt;group2&gt;\n\n#lorem(325)\n\n= Amet\n&lt;group3&gt;\n\n#lorem(325)\n</code></pre>",
      "raw": "Recently I asked a different question: How to create a link to a section in such a way that link text will be the same as the heading itself, and if the heading will be changed, link text will be updated automatically, i.e. instead of writing `#link<lorem>)[Lorem]`, we could write just `#link<lorem>)[]` (<https://forum.typst.app/t/1221>). It was answered by @xkevio.\n\nIt seems that though `#metadata` and `#[ ... ]` solutions can work with xkevio's solution in theory, it would be quite fragile. So currently I decided to use the `target: selector(<...>).or(<...>)` solution, mentioned by @sijo above.\n\n```typ\n#show link: underline\n\n// https://forum.typst.app/t/1221\n#show link.where(body: []): l => {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.text)\n}\n\n// --\n\n// https://forum.typst.app/t/1307\n#outline(title: [First outline],  target: selector(<group1>).or(<lorem>).or(<ipsum>))\n#outline(title: [Second outline], target: selector(<group2>).or(<dolor>))\n#outline(title: [Third outline],  target: selector(<group3>))\n\n#pagebreak()\n#link(<lorem>)[] \\\n#link(<ipsum>)[] \\\n#link(<dolor>)[]\n\n#lorem(50)\n\n= Lorem\n<lorem>\n\n#lorem(325)\n\n= Ipsum\n<ipsum>\n\n#lorem(325)\n\n= Dolor\n<dolor>\n\n#lorem(325)\n\n= Sit\n<group2>\n\n#lorem(325)\n\n= Amet\n<group3>\n\n#lorem(325)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4748,
      "post_number": 19,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T07:31:29.449Z",
      "updated_at": "2024-10-28T07:31:29.449Z",
      "cooked": "<p>Glad you got a solution!</p>\n<aside class=\"quote no-group\" data-username=\"jsx97\" data-post=\"17\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/3DA8FF/48.png\" class=\"avatar\"> jsx97:</div>\n<blockquote>\n<p>The headings are separated into three groups soleley on which things they talk about.</p>\n</blockquote>\n</aside>\n<p>If the headings are labelled based on their contents, I think you might as well have a super-heading grouping them. If you don’t like having a “chapter” heading, then you can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.</p>",
      "raw": "Glad you got a solution!\n\n[quote=\"jsx97, post:17, topic:1307\"]\nThe headings are separated into three groups soleley on which things they talk about.\n[/quote]\n\nIf the headings are labelled based on their contents, I think you might as well have a super-heading grouping them. If you don't like having a \"chapter\" heading, then you can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.",
      "reply_to_post_number": 17,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4763,
      "post_number": 21,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-28T11:43:56.705Z",
      "updated_at": "2024-10-28T11:43:56.705Z",
      "cooked": "<blockquote>\n<p>You can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.</p>\n</blockquote>\n<p>This seems to be an interesting idea, but could you show how to do it? It seems it is not something built-in into the <code>#outline</code> function, and we need hand-script it, right?</p>",
      "raw": "> You can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.\n\nThis seems to be an interesting idea, but could you show how to do it? It seems it is not something built-in into the `#outline` function, and we need hand-script it, right?",
      "reply_to_post_number": 19,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 60.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4765,
      "post_number": 22,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T12:45:33.367Z",
      "updated_at": "2024-10-28T12:45:33.367Z",
      "cooked": "<p>No problem. Actually, you don’t need an invisible heading per say, just metadata.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(target: selector(heading).after(&lt;g1s&gt;).before(&lt;g1e&gt;))\n#outline(target: selector(heading).after(&lt;g2s&gt;).before(&lt;g2e&gt;))\n\n#metadata(\"group 1 start\") &lt;g1s&gt;\n\n= My Chapter Group 1\n\n== My Section Group 1\n\n#metadata(\"group 1 end\") &lt;g1e&gt;\n\n#metadata(\"group 2 start\") &lt;g2s&gt;\n= My Chapter Group 2\n\n== My Section Group 2\n\n#metadata(\"group 2 start\") &lt;g2e&gt;\n</code></pre>\n<p>As long as your groups are contiguous, it should be ok to write it like this.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png\" data-download-href=\"https://forum.typst.app/uploads/default/136398af31933c12aea724cb51c4cffbdff7439f\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/136398af31933c12aea724cb51c4cffbdff7439f_2_690x327.png\" alt=\"image\" data-base62-sha1=\"2LwshYYgj8KCFf2ACoJPNolUMY7\" width=\"690\" height=\"327\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/136398af31933c12aea724cb51c4cffbdff7439f_2_690x327.png, https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">844×400 39.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "No problem. Actually, you don't need an invisible heading per say, just metadata.\n\n```typ\n#outline(target: selector(heading).after(<g1s>).before(<g1e>))\n#outline(target: selector(heading).after(<g2s>).before(<g2e>))\n\n#metadata(\"group 1 start\") <g1s>\n\n= My Chapter Group 1\n\n== My Section Group 1\n\n#metadata(\"group 1 end\") <g1e>\n\n#metadata(\"group 2 start\") <g2s>\n= My Chapter Group 2\n\n== My Section Group 2\n\n#metadata(\"group 2 start\") <g2e>\n```\n\nAs long as your groups are contiguous, it should be ok to write it like this.\n![image|690x327](upload://2LwshYYgj8KCFf2ACoJPNolUMY7.png)",
      "reply_to_post_number": 21,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 25,
      "score": 70.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4768,
      "post_number": 23,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-28T13:19:29.184Z",
      "updated_at": "2024-10-28T13:19:29.184Z",
      "cooked": "<p>Amazing, thanks!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(target: selector(heading).after(&lt;group1start&gt;).before(&lt;group1end&gt;))\n#outline(target: selector(heading).after(&lt;group2start&gt;).before(&lt;group2end&gt;), title: none)\n\n#metadata(\"group 1 start\") &lt;group1start&gt;\n\n= Lorem\n\n= Ipsum\n\n#metadata(\"group 1 end\") &lt;group1end&gt;\n\n#metadata(\"group 2 start\") &lt;group2start&gt;\n\n= Dolor\n\n= Sit\n\n#metadata(\"group 2 start\") &lt;group2end&gt;\n</code></pre>",
      "raw": "Amazing, thanks!\n\n```typ\n#outline(target: selector(heading).after(<group1start>).before(<group1end>))\n#outline(target: selector(heading).after(<group2start>).before(<group2end>), title: none)\n\n#metadata(\"group 1 start\") <group1start>\n\n= Lorem\n\n= Ipsum\n\n#metadata(\"group 1 end\") <group1end>\n\n#metadata(\"group 2 start\") <group2start>\n\n= Dolor\n\n= Sit\n\n#metadata(\"group 2 start\") <group2end>\n```",
      "reply_to_post_number": 22,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 39.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4769,
      "post_number": 24,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T13:21:56.631Z",
      "updated_at": "2024-10-28T13:21:56.631Z",
      "cooked": "<p>Looks like that was what you wanted! I’m glad we finally got it down haha</p>",
      "raw": "Looks like that was what you wanted! I'm glad we finally got it down haha",
      "reply_to_post_number": 23,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:56:04.835817"
}
