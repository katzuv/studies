{
  "topic_metadata": {
    "id": 4312,
    "title": "How to turn off #cite() linking to bibliography?",
    "slug": "how-to-turn-off-cite-linking-to-bibliography",
    "posts_count": 4,
    "created_at": "2025-05-27T01:10:13.514Z",
    "last_posted_at": "2025-05-27T16:56:17.936Z",
    "views": 51,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "citation",
      "referencing",
      "alexandria"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 1210
  },
  "posts": [
    {
      "id": 13203,
      "post_number": 1,
      "username": "Logan",
      "name": "Logan",
      "created_at": "2025-05-27T01:10:13.621Z",
      "updated_at": "2025-05-27T17:38:29.068Z",
      "cooked": "<p>I am building a Curriculum Vitae with Typst through Quarto (which is irrelevant to my issue). I’ve had great success customizing everything to my liking, but one area I haven’t figured out or been able to find anything about is the ability to turn off citations that I’ve added to my CV from being linked to a bibliography. I’ve created a minimal example below.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline()\n\n= Peer Reviewed Publications\n== Journal Articles\n#set enum(\n  reversed: true,\n  indent: 1em\n)\n+ #cite(&lt;jumper_highly_2021&gt;, form: \"full\")\n+ #cite(&lt;varadi_alphafold_2022&gt;, form: \"full\")\n\n#set text(size: 0pt, fill: white)\n#bibliography(\"test.bib\", style: \"apa\")\n</code></pre>\n<p>The <code>test.bib</code> file can be created with the citations shown, but the actual citation does not matter.</p>\n<p>The typst code produces:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b0d423af3198816b3d3c9d3cf4a11a0666607bb0.png\" data-download-href=\"https://forum.typst.app/uploads/default/b0d423af3198816b3d3c9d3cf4a11a0666607bb0\" title=\"Screenshot 2025-05-26 at 7.58.35 PM\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b0d423af3198816b3d3c9d3cf4a11a0666607bb0_2_517x315.png\" alt=\"Screenshot 2025-05-26 at 7.58.35 PM\" data-base62-sha1=\"peixyWUJqg5xljxbVZblYi23XmE\" width=\"517\" height=\"315\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b0d423af3198816b3d3c9d3cf4a11a0666607bb0_2_517x315.png, https://forum.typst.app/uploads/default/optimized/2X/b/b0d423af3198816b3d3c9d3cf4a11a0666607bb0_2_775x472.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/b/b0d423af3198816b3d3c9d3cf4a11a0666607bb0_2_1034x630.png 2x\" data-dominant-color=\"ECECEC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-05-26 at 7.58.35 PM</span><span class=\"informations\">2051×1254 316 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>In my use case, I don’t want an actual bibliography at the end of my CV but rather list my citations as such in an order I set. The last issue I want to fix in my scenario is the ability to turn off the automatic linking of the citations to the hidden bibliography within the document. This would be confusing to people who I share my CV with as it takes one to a blank part of the CV.</p>\n<p>Edit: I have found this open <a href=\"https://github.com/typst/typst/issues/6288\" rel=\"noopener nofollow ugc\">GitHub Issue in typst/typst</a> related to turning off linking, but wanted to ask the broader community if they knew of a workaround. Thanks!</p>",
      "raw": "I am building a Curriculum Vitae with Typst through Quarto (which is irrelevant to my issue). I've had great success customizing everything to my liking, but one area I haven't figured out or been able to find anything about is the ability to turn off citations that I've added to my CV from being linked to a bibliography. I've created a minimal example below.\n\n```{=typst}\n#outline()\n\n= Peer Reviewed Publications\n== Journal Articles\n#set enum(\n  reversed: true,\n  indent: 1em\n)\n+ #cite(<jumper_highly_2021>, form: \"full\")\n+ #cite(<varadi_alphafold_2022>, form: \"full\")\n\n#set text(size: 0pt, fill: white)\n#bibliography(\"test.bib\", style: \"apa\")\n```\nThe `test.bib` file can be created with the citations shown, but the actual citation does not matter.\n\nThe typst code produces: \n![Screenshot 2025-05-26 at 7.58.35 PM|690x421, 75%](upload://peixyWUJqg5xljxbVZblYi23XmE.png)\n\nIn my use case, I don't want an actual bibliography at the end of my CV but rather list my citations as such in an order I set. The last issue I want to fix in my scenario is the ability to turn off the automatic linking of the citations to the hidden bibliography within the document. This would be confusing to people who I share my CV with as it takes one to a blank part of the CV.\n\nEdit: I have found this open [GitHub Issue in typst/typst](https://github.com/typst/typst/issues/6288) related to turning off linking, but wanted to ask the broader community if they knew of a workaround. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 34.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1661
    },
    {
      "id": 13214,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T03:08:37.978Z",
      "updated_at": "2025-05-27T03:08:37.978Z",
      "cooked": "<p>Hello.</p>\n<aside class=\"quote no-group\" data-username=\"Logan\" data-post=\"1\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/11566C/48.png\" class=\"avatar\"> Logan:</div>\n<blockquote>\n<p>I’ve created a minimal example below.</p>\n</blockquote>\n</aside>\n<p>It doesn’t compile. Not everyone has a bib file nearby.</p>\n<aside class=\"quote no-group\" data-username=\"Logan\" data-post=\"1\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/11566C/48.png\" class=\"avatar\"> Logan:</div>\n<blockquote>\n<p>The <code>test.bib</code> file can be created with the citations show, but the actual citation does not matter.</p>\n</blockquote>\n</aside>\n<p>What is “citations show”?</p>\n<aside class=\"quote no-group\" data-username=\"Logan\" data-post=\"1\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/11566C/48.png\" class=\"avatar\"> Logan:</div>\n<blockquote>\n<p>I don’t want an actual bibliography at the end of my CV but rather list my citations as such in an order I set.</p>\n</blockquote>\n</aside>\n<p>What is your order? <a href=\"https://github.com/typst/typst/issues/3913\" class=\"inline-onebox\">Ability to select how a bibliography is sorted · Issue #3913 · typst/typst · GitHub</a></p>\n<aside class=\"quote no-group\" data-username=\"Logan\" data-post=\"1\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/11566C/48.png\" class=\"avatar\"> Logan:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(size: 0pt, fill: white)\n</code></pre>\n</blockquote>\n</aside>\n<p>Use <code>#show bibliography: none</code>. <a href=\"https://github.com/typst/typst/issues/1097#issuecomment-2575716043\" class=\"inline-onebox\">Multiple bibliographies · Issue #1097 · typst/typst · GitHub</a></p>\n<aside class=\"quote no-group\" data-username=\"Logan\" data-post=\"1\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/11566C/48.png\" class=\"avatar\"> Logan:</div>\n<blockquote>\n<p>wanted to ask the broader community if they knew of a workaround</p>\n</blockquote>\n</aside>\n<p>Workarounds to issues are posted in the issue’s page. Because there is no way to retrieve the formatted citations without <code>cite</code>, you can’t reimplement it without the <a href=\"https://typst.app/docs/reference/model/link/\"><code>link</code></a>. Although it might be possible with <a href=\"https://typst.app/universe/package/alexandria\" class=\"inline-onebox\">alexandria – Typst Universe</a>.</p>",
      "raw": "Hello.\n\n[quote=\"Logan, post:1, topic:4312\"]\nI’ve created a minimal example below.\n[/quote]\n\nIt doesn't compile. Not everyone has a bib file nearby.\n\n[quote=\"Logan, post:1, topic:4312\"]\nThe `test.bib` file can be created with the citations show, but the actual citation does not matter.\n[/quote]\n\nWhat is \"citations show\"?\n\n[quote=\"Logan, post:1, topic:4312\"]\nI don’t want an actual bibliography at the end of my CV but rather list my citations as such in an order I set.\n[/quote]\n\nWhat is your order? https://github.com/typst/typst/issues/3913\n\n[quote=\"Logan, post:1, topic:4312\"]\n```typ\n#set text(size: 0pt, fill: white)\n```\n[/quote]\n\nUse `#show bibliography: none`. https://github.com/typst/typst/issues/1097#issuecomment-2575716043\n\n[quote=\"Logan, post:1, topic:4312\"]\nwanted to ask the broader community if they knew of a workaround\n[/quote]\n\nWorkarounds to issues are posted in the issue's page. Because there is no way to retrieve the formatted citations without `cite`, you can't reimplement it without the [`link`](https://typst.app/docs/reference/model/link/). Although it might be possible with https://typst.app/universe/package/alexandria.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 22,
      "score": 14.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13262,
      "post_number": 3,
      "username": "Logan",
      "name": "Logan",
      "created_at": "2025-05-27T12:34:54.878Z",
      "updated_at": "2025-05-27T12:34:54.878Z",
      "cooked": "<p>Apologizes if my post was not clear. I have attached the citations, but cannot directly upload the <code>.bib</code> file due to the typst forum not allowing <code>.bib</code> uploads. I meant to type “citations shown” which has been updated in my original post. By setting:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set enum(\n  reversed: true,\n  indent: 1em\n)\n+ #cite(&lt;jumper_highly_2021&gt;, form: \"full\")\n+ #cite(&lt;varadi_alphafold_2022&gt;, form: \"full\")\n</code></pre>\n<p>I am able to achieve the order that I want. In a CV, I like to list publications by date of publication, hence why I chose to use the <code>#cite(form: \"full\")</code> notation. In doing it this way, the citations appear in a numbered list like a bibliography without having to format a bibliography as issue <span class=\"hashtag-raw\">#3913</span> discusses. I am very happy with this and have no issues or questions regarding any sorting of citations.</p>\n<p>Using the <code>#show bibliography: none</code> works to remove some of my unnecessary code. I was not looking to replace <code>cite</code> with <code>link</code> because like you said you cannot retrieve formatted citations. But the generated PDF in-line citations made with <code>cite</code> contain links. My initial ask was to have an option in <code>cite</code> to dissallow or remove these links in the in-line citations in the PDF (I’m not meaning those in the doi or the url for the source but those when you hover over the authors’ name or the title). Prior to your suggestion of <code>#show bibliography: none</code>, these links redirected to the hidden bibliography at the end. Now they redirect to the outline, which is better than I had originally.</p>\n<p>I figured I would ask here to get some guidance from the community as I’m still new to Typst and wanted to see if there was something I was missing that could help me. Thank you for your suggestions!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">@article{jumper_highly_2021,\n\ttitle = {Highly accurate protein structure prediction with {AlphaFold}},\n\tvolume = {596},\n\tissn = {0028-0836, 1476-4687},\n\turl = {https://www.nature.com/articles/s41586-021-03819-2},\n\tdoi = {10.1038/s41586-021-03819-2},\n\tlanguage = {en},\n\tnumber = {7873},\n\turldate = {2025-05-27},\n\tjournal = {Nature},\n\tauthor = {Jumper, John and Evans, Richard and Pritzel, Alexander and Green, Tim and Figurnov, Michael and Ronneberger, Olaf and Tunyasuvunakool, Kathryn and Bates, Russ and Žídek, Augustin and Potapenko, Anna and Bridgland, Alex and Meyer, Clemens and Kohl, Simon A. A. and Ballard, Andrew J. and Cowie, Andrew and Romera-Paredes, Bernardino and Nikolov, Stanislav and Jain, Rishub and Adler, Jonas and Back, Trevor and Petersen, Stig and Reiman, David and Clancy, Ellen and Zielinski, Michal and Steinegger, Martin and Pacholska, Michalina and Berghammer, Tamas and Bodenstein, Sebastian and Silver, David and Vinyals, Oriol and Senior, Andrew W. and Kavukcuoglu, Koray and Kohli, Pushmeet and Hassabis, Demis},\n\tmonth = aug,\n\tyear = {2021},\n\tpages = {583--589},\n}\n\n@article{varadi_alphafold_2022,\n\ttitle = {{AlphaFold} {Protein} {Structure} {Database}: massively expanding the structural coverage of protein-sequence space with high-accuracy models},\n\tvolume = {50},\n\tcopyright = {https://creativecommons.org/licenses/by/4.0/},\n\tissn = {0305-1048, 1362-4962},\n\tshorttitle = {{AlphaFold} {Protein} {Structure} {Database}},\n\turl = {https://academic.oup.com/nar/article/50/D1/D439/6430488},\n\tdoi = {10.1093/nar/gkab1061},\n\tlanguage = {en},\n\tnumber = {D1},\n\turldate = {2025-05-27},\n\tjournal = {Nucleic Acids Research},\n\tauthor = {Varadi, Mihaly and Anyango, Stephen and Deshpande, Mandar and Nair, Sreenath and Natassia, Cindy and Yordanova, Galabina and Yuan, David and Stroe, Oana and Wood, Gemma and Laydon, Agata and Žídek, Augustin and Green, Tim and Tunyasuvunakool, Kathryn and Petersen, Stig and Jumper, John and Clancy, Ellen and Green, Richard and Vora, Ankur and Lutfi, Mira and Figurnov, Michael and Cowie, Andrew and Hobbs, Nicole and Kohli, Pushmeet and Kleywegt, Gerard and Birney, Ewan and Hassabis, Demis and Velankar, Sameer},\n\tmonth = jan,\n\tyear = {2022},\n\tpages = {D439--D444},\n}\n</code></pre>",
      "raw": "Apologizes if my post was not clear. I have attached the citations, but cannot directly upload the `.bib` file due to the typst forum not allowing `.bib` uploads. I meant to type \"citations shown\" which has been updated in my original post. By setting:\n\n```{=typst}\n#set enum(\n  reversed: true,\n  indent: 1em\n)\n+ #cite(<jumper_highly_2021>, form: \"full\")\n+ #cite(<varadi_alphafold_2022>, form: \"full\")\n```\n\nI am able to achieve the order that I want. In a CV, I like to list publications by date of publication, hence why I chose to use the `#cite(form: \"full\")` notation. In doing it this way, the citations appear in a numbered list like a bibliography without having to format a bibliography as issue #3913 discusses. I am very happy with this and have no issues or questions regarding any sorting of citations.\n\nUsing the `#show bibliography: none` works to remove some of my unnecessary code. I was not looking to replace `cite` with `link` because like you said you cannot retrieve formatted citations. But the generated PDF in-line citations made with `cite` contain links. My initial ask was to have an option in `cite` to dissallow or remove these links in the in-line citations in the PDF (I'm not meaning those in the doi or the url for the source but those when you hover over the authors' name or the title). Prior to your suggestion of `#show bibliography: none`, these links redirected to the hidden bibliography at the end. Now they redirect to the outline, which is better than I had originally.\n\nI figured I would ask here to get some guidance from the community as I'm still new to Typst and wanted to see if there was something I was missing that could help me. Thank you for your suggestions!\n\n```\n@article{jumper_highly_2021,\n\ttitle = {Highly accurate protein structure prediction with {AlphaFold}},\n\tvolume = {596},\n\tissn = {0028-0836, 1476-4687},\n\turl = {https://www.nature.com/articles/s41586-021-03819-2},\n\tdoi = {10.1038/s41586-021-03819-2},\n\tlanguage = {en},\n\tnumber = {7873},\n\turldate = {2025-05-27},\n\tjournal = {Nature},\n\tauthor = {Jumper, John and Evans, Richard and Pritzel, Alexander and Green, Tim and Figurnov, Michael and Ronneberger, Olaf and Tunyasuvunakool, Kathryn and Bates, Russ and Žídek, Augustin and Potapenko, Anna and Bridgland, Alex and Meyer, Clemens and Kohl, Simon A. A. and Ballard, Andrew J. and Cowie, Andrew and Romera-Paredes, Bernardino and Nikolov, Stanislav and Jain, Rishub and Adler, Jonas and Back, Trevor and Petersen, Stig and Reiman, David and Clancy, Ellen and Zielinski, Michal and Steinegger, Martin and Pacholska, Michalina and Berghammer, Tamas and Bodenstein, Sebastian and Silver, David and Vinyals, Oriol and Senior, Andrew W. and Kavukcuoglu, Koray and Kohli, Pushmeet and Hassabis, Demis},\n\tmonth = aug,\n\tyear = {2021},\n\tpages = {583--589},\n}\n\n@article{varadi_alphafold_2022,\n\ttitle = {{AlphaFold} {Protein} {Structure} {Database}: massively expanding the structural coverage of protein-sequence space with high-accuracy models},\n\tvolume = {50},\n\tcopyright = {https://creativecommons.org/licenses/by/4.0/},\n\tissn = {0305-1048, 1362-4962},\n\tshorttitle = {{AlphaFold} {Protein} {Structure} {Database}},\n\turl = {https://academic.oup.com/nar/article/50/D1/D439/6430488},\n\tdoi = {10.1093/nar/gkab1061},\n\tlanguage = {en},\n\tnumber = {D1},\n\turldate = {2025-05-27},\n\tjournal = {Nucleic Acids Research},\n\tauthor = {Varadi, Mihaly and Anyango, Stephen and Deshpande, Mandar and Nair, Sreenath and Natassia, Cindy and Yordanova, Galabina and Yuan, David and Stroe, Oana and Wood, Gemma and Laydon, Agata and Žídek, Augustin and Green, Tim and Tunyasuvunakool, Kathryn and Petersen, Stig and Jumper, John and Clancy, Ellen and Green, Richard and Vora, Ankur and Lutfi, Mira and Figurnov, Michael and Cowie, Andrew and Hobbs, Nicole and Kohli, Pushmeet and Kleywegt, Gerard and Birney, Ewan and Hassabis, Demis and Velankar, Sameer},\n\tmonth = jan,\n\tyear = {2022},\n\tpages = {D439--D444},\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1661
    },
    {
      "id": 13290,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T16:56:17.936Z",
      "updated_at": "2025-05-27T16:56:17.936Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"2\" data-topic=\"4312\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>Although it might be possible with <a href=\"https://typst.app/universe/package/alexandria\">alexandria – Typst Universe</a>.</p>\n</blockquote>\n</aside>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/alexandria:0.2.0\": (\n  alexandria, get-bibliography, load-bibliography, render-bibliography,\n)\n#show: alexandria(prefix: \"\", read: path =&gt; read(path))\n\n#outline()\n\n= Peer Reviewed Publications\n== Journal Articles\n#set enum(reversed: true, indent: 1em)\n+ #cite(&lt;jumper_highly_2021&gt;, form: \"full\")\n+ #cite(&lt;varadi_alphafold_2022&gt;, form: \"full\")\n\n#load-bibliography(\"test.bib\", style: \"apa\")\n#context render-bibliography(get-bibliography(\"\"), title: none)\n</code></pre>\n<p><code>hayagriva.typ</code>:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">        if \"entry\" in body.meta {\n          assert.ne(keys, none, message: \"Alexandria: internal error: citation keys are missing\")\n          assert(body.meta.entry &lt; keys.len(), message: \"Alexandria: internal error: unmatched key in citegroup\")\n          let entry = keys.at(body.meta.entry)\n          // it = link(entry, it)\n        }\n</code></pre>\n<p><code>lib.typ</code>:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">    for (i, e) in bib.references.enumerate() {\n      if i != 0 { gutter }\n      [#metadata(none)#label(bib.prefix + e.key)]\n      // hayagriva.render(e.reference)\n    }\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a3e96144210f1eab3088cb565f28f5e8fef14adf.png\" data-download-href=\"https://forum.typst.app/uploads/default/a3e96144210f1eab3088cb565f28f5e8fef14adf\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a3e96144210f1eab3088cb565f28f5e8fef14adf_2_690x392.png\" alt=\"image\" data-base62-sha1=\"no1QciYQVNz9Jq8icLcT1uvhdhB\" width=\"690\" height=\"392\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a3e96144210f1eab3088cb565f28f5e8fef14adf_2_690x392.png, https://forum.typst.app/uploads/default/original/2X/a/a3e96144210f1eab3088cb565f28f5e8fef14adf.png 1.5x, https://forum.typst.app/uploads/default/original/2X/a/a3e96144210f1eab3088cb565f28f5e8fef14adf.png 2x\" data-dominant-color=\"1F1F2D\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">711×404 96.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "[quote=\"Andrew, post:2, topic:4312\"]\nAlthough it might be possible with [alexandria – Typst Universe](https://typst.app/universe/package/alexandria).\n[/quote]\n\n```typ\n#import \"@preview/alexandria:0.2.0\": (\n  alexandria, get-bibliography, load-bibliography, render-bibliography,\n)\n#show: alexandria(prefix: \"\", read: path => read(path))\n\n#outline()\n\n= Peer Reviewed Publications\n== Journal Articles\n#set enum(reversed: true, indent: 1em)\n+ #cite(<jumper_highly_2021>, form: \"full\")\n+ #cite(<varadi_alphafold_2022>, form: \"full\")\n\n#load-bibliography(\"test.bib\", style: \"apa\")\n#context render-bibliography(get-bibliography(\"\"), title: none)\n```\n\n`hayagriva.typ`:\n\n```typc\n        if \"entry\" in body.meta {\n          assert.ne(keys, none, message: \"Alexandria: internal error: citation keys are missing\")\n          assert(body.meta.entry < keys.len(), message: \"Alexandria: internal error: unmatched key in citegroup\")\n          let entry = keys.at(body.meta.entry)\n          // it = link(entry, it)\n        }\n```\n\n`lib.typ`:\n\n```typc\n    for (i, e) in bib.references.enumerate() {\n      if i != 0 { gutter }\n      [#metadata(none)#label(bib.prefix + e.key)]\n      // hayagriva.render(e.reference)\n    }\n```\n\n![image|690x392](upload://no1QciYQVNz9Jq8icLcT1uvhdhB.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 17,
      "score": 88.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:13.485594"
}
{
  "topic_metadata": {
    "id": 4322,
    "title": "Is there a work around for DOI links in bibliographies not spanning the whole URL?",
    "slug": "is-there-a-work-around-for-doi-links-in-bibliographies-not-spanning-the-whole-url",
    "posts_count": 3,
    "created_at": "2025-05-27T07:22:34.702Z",
    "last_posted_at": "2025-05-27T08:10:19.140Z",
    "views": 30,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "literature",
      "citation"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 374
  },
  "posts": [
    {
      "id": 13226,
      "post_number": 1,
      "username": "Marcel",
      "name": "Marcel",
      "created_at": "2025-05-27T07:22:34.783Z",
      "updated_at": "2025-05-27T12:03:40.291Z",
      "cooked": "<p>Hello,</p>\n<p>is there a work around for the Issue showcased <a href=\"https://github.com/typst/hayagriva/issues/114#issuecomment-2781361465\" rel=\"noopener nofollow ugc\">here</a>? The doi prefix does not link to the right place. I need to use APA and have the right prefix. This is kinda urgent…</p>",
      "raw": "Hello,\n\nis there a work around for the Issue showcased [here](https://github.com/typst/hayagriva/issues/114#issuecomment-2781361465)? The doi prefix does not link to the right place. I need to use APA and have the right prefix. This is kinda urgent..",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1664
    },
    {
      "id": 13229,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-27T07:49:00.251Z",
      "updated_at": "2025-05-27T07:49:00.251Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/marcel\">@Marcel</a>, welcome and thank you for your question! I have changed your post’s title to bring it in line with the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> and thus make it easier to understand from the title:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>",
      "raw": "Hi @Marcel, welcome and thank you for your question! I have changed your post’s title to bring it in line with the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) and thus make it easier to understand from the title:\n\n> **Good titles are questions you would ask your friend about Typst.**",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 13231,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-27T08:10:19.140Z",
      "updated_at": "2025-05-27T08:10:19.140Z",
      "cooked": "<p>If it’s urgent, I would probably recommend modifying the bibliography file. I tested with the following:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show link: highlight\n\n#bibliography(\n  style: \"apa\",\n  full: true,\n  bytes(```\n@article{glacier-melt,\n  author = {Regine Hock},\n  title = {Glacier melt: a review of processes and their modelling},\n  journal = {Progress in Physical Geography: Earth and Environment},\n  volume = {29},\n  number = {3},\n  pages = {362-391},\n  year = {2005},\n  doi = {10.1191/0309133305pp453ra},\n  URL = {https://doi.org/10.1191/0309133305pp453ra},\n}\n```.text),\n)\n</code></pre>\n<p>(Note that for next time, you can make it easier for us by adding an example bibliography entry to your post. That way we can immediately start working on your problem, and don’t first need to reproduce it.)</p>\n<p>This entry already contains a URL field, but it is ignored in favor of the DOI. If you remove the DOI field, the highlight indicates that the full URL is the link instead.</p>\n<p>If you’re interested, the DOI vs URL decision is due to the following code in <a href=\"https://www.zotero.org/styles/apa\">the CSL used by Typst</a>:</p>\n<pre data-code-wrap=\"xml\"><code class=\"lang-xml\">  &lt;macro name=\"access\"&gt;\n    &lt;choose&gt;\n      &lt;if variable=\"DOI\" match=\"any\"&gt;\n        &lt;text variable=\"DOI\" prefix=\"https://doi.org/\"/&gt;\n      &lt;/if&gt;\n      &lt;else-if variable=\"URL\"&gt;\n        &lt;group delimiter=\" \"&gt;\n          &lt;choose&gt;\n            &lt;if variable=\"issued status\" match=\"none\"&gt;\n              &lt;group delimiter=\" \"&gt;\n                &lt;text term=\"retrieved\" text-case=\"capitalize-first\"/&gt;\n                &lt;date variable=\"accessed\" form=\"text\" suffix=\",\"/&gt;\n                &lt;text term=\"from\"/&gt;\n              &lt;/group&gt;\n            &lt;/if&gt;\n          &lt;/choose&gt;\n          &lt;text variable=\"URL\"/&gt;\n        &lt;/group&gt;\n      &lt;/else-if&gt;\n    &lt;/choose&gt;\n  &lt;/macro&gt;\n</code></pre>\n<p>I think it’s the <code>&lt;text variable=\"DOI\"&gt;</code> that produces the link implicitly, and the prefix is not included in this (since it isn’t for all styles), so this can’t be easily fixed by providing a custom CSL style…</p>",
      "raw": "If it's urgent, I would probably recommend modifying the bibliography file. I tested with the following:\n````\n#show link: highlight\n\n#bibliography(\n  style: \"apa\",\n  full: true,\n  bytes(```\n@article{glacier-melt,\n  author = {Regine Hock},\n  title = {Glacier melt: a review of processes and their modelling},\n  journal = {Progress in Physical Geography: Earth and Environment},\n  volume = {29},\n  number = {3},\n  pages = {362-391},\n  year = {2005},\n  doi = {10.1191/0309133305pp453ra},\n  URL = {https://doi.org/10.1191/0309133305pp453ra},\n}\n```.text),\n)\n````\n\n(Note that for next time, you can make it easier for us by adding an example bibliography entry to your post. That way we can immediately start working on your problem, and don't first need to reproduce it.)\n\nThis entry already contains a URL field, but it is ignored in favor of the DOI. If you remove the DOI field, the highlight indicates that the full URL is the link instead.\n\nIf you're interested, the DOI vs URL decision is due to the following code in [the CSL used by Typst](https://www.zotero.org/styles/apa):\n```xml\n  <macro name=\"access\">\n    <choose>\n      <if variable=\"DOI\" match=\"any\">\n        <text variable=\"DOI\" prefix=\"https://doi.org/\"/>\n      </if>\n      <else-if variable=\"URL\">\n        <group delimiter=\" \">\n          <choose>\n            <if variable=\"issued status\" match=\"none\">\n              <group delimiter=\" \">\n                <text term=\"retrieved\" text-case=\"capitalize-first\"/>\n                <date variable=\"accessed\" form=\"text\" suffix=\",\"/>\n                <text term=\"from\"/>\n              </group>\n            </if>\n          </choose>\n          <text variable=\"URL\"/>\n        </group>\n      </else-if>\n    </choose>\n  </macro>\n```\nI think it's the `<text variable=\"DOI\">` that produces the link implicitly, and the prefix is not included in this (since it isn't for all styles), so this can't be easily fixed by providing a custom CSL style...",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 19,
      "score": 33.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:47:12.754481"
}
{
  "topic_metadata": {
    "id": 4325,
    "title": "How do I set a custom heading in the \"abbr\"-package?",
    "slug": "how-do-i-set-a-custom-heading-in-the-abbr-package",
    "posts_count": 2,
    "created_at": "2025-05-27T09:17:19.620Z",
    "last_posted_at": "2025-05-27T12:26:38.959Z",
    "views": 20,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 166
  },
  "posts": [
    {
      "id": 13236,
      "post_number": 1,
      "username": "jenny",
      "name": "jenny",
      "created_at": "2025-05-27T09:17:19.719Z",
      "updated_at": "2025-05-27T09:17:19.719Z",
      "cooked": "<p>I’m using abbr 0.2.3 to  manage my abbreviations. In the package info there is <code>list (title)</code> written. I thought I could add a title with that but it doesn’t allow anything within the brackets. The package creates a heading but I want to set my own.  How can I do that?</p>",
      "raw": "I'm using abbr 0.2.3 to  manage my abbreviations. In the package info there is `list (title)` written. I thought I could add a title with that but it doesn't allow anything within the brackets. The package creates a heading but I want to set my own.  How can I do that?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 11,
      "score": 37.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1633
    },
    {
      "id": 13261,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T12:26:38.959Z",
      "updated_at": "2025-05-27T12:26:38.959Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/abbr:0.2.3\"\n\n#abbr.list(title: [Custom title])\n// alternative: #abbr.load(\"example.csv\")\n#abbr.make(\n  (\"PDE\", \"Partial Differential Equation\"),\n  (\"BC\", \"Boundary Condition\"),\n  (\"DOF\", \"Degree of Freedom\", \"Degrees of Freedom\"),\n)\n\n\n= Constrained Equations\n\n#abbr.pla[BC] constrain the #abbr.pla[DOF] of the #abbr.pla[PDE] they act on.\n\n#abbr.config(style: it =&gt; text(red, it), space-char: sym.arrow.l.r)\n\n#abbr.pla[BC] constrain the #abbr.pla[DOF] of the #abbr.pla[PDE] they act on.\n\n#abbr.add(\"MOL\", \"Method of Lines\")\nThe #abbr.a[MOL] is a procedure to solve #abbr.pla[PDE] in time.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b0c5d07a7dfa720d053dce33f8de857e4f0eedf0.png\" data-download-href=\"https://forum.typst.app/uploads/default/b0c5d07a7dfa720d053dce33f8de857e4f0eedf0\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/b/b0c5d07a7dfa720d053dce33f8de857e4f0eedf0.png\" alt=\"image\" data-base62-sha1=\"pdNQHTP6cj3FJBZgzgBxnLahsFq\" width=\"535\" height=\"209\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">535×209 32.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/universe/package/abbr\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/universe/package/abbr\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/universe/package/abbr\" target=\"_blank\" rel=\"noopener\">abbr – Typst Universe</a></h3>\n\n  <p>An Abbreviations package.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "```typ\n#import \"@preview/abbr:0.2.3\"\n\n#abbr.list(title: [Custom title])\n// alternative: #abbr.load(\"example.csv\")\n#abbr.make(\n  (\"PDE\", \"Partial Differential Equation\"),\n  (\"BC\", \"Boundary Condition\"),\n  (\"DOF\", \"Degree of Freedom\", \"Degrees of Freedom\"),\n)\n\n\n= Constrained Equations\n\n#abbr.pla[BC] constrain the #abbr.pla[DOF] of the #abbr.pla[PDE] they act on.\n\n#abbr.config(style: it => text(red, it), space-char: sym.arrow.l.r)\n\n#abbr.pla[BC] constrain the #abbr.pla[DOF] of the #abbr.pla[PDE] they act on.\n\n#abbr.add(\"MOL\", \"Method of Lines\")\nThe #abbr.a[MOL] is a procedure to solve #abbr.pla[PDE] in time.\n```\n\n![image|535x209](upload://pdNQHTP6cj3FJBZgzgBxnLahsFq.png)\n\nhttps://typst.app/universe/package/abbr",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 9,
      "score": 31.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:12.014715"
}
{
  "topic_metadata": {
    "id": 4328,
    "title": "How to typeset augmented matrices?",
    "slug": "how-to-typeset-augmented-matrices",
    "posts_count": 2,
    "created_at": "2025-05-27T11:36:40.627Z",
    "last_posted_at": "2025-05-27T11:41:40.454Z",
    "views": 46,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bluss",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 75
  },
  "posts": [
    {
      "id": 13258,
      "post_number": 1,
      "username": "Zach_S",
      "name": "Zach S",
      "created_at": "2025-05-27T11:36:40.711Z",
      "updated_at": "2025-05-28T06:30:47.995Z",
      "cooked": "<p>Does anyone know how to typset augmented matrices for row reduction? I can’t seem to figure out how to get it such that there is a vertical line separating the last column. Do you have to use a grid? Appreciate any help in advance.</p>",
      "raw": "Does anyone know how to typset augmented matrices for row reduction? I can't seem to figure out how to get it such that there is a vertical line separating the last column. Do you have to use a grid? Appreciate any help in advance.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 49.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1559
    },
    {
      "id": 13259,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-05-27T11:41:40.454Z",
      "updated_at": "2025-05-27T11:41:49.491Z",
      "cooked": "<p>There’s an example over in the docs  <a href=\"https://typst.app/docs/reference/math/mat/#parameters-augment\" class=\"inline-onebox\">Matrix Function – Typst Documentation</a></p>\n<p>Click the <em>View Example</em>  thing under augment.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6d7be32cc7ad0f8613f86499384dc055f04623dc.png\" data-download-href=\"https://forum.typst.app/uploads/default/6d7be32cc7ad0f8613f86499384dc055f04623dc\" title=\"bild\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/6d7be32cc7ad0f8613f86499384dc055f04623dc_2_517x220.png\" alt=\"bild\" data-base62-sha1=\"fCxtfEpotHk76ThQXYbcY7KMErO\" width=\"517\" height=\"220\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/6d7be32cc7ad0f8613f86499384dc055f04623dc_2_517x220.png, https://forum.typst.app/uploads/default/optimized/2X/6/6d7be32cc7ad0f8613f86499384dc055f04623dc_2_775x330.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/6d7be32cc7ad0f8613f86499384dc055f04623dc.png 2x\" data-dominant-color=\"F4F4F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">bild</span><span class=\"informations\">840×358 36.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "There's an example over in the docs  https://typst.app/docs/reference/math/mat/#parameters-augment\n\nClick the *View Example*  thing under augment.\n\n![bild|690x294, 75%](upload://fCxtfEpotHk76ThQXYbcY7KMErO.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 24,
      "score": 49.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    }
  ],
  "scraped_at": "2025-06-10T09:47:11.305626"
}
{
  "topic_metadata": {
    "id": 4332,
    "title": "How to use words as heading numbers",
    "slug": "how-to-use-words-as-heading-numbers",
    "posts_count": 5,
    "created_at": "2025-05-27T12:55:11.861Z",
    "last_posted_at": "2025-05-28T07:33:55.138Z",
    "views": 76,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 297
  },
  "posts": [
    {
      "id": 13274,
      "post_number": 1,
      "username": "oiseauidiot",
      "name": "",
      "created_at": "2025-05-27T12:55:11.942Z",
      "updated_at": "2025-05-29T14:31:12.680Z",
      "cooked": "<p>I know you can customize the heading to have some roman numbers or letters:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: \"I.1.a.\")\n\n= Bla bla bla 1\n= Bla bla bla 2\n= Bla bla bla 3\n</code></pre>\n<p>Which will render as:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">I. Bla bla bla 1\n\nII. Bla bla bla 2\n\nIII. Bla bla bla 3\n</code></pre>\n<p>Now, say I want “First part”, “Second Part”, “Third Part”, Instead of the roman “I”, “II”, “III”, how can I do this?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">First Part - Bla bla bla 1\n\nSecond Part - Bla bla bla 2\n\nThird Part - Bla Bla Bla 3\n</code></pre>\n<p>I currently have this workaround but it feels janky… (or maybe it’s the best solution?)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let numless(it) = {set heading(numbering: none); it }\n#numless[= #underline[First Part] - Bla bla bla 1)]\n</code></pre>",
      "raw": "I know you can customize the heading to have some roman numbers or letters:\n```typ\n#set heading(numbering: \"I.1.a.\")\n\n= Bla bla bla 1\n= Bla bla bla 2\n= Bla bla bla 3\n```\nWhich will render as:\n```\nI. Bla bla bla 1\n\nII. Bla bla bla 2\n\nIII. Bla bla bla 3\n```\n\nNow, say I want \"First part\", \"Second Part\", \"Third Part\", Instead of the roman \"I\", \"II\", \"III\", how can I do this?\n\n```\nFirst Part - Bla bla bla 1\n\nSecond Part - Bla bla bla 2\n\nThird Part - Bla Bla Bla 3\n```\n\nI currently have this workaround but it feels janky.. (or maybe it's the best solution?)\n```typ\n#let numless(it) = {set heading(numbering: none); it }\n#numless[= #underline[First Part] - Bla bla bla 1)]\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 60.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1549
    },
    {
      "id": 13276,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-05-27T13:02:21.324Z",
      "updated_at": "2025-05-27T13:02:21.324Z",
      "cooked": "<p>You can define your own numbering function to do what you need, for example</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">  #set heading(numbering: (..n) =&gt; {\n    let index = n.pos().at(0)\n    // extend me\n    let first = (\"First\", \"Second\", \"Third\").at(index - 1, default: str(index) + \"th\")\n    // what about the rest\n    let rest = numbering(\"1.a\", ..n.pos().slice(1, none))\n    if rest.len() &gt; 0 { rest = \" \" + rest }\n    [#first -#rest]\n  })\n  = Bla\n  = Bla Bla\n  == Sub\n  === Sub\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b03a7f06e9fe664da45933ea1c1e5314d2eb8a3a.png\" data-download-href=\"https://forum.typst.app/uploads/default/b03a7f06e9fe664da45933ea1c1e5314d2eb8a3a\" title=\"bild\"><img src=\"https://forum.typst.app/uploads/default/original/2X/b/b03a7f06e9fe664da45933ea1c1e5314d2eb8a3a.png\" alt=\"bild\" data-base62-sha1=\"p8ZmsMT73I8P6N5E3Ee8Gzrk0RQ\" width=\"244\" height=\"149\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">bild</span><span class=\"informations\">326×199 15.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You can define your own numbering function to do what you need, for example\n\n```typst\n  #set heading(numbering: (..n) => {\n    let index = n.pos().at(0)\n    // extend me\n    let first = (\"First\", \"Second\", \"Third\").at(index - 1, default: str(index) + \"th\")\n    // what about the rest\n    let rest = numbering(\"1.a\", ..n.pos().slice(1, none))\n    if rest.len() > 0 { rest = \" \" + rest }\n    [#first -#rest]\n  })\n  = Bla\n  = Bla Bla\n  == Sub\n  === Sub\n```\n![bild|326x199, 75%](upload://p8ZmsMT73I8P6N5E3Ee8Gzrk0RQ.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 25.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13294,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T17:21:52.768Z",
      "updated_at": "2025-05-28T13:12:15.353Z",
      "cooked": "<p>This doesn’t look readable to me.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let nth(ordinal-num) = (\n  \"First\",\n  \"Second\",\n  \"Third\",\n  \"Fourth\",\n  \"Fifth\",\n  \"Sixth\",\n  \"Seventh\",\n  \"Eighth\",\n  \"Ninth\",\n  \"Tenth\",\n).at(ordinal-num - 1)\n\n\n#set heading(numbering: (..n) =&gt; {\n  let (a, ..b) = n.pos()\n  [#nth(a) Part] + numbering(\".1.a —\", ..b)\n})\n\n= Heading\n== Heading\n=== Heading\n= Heading\n== Heading\n=== Heading\n= Heading\n== Heading\n=== Heading\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/98df01af14b344672b9b4c11f4cc3b6fb0c63ca2.png\" data-download-href=\"https://forum.typst.app/uploads/default/98df01af14b344672b9b4c11f4cc3b6fb0c63ca2\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/9/98df01af14b344672b9b4c11f4cc3b6fb0c63ca2.png\" alt=\"image\" data-base62-sha1=\"lOmmCFjpKRZLSZKnCTKRN6YgvZw\" width=\"204\" height=\"267\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">273×356 30.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "This doesn't look readable to me.\n\n```typ\n#let nth(ordinal-num) = (\n  \"First\",\n  \"Second\",\n  \"Third\",\n  \"Fourth\",\n  \"Fifth\",\n  \"Sixth\",\n  \"Seventh\",\n  \"Eighth\",\n  \"Ninth\",\n  \"Tenth\",\n).at(ordinal-num - 1)\n\n\n#set heading(numbering: (..n) => {\n  let (a, ..b) = n.pos()\n  [#nth(a) Part] + numbering(\".1.a —\", ..b)\n})\n\n= Heading\n== Heading\n=== Heading\n= Heading\n== Heading\n=== Heading\n= Heading\n== Heading\n=== Heading\n```\n\n![image|273x356, 75%](upload://lOmmCFjpKRZLSZKnCTKRN6YgvZw.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 29.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13327,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-28T04:53:31.708Z",
      "updated_at": "2025-05-28T04:53:31.708Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/oiseauidiot\">@oiseauidiot</a>, did <a class=\"mention\" href=\"/u/bluss\">@bluss</a>’s response solve your problem? If so, can you please mark it as a solution with the <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> button? Otherwise, please tell us how can we help you further. Thanks! <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hello @oiseauidiot, did @bluss's response solve your problem? If so, can you please mark it as a solution with the :white_check_mark: button? Otherwise, please tell us how can we help you further. Thanks! :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13337,
      "post_number": 5,
      "username": "oiseauidiot",
      "name": "",
      "created_at": "2025-05-28T07:33:55.138Z",
      "updated_at": "2025-05-28T07:33:55.138Z",
      "cooked": "<p>This is what I wanted !  Thanks a lot</p>",
      "raw": "This is what I wanted !  Thanks a lot",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 18,
      "score": 63.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1549
    }
  ],
  "scraped_at": "2025-06-10T09:47:10.415457"
}
{
  "topic_metadata": {
    "id": 4334,
    "title": "How to place a state update key at every page without using header or footer?",
    "slug": "how-to-place-a-state-update-key-at-every-page-without-using-header-or-footer",
    "posts_count": 9,
    "created_at": "2025-05-27T15:23:58.325Z",
    "last_posted_at": "2025-05-30T13:51:07.732Z",
    "views": 62,
    "like_count": 2,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "bluss",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 386
  },
  "posts": [
    {
      "id": 13284,
      "post_number": 1,
      "username": "Pakorn",
      "name": "Pakorn",
      "created_at": "2025-05-27T15:23:58.403Z",
      "updated_at": "2025-05-27T15:23:58.403Z",
      "cooked": "<p>I am creating a template that has a state update at the footer of the page to store some values. However, the current method to do this is using set rules. As the <code>set page(footer: ..)</code>  can be overridden by user, my state update will be gone if they set their own footer. How I can do this?</p>",
      "raw": "I am creating a template that has a state update at the footer of the page to store some values. However, the current method to do this is using set rules. As the `set page(footer: ..)`  can be overridden by user, my state update will be gone if they set their own footer. How I can do this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 819
    },
    {
      "id": 13299,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T17:33:56.812Z",
      "updated_at": "2025-05-27T17:33:56.812Z",
      "cooked": "<p>Depending on how a new page is being added. You have footer, header, background, foreground.</p>",
      "raw": "Depending on how a new page is being added. You have footer, header, background, foreground.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13378,
      "post_number": 3,
      "username": "Pakorn",
      "name": "Pakorn",
      "created_at": "2025-05-29T05:04:03.916Z",
      "updated_at": "2025-05-29T05:04:03.916Z",
      "cooked": "<p>I came up with  a solution that’s quite close to <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> 's idea, the foreground. However, to keep user not to overwrite this accidentally, I did this</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">show: rest =&gt; context {\n   set page(foreground: page.foreground + my-counter.step())\n   rest\n}\n</code></pre>\n<p>which, in my opinion, is very cursed. It is prone to convergence problem.</p>",
      "raw": "I came up with  a solution that's quite close to @Andrew 's idea, the foreground. However, to keep user not to overwrite this accidentally, I did this\n```typst\nshow: rest => context {\n   set page(foreground: page.foreground + my-counter.step())\n   rest\n}\n```\nwhich, in my opinion, is very cursed. It is prone to convergence problem.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 819
    },
    {
      "id": 13414,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T02:42:35.786Z",
      "updated_at": "2025-05-30T02:42:35.786Z",
      "cooked": "<p>What is this state for? Or I guess a counter.</p>",
      "raw": "What is this state for? Or I guess a counter.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13420,
      "post_number": 5,
      "username": "Pakorn",
      "name": "Pakorn",
      "created_at": "2025-05-30T03:44:10.597Z",
      "updated_at": "2025-05-30T03:45:16.002Z",
      "cooked": "<p>It is a literal page counter (like an index that must count for every page). I am creating a package for making slides, and default page counter I have used it for page number, which must be frozen during the subslide animations.</p>",
      "raw": "It is a literal page counter (like an index that must count for every page). I am creating a package for making slides, and default page counter I have used it for page number, which must be frozen during the subslide animations.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 819
    },
    {
      "id": 13434,
      "post_number": 6,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-05-30T10:47:53.947Z",
      "updated_at": "2025-05-30T10:47:53.947Z",
      "cooked": "<p>Can you use <code>here().page()</code>, the “physical page count”? It’s not a counter but it seems to have the same value as your current counter, and you can query that kind of page number from many kinds of elements.</p>\n<p>Otherwise if you have a state update that’s critical for the package you might expose it in a function and explain to the user that they need to place it in the page header (if they configure the page header).</p>",
      "raw": "Can you use `here().page()`, the \"physical page count\"? It's not a counter but it seems to have the same value as your current counter, and you can query that kind of page number from many kinds of elements.\n\nOtherwise if you have a state update that's critical for the package you might expose it in a function and explain to the user that they need to place it in the page header (if they configure the page header).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 52.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13435,
      "post_number": 7,
      "username": "Pakorn",
      "name": "Pakorn",
      "created_at": "2025-05-30T10:55:57.898Z",
      "updated_at": "2025-05-30T10:55:57.898Z",
      "cooked": "<p>‘Literal page’ means we count all of the pages whatever they are slides, subslides, title page, or any animation frames. While normal page number only counts the actual ‘content’ i.e. it does not count the subslide, title page, nor the animation frames.</p>\n<p>Yeah, telling users might be the best option rn. Thank you!</p>",
      "raw": "'Literal page' means we count all of the pages whatever they are slides, subslides, title page, or any animation frames. While normal page number only counts the actual 'content' i.e. it does not count the subslide, title page, nor the animation frames. \n\nYeah, telling users might be the best option rn. Thank you!",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 819
    },
    {
      "id": 13437,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2025-05-30T11:22:23.601Z",
      "updated_at": "2025-05-30T11:24:18.548Z",
      "cooked": "<p><code>here().page()</code> is exactly this literal page counter: it gives the physical page number of the <code>context</code> used when calling `here():</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 3cm, height: 3cm, margin: 1cm, numbering: \"1\")\n#context here().page()\n#pagebreak()\n#counter(page).update(5)\n#context here().page()\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6bc4720c2e60cc03cdc94681083ea362f3880fd8.png\" data-download-href=\"https://forum.typst.app/uploads/default/6bc4720c2e60cc03cdc94681083ea362f3880fd8\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6bc4720c2e60cc03cdc94681083ea362f3880fd8.png\" alt=\"image\" data-base62-sha1=\"fnlYfTyiL4nHve0GqX8NU3hKL5C\" width=\"162\" height=\"80\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">324×160 1.58 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "`here().page()` is exactly this literal page counter: it gives the physical page number of the `context` used when calling `here():\n\n```\n#set page(width: 3cm, height: 3cm, margin: 1cm, numbering: \"1\")\n#context here().page()\n#pagebreak()\n#counter(page).update(5)\n#context here().page()\n```\n![image|324x160, 50%](upload://fnlYfTyiL4nHve0GqX8NU3hKL5C.png)",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13440,
      "post_number": 9,
      "username": "Pakorn",
      "name": "Pakorn",
      "created_at": "2025-05-30T13:51:07.732Z",
      "updated_at": "2025-05-30T13:51:07.732Z",
      "cooked": "<p>Oh, I’ve just tried this and it really solved my page counter problem. I haven’t known this before. Thank you very much!</p>",
      "raw": "Oh, I've just tried this and it really solved my page counter problem. I haven't known this before. Thank you very much!",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 819
    }
  ],
  "scraped_at": "2025-06-10T09:47:09.696721"
}
{
  "topic_metadata": {
    "id": 4335,
    "title": "How to get the current header (level: 1)?",
    "slug": "how-to-get-the-current-header-level-1",
    "posts_count": 3,
    "created_at": "2025-05-27T15:51:54.409Z",
    "last_posted_at": "2025-05-28T04:36:09.448Z",
    "views": 46,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "PgBiel",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 110
  },
  "posts": [
    {
      "id": 13285,
      "post_number": 1,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-05-27T15:51:54.475Z",
      "updated_at": "2025-05-27T15:51:54.475Z",
      "cooked": "<p>Sorry for asking, it is a very simple question. How can I get the heading (level: 1) ? I need to do some processing before including it in the footer with the page number.</p>\n<p>Thank you.</p>",
      "raw": "Sorry for asking, it is a very simple question. How can I get the heading (level: 1) ? I need to do some processing before including it in the footer with the page number.\n\nThank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 50.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    },
    {
      "id": 13302,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T17:46:56.917Z",
      "updated_at": "2025-05-27T17:46:56.917Z",
      "cooked": "<p>Get how? <code>query(heading.where(level: 1))</code>?</p>\n<p><a href=\"https://typst.app/docs/reference/introspection/query/#finding-elements\">https://typst.app/docs/reference/introspection/query/#finding-elements</a></p>",
      "raw": "Get how? `query(heading.where(level: 1))`?\n\n<https://typst.app/docs/reference/introspection/query/#finding-elements>",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13324,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-28T04:36:09.448Z",
      "updated_at": "2025-05-28T04:36:09.448Z",
      "cooked": "<p>Based on the last sentence, I believe <a class=\"mention\" href=\"/u/andrew_duncan\">@Andrew_Duncan</a> is looking to include the most recent heading in the footer.</p>\n<p>To achieve this, I’ll recommend using the <code>hydra</code> package: <a href=\"https://typst.app/universe/package/hydra\" class=\"inline-onebox\">hydra – Typst Universe</a></p>\n<p>With it, calling <code>hydra(1)</code> or <code>hydra(2)</code> in the header or footer will display the latest heading. Check its docs for more information!</p>",
      "raw": "Based on the last sentence, I believe @Andrew_Duncan is looking to include the most recent heading in the footer.\n\nTo achieve this, I'll recommend using the `hydra` package: https://typst.app/universe/package/hydra\n\nWith it, calling `hydra(1)` or `hydra(2)` in the header or footer will display the latest heading. Check its docs for more information!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 19.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:47:08.994363"
}
{
  "topic_metadata": {
    "id": 4336,
    "title": "How to loop over datetime?",
    "slug": "how-to-loop-over-datetime",
    "posts_count": 3,
    "created_at": "2025-05-27T15:54:51.612Z",
    "last_posted_at": "2025-05-27T17:50:52.131Z",
    "views": 63,
    "like_count": 8,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 272
  },
  "posts": [
    {
      "id": 13286,
      "post_number": 1,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-05-27T15:54:51.696Z",
      "updated_at": "2025-05-29T14:32:39.450Z",
      "cooked": "<p>Say i want to make a quick planner via a grid and i want to automate entering the date for each day, i understand that using a for loop just puts everything in a single cell but i don’t understand the spread function too well.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(columns: 7), align: horizon, gutter: 0.5em,\n  for i in range(start, stop + 1) [#datetime(\n      year: 2025,\n      month: month,\n      day: i,\n    ).display(\"[day]/[month]\")])\n</code></pre>\n<p>I tried something like this but i get a single cell but i can’t seem to find a quick solution. Can someone help?</p>",
      "raw": "Say i want to make a quick planner via a grid and i want to automate entering the date for each day, i understand that using a for loop just puts everything in a single cell but i don't understand the spread function too well.\n```\n#grid(columns: 7), align: horizon, gutter: 0.5em,\n  for i in range(start, stop + 1) [#datetime(\n      year: 2025,\n      month: month,\n      day: i,\n    ).display(\"[day]/[month]\")])\n```\nI tried something like this but i get a single cell but i can't seem to find a quick solution. Can someone help?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 51.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13289,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-05-27T16:37:56.707Z",
      "updated_at": "2025-05-27T18:19:04.682Z",
      "cooked": "<p>Hi, welcome to the Typst forum!</p>\n<p>Spreading here will only work if you have an array to spread, and your for loop generates a single content value (the loop result is obtained by joining the values of all steps, and here they produce content and joining content gives a content value).</p>\n<p>One solution is to make sure that each step produces an array (with a single value):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 7,\n  ..for i in range(1, 4) {\n    (datetime(year: 2025, month: 3, day: i, ).display(\"[day]/[month]\"),)\n  },\n)\n</code></pre>\n<p>This works because when arrays are joined you get an array with all the elements. But it’s a bit clunky. Better use <code>map</code> on the <code>range</code> array to transform each range value into the corresponding date string:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 7,\n  ..range(1, 4).map(\n    i =&gt; datetime(year: 2025, month: 3, day: i).display(\"[day]/[month]\")\n  )\n)\n</code></pre>",
      "raw": "Hi, welcome to the Typst forum!\n\nSpreading here will only work if you have an array to spread, and your for loop generates a single content value (the loop result is obtained by joining the values of all steps, and here they produce content and joining content gives a content value).\n\nOne solution is to make sure that each step produces an array (with a single value):\n\n```typ\n#table(\n  columns: 7,\n  ..for i in range(1, 4) {\n    (datetime(year: 2025, month: 3, day: i, ).display(\"[day]/[month]\"),)\n  },\n)\n```\n\nThis works because when arrays are joined you get an array with all the elements. But it's a bit clunky. Better use `map` on the `range` array to transform each range value into the corresponding date string:\n\n```typ\n#table(\n  columns: 7,\n  ..range(1, 4).map(\n    i => datetime(year: 2025, month: 3, day: i).display(\"[day]/[month]\")\n  )\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 6,
      "reads": 33,
      "score": 131.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13303,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T17:50:52.131Z",
      "updated_at": "2025-05-27T17:50:52.131Z",
      "cooked": "<ul>\n<li><a href=\"https://typst.app/docs/reference/foundations/arguments/#spreading\">https://typst.app/docs/reference/foundations/arguments/#spreading</a></li>\n<li><a href=\"https://typst.app/docs/reference/foundations/array/#definitions-map\">https://typst.app/docs/reference/foundations/array/#definitions-map</a></li>\n<li><a href=\"https://typst.app/docs/reference/foundations/array/#definitions-range\">https://typst.app/docs/reference/foundations/array/#definitions-range</a></li>\n<li><a href=\"https://typst.app/docs/reference/scripting/#loops\">https://typst.app/docs/reference/scripting/#loops</a></li>\n</ul>",
      "raw": "- <https://typst.app/docs/reference/foundations/arguments/#spreading>\n- <https://typst.app/docs/reference/foundations/array/#definitions-map>\n- <https://typst.app/docs/reference/foundations/array/#definitions-range>\n- <https://typst.app/docs/reference/scripting/#loops>",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 20.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:08.284823"
}
{
  "topic_metadata": {
    "id": 4349,
    "title": "How to store footnotes in a separate file?",
    "slug": "how-to-store-footnotes-in-a-separate-file",
    "posts_count": 6,
    "created_at": "2025-05-28T06:16:27.328Z",
    "last_posted_at": "2025-05-29T02:07:13.442Z",
    "views": 66,
    "like_count": 0,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Shashidhar_R",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 585
  },
  "posts": [
    {
      "id": 13331,
      "post_number": 1,
      "username": "Shashidhar_R",
      "name": "Shashidhar R",
      "created_at": "2025-05-28T06:16:27.382Z",
      "updated_at": "2025-05-28T06:31:30.422Z",
      "cooked": "<p>In latex we have \\usepackage{sepfootnotes} which allows us to store all footnotes in a separate file (which can then be mentioned in the preamble) instead of cluttering the main document with footnote entries. How do I do it in Typst? Many thanks in advance.</p>",
      "raw": "In latex we have \\usepackage{sepfootnotes} which allows us to store all footnotes in a separate file (which can then be mentioned in the preamble) instead of cluttering the main document with footnote entries. How do I do it in Typst? Many thanks in advance.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 26.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1649
    },
    {
      "id": 13333,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-28T06:36:55.750Z",
      "updated_at": "2025-05-28T06:36:55.750Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/shashidhar_r\">@Shashidhar_R</a>! I’ve changed your post’s title to a question and added a tag as per our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> . Please keep this in mind in the future <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Shashidhar_R! I've changed your post's title to a question and added a tag as per our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11 . Please keep this in mind in the future :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13334,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-28T06:42:41.613Z",
      "updated_at": "2025-05-28T06:44:17.572Z",
      "cooked": "<p>From your description, I believe the following setup with two files (say, <code>footnotes.typ</code> and <code>main.typ</code>) is sufficient, but let me know if I missed something:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// footnotes.typ\n#let footnotes = (\n  [The name of the first king.],\n  [Their phone number.],\n  [Arbitrarily chosen number.],\n)\n\n#let foot(n) = footnote(footnotes.at(n))\n\n// main.typ\n#import \"footnotes.typ\": foot\n\n#set page(\"a4\", height: auto)\nJohn#foot(0) said: #lorem(10).\n\nWe called 0000#foot(1).\n\nAs a result, three#foot(2) dogs came to us.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/fd81627924d9f08dc7557b2d5b50654a9d269928.png\" data-download-href=\"https://forum.typst.app/uploads/default/fd81627924d9f08dc7557b2d5b50654a9d269928\" title=\"footnotes appear at the bottom appropriately\"><img src=\"https://forum.typst.app/uploads/default/original/2X/f/fd81627924d9f08dc7557b2d5b50654a9d269928.png\" alt=\"footnotes appear at the bottom appropriately\" data-base62-sha1=\"AaC0kGwSSzDUPiPFC7x9wt3hmSQ\" width=\"545\" height=\"256\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">footnotes appear at the bottom appropriately</span><span class=\"informations\">545×256 22.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Named keys are also supported by using a dictionary instead of a list:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// footnotes.typ\n#let footnotes = (\n  king: [The name of the first king.],\n  phone: [Their phone number.],\n  number: [Arbitrarily chosen number.],\n)\n\n#let foot(k) = footnote(footnotes.at(k))\n\n// main.typ\n#import \"footnotes.typ\": foot\n\n#set page(\"a4\", height: auto)\nJohn#foot(\"king\") said: #lorem(10).\n\nWe called 0000#foot(\"phone\").\n\nAs a result, three#foot(\"number\") dogs came to us.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e7a095dca237a9bc0d22a3d11bddd0f65be3a0eb.png\" data-download-href=\"https://forum.typst.app/uploads/default/e7a095dca237a9bc0d22a3d11bddd0f65be3a0eb\" title=\"same result as before\"><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e7a095dca237a9bc0d22a3d11bddd0f65be3a0eb.png\" alt=\"same result as before\" data-base62-sha1=\"x34lAS5ywhU2zaZnBzM6qCrYBQL\" width=\"538\" height=\"236\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">same result as before</span><span class=\"informations\">538×236 22.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I’ll also note that nothing mandates that the footnotes should be on a separate file, and you can also keep all of that code under a single file and it will work fine, if you prefer so.</p>\n<p>Typst scripting is really flexible and lets you create lots of little abstractions like this thanks to the power of functions and variables. I hope this example motivates you to dig even deeper into it! <img src=\"https://forum.typst.app/images/emoji/apple/sunglasses.png?v=12\" title=\":sunglasses:\" class=\"emoji\" alt=\":sunglasses:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "From your description, I believe the following setup with two files (say, `footnotes.typ` and `main.typ`) is sufficient, but let me know if I missed something:\n\n```typ\n// footnotes.typ\n#let footnotes = (\n  [The name of the first king.],\n  [Their phone number.],\n  [Arbitrarily chosen number.],\n)\n\n#let foot(n) = footnote(footnotes.at(n))\n\n// main.typ\n#import \"footnotes.typ\": foot\n\n#set page(\"a4\", height: auto)\nJohn#foot(0) said: #lorem(10).\n\nWe called 0000#foot(1).\n\nAs a result, three#foot(2) dogs came to us.\n```\n\n![footnotes appear at the bottom appropriately|545x256](upload://AaC0kGwSSzDUPiPFC7x9wt3hmSQ.png)\n\nNamed keys are also supported by using a dictionary instead of a list:\n\n```typ\n// footnotes.typ\n#let footnotes = (\n  king: [The name of the first king.],\n  phone: [Their phone number.],\n  number: [Arbitrarily chosen number.],\n)\n\n#let foot(k) = footnote(footnotes.at(k))\n\n// main.typ\n#import \"footnotes.typ\": foot\n\n#set page(\"a4\", height: auto)\nJohn#foot(\"king\") said: #lorem(10).\n\nWe called 0000#foot(\"phone\").\n\nAs a result, three#foot(\"number\") dogs came to us.\n```\n![same result as before|538x236](upload://x34lAS5ywhU2zaZnBzM6qCrYBQL.png)\n\nI'll also note that nothing mandates that the footnotes should be on a separate file, and you can also keep all of that code under a single file and it will work fine, if you prefer so.\n\nTypst scripting is really flexible and lets you create lots of little abstractions like this thanks to the power of functions and variables. I hope this example motivates you to dig even deeper into it! :sunglasses:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13335,
      "post_number": 4,
      "username": "Shashidhar_R",
      "name": "Shashidhar R",
      "created_at": "2025-05-28T06:56:04.235Z",
      "updated_at": "2025-05-28T06:56:04.235Z",
      "cooked": "<p>Thanks for taking time for that quick reply. Looks like this is going to solve my problem, although I have to play around with your commands a bit to get the hang of them. But I get the general idea. If I wanted specifically to store all my footnotes in a separate file, how do I do it? Can I include para and text functions in this separate file without any problem?</p>",
      "raw": "Thanks for taking time for that quick reply. Looks like this is going to solve my problem, although I have to play around with your commands a bit to get the hang of them. But I get the general idea. If I wanted specifically to store all my footnotes in a separate file, how do I do it? Can I include para and text functions in this separate file without any problem?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1649
    },
    {
      "id": 13375,
      "post_number": 5,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-28T23:44:54.841Z",
      "updated_at": "2025-05-28T23:48:03.440Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Shashidhar_R\" data-post=\"4\" data-topic=\"4349\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/D58100/48.png\" class=\"avatar\"> Shashidhar_R:</div>\n<blockquote>\n<p>If I wanted specifically to store all my footnotes in a separate file, how do I do it? Can I include para and text functions in this separate file without any problem?</p>\n</blockquote>\n</aside>\n<p>In principle, you can just add your footnotes to the dictionary or list in the <code>footnotes.typ</code> file I provided, and use any Typst functions.</p>\n<p>If you want to load the footnotes from a <code>.yml</code> file instead for example, you can replace the dictionary with <code>let footnotes = yaml(\"file.yml\")</code>.</p>\n<p>If you want to be able to use Typst syntax within the yaml file, it is possible, though a bit inconvenient, with the <code>eval</code> function (<a href=\"https://typst.app/docs/reference/foundations/eval/\" class=\"inline-onebox\">Evaluate Function – Typst Documentation</a>). You’d still use <code>yaml(\"file.yml\")</code> to read the file into a dictionary, but then you’d have to modify this dictionary to replace the literal strings with evaluated Typst code. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let footnotes = yaml(\"file.yml\")\n#for (name, body) in footnotes {\n  footnotes.at(name) = eval(body, mode: \"markup\")\n}\n</code></pre>",
      "raw": "[quote=\"Shashidhar_R, post:4, topic:4349\"]\nIf I wanted specifically to store all my footnotes in a separate file, how do I do it? Can I include para and text functions in this separate file without any problem?\n[/quote]\n\nIn principle, you can just add your footnotes to the dictionary or list in the `footnotes.typ` file I provided, and use any Typst functions.\n\nIf you want to load the footnotes from a `.yml` file instead for example, you can replace the dictionary with `let footnotes = yaml(\"file.yml\")`.\n\nIf you want to be able to use Typst syntax within the yaml file, it is possible, though a bit inconvenient, with the `eval` function (https://typst.app/docs/reference/foundations/eval/). You'd still use `yaml(\"file.yml\")` to read the file into a dictionary, but then you'd have to modify this dictionary to replace the literal strings with evaluated Typst code. For example:\n\n```typ\n#let footnotes = yaml(\"file.yml\")\n#for (name, body) in footnotes {\n  footnotes.at(name) = eval(body, mode: \"markup\")\n}\n```",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13377,
      "post_number": 6,
      "username": "Shashidhar_R",
      "name": "Shashidhar R",
      "created_at": "2025-05-29T02:07:13.442Z",
      "updated_at": "2025-05-29T02:07:13.442Z",
      "cooked": "<p>Thanks, PgBiel. I will try that.</p>",
      "raw": "Thanks, PgBiel. I will try that.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1649
    }
  ],
  "scraped_at": "2025-06-10T09:47:07.535902"
}
{
  "topic_metadata": {
    "id": 4359,
    "title": "How do I use a Hayagriva .yml bibliography file with a Typst .typ document?",
    "slug": "how-do-i-use-a-hayagriva-yml-bibliography-file-with-a-typst-typ-document",
    "posts_count": 8,
    "created_at": "2025-05-28T16:53:19.045Z",
    "last_posted_at": "2025-06-05T01:46:14.283Z",
    "views": 95,
    "like_count": 1,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "citation",
      "hayagriva"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 412
  },
  "posts": [
    {
      "id": 13369,
      "post_number": 1,
      "username": "chyavana",
      "name": "R (Chandra) Chandrasekhar",
      "created_at": "2025-05-28T16:53:19.138Z",
      "updated_at": "2025-05-28T17:56:57.871Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">CSShistory:\n  type: video,\n  title: \"Peachpuffs and Lemonchiffons [CSSConfUS2014]\"\n  url:\n    value: https://www.youtube.com/watch?v=HmStJQzclHc\n    date: 2014-07-17\n author:\n    - Alex Sexton\n</code></pre>\n<p>This is my <code>Hayagriva</code> file called <code>mybib.yml</code> in the same directory as the main <code>Typst</code> file, <code>mydoc.typ</code>.</p>\n<p>In  <code>mydoc.typ</code>, I have a section called <code>== References</code> in which I want to include this single reference. It has also been cited as <code>#cite(CSShistory)</code> in the text.<br>\nHow do I link the <code>mybib.yml</code> file to the <code>mydoc.typ</code> file?</p>\n<p>I tried <code>#bibliography(\"mybib.yml\")</code> but I get errors on compiling.</p>\n<p>Can someone pease help me.</p>",
      "raw": "```\nCSShistory:\n  type: video,\n  title: \"Peachpuffs and Lemonchiffons [CSSConfUS2014]\"\n  url:\n    value: https://www.youtube.com/watch?v=HmStJQzclHc\n    date: 2014-07-17\n author:\n    - Alex Sexton\n```\n\nThis is my `Hayagriva` file called `mybib.yml` in the same directory as the main `Typst` file, `mydoc.typ`.\n\nIn  `mydoc.typ`, I have a section called `== References` in which I want to include this single reference. It has also been cited as `#cite(CSShistory)` in the text.\nHow do I link the `mybib.yml` file to the `mydoc.typ` file?\n\nI tried `#bibliography(\"mybib.yml\")` but I get errors on compiling.\n\nCan someone pease help me.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 60.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1036
    },
    {
      "id": 13370,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2025-05-28T17:14:08.441Z",
      "updated_at": "2025-05-28T17:14:08.441Z",
      "cooked": "<p>How exactly are you citing? It is either <code>#cite(&lt;CSShistory&gt;)</code> or <code>@CSShistory</code>, the path to the YML file should work as-is.</p>",
      "raw": "How exactly are you citing? It is either `#cite(<CSShistory>)` or `@CSShistory`, the path to the YML file should work as-is.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 30.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 13371,
      "post_number": 3,
      "username": "chyavana",
      "name": "R (Chandra) Chandrasekhar",
      "created_at": "2025-05-28T17:32:59.368Z",
      "updated_at": "2025-05-28T17:45:50.175Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>: Thank you for so emphatically saying that it should work.</p>\n<p>I now realize that the cause of the error was the terminal comma after <code>video</code> in the second line of the <code>mybib.yml</code> file as listed above. Removing the comma  solved the problem. Cheers!</p>",
      "raw": "@xkevio: Thank you for so emphatically saying that it should work.\n\nI now realize that the cause of the error was the terminal comma after `video` in the second line of the `mybib.yml` file as listed above. Removing the comma  solved the problem. Cheers!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1036
    },
    {
      "id": 13373,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-28T17:46:43.387Z",
      "updated_at": "2025-05-28T17:46:43.387Z",
      "cooked": "<p>From <a href=\"https://typst.app/docs/reference/model/cite/#example\">https://typst.app/docs/reference/model/cite/#example</a>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">This was already noted by\npirates long ago. @arrgh\n\nMultiple sources say ...\n@arrgh @netwok.\n\nYou can also call `cite`\nexplicitly. #cite(&lt;arrgh&gt;)\n\n#bibliography(\"works.bib\")\n</code></pre>",
      "raw": "From <https://typst.app/docs/reference/model/cite/#example>:\n\n```typ\nThis was already noted by\npirates long ago. @arrgh\n\nMultiple sources say ...\n@arrgh @netwok.\n\nYou can also call `cite`\nexplicitly. #cite(<arrgh>)\n\n#bibliography(\"works.bib\")\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13376,
      "post_number": 5,
      "username": "chyavana",
      "name": "R (Chandra) Chandrasekhar",
      "created_at": "2025-05-29T01:16:11.780Z",
      "updated_at": "2025-05-29T01:16:11.780Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a>: I am a <code>BibTeX</code> user trying out <code>Hayagrva</code>.</p>\n<p>I looked at the link you have shown before posting, but did not see a <code>Hayagriva</code> file in the docs for <code>arrgh</code> or <code>netwok</code>.</p>\n<p>The error I made was also because of my <code>BibTeX</code> habit of separating key values from the next key by commas.</p>",
      "raw": "@Andrew: I am a `BibTeX` user trying out `Hayagrva`.\n\nI looked at the link you have shown before posting, but did not see a `Hayagriva` file in the docs for `arrgh` or `netwok`.\n\nThe error I made was also because of my `BibTeX` habit of separating key values from the next key by commas.",
      "reply_to_post_number": 4,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 53.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1036
    },
    {
      "id": 13413,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T02:29:09.948Z",
      "updated_at": "2025-05-30T02:29:09.948Z",
      "cooked": "<p>Hmm. The <a href=\"https://typst.app/docs/reference/model/bibliography/#summary\" class=\"inline-onebox\">Bibliography Function – Typst Documentation</a> page does mention both, but I guess it won’t hurt explicitly mentioning it in <a href=\"https://typst.app/docs/reference/model/cite/#summary\" class=\"inline-onebox\">Cite Function – Typst Documentation</a>. See <a href=\"https://github.com/typst/typst/pull/6354\" class=\"inline-onebox\">Mention types of supported bibliography formats for citing by Andrew15-5 · Pull Request #6354 · typst/typst · GitHub</a>.</p>",
      "raw": "Hmm. The https://typst.app/docs/reference/model/bibliography/#summary page does mention both, but I guess it won't hurt explicitly mentioning it in https://typst.app/docs/reference/model/cite/#summary. See https://github.com/typst/typst/pull/6354.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13691,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T14:00:14.120Z",
      "updated_at": "2025-06-04T14:00:14.120Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/chyavana\">@chyavana</a>, do you think <a href=\"https://github.com/typst/typst/pull/6354\">an explicit mention of supported Hayagriva format on the page for <code>cite</code></a> would’ve solved your problem, or would you still have asked how to use it because of the comma and the change to the docs is not worth it?</p>",
      "raw": "@chyavana, do you think [an explicit mention of supported Hayagriva format on the page for `cite`](https://github.com/typst/typst/pull/6354) would've solved your problem, or would you still have asked how to use it because of the comma and the change to the docs is not worth it?",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 57.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13728,
      "post_number": 8,
      "username": "chyavana",
      "name": "R (Chandra) Chandrasekhar",
      "created_at": "2025-06-05T01:46:14.283Z",
      "updated_at": "2025-06-05T01:52:45.199Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a>: A cautionary note to those coming in from BibTeX—where a precautionary terminal comma is prescribed—to avoid that very comma in Hayagriva would be helpful.</p>\n<p>Also, a link to the <a href=\"https://github.com/typst/hayagriva/blob/main/docs/file-format.md\" rel=\"noopener nofollow ugc\">Hayagriva examples page would be helpful.</a></p>\n<p>What I was looking for was the Hayagriva source file: <code>\"works.yml\"</code> file.</p>",
      "raw": "@Andrew: A cautionary note to those coming in from BibTeX---where a precautionary terminal comma is prescribed---to avoid that very comma in Hayagriva would be helpful. \n\nAlso, a link to the [Hayagriva examples page would be helpful.](https://github.com/typst/hayagriva/blob/main/docs/file-format.md)\n\nWhat I was looking for was the Hayagriva source file: `\"works.yml\"` file.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1036
    }
  ],
  "scraped_at": "2025-06-10T09:47:06.798545"
}
{
  "topic_metadata": {
    "id": 4361,
    "title": "Why are there extra arrowheads in the exported pdf?",
    "slug": "why-are-there-extra-arrowheads-in-the-exported-pdf",
    "posts_count": 7,
    "created_at": "2025-05-29T08:26:36.322Z",
    "last_posted_at": "2025-06-05T13:24:47.765Z",
    "views": 102,
    "like_count": 3,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Andrew",
    "tags": [
      "graphics"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1882
  },
  "posts": [
    {
      "id": 13379,
      "post_number": 1,
      "username": "ShabbyGayBar",
      "name": "ShabbyGayBar",
      "created_at": "2025-05-29T08:26:36.622Z",
      "updated_at": "2025-05-29T08:54:02.097Z",
      "cooked": "<p>original svg file:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/3/300326eed7e98076dc8ab88c6ea42a57d4f0cc09.svg\" alt=\"pipeline_sar_adc_block_diagram|0x0\" data-base62-sha1=\"6QJFEJfrvuonhlWo9ePAW7j4kxb\" width=\"9\" height=\"4\"></p>\n<p>code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure(\n  image(\"pipeline_sar_adc_block_diagram.svg\", width: 80%),\n  caption: [Pipeline SAR ADC Block Diagram],\n) &lt;pipeline_sar_adc_block_diagram&gt;\n</code></pre>\n<p>preview:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/4d4db26ede11a883e933287f435dfd8f61208d3b.png\" data-download-href=\"https://forum.typst.app/uploads/default/4d4db26ede11a883e933287f435dfd8f61208d3b\" title=\"图片\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/4d4db26ede11a883e933287f435dfd8f61208d3b_2_690x318.png\" alt=\"图片\" data-base62-sha1=\"b1Rehea5CdnsiUPI1yb6ZSc5t6X\" width=\"690\" height=\"318\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/4d4db26ede11a883e933287f435dfd8f61208d3b_2_690x318.png, https://forum.typst.app/uploads/default/original/2X/4/4d4db26ede11a883e933287f435dfd8f61208d3b.png 1.5x, https://forum.typst.app/uploads/default/original/2X/4/4d4db26ede11a883e933287f435dfd8f61208d3b.png 2x\" data-dominant-color=\"E5E5E5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">图片</span><span class=\"informations\">785×362 21.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>exported pdf:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/d6f00141cbe2987f0dac002804021b3590ca7d8b.png\" data-download-href=\"https://forum.typst.app/uploads/default/d6f00141cbe2987f0dac002804021b3590ca7d8b\" title=\"图片\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/d6f00141cbe2987f0dac002804021b3590ca7d8b_2_690x360.png\" alt=\"图片\" data-base62-sha1=\"uFqnYXat1dNzJiPuZuwRjGBC0Tp\" width=\"690\" height=\"360\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/d6f00141cbe2987f0dac002804021b3590ca7d8b_2_690x360.png, https://forum.typst.app/uploads/default/original/2X/d/d6f00141cbe2987f0dac002804021b3590ca7d8b.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/d6f00141cbe2987f0dac002804021b3590ca7d8b.png 2x\" data-dominant-color=\"DDDDDE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">图片</span><span class=\"informations\">784×410 34.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Where on earth did those two arrowheads come from?<br>\nWas it the svg or typst?</p>",
      "raw": "original svg file:\n![pipeline_sar_adc_block_diagram|0x0](upload://6QJFEJfrvuonhlWo9ePAW7j4kxb.svg)\n\n\ncode:\n```typst\n#figure(\n  image(\"pipeline_sar_adc_block_diagram.svg\", width: 80%),\n  caption: [Pipeline SAR ADC Block Diagram],\n) <pipeline_sar_adc_block_diagram>\n```\npreview:\n![图片|690x318](upload://b1Rehea5CdnsiUPI1yb6ZSc5t6X.png)\n\nexported pdf:\n![图片|690x360](upload://uFqnYXat1dNzJiPuZuwRjGBC0Tp.png)\n\nWhere on earth did those two arrowheads come from?\nWas it the svg or typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 26.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1345
    },
    {
      "id": 13380,
      "post_number": 2,
      "username": "ShabbyGayBar",
      "name": "ShabbyGayBar",
      "created_at": "2025-05-29T08:28:01.877Z",
      "updated_at": "2025-05-29T08:29:12.863Z",
      "cooked": "<p>reproduced in typst online:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/799169928a1a0bd0100adeb9e89d2a3a000100c5.png\" data-download-href=\"https://forum.typst.app/uploads/default/799169928a1a0bd0100adeb9e89d2a3a000100c5\" title=\"图片\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/799169928a1a0bd0100adeb9e89d2a3a000100c5_2_690x192.png\" alt=\"图片\" data-base62-sha1=\"hlrjKsvxKKWe18Ox667f0P8AfJz\" width=\"690\" height=\"192\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/799169928a1a0bd0100adeb9e89d2a3a000100c5_2_690x192.png, https://forum.typst.app/uploads/default/optimized/2X/7/799169928a1a0bd0100adeb9e89d2a3a000100c5_2_1035x288.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/7/799169928a1a0bd0100adeb9e89d2a3a000100c5_2_1380x384.png 2x\" data-dominant-color=\"EDEEF0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">图片</span><span class=\"informations\">1855×518 80.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\n<a href=\"https://typst.app/project/r2rzWLawDTR6qoL5VXTD3x\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/r2rzWLawDTR6qoL5VXTD3x</a></p>",
      "raw": "reproduced in typst online:\n![图片|690x192](upload://hlrjKsvxKKWe18Ox667f0P8AfJz.png)\nhttps://typst.app/project/r2rzWLawDTR6qoL5VXTD3x",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 6.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1345
    },
    {
      "id": 13388,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-29T14:07:50.540Z",
      "updated_at": "2025-05-29T16:08:57.109Z",
      "cooked": "<p>I downloaded the SVG file from your project and opened it in Inkscape, and these arrows show up, so I assume it’s the SVG. (Edit, would be interesting why the arrowheads don’t show up in Tinymist, and/or if this is particularly unusual SVG code leading to this different treatment)</p>",
      "raw": "I downloaded the SVG file from your project and opened it in Inkscape, and these arrows show up, so I assume it's the SVG. (Edit, would be interesting why the arrowheads don't show up in Tinymist, and/or if this is particularly unusual SVG code leading to this different treatment)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 45.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 13412,
      "post_number": 4,
      "username": "ShabbyGayBar",
      "name": "ShabbyGayBar",
      "created_at": "2025-05-30T00:04:04.733Z",
      "updated_at": "2025-05-30T00:04:04.733Z",
      "cooked": "<p>I learned from the Chinese community that the svg might contain <code>HTML Foreign Object</code> format. Hence those object are only visible in certain svg viewers.</p><aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst-doc-cn.github.io/guide/FAQ/mermaid.html\">\n  <header class=\"source\">\n\n      <a href=\"https://typst-doc-cn.github.io/guide/FAQ/mermaid.html\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst-doc-cn.github.io</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    \n\n<h3><a href=\"https://typst-doc-cn.github.io/guide/FAQ/mermaid.html\" target=\"_blank\" rel=\"noopener nofollow ugc\">为什么 mermaid/draw.io 生成的 SVG 图片导入后没有文字？ | Typst 中文社区导航</a></h3>\n\n  <p>本文档收录了日经问题（QQ 群中经常有人问的问题），以及官方文档和小蓝书中未提到的一些零碎的使用技巧。</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "I learned from the Chinese community that the svg might contain `HTML Foreign Object` format. Hence those object are only visible in certain svg viewers.\nhttps://typst-doc-cn.github.io/guide/FAQ/mermaid.html",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1345
    },
    {
      "id": 13415,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T02:47:46.979Z",
      "updated_at": "2025-05-30T02:47:46.979Z",
      "cooked": "<p>I think it’s <a href=\"https://github.com/typst/typst/issues/5174\" class=\"inline-onebox\">SVG with embedded SVG doesn't export correctly to PDF · Issue #5174 · typst/typst · GitHub</a>.</p>\n<details><summary>pipeline_sar_adc_block_diagram.svg</summary>\n<pre data-code-wrap=\"svg\"><code class=\"lang-svg\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;\n&lt;!-- 由 Microsoft Visio, SVG Export 生成 pipeline_sar_adc_block_diagram.svg pipeline_sar_adc_block_diagram --&gt;\n&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:ev=\"http://www.w3.org/2001/xml-events\"\n\t\txmlns:v=\"http://schemas.microsoft.com/visio/2003/SVGExtensions/\" width=\"9.7564in\" height=\"4.17189in\"\n\t\tviewBox=\"0 0 702.461 300.376\" xml:space=\"preserve\" color-interpolation-filters=\"sRGB\" class=\"st14\"&gt;\n\t&lt;v:documentProperties v:langID=\"2052\" v:metric=\"true\" v:viewMarkup=\"false\"&gt;\n\t\t&lt;v:userDefs&gt;\n\t\t\t&lt;v:ud v:nameU=\"msvNoAutoConnect\" v:val=\"VT0(1):26\"/&gt;\n\t\t&lt;/v:userDefs&gt;\n\t&lt;/v:documentProperties&gt;\n\n\t&lt;style type=\"text/css\"&gt;\n\t&lt;![CDATA[\n\t\t.st1 {fill:#ffffff;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st2 {fill:#000000;font-family:宋体;font-size:1.99999em}\n\t\t.st3 {fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;stroke-width:0.54347826086957}\n\t\t.st4 {fill:none;marker-end:url(#mrkr13-10);stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st5 {font-size:1em}\n\t\t.st6 {marker-end:url(#mrkr13-10);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st7 {fill:#ffffff;stroke:none;stroke-linecap:butt;stroke-width:7.2}\n\t\t.st8 {fill:#000000;font-family:宋体;font-size:1.16666em}\n\t\t.st9 {fill:#000000;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st10 {stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st11 {marker-end:url(#mrkr13-58);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st12 {fill:#000000;font-family:宋体;font-size:1.00001em}\n\t\t.st13 {fill:none;stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}\n\t\t.st14 {fill:none;fill-rule:evenodd;font-size:12px;overflow:visible;stroke-linecap:square;stroke-miterlimit:3}\n\t]]&gt;\n\t&lt;/style&gt;\n\n\t&lt;defs id=\"Markers\"&gt;\n\t\t&lt;g id=\"lend13\"&gt;\n\t\t\t&lt;path d=\"M 3 1 L 0 0 L 3 -1 L 3 1 \" style=\"stroke:none\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;marker id=\"mrkr13-10\" class=\"st3\" v:arrowType=\"13\" v:arrowSize=\"2\" v:setback=\"5.52\" refX=\"-5.52\" orient=\"auto\"\n\t\t\t\tmarkerUnits=\"strokeWidth\" overflow=\"visible\"&gt;\n\t\t\t&lt;use xlink:href=\"#lend13\" transform=\"scale(-1.84,-1.84) \"/&gt;\n\t\t&lt;/marker&gt;\n\t\t&lt;marker id=\"mrkr13-58\" class=\"st3\" v:arrowType=\"13\" v:arrowSize=\"2\" v:setback=\"0\" refX=\"-0\" orient=\"auto\"\n\t\t\t\tmarkerUnits=\"strokeWidth\" overflow=\"visible\"&gt;\n\t\t\t&lt;use xlink:href=\"#lend13\" transform=\"scale(-1.84,-1.84) \"/&gt;\n\t\t&lt;/marker&gt;\n\t&lt;/defs&gt;\n\t&lt;g v:mID=\"5\" v:index=\"3\" v:groupContext=\"foregroundPage\"&gt;\n\t\t&lt;title&gt;pipeline_sar_adc_block_diagram&lt;/title&gt;\n\t\t&lt;v:pageProperties v:drawingScale=\"0.0393701\" v:pageScale=\"0.0393701\" v:drawingUnits=\"24\" v:shadowOffsetX=\"8.50394\"\n\t\t\t\tv:shadowOffsetY=\"-8.50394\"/&gt;\n\t\t&lt;v:layer v:name=\"连接线\" v:index=\"0\"/&gt;\n\t\t&lt;g id=\"shape1-1\" v:mID=\"1\" v:groupContext=\"shape\" transform=\"translate(19.5,-19.5)\"&gt;\n\t\t\t&lt;title&gt;矩形.13&lt;/title&gt;\n\t\t\t&lt;desc&gt;Data Retiming / Digital Error Calibration&lt;/desc&gt;\n\t\t\t&lt;v:userDefs&gt;\n\t\t\t\t&lt;v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/&gt;\n\t\t\t&lt;/v:userDefs&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"326.906\" cy=\"257.857\" width=\"653.82\" height=\"85.0394\"/&gt;\n\t\t\t&lt;rect x=\"0\" y=\"215.337\" width=\"653.811\" height=\"85.0394\" class=\"st1\"/&gt;\n\t\t\t&lt;text x=\"80.9\" y=\"265.06\" class=\"st2\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;Data Retiming / Digital Error Calibration&lt;/text&gt;\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape5-4\" v:mID=\"5\" v:groupContext=\"shape\" transform=\"translate(47.8465,-147.059)\"&gt;\n\t\t\t&lt;title&gt;矩形&lt;/title&gt;\n\t\t\t&lt;desc&gt;S&amp;#38;H&lt;/desc&gt;\n\t\t\t&lt;v:userDefs&gt;\n\t\t\t\t&lt;v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/&gt;\n\t\t\t&lt;/v:userDefs&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"56.6929\" cy=\"257.857\" width=\"113.39\" height=\"85.0394\"/&gt;\n\t\t\t&lt;rect x=\"0\" y=\"215.337\" width=\"113.386\" height=\"85.0394\" class=\"st1\"/&gt;\n\t\t\t&lt;text x=\"38.69\" y=\"265.06\" class=\"st2\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;S&amp;#38;H&lt;/text&gt;\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape6-7\" v:mID=\"6\" v:groupContext=\"shape\" transform=\"translate(445.879,-155.562) scale(-1,1)\"&gt;\n\t\t\t&lt;title&gt;旋转三角形.132&lt;/title&gt;\n\t\t\t&lt;desc&gt;8&lt;/desc&gt;\n\t\t\t&lt;v:userDefs&gt;\n\t\t\t\t&lt;v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/&gt;\n\t\t\t&lt;/v:userDefs&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"28.3465\" cy=\"266.36\" width=\"56.7\" height=\"40.8189\"/&gt;\n\t\t\t&lt;path d=\"M56.69 232.34 L0 266.36 L56.69 300.38 L56.69 232.34 Z\" class=\"st1\"/&gt;\n\t\t\t&lt;text x=\"-34.35\" y=\"273.56\" transform=\"scale(-1,1)\" class=\"st2\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;8&lt;/text&gt;\t\t&lt;/g&gt;\n\t\t&lt;g id=\"group25-12\" transform=\"translate(217.925,-147.059)\" v:mID=\"25\" v:groupContext=\"group\"&gt;\n\t\t\t&lt;title&gt;工作表.25&lt;/title&gt;\n\t\t\t&lt;g id=\"shape9-13\" v:mID=\"9\" v:groupContext=\"shape\" transform=\"translate(113.386,0) scale(-1,1)\"&gt;\n\t\t\t\t&lt;title&gt;箭头总汇.139&lt;/title&gt;\n\t\t\t\t&lt;v:userDefs&gt;\n\t\t\t\t\t&lt;v:ud v:nameU=\"visVersion\" v:prompt=\"\" v:val=\"VT0(15):26\"/&gt;\n\t\t\t\t&lt;/v:userDefs&gt;\n\t\t\t\t&lt;path d=\"M0 300.38 L56.69 300.38 L113.39 257.86 L56.69 215.34 L0 215.34 L0 300.38 Z\" class=\"st1\"/&gt;\n\t\t\t&lt;/g&gt;\n\t\t\t&lt;g id=\"shape18-16\" v:mID=\"18\" v:groupContext=\"shape\" transform=\"translate(44.8831,-5.66798)\"&gt;\n\t\t\t\t&lt;title&gt;工作表.18&lt;/title&gt;\n\t\t\t\t&lt;desc&gt;Stage 1 SAR&lt;/desc&gt;\n\t\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t\t&lt;v:textRect cx=\"35.4331\" cy=\"264.943\" width=\"70.87\" height=\"70.8661\"/&gt;\n\t\t\t\t&lt;rect x=\"0\" y=\"229.51\" width=\"70.8661\" height=\"70.8661\" class=\"st4\"/&gt;\n\t\t\t\t&lt;text x=\"5.43\" y=\"257.74\" class=\"st2\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;Stage&lt;v:newlineChar/&gt;&lt;tspan\n\t\t\t\t\t\t\tx=\"5.43\" dy=\"1.2em\" class=\"st5\"&gt;1 SAR&lt;/tspan&gt;&lt;/text&gt;\t\t\t&lt;/g&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"group26-21\" transform=\"translate(501.39,-147.059)\" v:mID=\"26\" v:groupContext=\"group\"&gt;\n\t\t\t&lt;title&gt;工作表.26&lt;/title&gt;\n\t\t\t&lt;g id=\"shape7-22\" v:mID=\"7\" v:groupContext=\"shape\" transform=\"translate(113.386,0) scale(-1,1)\"&gt;\n\t\t\t\t&lt;title&gt;箭头总汇.136&lt;/title&gt;\n\t\t\t\t&lt;v:userDefs&gt;\n\t\t\t\t\t&lt;v:ud v:nameU=\"visVersion\" v:prompt=\"\" v:val=\"VT0(15):26\"/&gt;\n\t\t\t\t&lt;/v:userDefs&gt;\n\t\t\t\t&lt;path d=\"M0 300.38 L56.69 300.38 L113.39 257.86 L56.69 215.34 L0 215.34 L0 300.38 Z\" class=\"st1\"/&gt;\n\t\t\t&lt;/g&gt;\n\t\t\t&lt;g id=\"shape22-25\" v:mID=\"22\" v:groupContext=\"shape\" transform=\"translate(42.5197,-7.08531)\"&gt;\n\t\t\t\t&lt;title&gt;工作表.22&lt;/title&gt;\n\t\t\t\t&lt;desc&gt;Stage 2 SAR&lt;/desc&gt;\n\t\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t\t&lt;v:textRect cx=\"35.4331\" cy=\"264.943\" width=\"70.87\" height=\"70.8661\"/&gt;\n\t\t\t\t&lt;rect x=\"0\" y=\"229.51\" width=\"70.8661\" height=\"70.8661\" class=\"st4\"/&gt;\n\t\t\t\t&lt;text x=\"5.43\" y=\"257.74\" class=\"st2\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;Stage&lt;v:newlineChar/&gt;&lt;tspan\n\t\t\t\t\t\t\tx=\"5.43\" dy=\"1.2em\" class=\"st5\"&gt;2 SAR&lt;/tspan&gt;&lt;/text&gt;\t\t\t&lt;/g&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape29-30\" v:mID=\"29\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(331.311,-189.579)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.29&lt;/title&gt;\n\t\t\t&lt;desc&gt;7 bits&lt;/desc&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"28.3465\" cy=\"328.723\" width=\"70\" height=\"24.8035\"/&gt;\n\t\t\t&lt;path d=\"M0 300.38 L28.35 300.38 L28.35 368.86\" class=\"st6\"/&gt;\n\t\t\t&lt;rect v:rectContext=\"textBkgnd\" x=\"7.3466\" y=\"320.323\" width=\"41.9996\" height=\"16.8\" class=\"st7\"/&gt;\n\t\t\t&lt;text x=\"7.35\" y=\"332.92\" class=\"st8\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;7 bits&lt;/text&gt;\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape30-37\" v:mID=\"30\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(445.879,-182.491)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.30&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 293.29 L38.95 293.29\" class=\"st6\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape31-42\" v:mID=\"31\" v:groupContext=\"shape\" transform=\"translate(182.492,-187.329)\"&gt;\n\t\t\t&lt;title&gt;DOT&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 298.13 A2.25 2.25 0 0 1 4.5 298.13 A2.25 2.25 0 1 1 0 298.13 Z\" class=\"st9\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape32-45\" v:mID=\"32\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(186.992,-182.492)\"&gt;\n\t\t\t&lt;title&gt;动态连接线&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 293.29 L14.37 293.29\" class=\"st6\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape33-50\" v:mID=\"33\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(161.232,-182.492)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.33&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 293.29 L21.26 293.29\" class=\"st10\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape34-53\" v:mID=\"34\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(184.742,-197.79)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.34&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 306.34 L0 233.25 L193.81 233.25 L193.81 308.59 L204.44 308.59\" class=\"st11\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape35-59\" v:mID=\"35\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(614.776,-189.579)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.35&lt;/title&gt;\n\t\t\t&lt;desc&gt;9 bits&lt;/desc&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"39.685\" cy=\"323.054\" width=\"60\" height=\"22.4037\"/&gt;\n\t\t\t&lt;path d=\"M0 300.38 L39.69 300.38 L39.69 368.86\" class=\"st6\"/&gt;\n\t\t\t&lt;rect v:rectContext=\"textBkgnd\" x=\"21.6846\" y=\"315.854\" width=\"36.0011\" height=\"14.4001\" class=\"st7\"/&gt;\n\t\t\t&lt;text x=\"21.68\" y=\"326.65\" class=\"st12\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;9 bits&lt;/text&gt;\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape36-66\" v:mID=\"36\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(20.126,-197.008)\"&gt;\n\t\t\t&lt;title&gt;动态连接线.36&lt;/title&gt;\n\t\t\t&lt;path d=\"M0 307.46 L11.16 307.46\" class=\"st6\"/&gt;\n\t\t&lt;/g&gt;\n\t\t&lt;g id=\"shape37-71\" v:mID=\"37\" v:groupContext=\"shape\" transform=\"translate(18,-191.339)\"&gt;\n\t\t\t&lt;title&gt;工作表.37&lt;/title&gt;\n\t\t\t&lt;desc&gt;Vin&lt;/desc&gt;\n\t\t\t&lt;v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/&gt;\n\t\t\t&lt;v:textRect cx=\"14.1732\" cy=\"290.376\" width=\"28.35\" height=\"20\"/&gt;\n\t\t\t&lt;rect x=\"0\" y=\"280.376\" width=\"28.3465\" height=\"20\" class=\"st13\"/&gt;\n\t\t\t&lt;text x=\"5.17\" y=\"293.98\" class=\"st12\" v:langID=\"2052\"&gt;&lt;v:paragraph v:horizAlign=\"1\"/&gt;&lt;v:tabList/&gt;Vin&lt;/text&gt;\t\t&lt;/g&gt;\n\t&lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n</details>",
      "raw": "I think it's https://github.com/typst/typst/issues/5174.\n\n<details><summary>pipeline_sar_adc_block_diagram.svg</summary>\n\n```svg\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- 由 Microsoft Visio, SVG Export 生成 pipeline_sar_adc_block_diagram.svg pipeline_sar_adc_block_diagram -->\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:ev=\"http://www.w3.org/2001/xml-events\"\n\t\txmlns:v=\"http://schemas.microsoft.com/visio/2003/SVGExtensions/\" width=\"9.7564in\" height=\"4.17189in\"\n\t\tviewBox=\"0 0 702.461 300.376\" xml:space=\"preserve\" color-interpolation-filters=\"sRGB\" class=\"st14\">\n\t<v:documentProperties v:langID=\"2052\" v:metric=\"true\" v:viewMarkup=\"false\">\n\t\t<v:userDefs>\n\t\t\t<v:ud v:nameU=\"msvNoAutoConnect\" v:val=\"VT0(1):26\"/>\n\t\t</v:userDefs>\n\t</v:documentProperties>\n\n\t<style type=\"text/css\">\n\t<![CDATA[\n\t\t.st1 {fill:#ffffff;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st2 {fill:#000000;font-family:宋体;font-size:1.99999em}\n\t\t.st3 {fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;stroke-width:0.54347826086957}\n\t\t.st4 {fill:none;marker-end:url(#mrkr13-10);stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st5 {font-size:1em}\n\t\t.st6 {marker-end:url(#mrkr13-10);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st7 {fill:#ffffff;stroke:none;stroke-linecap:butt;stroke-width:7.2}\n\t\t.st8 {fill:#000000;font-family:宋体;font-size:1.16666em}\n\t\t.st9 {fill:#000000;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st10 {stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st11 {marker-end:url(#mrkr13-58);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:3}\n\t\t.st12 {fill:#000000;font-family:宋体;font-size:1.00001em}\n\t\t.st13 {fill:none;stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}\n\t\t.st14 {fill:none;fill-rule:evenodd;font-size:12px;overflow:visible;stroke-linecap:square;stroke-miterlimit:3}\n\t]]>\n\t</style>\n\n\t<defs id=\"Markers\">\n\t\t<g id=\"lend13\">\n\t\t\t<path d=\"M 3 1 L 0 0 L 3 -1 L 3 1 \" style=\"stroke:none\"/>\n\t\t</g>\n\t\t<marker id=\"mrkr13-10\" class=\"st3\" v:arrowType=\"13\" v:arrowSize=\"2\" v:setback=\"5.52\" refX=\"-5.52\" orient=\"auto\"\n\t\t\t\tmarkerUnits=\"strokeWidth\" overflow=\"visible\">\n\t\t\t<use xlink:href=\"#lend13\" transform=\"scale(-1.84,-1.84) \"/>\n\t\t</marker>\n\t\t<marker id=\"mrkr13-58\" class=\"st3\" v:arrowType=\"13\" v:arrowSize=\"2\" v:setback=\"0\" refX=\"-0\" orient=\"auto\"\n\t\t\t\tmarkerUnits=\"strokeWidth\" overflow=\"visible\">\n\t\t\t<use xlink:href=\"#lend13\" transform=\"scale(-1.84,-1.84) \"/>\n\t\t</marker>\n\t</defs>\n\t<g v:mID=\"5\" v:index=\"3\" v:groupContext=\"foregroundPage\">\n\t\t<title>pipeline_sar_adc_block_diagram</title>\n\t\t<v:pageProperties v:drawingScale=\"0.0393701\" v:pageScale=\"0.0393701\" v:drawingUnits=\"24\" v:shadowOffsetX=\"8.50394\"\n\t\t\t\tv:shadowOffsetY=\"-8.50394\"/>\n\t\t<v:layer v:name=\"连接线\" v:index=\"0\"/>\n\t\t<g id=\"shape1-1\" v:mID=\"1\" v:groupContext=\"shape\" transform=\"translate(19.5,-19.5)\">\n\t\t\t<title>矩形.13</title>\n\t\t\t<desc>Data Retiming / Digital Error Calibration</desc>\n\t\t\t<v:userDefs>\n\t\t\t\t<v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/>\n\t\t\t</v:userDefs>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"326.906\" cy=\"257.857\" width=\"653.82\" height=\"85.0394\"/>\n\t\t\t<rect x=\"0\" y=\"215.337\" width=\"653.811\" height=\"85.0394\" class=\"st1\"/>\n\t\t\t<text x=\"80.9\" y=\"265.06\" class=\"st2\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>Data Retiming / Digital Error Calibration</text>\t\t</g>\n\t\t<g id=\"shape5-4\" v:mID=\"5\" v:groupContext=\"shape\" transform=\"translate(47.8465,-147.059)\">\n\t\t\t<title>矩形</title>\n\t\t\t<desc>S&#38;H</desc>\n\t\t\t<v:userDefs>\n\t\t\t\t<v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/>\n\t\t\t</v:userDefs>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"56.6929\" cy=\"257.857\" width=\"113.39\" height=\"85.0394\"/>\n\t\t\t<rect x=\"0\" y=\"215.337\" width=\"113.386\" height=\"85.0394\" class=\"st1\"/>\n\t\t\t<text x=\"38.69\" y=\"265.06\" class=\"st2\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>S&#38;H</text>\t\t</g>\n\t\t<g id=\"shape6-7\" v:mID=\"6\" v:groupContext=\"shape\" transform=\"translate(445.879,-155.562) scale(-1,1)\">\n\t\t\t<title>旋转三角形.132</title>\n\t\t\t<desc>8</desc>\n\t\t\t<v:userDefs>\n\t\t\t\t<v:ud v:nameU=\"visVersion\" v:val=\"VT0(15):26\"/>\n\t\t\t</v:userDefs>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"28.3465\" cy=\"266.36\" width=\"56.7\" height=\"40.8189\"/>\n\t\t\t<path d=\"M56.69 232.34 L0 266.36 L56.69 300.38 L56.69 232.34 Z\" class=\"st1\"/>\n\t\t\t<text x=\"-34.35\" y=\"273.56\" transform=\"scale(-1,1)\" class=\"st2\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>8</text>\t\t</g>\n\t\t<g id=\"group25-12\" transform=\"translate(217.925,-147.059)\" v:mID=\"25\" v:groupContext=\"group\">\n\t\t\t<title>工作表.25</title>\n\t\t\t<g id=\"shape9-13\" v:mID=\"9\" v:groupContext=\"shape\" transform=\"translate(113.386,0) scale(-1,1)\">\n\t\t\t\t<title>箭头总汇.139</title>\n\t\t\t\t<v:userDefs>\n\t\t\t\t\t<v:ud v:nameU=\"visVersion\" v:prompt=\"\" v:val=\"VT0(15):26\"/>\n\t\t\t\t</v:userDefs>\n\t\t\t\t<path d=\"M0 300.38 L56.69 300.38 L113.39 257.86 L56.69 215.34 L0 215.34 L0 300.38 Z\" class=\"st1\"/>\n\t\t\t</g>\n\t\t\t<g id=\"shape18-16\" v:mID=\"18\" v:groupContext=\"shape\" transform=\"translate(44.8831,-5.66798)\">\n\t\t\t\t<title>工作表.18</title>\n\t\t\t\t<desc>Stage 1 SAR</desc>\n\t\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t\t<v:textRect cx=\"35.4331\" cy=\"264.943\" width=\"70.87\" height=\"70.8661\"/>\n\t\t\t\t<rect x=\"0\" y=\"229.51\" width=\"70.8661\" height=\"70.8661\" class=\"st4\"/>\n\t\t\t\t<text x=\"5.43\" y=\"257.74\" class=\"st2\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>Stage<v:newlineChar/><tspan\n\t\t\t\t\t\t\tx=\"5.43\" dy=\"1.2em\" class=\"st5\">1 SAR</tspan></text>\t\t\t</g>\n\t\t</g>\n\t\t<g id=\"group26-21\" transform=\"translate(501.39,-147.059)\" v:mID=\"26\" v:groupContext=\"group\">\n\t\t\t<title>工作表.26</title>\n\t\t\t<g id=\"shape7-22\" v:mID=\"7\" v:groupContext=\"shape\" transform=\"translate(113.386,0) scale(-1,1)\">\n\t\t\t\t<title>箭头总汇.136</title>\n\t\t\t\t<v:userDefs>\n\t\t\t\t\t<v:ud v:nameU=\"visVersion\" v:prompt=\"\" v:val=\"VT0(15):26\"/>\n\t\t\t\t</v:userDefs>\n\t\t\t\t<path d=\"M0 300.38 L56.69 300.38 L113.39 257.86 L56.69 215.34 L0 215.34 L0 300.38 Z\" class=\"st1\"/>\n\t\t\t</g>\n\t\t\t<g id=\"shape22-25\" v:mID=\"22\" v:groupContext=\"shape\" transform=\"translate(42.5197,-7.08531)\">\n\t\t\t\t<title>工作表.22</title>\n\t\t\t\t<desc>Stage 2 SAR</desc>\n\t\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t\t<v:textRect cx=\"35.4331\" cy=\"264.943\" width=\"70.87\" height=\"70.8661\"/>\n\t\t\t\t<rect x=\"0\" y=\"229.51\" width=\"70.8661\" height=\"70.8661\" class=\"st4\"/>\n\t\t\t\t<text x=\"5.43\" y=\"257.74\" class=\"st2\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>Stage<v:newlineChar/><tspan\n\t\t\t\t\t\t\tx=\"5.43\" dy=\"1.2em\" class=\"st5\">2 SAR</tspan></text>\t\t\t</g>\n\t\t</g>\n\t\t<g id=\"shape29-30\" v:mID=\"29\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(331.311,-189.579)\">\n\t\t\t<title>动态连接线.29</title>\n\t\t\t<desc>7 bits</desc>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"28.3465\" cy=\"328.723\" width=\"70\" height=\"24.8035\"/>\n\t\t\t<path d=\"M0 300.38 L28.35 300.38 L28.35 368.86\" class=\"st6\"/>\n\t\t\t<rect v:rectContext=\"textBkgnd\" x=\"7.3466\" y=\"320.323\" width=\"41.9996\" height=\"16.8\" class=\"st7\"/>\n\t\t\t<text x=\"7.35\" y=\"332.92\" class=\"st8\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>7 bits</text>\t\t</g>\n\t\t<g id=\"shape30-37\" v:mID=\"30\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(445.879,-182.491)\">\n\t\t\t<title>动态连接线.30</title>\n\t\t\t<path d=\"M0 293.29 L38.95 293.29\" class=\"st6\"/>\n\t\t</g>\n\t\t<g id=\"shape31-42\" v:mID=\"31\" v:groupContext=\"shape\" transform=\"translate(182.492,-187.329)\">\n\t\t\t<title>DOT</title>\n\t\t\t<path d=\"M0 298.13 A2.25 2.25 0 0 1 4.5 298.13 A2.25 2.25 0 1 1 0 298.13 Z\" class=\"st9\"/>\n\t\t</g>\n\t\t<g id=\"shape32-45\" v:mID=\"32\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(186.992,-182.492)\">\n\t\t\t<title>动态连接线</title>\n\t\t\t<path d=\"M0 293.29 L14.37 293.29\" class=\"st6\"/>\n\t\t</g>\n\t\t<g id=\"shape33-50\" v:mID=\"33\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(161.232,-182.492)\">\n\t\t\t<title>动态连接线.33</title>\n\t\t\t<path d=\"M0 293.29 L21.26 293.29\" class=\"st10\"/>\n\t\t</g>\n\t\t<g id=\"shape34-53\" v:mID=\"34\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(184.742,-197.79)\">\n\t\t\t<title>动态连接线.34</title>\n\t\t\t<path d=\"M0 306.34 L0 233.25 L193.81 233.25 L193.81 308.59 L204.44 308.59\" class=\"st11\"/>\n\t\t</g>\n\t\t<g id=\"shape35-59\" v:mID=\"35\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(614.776,-189.579)\">\n\t\t\t<title>动态连接线.35</title>\n\t\t\t<desc>9 bits</desc>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"39.685\" cy=\"323.054\" width=\"60\" height=\"22.4037\"/>\n\t\t\t<path d=\"M0 300.38 L39.69 300.38 L39.69 368.86\" class=\"st6\"/>\n\t\t\t<rect v:rectContext=\"textBkgnd\" x=\"21.6846\" y=\"315.854\" width=\"36.0011\" height=\"14.4001\" class=\"st7\"/>\n\t\t\t<text x=\"21.68\" y=\"326.65\" class=\"st12\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>9 bits</text>\t\t</g>\n\t\t<g id=\"shape36-66\" v:mID=\"36\" v:groupContext=\"shape\" v:layerMember=\"0\" transform=\"translate(20.126,-197.008)\">\n\t\t\t<title>动态连接线.36</title>\n\t\t\t<path d=\"M0 307.46 L11.16 307.46\" class=\"st6\"/>\n\t\t</g>\n\t\t<g id=\"shape37-71\" v:mID=\"37\" v:groupContext=\"shape\" transform=\"translate(18,-191.339)\">\n\t\t\t<title>工作表.37</title>\n\t\t\t<desc>Vin</desc>\n\t\t\t<v:textBlock v:margins=\"rect(4,4,4,4)\" v:tabSpace=\"42.5197\"/>\n\t\t\t<v:textRect cx=\"14.1732\" cy=\"290.376\" width=\"28.35\" height=\"20\"/>\n\t\t\t<rect x=\"0\" y=\"280.376\" width=\"28.3465\" height=\"20\" class=\"st13\"/>\n\t\t\t<text x=\"5.17\" y=\"293.98\" class=\"st12\" v:langID=\"2052\"><v:paragraph v:horizAlign=\"1\"/><v:tabList/>Vin</text>\t\t</g>\n\t</g>\n</svg>\n```\n\n</details>",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 29.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13553,
      "post_number": 6,
      "username": "ShabbyGayBar",
      "name": "ShabbyGayBar",
      "created_at": "2025-06-01T23:56:44.713Z",
      "updated_at": "2025-06-01T23:56:44.713Z",
      "cooked": "<p>It might be, but I still don’t get how font issues could lead to extra arrowheads.</p>",
      "raw": "It might be, but I still don't get how font issues could lead to extra arrowheads.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1345
    },
    {
      "id": 13755,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T13:24:47.765Z",
      "updated_at": "2025-06-05T13:24:47.765Z",
      "cooked": "<p>Probably need to ask some SVG/PDF nerds.</p>",
      "raw": "Probably need to ask some SVG/PDF nerds.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:06.045623"
}
{
  "topic_metadata": {
    "id": 4366,
    "title": "How can I create a vertical example preview with tidy in code?",
    "slug": "how-can-i-create-a-vertical-example-preview-with-tidy-in-code",
    "posts_count": 2,
    "created_at": "2025-05-29T14:23:26.812Z",
    "last_posted_at": "2025-05-29T14:44:09.679Z",
    "views": 21,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Netzwerk2",
    "tags": [
      "layout",
      "packages",
      "tidy"
    ],
    "category_id": 5,
    "participant_count": 1,
    "word_count": 111
  },
  "posts": [
    {
      "id": 13389,
      "post_number": 1,
      "username": "Netzwerk2",
      "name": "",
      "created_at": "2025-05-29T14:23:26.912Z",
      "updated_at": "2025-05-30T03:17:51.629Z",
      "cooked": "<p>I want to have create an example with tidy where the output is below the code.<br>\nHowever, the other examples should still display the preview horizontally.<br>\nI’ve found this in the documentation<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/00b19d74769df347486a7f6b51ac695c0d42786d.png\" data-download-href=\"https://forum.typst.app/uploads/default/00b19d74769df347486a7f6b51ac695c0d42786d\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/00b19d74769df347486a7f6b51ac695c0d42786d_2_690x166.png\" alt=\"image\" data-base62-sha1=\"68xo1phFf3O422eyi50eajn6Ud\" width=\"690\" height=\"166\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/00b19d74769df347486a7f6b51ac695c0d42786d_2_690x166.png, https://forum.typst.app/uploads/default/original/2X/0/00b19d74769df347486a7f6b51ac695c0d42786d.png 1.5x, https://forum.typst.app/uploads/default/original/2X/0/00b19d74769df347486a7f6b51ac695c0d42786d.png 2x\" data-dominant-color=\"E1E5E7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">932×225 38.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nThe problem is I don’t create this example in a doc-string but in Typst code, where this function does not seem to exist (it also isn’t documented).</p>",
      "raw": "I want to have create an example with tidy where the output is below the code.\nHowever, the other examples should still display the preview horizontally.\nI've found this in the documentation\n![image|690x166](upload://68xo1phFf3O422eyi50eajn6Ud.png)\nThe problem is I don't create this example in a doc-string but in Typst code, where this function does not seem to exist (it also isn't documented).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 394
    },
    {
      "id": 13392,
      "post_number": 2,
      "username": "Netzwerk2",
      "name": "",
      "created_at": "2025-05-29T14:44:09.679Z",
      "updated_at": "2025-05-29T14:44:59.690Z",
      "cooked": "<p>I figured it out.</p>\n<p>Instead of just having an example code block like one would have in a doc-string,<br>\nyou need to call <code>show-example</code> explicitly.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#tidy.show-example.show-example(\n  // ...\n  layout: tidy.show-example.default-layout-example.with(\n    dir: ttb,\n  ),\n)\n</code></pre>",
      "raw": "I figured it out.\n\nInstead of just having an example code block like one would have in a doc-string,\nyou need to call `show-example` explicitly.\n\n```typ\n#tidy.show-example.show-example(\n  // ...\n  layout: tidy.show-example.default-layout-example.with(\n    dir: ttb,\n  ),\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 13,
      "score": 22.6,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 394
    }
  ],
  "scraped_at": "2025-06-10T09:47:05.274082"
}
{
  "topic_metadata": {
    "id": 4377,
    "title": "How can I parse this two-level array, or is there a better alternative",
    "slug": "how-can-i-parse-this-two-level-array-or-is-there-a-better-alternative",
    "posts_count": 6,
    "created_at": "2025-05-29T20:29:42.888Z",
    "last_posted_at": "2025-06-07T16:17:05.794Z",
    "views": 78,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1575
  },
  "posts": [
    {
      "id": 13408,
      "post_number": 1,
      "username": "Rik",
      "name": "Rik",
      "created_at": "2025-05-29T20:29:42.957Z",
      "updated_at": "2025-05-29T20:29:42.957Z",
      "cooked": "<p>I have created an enhanced <span class=\"hashtag-raw\">#quote</span> function to support, in addition to an attribution, restatements and translations. <em>Translation</em> is used to present a quotation that is not in the language of the article in the language of the article; <em>restatement</em> is used to present a quotation in a different form (antiqua instead of an original fraktur type face, or phonetically, or translated into a third language.) There may be multiple restatements and translations. My current code handles the multiples well, but I cannot seem to get a second level of array working to support specification of the language of a restatement so that it is properly hyphenated.</p>\n<p>Restatements are almost always in the language of the original quotation, but not always (consider phonetic transcriptions, or instances as shown here where Latin is used to restate a Greek original). So, I would prefer not to explicitly state a language, but only state it for the exceptional cases. I would expect an array like;</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> restatement: (\n   [restatement_in_language_of_quotation],\n   ( [other_language_code], [restatement_in_other_language]),\n   ( [null_language_code], [phonetic transcription])\n )\n</code></pre>\n<p>should work, but I cannot get that working.</p>\n<p>The code so far:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let    QGray = luma(175)\n#let   QInset = 2em\n#let   QScale = 1.1818em // roughly 13pt for 11pt text\n\n#let   QAOpen = [#text(size: QScale, fill: QGray)[--]]\n#let QAIndent = -4mm  // Indent for attribution decoration\n\n#let   QROpen = [#text(size: QScale, fill: QGray)[\\[]]\n#let  QRClose = [#text(size: QScale, fill: QGray)[#sym.wj\\]]]\n#let QRIndent = -2.5mm  // Indent for attribution decoration\n\n#let   QTOpen = [#text(size: QScale, fill: QGray)[\\(]]\n#let  QTClose = [#text(size: QScale, fill: QGray)[#sym.wj\\)]]\n#let QTIndent = -2.5mm  // Indent for attribution decoration\n\n#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if restatement != none [\n    #if type(restatement) != array {\n      restatement = (restatement,)\n    }\n  ]\n  if translation != none [\n    #if type(translation) != array {\n      translation = (translation,)\n    }\n  ]\n  block(\n    above: 0em, //-0.5em,\n    below: 0em, //-0.5em,\n    inset: QInset,\n    [\n      #if lang != none [\n        #set text(\n          lang: lang\n        )\n      ]\n      #body\n      #if restatement != none [\n        #for restate in restatement [\n          #par(\n            first-line-indent: QRIndent\n          )[\n            #QROpen\n            #restate\n            #QRClose\n          ]\n        ]\n      ]\n      #if translation != none [\n        #for trans in translation [\n          #par(\n            first-line-indent: QTIndent\n          )[\n            #QTOpen\n            #trans\n            #QTClose\n          ]\n        ]\n      ]\n      #if attribution != none [\n        #par(\n            first-line-indent: QAIndent\n        )[\n          #QAOpen\n          #attribution\n        ]\n      ]\n    ]\n  )\n}\n#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n    [Magis impium Mortuorum Lucubrationes quam veſtes furari.],\n    [arbitror magis impiú mortuorum ſcript furari, quam veſtes, quod appelatur buſta effodere.],\n    [Magis autem impium esse arbitror mortuorum lucubrationes quam vestes furari, quod sepulcra perfodere dicitur.]\n  ),\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  lang: \"el\"\n)[ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.\n]\n</code></pre>\n<p>Can somebody suggest how to process the two-level array?</p>",
      "raw": "I have created an enhanced \\#quote function to support, in addition to an attribution, restatements and translations. *Translation* is used to present a quotation that is not in the language of the article in the language of the article; *restatement* is used to present a quotation in a different form (antiqua instead of an original fraktur type face, or phonetically, or translated into a third language.) There may be multiple restatements and translations. My current code handles the multiples well, but I cannot seem to get a second level of array working to support specification of the language of a restatement so that it is properly hyphenated.\n\nRestatements are almost always in the language of the original quotation, but not always (consider phonetic transcriptions, or instances as shown here where Latin is used to restate a Greek original). So, I would prefer not to explicitly state a language, but only state it for the exceptional cases. I would expect an array like;\n\n```typ\n restatement: (\n   [restatement_in_language_of_quotation],\n   ( [other_language_code], [restatement_in_other_language]),\n   ( [null_language_code], [phonetic transcription])\n )\n```\n should work, but I cannot get that working.\n\nThe code so far:\n\n```typ\n#let    QGray = luma(175)\n#let   QInset = 2em\n#let   QScale = 1.1818em // roughly 13pt for 11pt text\n\n#let   QAOpen = [#text(size: QScale, fill: QGray)[--]]\n#let QAIndent = -4mm  // Indent for attribution decoration\n\n#let   QROpen = [#text(size: QScale, fill: QGray)[\\[]]\n#let  QRClose = [#text(size: QScale, fill: QGray)[#sym.wj\\]]]\n#let QRIndent = -2.5mm  // Indent for attribution decoration\n\n#let   QTOpen = [#text(size: QScale, fill: QGray)[\\(]]\n#let  QTClose = [#text(size: QScale, fill: QGray)[#sym.wj\\)]]\n#let QTIndent = -2.5mm  // Indent for attribution decoration\n\n#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if restatement != none [\n    #if type(restatement) != array {\n      restatement = (restatement,)\n    }\n  ]\n  if translation != none [\n    #if type(translation) != array {\n      translation = (translation,)\n    }\n  ]\n  block(\n    above: 0em, //-0.5em,\n    below: 0em, //-0.5em,\n    inset: QInset,\n    [\n      #if lang != none [\n        #set text(\n          lang: lang\n        )\n      ]\n      #body\n      #if restatement != none [\n        #for restate in restatement [\n          #par(\n            first-line-indent: QRIndent\n          )[\n            #QROpen\n            #restate\n            #QRClose\n          ]\n        ]\n      ]\n      #if translation != none [\n        #for trans in translation [\n          #par(\n            first-line-indent: QTIndent\n          )[\n            #QTOpen\n            #trans\n            #QTClose\n          ]\n        ]\n      ]\n      #if attribution != none [\n        #par(\n            first-line-indent: QAIndent\n        )[\n          #QAOpen\n          #attribution\n        ]\n      ]\n    ]\n  )\n}\n#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n    [Magis impium Mortuorum Lucubrationes quam veſtes furari.],\n    [arbitror magis impiú mortuorum ſcript furari, quam veſtes, quod appelatur buſta effodere.],\n    [Magis autem impium esse arbitror mortuorum lucubrationes quam vestes furari, quod sepulcra perfodere dicitur.]\n  ),\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  lang: \"el\"\n)[ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.\n]\n```\n\nCan somebody suggest how to process the two-level array?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1174
    },
    {
      "id": 13429,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-05-30T08:34:33.145Z",
      "updated_at": "2025-05-30T08:35:04.200Z",
      "cooked": "<p>Hello! If I understand correctly, you want the correct language parameter for your restatement in case you specify one.</p>\n<p>I can only suggest to use a dictionary so it’s more explicit what’s going on, although an array with a string, then text is also fine. From your example, it would look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n    (\n      [Magis impium Mortuorum Lucubrationes quam veſtes furari.],\n      [arbitror magis impiú mortuorum ſcript furari, quam veſtes, quod appelatur buſta effodere.],\n      [Magis autem impium esse arbitror mortuorum lucubrationes quam vestes furari, quod sepulcra perfodere dicitur.],\n    ),\n    (\n      [mɑdʒis impium mɔɾtuɔɾum lukubɾɑtsiɔnɛs kwɑm vɛſtɛs fuɾɑɾi.],\n      [ɑɾbitɾɔɾ mɑdʒis impiu mɔɾtuɔɾum ſkɾipt fuɾɑɾi, kwɑm vɛſtɛs, kwɔd ɑppɛlɑtuɾ buſtɑ ɛffɔdɛɾɛ.],\n      [mɑdʒis ɑutɛm impium ɛssɛ ɑɾbitɾɔɾ mɔɾtuɔɾum lukubɾɑtsiɔnɛs kwɑm vɛstɛs fuɾɑɾi, kwɔd sɛpulkɾɑ pɛɾfɔdɛɾɛ ditʃituɾ.],\n    ),\n    (\n      lang: \"fr\",\n      text: [Je mène une voie plus irrespectueuse pour voler ou profaner les paroles des morts, ce qu'on appelle le pillage de tombes.],\n    )\n  ),\n  lang: \"el\",\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  [ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.],\n)\n</code></pre>\n<p><code>restatement</code> (should probably be <code>restatements</code>) is a nested array as you say, so you need to process every restatement, then every line in the text.</p>\n<p>In which case, the restatement processing should look like this. I deliberately made it very verbose, but I’m sure it could be written more succinctly.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">...\n        #for restate in restatement [ // per statement\n          #let restate = (\n            lang: if type(restate) == dictionary { restate.lang } else {\n              \"\"\n            }, // extract the lang if provided\n            text: if type(restate) == dictionary {\n              restate.text\n            } else {\n              restate // ([Lorem],), [Lorem]\n            },\n          )\n          #if type(restate.text) != array { // if text is not an array\n            restate.text = (restate.text,) // (.., text: [Lorem])\n          }\n          #let txt = if restate.lang != \"\" {\n            text.with(lang: restate.lang) // specify the lang!\n          } else {\n            text\n          }\n          #for line in restate.text { // iterate over (text: ([Lorem],))\n            par(first-line-indent: QRIndent)[\n              #QROpen\n              #txt(line)\n              #QRClose\n            ]\n          }\n        ]\n</code></pre>\n<p>Then you get something like this<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/adf87fd300292cf7370b6e137317bb01ca8323df.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/adf87fd300292cf7370b6e137317bb01ca8323df\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/adf87fd300292cf7370b6e137317bb01ca8323df_2_690x493.jpeg\" alt=\"image\" data-base62-sha1=\"oP10BkqXhvgttQGi96qFMn58yaX\" width=\"690\" height=\"493\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/adf87fd300292cf7370b6e137317bb01ca8323df_2_690x493.jpeg, https://forum.typst.app/uploads/default/optimized/2X/a/adf87fd300292cf7370b6e137317bb01ca8323df_2_1035x739.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/adf87fd300292cf7370b6e137317bb01ca8323df_2_1380x986.jpeg 2x\" data-dominant-color=\"F2F2F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1920×1374 160 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hello! If I understand correctly, you want the correct language parameter for your restatement in case you specify one.\n\nI can only suggest to use a dictionary so it's more explicit what's going on, although an array with a string, then text is also fine. From your example, it would look like this:\n\n```typ\n#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n    (\n      [Magis impium Mortuorum Lucubrationes quam veſtes furari.],\n      [arbitror magis impiú mortuorum ſcript furari, quam veſtes, quod appelatur buſta effodere.],\n      [Magis autem impium esse arbitror mortuorum lucubrationes quam vestes furari, quod sepulcra perfodere dicitur.],\n    ),\n    (\n      [mɑdʒis impium mɔɾtuɔɾum lukubɾɑtsiɔnɛs kwɑm vɛſtɛs fuɾɑɾi.],\n      [ɑɾbitɾɔɾ mɑdʒis impiu mɔɾtuɔɾum ſkɾipt fuɾɑɾi, kwɑm vɛſtɛs, kwɔd ɑppɛlɑtuɾ buſtɑ ɛffɔdɛɾɛ.],\n      [mɑdʒis ɑutɛm impium ɛssɛ ɑɾbitɾɔɾ mɔɾtuɔɾum lukubɾɑtsiɔnɛs kwɑm vɛstɛs fuɾɑɾi, kwɔd sɛpulkɾɑ pɛɾfɔdɛɾɛ ditʃituɾ.],\n    ),\n    (\n      lang: \"fr\",\n      text: [Je mène une voie plus irrespectueuse pour voler ou profaner les paroles des morts, ce qu'on appelle le pillage de tombes.],\n    )\n  ),\n  lang: \"el\",\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  [ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.],\n)\n```\n`restatement` (should probably be `restatements`) is a nested array as you say, so you need to process every restatement, then every line in the text.\n\nIn which case, the restatement processing should look like this. I deliberately made it very verbose, but I'm sure it could be written more succinctly.\n\n```typ\n...\n        #for restate in restatement [ // per statement\n          #let restate = (\n            lang: if type(restate) == dictionary { restate.lang } else {\n              \"\"\n            }, // extract the lang if provided\n            text: if type(restate) == dictionary {\n              restate.text\n            } else {\n              restate // ([Lorem],), [Lorem]\n            },\n          )\n          #if type(restate.text) != array { // if text is not an array\n            restate.text = (restate.text,) // (.., text: [Lorem])\n          }\n          #let txt = if restate.lang != \"\" {\n            text.with(lang: restate.lang) // specify the lang!\n          } else {\n            text\n          }\n          #for line in restate.text { // iterate over (text: ([Lorem],))\n            par(first-line-indent: QRIndent)[\n              #QROpen\n              #txt(line)\n              #QRClose\n            ]\n          }\n        ]\n```\nThen you get something like this\n![image|690x493](upload://oP10BkqXhvgttQGi96qFMn58yaX.jpeg)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13443,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T14:32:41.473Z",
      "updated_at": "2025-05-30T14:32:41.473Z",
      "cooked": "<p>Please try avoiding using markup square brackets in scripting if you continue to use scripting inside. It can add spaces in some cases. Can you share the reason you are using it? I don’t think documentation has this.</p>\n<p>Like <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> said, maybe <code>restatement</code> really should be <code>restatements</code>, even though you technically can pass only one. I guess this is the same problem as <a href=\"https://typst.app/docs/reference/model/document/#parameters-author\"><code>document.author</code></a>.</p>\n<p>To parse array with different data structures, use <a href=\"https://typst.app/docs/reference/foundations/type/\"><code>type()</code></a>. With <a href=\"https://typst.app/docs/reference/foundations/array/#definitions-filter\"><code>array.map</code></a> you can check the type and change the element’s structure.</p>\n<p>The conditional set rule doesn’t work this way, see <a href=\"https://typst.app/docs/reference/styling/#set-rules:~:text=Sometimes%2C%20you'll%20want%20to%20apply%20a%20set%20rule%20conditionally.%20For%20this%2C%20you%20can%20use%20a%20set%2Dif%20rule.\">this</a>.</p>\n<p>There is also <a href=\"https://typst.app/docs/reference/layout/block/#parameters-spacing\"><code>block.spacing</code></a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let    QGray = luma(175)\n#let   QInset = 2em\n#let   QScale = 1.1818em // roughly 13pt for 11pt text\n\n#let   QAOpen = text(size: QScale, fill: QGray)[--]\n#let QAIndent = -4mm  // Indent for attribution decoration\n\n#let   QROpen = text(size: QScale, fill: QGray)[\\[]\n#let  QRClose = text(size: QScale, fill: QGray)[#sym.wj\\]]\n#let QRIndent = -2.5mm  // Indent for attribution decoration\n\n#let   QTOpen = text(size: QScale, fill: QGray)[\\(]\n#let  QTClose = text(size: QScale, fill: QGray)[#sym.wj\\)]\n#let QTIndent = -2.5mm  // Indent for attribution decoration\n\n#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if type(restatement) != array { restatement = (restatement,) }\n  if type(translation) != array { translation = (translation,) }\n  restatement = restatement.map(x =&gt; if type(x) != array { (lang, x) } else { x })\n  block(spacing: 0em, inset: QInset, {\n    set text(lang: lang) if lang != none\n    body\n    for (lang, restate) in restatement {\n        set text(lang: lang)\n      par(first-line-indent: QRIndent)[#QROpen (#lang) #restate #QRClose]\n    }\n    for trans in translation {\n      par(first-line-indent: QTIndent)[#QTOpen #trans #QTClose]\n    }\n    if attribution != none {\n      par(first-line-indent: QAIndent)[#QAOpen #attribution]\n    }\n  })\n}\n\n#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n     [restatement_in_language_of_quotation],\n     (\"us\", [\"restatement_in_other_language\"]),\n     (\"ru\", [\"phonetic\" transcription]),\n  ),\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  lang: \"el\"\n)[ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0ab7079fc48efe4fbb336184e2788d4792ced1c9.png\" data-download-href=\"https://forum.typst.app/uploads/default/0ab7079fc48efe4fbb336184e2788d4792ced1c9\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0ab7079fc48efe4fbb336184e2788d4792ced1c9.png\" alt=\"image\" data-base62-sha1=\"1wMUGcbICcvUZ9TYpStNDLXQQat\" width=\"540\" height=\"253\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">540×253 46.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>With <a href=\"https://forum.typst.app/t/which-show-rule-takes-precedence/3904/5\">show rule wrapping</a> it can be slightly simplified:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if type(restatement) != array { restatement = (restatement,) }\n  if type(translation) != array { translation = (translation,) }\n  restatement = restatement.map(x =&gt; if type(x) != array { (lang, x) } else { x })\n  show: block.with(spacing: 0em, inset: QInset)\n  set text(lang: lang) if lang != none\n  body\n  for (lang, restate) in restatement {\n    set text(lang: lang)\n    par(first-line-indent: QRIndent)[#QROpen (#lang) #restate #QRClose]\n  }\n  for trans in translation {\n    par(first-line-indent: QTIndent)[#QTOpen #trans #QTClose]\n  }\n  if attribution != none {\n    par(first-line-indent: QAIndent)[#QAOpen #attribution]\n  }\n}\n</code></pre>",
      "raw": "Please try avoiding using markup square brackets in scripting if you continue to use scripting inside. It can add spaces in some cases. Can you share the reason you are using it? I don't think documentation has this.\n\nLike @quachpas said, maybe `restatement` really should be `restatements`, even though you technically can pass only one. I guess this is the same problem as [`document.author`](https://typst.app/docs/reference/model/document/#parameters-author).\n\nTo parse array with different data structures, use [`type()`](https://typst.app/docs/reference/foundations/type/). With [`array.map`](https://typst.app/docs/reference/foundations/array/#definitions-filter) you can check the type and change the element's structure.\n\nThe conditional set rule doesn't work this way, see [this](https://typst.app/docs/reference/styling/#set-rules:~:text=Sometimes%2C%20you'll%20want%20to%20apply%20a%20set%20rule%20conditionally.%20For%20this%2C%20you%20can%20use%20a%20set%2Dif%20rule.).\n\nThere is also [`block.spacing`](https://typst.app/docs/reference/layout/block/#parameters-spacing).\n\n```typ\n#let    QGray = luma(175)\n#let   QInset = 2em\n#let   QScale = 1.1818em // roughly 13pt for 11pt text\n\n#let   QAOpen = text(size: QScale, fill: QGray)[--]\n#let QAIndent = -4mm  // Indent for attribution decoration\n\n#let   QROpen = text(size: QScale, fill: QGray)[\\[]\n#let  QRClose = text(size: QScale, fill: QGray)[#sym.wj\\]]\n#let QRIndent = -2.5mm  // Indent for attribution decoration\n\n#let   QTOpen = text(size: QScale, fill: QGray)[\\(]\n#let  QTClose = text(size: QScale, fill: QGray)[#sym.wj\\)]\n#let QTIndent = -2.5mm  // Indent for attribution decoration\n\n#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if type(restatement) != array { restatement = (restatement,) }\n  if type(translation) != array { translation = (translation,) }\n  restatement = restatement.map(x => if type(x) != array { (lang, x) } else { x })\n  block(spacing: 0em, inset: QInset, {\n    set text(lang: lang) if lang != none\n    body\n    for (lang, restate) in restatement {\n        set text(lang: lang)\n      par(first-line-indent: QRIndent)[#QROpen (#lang) #restate #QRClose]\n    }\n    for trans in translation {\n      par(first-line-indent: QTIndent)[#QTOpen #trans #QTClose]\n    }\n    if attribution != none {\n      par(first-line-indent: QAIndent)[#QAOpen #attribution]\n    }\n  })\n}\n\n#Quote(\n  attribution: [Synesius of Cyrene (_circa_ 370--_circa_ 413) in modernized Greek, followed by Latin restatements (1) as used by Robert Burton in _The Anatomy of Melancholy_ (1628) and matching the Latin by Thomas Naogeorgus (1559), (2) published by Claudius Morellus in a 1605 collection of Synesius's letters, and (3) by Rudolf Hercher in his 1873 collection of the letters, followed by Burton's English translation],\n  restatement: (\n     [restatement_in_language_of_quotation],\n     (\"us\", [\"restatement_in_other_language\"]),\n     (\"ru\", [\"phonetic\" transcription]),\n  ),\n  translation: [It is a greater offence to ſteale dead mens labours, than their clothes],\n  lang: \"el\"\n)[ἡγοῦμαι δὲ ἀσεβέστερον ἀποθανόντων λόγους κλέπτειν ἢ θοἰμάτια, ὃ καλεῖται τυμβωρυχεῖν.\n]\n```\n\n![image|540x253](upload://1wMUGcbICcvUZ9TYpStNDLXQQat.png)\n\nWith [show rule wrapping](https://forum.typst.app/t/which-show-rule-takes-precedence/3904/5?u=andrew) it can be slightly simplified:\n\n```typ\n#let Quote(\n  label: none,\n  attribution: none,\n  restatement: (),\n  translation: (),\n  lang: none,\n  body,\n) = {\n  if type(restatement) != array { restatement = (restatement,) }\n  if type(translation) != array { translation = (translation,) }\n  restatement = restatement.map(x => if type(x) != array { (lang, x) } else { x })\n  show: block.with(spacing: 0em, inset: QInset)\n  set text(lang: lang) if lang != none\n  body\n  for (lang, restate) in restatement {\n    set text(lang: lang)\n    par(first-line-indent: QRIndent)[#QROpen (#lang) #restate #QRClose]\n  }\n  for trans in translation {\n    par(first-line-indent: QTIndent)[#QTOpen #trans #QTClose]\n  }\n  if attribution != none {\n    par(first-line-indent: QAIndent)[#QAOpen #attribution]\n  }\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 34.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13825,
      "post_number": 4,
      "username": "Rik",
      "name": "Rik",
      "created_at": "2025-06-06T18:58:34.213Z",
      "updated_at": "2025-06-06T18:58:34.213Z",
      "cooked": "<p>To the question about where I saw the use of scripting inside square brackets and why I have used it: I can only say that I saw it in some example, somewhere, as I was getting a feel for the basic syntax and it worked, so I continued to use it. Likely it was not in formal documentation but in this forum. Sorry I cannot be more specific, but if I notice it I will investigate further.</p>",
      "raw": "To the question about where I saw the use of scripting inside square brackets and why I have used it: I can only say that I saw it in some example, somewhere, as I was getting a feel for the basic syntax and it worked, so I continued to use it. Likely it was not in formal documentation but in this forum. Sorry I cannot be more specific, but if I notice it I will investigate further.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 16,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1174
    },
    {
      "id": 13845,
      "post_number": 5,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-07T13:58:19.851Z",
      "updated_at": "2025-06-07T15:01:55.505Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"3\" data-topic=\"4377\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>I don’t think documentation has this.</p>\n</blockquote>\n</aside>\n<p>Seems like <a href=\"https://typst.app/docs/reference/scripting/#conditionals\" class=\"inline-onebox\">Scripting – Typst Documentation</a> under the heading Conditionals  shows that it can be done, it shows both options of course, (and markup blocks is the cool novelty, IMO, could attract anyone) but no guidance at that point which one to use.</p>",
      "raw": "[quote=\"Andrew, post:3, topic:4377\"]\nI don’t think documentation has this.\n[/quote]\n\nSeems like https://typst.app/docs/reference/scripting/#conditionals under the heading Conditionals  shows that it can be done, it shows both options of course, (and markup blocks is the cool novelty, IMO, could attract anyone) but no guidance at that point which one to use.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 14,
      "score": 22.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13852,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-07T16:17:05.794Z",
      "updated_at": "2025-06-07T16:17:05.794Z",
      "cooked": "<p>Great. <a href=\"https://github.com/typst/typst/issues/6403\" class=\"inline-onebox\">Include explanation between `[]` and `{}` conditional/loop blocks · Issue #6403 · typst/typst · GitHub</a></p>",
      "raw": "Great. https://github.com/typst/typst/issues/6403",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:04.547044"
}
{
  "topic_metadata": {
    "id": 438,
    "title": "Why does my heading label errors with \"cannot reference text\"?",
    "slug": "why-does-my-heading-label-errors-with-cannot-reference-text",
    "posts_count": 3,
    "created_at": "2024-09-18T07:19:28.105Z",
    "last_posted_at": "2024-09-18T08:40:40.720Z",
    "views": 378,
    "like_count": 6,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 139
  },
  "posts": [
    {
      "id": 1720,
      "post_number": 1,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-18T07:19:28.214Z",
      "updated_at": "2024-09-18T07:19:28.214Z",
      "cooked": "<p>If you have a programatic labelled heading, i.e., your label is contained in a typst variable</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let lab= label(\"asdf\")\n= asdf #lab\n</code></pre>\n<p>you may have encountered the error</p>\n<pre data-code-wrap=\"shell\"><code class=\"lang-shell\">error: cannot reference text\n@asdf // error: cannot reference text\n</code></pre>",
      "raw": "If you have a programatic labelled heading, i.e., your label is contained in a typst variable \n```typ\n#let lab= label(\"asdf\")\n= asdf #lab\n```\nyou may have encountered the error \n```shell\nerror: cannot reference text\n@asdf // error: cannot reference text\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 52,
      "score": 1805.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 1722,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-18T07:19:37.784Z",
      "updated_at": "2024-09-18T07:20:46.618Z",
      "cooked": "<p>You should write instead,</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= asdf\n#lab\n</code></pre>\n<h2><a name=\"p-1722-why-does-this-happen-1\" class=\"anchor\" href=\"#p-1722-why-does-this-happen-1\"></a>Why does this happen?</h2>\n<p>This occurs because your code is not parsed as</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#heading(level: 1, [asdf]) #asdf\n</code></pre>\n<p>but</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#heading(level: 1, [asdf #asdf])\n</code></pre>\n<p>See [1] and [2] for details.</p>\n<p>[1] <a href=\"https://github.com/typst/typst/issues/3512\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Programmatic label placed on the same line with heading is confusing · Issue #3512 · typst/typst · GitHub</a><br>\n[2] <a href=\"https://github.com/typst/typst/discussions/4043\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">How to reference a composite variable label? · typst/typst · Discussion #4043 · GitHub</a></p>",
      "raw": "You should write instead,\n```typ\n= asdf\n#lab\n```\n\n## Why does this happen?\n\nThis occurs because your code is not parsed as\n```typ\n#heading(level: 1, [asdf]) #asdf\n```\nbut\n```typ\n#heading(level: 1, [asdf #asdf])\n```\n\nSee [1] and [2] for details.\n\n[1] https://github.com/typst/typst/issues/3512\n[2] https://github.com/typst/typst/discussions/4043",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 52,
      "score": 165.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 1745,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-09-18T08:40:40.720Z",
      "updated_at": "2024-09-18T08:40:40.720Z",
      "cooked": "<p>Another way to get the same behavior, if you should prefer the heading on one line, is this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#[= asdf] #lab\n</code></pre>\n<p>honestly I find your solution nicer though: it keeps the <code>= </code> at the beginning of the line and thus seems more readable to me.</p>",
      "raw": "Another way to get the same behavior, if you should prefer the heading on one line, is this:\n\n```typ\n#[= asdf] #lab\n```\n\nhonestly I find your solution nicer though: it keeps the `= ` at the beginning of the line and thus seems more readable to me.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:58:46.635320"
}
{
  "topic_metadata": {
    "id": 4381,
    "title": "How to design a yellow sticker in Typst?",
    "slug": "how-to-design-a-yellow-sticker-in-typst",
    "posts_count": 3,
    "created_at": "2025-05-30T13:19:04.289Z",
    "last_posted_at": "2025-05-31T15:58:57.406Z",
    "views": 94,
    "like_count": 7,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 132
  },
  "posts": [
    {
      "id": 13439,
      "post_number": 1,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-05-30T13:19:04.350Z",
      "updated_at": "2025-05-30T13:19:04.350Z",
      "cooked": "<p>Is it possible to design a yellow sticker like the one listed below? Thank you</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/96025ea44af71cdcae41cdd1c2a1add13a710d05.png\" data-download-href=\"https://forum.typst.app/uploads/default/96025ea44af71cdcae41cdd1c2a1add13a710d05\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/9/96025ea44af71cdcae41cdd1c2a1add13a710d05.png\" alt=\"image\" data-base62-sha1=\"lp2HfD02Yk1xOILYMjFTM5L3rRb\" width=\"221\" height=\"224\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">221×224 46.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Is it possible to design a yellow sticker like the one listed below? Thank you\n\n![image|221x224](upload://lp2HfD02Yk1xOILYMjFTM5L3rRb.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    },
    {
      "id": 13449,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T15:34:44.258Z",
      "updated_at": "2025-05-30T15:34:44.258Z",
      "cooked": "<p>Yes it is. But you would need a handwritten font and a 3D transformation of an image.</p>\n<p>The closest I know is</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/colorful-boxes:1.4.3\": stickybox\n#set text(font: \"Sweet Aromatic\")\n\n#let yellow-sticker(size: 5cm, rotate: 5deg, body) = {\n  let body = {\n    set align(center + horizon)\n    show: block.with(height: size)\n    show: move.with(dx: -0.2em, dy: -1.5em)\n    set text(5em)\n    body\n  }\n  let colors = (yellow.darken(20%), yellow, yellow.lighten(50%))\n  stickybox(\n    width: size,\n    rotation: rotate,\n    fill: gradient.linear(angle: 45deg, ..colors),\n    tape: false,\n    body,\n  )\n}\n\n#yellow-sticker[Live!]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0be719e59fec6adf2fe3ec0a24d12dad7ab3dbff.png\" data-download-href=\"https://forum.typst.app/uploads/default/0be719e59fec6adf2fe3ec0a24d12dad7ab3dbff\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0be719e59fec6adf2fe3ec0a24d12dad7ab3dbff.png\" alt=\"image\" data-base62-sha1=\"1HinOAaPPvaUKK4J8a9eTWeDgaH\" width=\"199\" height=\"225\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">199×225 11.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><a href=\"https://dl.dafont.com/dl/?f=sweet_aromatic\">https://dl.dafont.com/dl/?f=sweet_aromatic</a></p>",
      "raw": "Yes it is. But you would need a handwritten font and a 3D transformation of an image.\n\nThe closest I know is\n\n```typ\n#import \"@preview/colorful-boxes:1.4.3\": stickybox\n#set text(font: \"Sweet Aromatic\")\n\n#let yellow-sticker(size: 5cm, rotate: 5deg, body) = {\n  let body = {\n    set align(center + horizon)\n    show: block.with(height: size)\n    show: move.with(dx: -0.2em, dy: -1.5em)\n    set text(5em)\n    body\n  }\n  let colors = (yellow.darken(20%), yellow, yellow.lighten(50%))\n  stickybox(\n    width: size,\n    rotation: rotate,\n    fill: gradient.linear(angle: 45deg, ..colors),\n    tape: false,\n    body,\n  )\n}\n\n#yellow-sticker[Live!]\n```\n\n![image|199x225](upload://1HinOAaPPvaUKK4J8a9eTWeDgaH.png)\n\n<https://dl.dafont.com/dl/?f=sweet_aromatic>",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 6,
      "reads": 34,
      "score": 106.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13500,
      "post_number": 3,
      "username": "Andrew_Duncan",
      "name": "Andrew Duncan",
      "created_at": "2025-05-31T15:58:57.406Z",
      "updated_at": "2025-05-31T15:58:57.406Z",
      "cooked": "<p>Thank you Andrew for your support.</p>",
      "raw": "Thank you Andrew for your support.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1560
    }
  ],
  "scraped_at": "2025-06-10T09:47:03.835276"
}
{
  "topic_metadata": {
    "id": 4382,
    "title": "How to create this kind of theorem box? (LaTeX TColorboxes)",
    "slug": "how-to-create-this-kind-of-theorem-box-latex-tcolorboxes",
    "posts_count": 9,
    "created_at": "2025-05-30T14:01:28.510Z",
    "last_posted_at": "2025-06-04T22:42:07.040Z",
    "views": 122,
    "like_count": 4,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "Junot",
    "tags": [
      "styling"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 801
  },
  "posts": [
    {
      "id": 13441,
      "post_number": 1,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-05-30T14:01:28.593Z",
      "updated_at": "2025-05-30T14:01:28.593Z",
      "cooked": "<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/55ce89fb5c360187b08f54bab31f8855fc54a769.png\" data-download-href=\"https://forum.typst.app/uploads/default/55ce89fb5c360187b08f54bab31f8855fc54a769\" title=\"Screenshot_2025-05-30_15-56-41\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/55ce89fb5c360187b08f54bab31f8855fc54a769_2_690x104.png\" alt=\"Screenshot_2025-05-30_15-56-41\" data-base62-sha1=\"cf55KtQ4v39xxbSUyCFkCk5Qjmp\" width=\"690\" height=\"104\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/55ce89fb5c360187b08f54bab31f8855fc54a769_2_690x104.png, https://forum.typst.app/uploads/default/optimized/2X/5/55ce89fb5c360187b08f54bab31f8855fc54a769_2_1035x156.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/5/55ce89fb5c360187b08f54bab31f8855fc54a769_2_1380x208.png 2x\" data-dominant-color=\"F2F2F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot_2025-05-30_15-56-41</span><span class=\"informations\">1533×233 49.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nIs there any kind of way to make this kind of theorem environment, the title “in” the border above. I achieved this pretty easily in LaTeX with tcolorbox but don’t know if this is doable in typst (it probably is because everything is but my knowledge isn’t there yet). Now, I’m using the ctheorems package but i have no problem switching to a better one if needed.</p>",
      "raw": "![Screenshot_2025-05-30_15-56-41|690x104](upload://cf55KtQ4v39xxbSUyCFkCk5Qjmp.png)\nIs there any kind of way to make this kind of theorem environment, the title \"in\" the border above. I achieved this pretty easily in LaTeX with tcolorbox but don't know if this is doable in typst (it probably is because everything is but my knowledge isn't there yet). Now, I'm using the ctheorems package but i have no problem switching to a better one if needed.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 62.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13450,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T15:40:21.653Z",
      "updated_at": "2025-05-30T15:40:21.653Z",
      "cooked": "<p>There are <a href=\"https://typst.app/universe/package/theorion\" class=\"inline-onebox\">theorion – Typst Universe</a>, <a href=\"https://typst.app/universe/package/thmbox\" class=\"inline-onebox\">thmbox – Typst Universe</a>. For frames, there are <a href=\"https://typst.app/universe/package/colorful-boxes\" class=\"inline-onebox\">colorful-boxes – Typst Universe</a> and <a href=\"https://typst.app/universe/package/showybox\" class=\"inline-onebox\">showybox – Typst Universe</a>.</p>",
      "raw": "There are https://typst.app/universe/package/theorion, https://typst.app/universe/package/thmbox. For frames, there are https://typst.app/universe/package/colorful-boxes and https://typst.app/universe/package/showybox.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13464,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-30T21:36:32.228Z",
      "updated_at": "2025-05-30T21:37:38.487Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a>, while all of these packages seem relevant, I couldn’t see directly in any of their readmes how to achieve the result OP expects. Please add some context and/or concrete applications (i.e. code) to your answer, as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11#p-29-answering-4\">answering guidelines</a>:</p>\n<aside class=\"quote no-group\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If a question is answered in an existing resource, explain how it solves the problem. Write as if OP had seen that resource, but not managed to apply it to their specific situation.</p>\n</blockquote>\n</aside>",
      "raw": "@Andrew, while all of these packages seem relevant, I couldn't see directly in any of their readmes how to achieve the result OP expects. Please add some context and/or concrete applications (i.e. code) to your answer, as per the [answering guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11#p-29-answering-4):\n\n[quote=\"reknih, post:1, topic:11\"]\nIf a question is answered in an existing resource, explain how it solves the problem. Write as if OP had seen that resource, but not managed to apply it to their specific situation.\n[/quote]",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 26.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 13466,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T22:26:16.635Z",
      "updated_at": "2025-05-30T22:26:31.000Z",
      "cooked": "<p>The context is that they are relevant. A starting point.</p>",
      "raw": "The context is that they are relevant. A starting point.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13468,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-30T22:34:14.578Z",
      "updated_at": "2025-05-30T22:34:14.578Z",
      "cooked": "<p>Then you should explicitly state that you are not attempting a full answer but only to give a starting point.</p>\n<aside class=\"quote no-group\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>When referencing existing resources, explain how they are relevant.</p>\n</blockquote>\n</aside>\n<p>OP could have (very reasonably) understood that one of your links solves the problem outright, and spent longer than necessary to figure out what they’re missing, even though they didn’t even miss anything – the answer simply wasn’t there.</p>",
      "raw": "Then you should explicitly state that you are not attempting a full answer but only to give a starting point.\n\n[quote=\"reknih, post:1, topic:11\"]\nWhen referencing existing resources, explain how they are relevant.\n[/quote]\n\nOP could have (very reasonably) understood that one of your links solves the problem outright, and spent longer than necessary to figure out what they're missing, even though they didn't even miss anything -- the answer simply wasn't there.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 13499,
      "post_number": 6,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-05-31T15:56:52.696Z",
      "updated_at": "2025-05-31T15:56:52.696Z",
      "cooked": "<p>I got it done with just editing the ctheorems source code but thanks for the suggestions anyway!</p>",
      "raw": "I got it done with just editing the ctheorems source code but thanks for the suggestions anyway!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13530,
      "post_number": 7,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-01T13:48:08.143Z",
      "updated_at": "2025-06-01T13:48:08.143Z",
      "cooked": "<p>Nice! Good job on making it work. Don’t hesitate to post your solution here yourself and check that answer as the solution ;)!</p>",
      "raw": "Nice! Good job on making it work. Don't hesitate to post your solution here yourself and check that answer as the solution ;)!",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13566,
      "post_number": 8,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-06-02T09:34:49.029Z",
      "updated_at": "2025-06-02T09:34:49.029Z",
      "cooked": "<p>It’s quite hacky and hard-coded but i only use one kind of theorem “box” so it’s fine for me, for sure it’s possible to code it more elegantly but I don’t have time for that right know.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let mythmbox(\n  identifier,\n  head,\n  ..blockargs,\n  supplement: auto,\n  padding: (top: 0.8em, bottom: 0em),\n  namefmt: x =&gt; [(#x)],\n  titlefmt: strong,\n  bodyfmt: x =&gt; x,\n  separator: [#h(0.1em):#h(0.2em)],\n  base: \"heading\",\n  base_level: none,\n) = {\n  if supplement == auto {\n    supplement = head\n  }\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    if not name == none {\n      name = [ #namefmt(name)]\n    } else {\n      name = []\n    }\n    if title == auto {\n      title = head\n    }\n    if not number == none {\n      title += \" \" + number\n    }\n    title = titlefmt(title)\n    body = bodyfmt(body)\n    pad(..padding, block(\n      breakable: false,\n      fill: none,\n      width: 100%,\n      radius: 0pt,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n      place(top, dx: -5pt, dy: -20pt, block(\n        fill: white,\n        inset: (x: 5pt, y: 5pt),\n        stroke: 0pt,\n      )[\n        #text(font: sansfont)[*#title* #name]\n      ])\n        + body,\n    ))\n  }\n  return thmenv(identifier, base, base_level, boxfmt).with(\n    supplement: supplement,\n  )\n}\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n</code></pre>",
      "raw": "It's quite hacky and hard-coded but i only use one kind of theorem \"box\" so it's fine for me, for sure it's possible to code it more elegantly but I don't have time for that right know.\n```\n#let mythmbox(\n  identifier,\n  head,\n  ..blockargs,\n  supplement: auto,\n  padding: (top: 0.8em, bottom: 0em),\n  namefmt: x => [(#x)],\n  titlefmt: strong,\n  bodyfmt: x => x,\n  separator: [#h(0.1em):#h(0.2em)],\n  base: \"heading\",\n  base_level: none,\n) = {\n  if supplement == auto {\n    supplement = head\n  }\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    if not name == none {\n      name = [ #namefmt(name)]\n    } else {\n      name = []\n    }\n    if title == auto {\n      title = head\n    }\n    if not number == none {\n      title += \" \" + number\n    }\n    title = titlefmt(title)\n    body = bodyfmt(body)\n    pad(..padding, block(\n      breakable: false,\n      fill: none,\n      width: 100%,\n      radius: 0pt,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n      place(top, dx: -5pt, dy: -20pt, block(\n        fill: white,\n        inset: (x: 5pt, y: 5pt),\n        stroke: 0pt,\n      )[\n        #text(font: sansfont)[*#title* #name]\n      ])\n        + body,\n    ))\n  }\n  return thmenv(identifier, base, base_level, boxfmt).with(\n    supplement: supplement,\n  )\n}\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n```",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13715,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T22:42:07.040Z",
      "updated_at": "2025-06-04T22:42:07.040Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Junot\" data-post=\"8\" data-topic=\"4382\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/662200/48.png\" class=\"avatar\"> Junot:</div>\n<blockquote>\n<p>for sure it’s possible to code it more elegantly</p>\n</blockquote>\n</aside>\n<p>Here you go:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/ctheorems:1.1.3\": *\n\n#let mythmbox(\n  identifier,\n  head,\n  supplement: auto,\n  padding: (top: 0.8em, bottom: 0em),\n  namefmt: x =&gt; [(#x)],\n  titlefmt: strong,\n  bodyfmt: x =&gt; x,\n  base: \"heading\",\n  base_level: none,\n) = {\n  if supplement == auto { supplement = head }\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    name = if name != none { namefmt(name) }\n    if title == auto { title = head }\n    if number != none { title += \" \" + number }\n    title = titlefmt(title)\n    let title-body = text(font: \"Libertinus Sans\")[#title #name]\n    body = bodyfmt(body)\n    show: pad.with(..padding)\n    show: block.with(\n      breakable: false,\n      width: 100%,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n    )\n    place(top, dx: -5pt, dy: -20pt, block(fill: white, inset: 5pt, title-body))\n    body\n  }\n  thmenv(identifier, base, base_level, boxfmt).with(supplement: supplement)\n}\n\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n\n#theorem[name][#lorem(20)]\n\n#theorem[#lorem(20)]\n</code></pre>\n<p>If you pretty much use it as is, then this should be good.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/2395d833365b5ab16a2d8d82a934be8bc7bd89db.png\" data-download-href=\"https://forum.typst.app/uploads/default/2395d833365b5ab16a2d8d82a934be8bc7bd89db\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2395d833365b5ab16a2d8d82a934be8bc7bd89db.png\" alt=\"image\" data-base62-sha1=\"54NKChjXfnSGF9rggIu0wIYdDTl\" width=\"611\" height=\"198\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">611×198 23 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I don’t use these, so this looks too quirky for me to touch stuff further. Though I guess I can try:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/ctheorems:1.1.3\": *\n\n#let mythmbox(identifier, head, base: \"heading\", base_level: none) = {\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    name = if name != none [(#name)]\n    if title == auto { title = head }\n    if number != none { title += \" \" + number }\n    let title-body = text(font: \"Libertinus Sans\")[*#title* #name]\n    show: pad.with(top: 0.8em, bottom: 0em)\n    show: block.with(\n      breakable: false,\n      width: 100%,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n    )\n    place(top, dx: -5pt, dy: -20pt, block(fill: white, inset: 5pt, title-body))\n    body\n  }\n  thmenv(identifier, base, base_level, boxfmt).with(supplement: head)\n}\n\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n</code></pre>",
      "raw": "[quote=\"Junot, post:8, topic:4382\"]\nfor sure it’s possible to code it more elegantly\n[/quote]\n\nHere you go:\n\n```typ\n#import \"@preview/ctheorems:1.1.3\": *\n\n#let mythmbox(\n  identifier,\n  head,\n  supplement: auto,\n  padding: (top: 0.8em, bottom: 0em),\n  namefmt: x => [(#x)],\n  titlefmt: strong,\n  bodyfmt: x => x,\n  base: \"heading\",\n  base_level: none,\n) = {\n  if supplement == auto { supplement = head }\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    name = if name != none { namefmt(name) }\n    if title == auto { title = head }\n    if number != none { title += \" \" + number }\n    title = titlefmt(title)\n    let title-body = text(font: \"Libertinus Sans\")[#title #name]\n    body = bodyfmt(body)\n    show: pad.with(..padding)\n    show: block.with(\n      breakable: false,\n      width: 100%,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n    )\n    place(top, dx: -5pt, dy: -20pt, block(fill: white, inset: 5pt, title-body))\n    body\n  }\n  thmenv(identifier, base, base_level, boxfmt).with(supplement: supplement)\n}\n\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n\n#theorem[name][#lorem(20)]\n\n#theorem[#lorem(20)]\n```\n\nIf you pretty much use it as is, then this should be good.\n\n![image|611x198](upload://54NKChjXfnSGF9rggIu0wIYdDTl.png)\n\nI don't use these, so this looks too quirky for me to touch stuff further. Though I guess I can try:\n\n```typ\n#import \"@preview/ctheorems:1.1.3\": *\n\n#let mythmbox(identifier, head, base: \"heading\", base_level: none) = {\n  let boxfmt(name, number, body, title: auto, ..blockargs_individual) = {\n    name = if name != none [(#name)]\n    if title == auto { title = head }\n    if number != none { title += \" \" + number }\n    let title-body = text(font: \"Libertinus Sans\")[*#title* #name]\n    show: pad.with(top: 0.8em, bottom: 0em)\n    show: block.with(\n      breakable: false,\n      width: 100%,\n      stroke: (thickness: 0.5pt, paint: black),\n      inset: 1.2em,\n    )\n    place(top, dx: -5pt, dy: -20pt, block(fill: white, inset: 5pt, title-body))\n    body\n  }\n  thmenv(identifier, base, base_level, boxfmt).with(supplement: head)\n}\n\n#let theorem = mythmbox(\"theorem\", \"Theorem\", base_level: 2)\n```",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 3,
      "reads": 11,
      "score": 47.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:03.117478"
}
{
  "topic_metadata": {
    "id": 4384,
    "title": "How can I suppress headers and footers on blank verso/trailing pages",
    "slug": "how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages",
    "posts_count": 8,
    "created_at": "2025-05-30T14:48:08.533Z",
    "last_posted_at": "2025-06-04T20:35:15.707Z",
    "views": 87,
    "like_count": 2,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "layout",
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1419
  },
  "posts": [
    {
      "id": 13446,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-05-30T14:48:08.640Z",
      "updated_at": "2025-05-30T14:49:14.475Z",
      "cooked": "<p>My document uses facing pages and Hydra to create the headings; page numbering is default in the footer. It is set to have each level 1 heading (in this minimal example “Part”) open on a recto/leading page. This means that if the preceding text ends on a recto page, there is a blank verso/trailing page between it and the new Part. Here is the example code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/hydra:0.6.1\": hydra\n\n#set page(paper: \"a7\", margin: (inside: 1.5cm, outside: 1cm, y: 2cm), numbering: \"1\", header: context {\n  if calc.odd(here().page()) {\n    align(right, smallcaps(hydra(1)))\n  } else {\n    align(left, emph(hydra(2)))\n  }\n})\n\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(18pt, weight: \"semibold\")\n#show heading.where(level: 1): it =&gt; pagebreak(weak: true, to: \"odd\") + it\n\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(25)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n</code></pre>\n<p>As the example shows, blank verso pages (page 4) have the header and footer. I want to have no header or footer on any such blank pages. I found a discussion on</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/2722\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/2722\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/2722\" target=\"_blank\" rel=\"noopener nofollow ugc\">Skip headers and footers for skipped pages</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-11-20\" data-time=\"09:57:11\" data-timezone=\"UTC\">09:57AM - 20 Nov 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/lucifer1004\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"\" src=\"https://forum.typst.app/uploads/default/original/2X/f/f84d942f16fdd933d167c205dac5fe08301a35f7.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"6B8495\">\n          lucifer1004\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          styling\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nWith `pagebreak(to: \"odd\")` we can skip pages to reach a certai<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">n parity. However, headers and footers still show up on the inserted blank page. It would be nice if there could be an option to disable any rendering on the skipped pages.\n\n### Use Case\n\nSometimes we need the skipped pages to be completely blank.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>which included this code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// make pagebreaks detectable\n#show pagebreak: it =&gt; {\n  [#metadata(none) &lt;empty-page-start&gt;]\n  it\n  [#metadata(none) &lt;empty-page-end&gt;]\n}\n\n// check whether this is an empty page\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;empty-page-start&gt;, &lt;empty-page-end&gt;)).chunks(2).any(((start, end)) =&gt; {\n    start.location().page() &lt; page-num and page-num &lt; end.location().page()\n  })\n}\n\n// skip footer on empty pages\n#set page(\n  numbering: \"1 / 1\",\n  footer: context if not is-page-empty() {\n    counter(page).display(page.numbering, both: true)\n  },\n)\n</code></pre>\n<p>That removes the footer on the blank pages as I wish, however (1) it changes the page numbering to the left margin on all other pages when I want it centred, and (2) it does not remove the header. Could someone please show me how to achieve (1) and (2)?</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "My document uses facing pages and Hydra to create the headings; page numbering is default in the footer. It is set to have each level 1 heading (in this minimal example “Part”) open on a recto/leading page. This means that if the preceding text ends on a recto page, there is a blank verso/trailing page between it and the new Part. Here is the example code:\n\n```typ\n#import \"@preview/hydra:0.6.1\": hydra\n\n#set page(paper: \"a7\", margin: (inside: 1.5cm, outside: 1cm, y: 2cm), numbering: \"1\", header: context {\n  if calc.odd(here().page()) {\n    align(right, smallcaps(hydra(1)))\n  } else {\n    align(left, emph(hydra(2)))\n  }\n})\n\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(18pt, weight: \"semibold\")\n#show heading.where(level: 1): it => pagebreak(weak: true, to: \"odd\") + it\n\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(25)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n```\n\nAs the example shows, blank verso pages (page 4) have the header and footer. I want to have no header or footer on any such blank pages. I found a discussion on\n\nhttps://github.com/typst/typst/issues/2722\n\nwhich included this code:\n\n```typ\n// make pagebreaks detectable\n#show pagebreak: it => {\n  [#metadata(none) <empty-page-start>]\n  it\n  [#metadata(none) <empty-page-end>]\n}\n\n// check whether this is an empty page\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<empty-page-start>, <empty-page-end>)).chunks(2).any(((start, end)) => {\n    start.location().page() < page-num and page-num < end.location().page()\n  })\n}\n\n// skip footer on empty pages\n#set page(\n  numbering: \"1 / 1\",\n  footer: context if not is-page-empty() {\n    counter(page).display(page.numbering, both: true)\n  },\n)\n```\n\nThat removes the footer on the blank pages as I wish, however (1) it changes the page numbering to the left margin on all other pages when I want it centred, and (2) it does not remove the header. Could someone please show me how to achieve (1) and (2)?\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13451,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T15:58:31.792Z",
      "updated_at": "2025-05-30T15:58:46.706Z",
      "cooked": "<ol>\n<li>Use <a href=\"https://typst.app/docs/reference/layout/align/\"><code>align(center)</code></a>.</li>\n<li>Add the condition to the header.</li>\n</ol>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether this is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;ep-start&gt;, &lt;ep-end&gt;))\n    .chunks(2)\n    .any(((start, end)) =&gt; {\n      start.location().page() &lt; page-num and page-num &lt; end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 2cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it =&gt; [#metadata[]&lt;ep-start&gt;] + it + [#metadata[]&lt;ep-end&gt;]\n\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(18pt, weight: \"semibold\")\n#show heading.where(level: 1): it =&gt; pagebreak(weak: true, to: \"odd\") + it\n\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n#lorem(75)\n\n== Section 1.a\n#lorem(25)\n\n= Part 2\n#lorem(75)\n\n== Section 2.a\n#lorem(25)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/03524b82f986011685f9c0e144e0585997b51763.png\" data-download-href=\"https://forum.typst.app/uploads/default/03524b82f986011685f9c0e144e0585997b51763\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/03524b82f986011685f9c0e144e0585997b51763_2_344x250.png\" alt=\"image\" data-base62-sha1=\"tnKpu86Sa0p6ZpHKfCrtv3v1Gr\" width=\"344\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/03524b82f986011685f9c0e144e0585997b51763_2_344x250.png, https://forum.typst.app/uploads/default/optimized/2X/0/03524b82f986011685f9c0e144e0585997b51763_2_516x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/0/03524b82f986011685f9c0e144e0585997b51763_2_688x500.png 2x\" data-dominant-color=\"020202\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1416×1029 26.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "1. Use [`align(center)`](https://typst.app/docs/reference/layout/align/).\n2. Add the condition to the header.\n\n```typ\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether this is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<ep-start>, <ep-end>))\n    .chunks(2)\n    .any(((start, end)) => {\n      start.location().page() < page-num and page-num < end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 2cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it => [#metadata[]<ep-start>] + it + [#metadata[]<ep-end>]\n\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(18pt, weight: \"semibold\")\n#show heading.where(level: 1): it => pagebreak(weak: true, to: \"odd\") + it\n\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n#lorem(75)\n\n== Section 1.a\n#lorem(25)\n\n= Part 2\n#lorem(75)\n\n== Section 2.a\n#lorem(25)\n```\n\n![image|688x500, 50%](upload://tnKpu86Sa0p6ZpHKfCrtv3v1Gr.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 54.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13469,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-05-30T22:56:21.842Z",
      "updated_at": "2025-05-30T22:56:21.842Z",
      "cooked": "<p>Thank you Andrew! That solves that one. I have to say that I don’t really understand how the code works, nor the importance or otherwise of the (seemingly small) differences between your version and the one from the GitHub discussion. But the effect is that although adding <code>align(center)</code> is the obvious solution, where to fit it into the code is not so obvious to one who can’t read the code easily; the same for adding the <code>context…</code> to the header code.</p>\n<p>But I thank you for your help.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you Andrew! That solves that one. I have to say that I don't really understand how the code works, nor the importance or otherwise of the (seemingly small) differences between your version and the one from the GitHub discussion. But the effect is that although adding `align(center)` is the obvious solution, where to fit it into the code is not so obvious to one who can't read the code easily; the same for adding the `context…` to the header code.\n\nBut I thank you for your help.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13473,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-05-31T07:05:01.785Z",
      "updated_at": "2025-05-31T07:05:01.785Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Mark_Hilton\" data-post=\"3\" data-topic=\"4384\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/m/1F0115/48.png\" class=\"avatar\"> Mark_Hilton:</div>\n<blockquote>\n<p>But the effect is that although adding <code>align(center)</code> is the obvious solution, where to fit it into the code is not so obvious to one who can’t read the code easily</p>\n</blockquote>\n</aside>\n<p>Your page numbering is in the footer, and by design in Typst, this is configured by defining options for <a href=\"https://typst.app/docs/reference/layout/page\"><code>page</code></a>, in particular the option “footer”.<br>\nIf you are writing in a LTR language, then everything is mostly left-aligned by default. Hence, when you are setting the page footer, the content is <code>counter(page).display()</code>, but left-aligned. Then, you can simply define the content alignment with an <a href=\"https://typst.app/docs/reference/layout/align/\"><code>align</code></a> element.</p>\n<aside class=\"quote no-group\" data-username=\"Mark_Hilton\" data-post=\"3\" data-topic=\"4384\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/m/1F0115/48.png\" class=\"avatar\"> Mark_Hilton:</div>\n<blockquote>\n<p>the same for adding the <code>context…</code> to the header code</p>\n</blockquote>\n</aside>\n<p>As for the context expression, understand it conceptually as wrapping location-dependent code. Location is not provided to normal code, so you need it wrapped in <a href=\"https://typst.app/docs/reference/context/\">context</a>.</p>\n<p>As for the trick used here, very briefly, because a <a href=\"https://typst.app/docs/reference/layout/pagebreak\"><code>pagebreak</code></a> is also an element, then you can re-define it to also raise a “start” and an “end” flag (<a href=\"https://typst.app/docs/reference/introspection/metadata/\">metadata</a>), and return “yes, the page is empty”, if you are currently between any of these two flags.</p>",
      "raw": "[quote=\"Mark_Hilton, post:3, topic:4384\"]\nBut the effect is that although adding `align(center)` is the obvious solution, where to fit it into the code is not so obvious to one who can’t read the code easily\n[/quote]\n\nYour page numbering is in the footer, and by design in Typst, this is configured by defining options for [`page`](https://typst.app/docs/reference/layout/page), in particular the option \"footer\".\nIf you are writing in a LTR language, then everything is mostly left-aligned by default. Hence, when you are setting the page footer, the content is `counter(page).display()`, but left-aligned. Then, you can simply define the content alignment with an [`align`](https://typst.app/docs/reference/layout/align/) element.\n\n[quote=\"Mark_Hilton, post:3, topic:4384\"]\nthe same for adding the `context…` to the header code\n[/quote]\n \nAs for the context expression, understand it conceptually as wrapping location-dependent code. Location is not provided to normal code, so you need it wrapped in [context](https://typst.app/docs/reference/context/).\n\nAs for the trick used here, very briefly, because a [`pagebreak`](https://typst.app/docs/reference/layout/pagebreak) is also an element, then you can re-define it to also raise a \"start\" and an \"end\" flag ([metadata](https://typst.app/docs/reference/introspection/metadata/)), and return \"yes, the page is empty\", if you are currently between any of these two flags.",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 1,
      "reads": 21,
      "score": 29.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13523,
      "post_number": 5,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-01T11:13:32.557Z",
      "updated_at": "2025-06-01T11:25:18.087Z",
      "cooked": "<p>Thank you very much for the explanations.  They do help, but if I can elaborate a bit further—though this is related to my post in</p>\n<aside class=\"quote quote-modified\" data-post=\"13\" data-topic=\"783\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/m/1F0115/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/could-we-have-more-examples-including-straightforward-ones-in-the-documentation/783/13\">Could we have more examples (including straightforward ones) in the documentation?</a> <a class=\"badge-category__wrapper \" href=\"/c/general/4\"><span data-category-id=\"4\" style=\"--category-badge-color: #007aff; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"The Forum is still new and as new members join and discussions start, we want to learn what you want to post. Hence, this category is a catch-all for posts that do not fit elsewhere.\"><span class=\"badge-category__name\">General</span></span></a>\n  </div>\n  <blockquote>\n    I’ve only just come across this thread, and I realise that it dates from last autumn. However… \nI have come to Typst in the last 6 months as a non-programmer with a background in the humanities, including Linguistics. I am long retired but very have an active interest in writing and text layout. I am regarded by friends and family as being pretty much computer (Apple particularly) literate. In that sense I am very much the sort of beginner that <a class=\"mention\" href=\"/u/bryn\">@Bryn</a> is talking about and echo what he has contrib…\n  </blockquote>\n</aside>\n\n<p>In this code <code>heading 1</code> is defined by:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(24pt, weight: \"regular\")\n#show heading.where(level: 1): smallcaps\n#show heading.where(level: 1): it =&gt; pagebreak(weak: true, to: \"odd\") + it\n</code></pre>\n<p>In itself, this works just as I want. However, I would like, book-style, to have a blank space of say 5em above the heading.</p>\n<p>The Hydra Guide says:</p>\n<blockquote>\n<p>You should also make sure you don’t use show rules which affect the vertical starting position of the heading.</p>\n</blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// do\n\n#show heading: it =&gt; block(v(8cm) + it)\n…\n</code></pre>\n<p>However, it is far from clear, how that can be combined with my <code>heading 1</code> code. Everything I have tried either results in an error I can’t resolve or all text being relaced with the string <code>block(5em)</code>. If I create a separate show rule for it</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): set block(above: 5em)\n</code></pre>\n<p>it is ignored wherever I place it in relation to the other <code>heading 1</code> show rules.</p>\n<p>I think I understand all the code involved, but it is how to combine them that is always the problem for beginners like me.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you very much for the explanations.  They do help, but if I can elaborate a bit further—though this is related to my post in\n\nhttps://forum.typst.app/t/could-we-have-more-examples-including-straightforward-ones-in-the-documentation/783/13\n\nIn this code `heading 1` is defined by:\n\n```typ\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(24pt, weight: \"regular\")\n#show heading.where(level: 1): smallcaps\n#show heading.where(level: 1): it => pagebreak(weak: true, to: \"odd\") + it\n```\nIn itself, this works just as I want. However, I would like, book-style, to have a blank space of say 5em above the heading.\n\nThe Hydra Guide says:\n\n>  You should also make sure you don’t use show rules which affect the vertical starting position of the heading.\n\n ```typ\n// do\n\n#show heading: it => block(v(8cm) + it)\n…\n```\n\nHowever, it is far from clear, how that can be combined with my `heading 1` code. Everything I have tried either results in an error I can't resolve or all text being relaced with the string `block(5em)`. If I create a separate show rule for it\n\n```typ\n#show heading.where(level: 1): set block(above: 5em)\n```\n\nit is ignored wherever I place it in relation to the other `heading 1` show rules.\n\nI think I understand all the code involved, but it is how to combine them that is always the problem for beginners like me.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13532,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-01T14:20:37.089Z",
      "updated_at": "2025-06-01T14:20:37.089Z",
      "cooked": "<p>You’re welcome Mark! I have to agree with you, the documentation is very beginner-friendly at all. I would say, please don’t feel ashamed of asking questions here, I think it should be the opposite actually. Basic questions on the forum reflect badly on the state of the documentation itself, or on the discoverability of basic information.</p>\n<p>About the show rules combination, I think it’s best to create one rule per document you are writing. Styling composability is ambiguous to the user, especially when loading packages, etc. This is a pain point of Typst.</p>\n<p>I believe you would find the answers at <a href=\"https://forum.typst.app/t/which-show-rule-takes-precedence/3904\" class=\"inline-onebox\">Which show rule takes precedence?</a> interesting. As for the question itself, could I trouble you to create a new topic in <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a>?</p>",
      "raw": "You're welcome Mark! I have to agree with you, the documentation is very beginner-friendly at all. I would say, please don't feel ashamed of asking questions here, I think it should be the opposite actually. Basic questions on the forum reflect badly on the state of the documentation itself, or on the discoverability of basic information. \n\nAbout the show rules combination, I think it's best to create one rule per document you are writing. Styling composability is ambiguous to the user, especially when loading packages, etc. This is a pain point of Typst.\n\nI believe you would find the answers at https://forum.typst.app/t/which-show-rule-takes-precedence/3904 interesting. As for the question itself, could I trouble you to create a new topic in #questions?",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13678,
      "post_number": 7,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-04T10:23:31.754Z",
      "updated_at": "2025-06-04T10:23:31.754Z",
      "cooked": "<p>Hi. Thank you for your help and encouragement. I’m sorry it has taken so long to respond; I started a new thread as you suggested (and have probably noticed!) so have been engaged in that, as well as with a lot of family business. But my immediate needs are now solved (I think!), though I am going to continue to explore and refine.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Hi. Thank you for your help and encouragement. I'm sorry it has taken so long to respond; I started a new thread as you suggested (and have probably noticed!) so have been engaged in that, as well as with a lot of family business. But my immediate needs are now solved (I think!), though I am going to continue to explore and refine.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 2.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13703,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T20:35:15.707Z",
      "updated_at": "2025-06-05T19:29:21.633Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"quachpas\" data-post=\"4\" data-topic=\"4384\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\"> quachpas:</div>\n<blockquote>\n<p>As for the trick used here, very briefly, because a <a href=\"https://typst.app/docs/reference/layout/pagebreak\"><code>pagebreak</code></a> is also an element, then you can re-define it to also raise a “start” and an “end” flag (<a href=\"https://typst.app/docs/reference/introspection/metadata/\">metadata</a>), and return “yes, the page is empty”, if you are currently between any of these two flags.</p>\n</blockquote>\n</aside>\n<p>I was actually also confused at this. A neat trick. So <code>pagebreak</code> is not just a command, but an element that can span a long way, even a whole page?</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"4473\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/is-pagebreak-just-a-command-or-also-an-element/4473\">Is `pagebreak` just a command, or also an element?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Continuing the discussion from <a href=\"https://forum.typst.app/t/how-can-i-suppress-headers-and-footers-on-blank-verso-trailing-pages/4384/8\">How can I suppress headers and footers on blank verso/trailing pages</a>: \nWe use a show rule “trick” to make pagebreaks detectable. \n// make pagebreaks detectable\n#show pagebreak: it =&gt; {\n  [#metadata(none) &lt;empty-page-start&gt;]\n  it\n  [#metadata(none) &lt;empty-page-end&gt;]\n}\n\n\n<a class=\"mention\" href=\"/u/andrew\">@Andrew</a> was confused about this, because he thought a pagebreak() was just a command.\n  </blockquote>\n</aside>\n",
      "raw": "[quote=\"quachpas, post:4, topic:4384\"]\nAs for the trick used here, very briefly, because a [`pagebreak`](https://typst.app/docs/reference/layout/pagebreak) is also an element, then you can re-define it to also raise a “start” and an “end” flag ([metadata](https://typst.app/docs/reference/introspection/metadata/)), and return “yes, the page is empty”, if you are currently between any of these two flags.\n[/quote]\n\nI was actually also confused at this. A neat trick. So `pagebreak` is not just a command, but an element that can span a long way, even a whole page?\n\nhttps://forum.typst.app/t/is-pagebreak-just-a-command-or-also-an-element/4473",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 12,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:02.382041"
}
{
  "topic_metadata": {
    "id": 4386,
    "title": "How can I put a '\\n' into a caption?",
    "slug": "how-can-i-put-a-n-into-a-caption",
    "posts_count": 5,
    "created_at": "2025-05-30T16:16:02.310Z",
    "last_posted_at": "2025-05-30T22:31:03.003Z",
    "views": 33,
    "like_count": 1,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "text-formatting",
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 266
  },
  "posts": [
    {
      "id": 13454,
      "post_number": 1,
      "username": "cord",
      "name": "cord",
      "created_at": "2025-05-30T16:16:02.378Z",
      "updated_at": "2025-05-30T20:49:39.566Z",
      "cooked": "<p>gemini and perplexity are claiming that cr/lf (= \\n or linefeed) is supported in a caption, but I can’t make it work. I’d like to break the following caption into two lines</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n  grid(\n    columns: 2,\n    image(\"f.counts.cumulative.png\", width: 90%),\n    image(\"f.counts.weekly.png\", width: 90%)\n  ),\n  caption: [Cumulative Thomisidae counts:\n  control: orange, SNH: blue]\n) &lt;figure.temporal&gt;\n</code></pre>\n<p>Is it possible? Thank you.</p>",
      "raw": "gemini and perplexity are claiming that cr/lf (= \\n or linefeed) is supported in a caption, but I can't make it work. I'd like to break the following caption into two lines\n\n```\n#figure(\n  grid(\n    columns: 2,\n    image(\"f.counts.cumulative.png\", width: 90%),\n    image(\"f.counts.weekly.png\", width: 90%)\n  ),\n  caption: [Cumulative Thomisidae counts:\n  control: orange, SNH: blue]\n) <figure.temporal>\n```\nIs it possible? Thank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1678
    },
    {
      "id": 13455,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T16:31:38.488Z",
      "updated_at": "2025-05-30T16:34:44.722Z",
      "cooked": "<p>Hello. Please read <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> before posting, and update your post.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ … ````. It will then look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n</code></pre>\n<p>If you need to highlight a code or math mode snippet instead, the language tags <code>typc</code> and <code>typm</code> do that, respectively.</p>\n</blockquote>\n</aside>",
      "raw": "Hello. Please read https://forum.typst.app/t/how-to-post-in-the-questions-category/11 before posting, and update your post.\n\n[quote=\"reknih, post:1, topic:11\"]\nIf your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ... ````. It will then look like this:\n\n```typ\n#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n```\n\nIf you need to highlight a code or math mode snippet instead, the language tags `typc` and `typm` do that, respectively.\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13456,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T16:34:27.205Z",
      "updated_at": "2025-05-30T16:34:27.205Z",
      "cooked": "<p>Are you looking for a <a href=\"https://typst.app/docs/reference/text/linebreak/\">line break</a>?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n  grid(\n    columns: 2,\n    gutter: 1em,\n    rect(), rect(),\n  ),\n  caption: [Cumulative Thomisidae counts: \\\n    control: orange, SNH: blue],\n) &lt;figure.temporal&gt;\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2f0549dbae27fcd80977ec9e8ae15ebfe384b019.png\" alt=\"image\" data-base62-sha1=\"6HXLQmPBmFA8BIwM9Y03YVdIA77\" width=\"255\" height=\"94\"></p>\n<p>For sub figures there is <a href=\"https://typst.app/universe/package/subpar\" class=\"inline-onebox\">subpar – Typst Universe</a>.</p>",
      "raw": "Are you looking for a [line break](https://typst.app/docs/reference/text/linebreak/)?\n\n```typ\n#figure(\n  grid(\n    columns: 2,\n    gutter: 1em,\n    rect(), rect(),\n  ),\n  caption: [Cumulative Thomisidae counts: \\\n    control: orange, SNH: blue],\n) <figure.temporal>\n```\n\n![image|255x94](upload://6HXLQmPBmFA8BIwM9Y03YVdIA77.png)\n\nFor sub figures there is https://typst.app/universe/package/subpar.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13465,
      "post_number": 4,
      "username": "cord",
      "name": "cord",
      "created_at": "2025-05-30T22:11:32.072Z",
      "updated_at": "2025-05-30T22:11:32.072Z",
      "cooked": "<p>Hi Andrew, I understand your point, but am confused about the current state of my post. Could a moderator have fixed it already? Anyway, thanks and I will try to get it right next time.</p>",
      "raw": "Hi Andrew, I understand your point, but am confused about the current state of my post. Could a moderator have fixed it already? Anyway, thanks and I will try to get it right next time.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 23.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1678
    },
    {
      "id": 13467,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T22:31:03.003Z",
      "updated_at": "2025-05-30T22:31:03.003Z",
      "cooked": "<p>Indeed, if you didn’t change it, then the moderator must’ve done this.</p>",
      "raw": "Indeed, if you didn't change it, then the moderator must've done this.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:01.624880"
}
{
  "topic_metadata": {
    "id": 4387,
    "title": "How to `include` a data structure?",
    "slug": "how-to-include-a-data-structure",
    "posts_count": 4,
    "created_at": "2025-05-30T18:31:17.788Z",
    "last_posted_at": "2025-05-31T11:30:27.594Z",
    "views": 50,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "aarnent",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 553
  },
  "posts": [
    {
      "id": 13460,
      "post_number": 1,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-05-30T18:31:17.882Z",
      "updated_at": "2025-05-31T06:51:22.207Z",
      "cooked": "<p>I’m passing a glossary (for glossarium) to a template (via the parameter <code>glossary</code>). The glossary is basically an array of arrays. If I pass it verbatim as in the following example, it works fine:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">glossary: (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  (\n    key: \"Patch\",\n    description: \"A patch is data that is intended to be used to modify an existing software resource such as a program or a file, often to fix bugs and security vulnerabilities.\",\n  ),\n)\n</code></pre>\n<p>But as glossaries may become large, I would like to put it in a separate file. If I try to <code>include</code> that file as follows, things don’t work any more (i.e. Typst doesn’t recognize the file content as an array of arrays):</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">glossary: include \"myglossary.typ\"\n</code></pre>\n<p><code>myglossary.typ</code> contains:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\"> (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  (\n    key: \"Patch\",\n    description: \"A patch is data that is intended to be used to modify an existing software resource such as a program or a file, often to fix bugs and security vulnerabilities.\",\n  ),\n)\n</code></pre>\n<p>I assumed <code>include</code> would just replace the file content 1:1. But obviously it doesn’t . So, how can I achieve this?</p>",
      "raw": "I'm passing a glossary (for glossarium) to a template (via the parameter `glossary`). The glossary is basically an array of arrays. If I pass it verbatim as in the following example, it works fine:\n\n```typc\nglossary: (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  (\n    key: \"Patch\",\n    description: \"A patch is data that is intended to be used to modify an existing software resource such as a program or a file, often to fix bugs and security vulnerabilities.\",\n  ),\n)\n```\n\nBut as glossaries may become large, I would like to put it in a separate file. If I try to `include` that file as follows, things don't work any more (i.e. Typst doesn't recognize the file content as an array of arrays):\n\n```typc\nglossary: include \"myglossary.typ\"\n```\n\n`myglossary.typ` contains:\n\n```typc\n (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  (\n    key: \"Patch\",\n    description: \"A patch is data that is intended to be used to modify an existing software resource such as a program or a file, often to fix bugs and security vulnerabilities.\",\n  ),\n)\n```\n\nI assumed `include` would just replace the file content 1:1. But obviously it doesn't . So, how can I achieve this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 13461,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-30T18:39:12.902Z",
      "updated_at": "2025-05-30T18:39:12.902Z",
      "cooked": "<p>Please follow the forum guidelines <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> and update your post.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>Here are a few examples for titles you should avoid:</p>\n<ul>\n<li><img src=\"https://forum.typst.app/images/emoji/apple/ambulance.png?v=12\" title=\":ambulance:\" class=\"emoji\" alt=\":ambulance:\" loading=\"lazy\" width=\"20\" height=\"20\"> <em>hi peple, I want to write my resumme in typst</em><br>\nThis post title shows what the post author is looking for. However, it does not contain a concrete question on what they need help with. It also contains multiple spelling mistakes. Put effort in your posts, so community members will be more compelled to put effort in helping you.</li>\n</ul>\n</blockquote>\n</aside>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ … ````. It will then look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n</code></pre>\n<p>If you need to highlight a code or math mode snippet instead, the language tags <code>typc</code> and <code>typm</code> do that, respectively.</p>\n</blockquote>\n</aside>",
      "raw": "Please follow the forum guidelines https://forum.typst.app/t/how-to-post-in-the-questions-category/11 and update your post.\n\n[quote=\"reknih, post:1, topic:11\"]\nHere are a few examples for titles you should avoid:\n\n* :ambulance: *hi peple, I want to write my resumme in typst*\nThis post title shows what the post author is looking for. However, it does not contain a concrete question on what they need help with. It also contains multiple spelling mistakes. Put effort in your posts, so community members will be more compelled to put effort in helping you.\n[/quote]\n\n[quote=\"reknih, post:1, topic:11\"]\nIf your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ... ````. It will then look like this:\n\n```typ\n#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n```\n\nIf you need to highlight a code or math mode snippet instead, the language tags `typc` and `typm` do that, respectively.\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13462,
      "post_number": 3,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-05-30T20:13:27.062Z",
      "updated_at": "2025-05-30T20:13:27.062Z",
      "cooked": "<p>The problem is that using <a href=\"https://typst.app/docs/reference/scripting/#modules\">include</a> returns <a href=\"https://typst.app/docs/reference/foundations/content/\">content</a>, and also that your file currently contains content (not data).</p>\n<p>The easiest fix is to store the data in a variable inside <code>myglossary.typ</code> and import it (not include):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// myglossary.typ\n#let glossary = (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  // ...\n)\n</code></pre>\n<p>and</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// main.typ\n#import \"myglossary.typ\": glossary\n#myfunc(glossary: glossary)\n</code></pre>\n<p>If you really way to use “inline imports” for some reason, you can use <a href=\"https://typst.app/docs/reference/foundations/eval/\">eval</a> to turn content back into data:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// myglossary.typ\n#(  // Note the \"#\"!\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  // ...\n)\n</code></pre>\n<p>and</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// main.typ\n#myfunc(glossary: eval(\n  (include \"myglossary_inline.typ\").text\n))\n</code></pre>",
      "raw": "The problem is that using [include](https://typst.app/docs/reference/scripting/#modules) returns [content](https://typst.app/docs/reference/foundations/content/), and also that your file currently contains content (not data). \n\nThe easiest fix is to store the data in a variable inside `myglossary.typ` and import it (not include):\n\n```\n// myglossary.typ\n#let glossary = (\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  // ...\n)\n```\n\nand\n\n```typst\n// main.typ\n#import \"myglossary.typ\": glossary\n#myfunc(glossary: glossary)\n```\n\nIf you really way to use \"inline imports\" for some reason, you can use [eval](https://typst.app/docs/reference/foundations/eval/) to turn content back into data:\n\n```\n// myglossary.typ\n#(  // Note the \"#\"!\n  (\n    key: \"Vulnerability\",\n    description: \"A Vulnerability is a flaw in a computer system that weakens the overall security of the system.\",\n  ),\n  // ...\n)\n```\nand\n```typst\n// main.typ\n#myfunc(glossary: eval(\n  (include \"myglossary_inline.typ\").text\n))\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 39.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 13482,
      "post_number": 4,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-05-31T11:30:27.594Z",
      "updated_at": "2025-05-31T11:30:27.594Z",
      "cooked": "<p>Ah thank you very much, that helps!</p>",
      "raw": "Ah thank you very much, that helps!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    }
  ],
  "scraped_at": "2025-06-10T09:47:00.655376"
}
{
  "topic_metadata": {
    "id": 4393,
    "title": "How to produce two glossaries from one dictionary or source file?",
    "slug": "how-to-produce-two-glossaries-from-one-dictionary-or-source-file",
    "posts_count": 15,
    "created_at": "2025-05-31T12:44:20.803Z",
    "last_posted_at": "2025-06-08T18:21:44.772Z",
    "views": 109,
    "like_count": 4,
    "reply_count": 11,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "quachpas",
    "tags": [
      "glossarium"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 2394
  },
  "posts": [
    {
      "id": 13483,
      "post_number": 1,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-05-31T12:44:20.862Z",
      "updated_at": "2025-06-05T12:41:55.190Z",
      "cooked": "<p>I am looking for some advice. I would like to create a file that serves as a dictionary, where each entry has these three fields</p>\n<p>(a) English term<br>\n(b) transliterated foreign term<br>\n(c) comment</p>\n<p>Then, I wish to produce two separate glossaries:</p>\n<ul>\n<li>one organised by (a) the English term, and in which the “definition” of the entry is (b) the transliterated foreign term and (c) the comment</li>\n<li>one organised by (b) the transliterated foreign term, and in which the “definition” of the entry is (a) the English term and (c) the comment</li>\n</ul>\n<p>I do not need the terms to be indexed against their occurrence in an article or book.</p>\n<p>I am aware of both the glossy and glossarium packages, but this might exceed their abilities. I would be grateful for any advice on whether one of the existing packages can handle this, and/or any best practices on executing this. TIA.</p>",
      "raw": "I am looking for some advice. I would like to create a file that serves as a dictionary, where each entry has these three fields\n\n(a) English term\n(b) transliterated foreign term\n(c) comment\n\nThen, I wish to produce two separate glossaries: \n- one organised by (a) the English term, and in which the \"definition\" of the entry is (b) the transliterated foreign term and (c) the comment\n- one organised by (b) the transliterated foreign term, and in which the \"definition\" of the entry is (a) the English term and (c) the comment\n\nI do not need the terms to be indexed against their occurrence in an article or book.\n\nI am aware of both the glossy and glossarium packages, but this might exceed their abilities. I would be grateful for any advice on whether one of the existing packages can handle this, and/or any best practices on executing this. TIA.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13528,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-01T13:37:40.389Z",
      "updated_at": "2025-06-01T13:43:29.348Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/fungai2000\">@fungai2000</a>! Are you looking to simply print the glossary? Do you also want to preserve the ability to “reference” a term?</p>\n<p>In which case, I don’t see why you wouldn’t be able to use either glossy or glossarium.</p>\n<p>A quick example without further formatting is like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/glossarium:0.5.6\": *\n\n#let list-a = (\n  (\n    key: \"Foo\",\n    long: \"Lorem\",\n    description: [Comment A]\n  ),\n  (\n    key: \"Bar\",\n    long: \"Ipsum\",\n    description: [Comment B]\n  ),\n)\n#let list-b = list-a.map(\n  x =&gt; (\n    key: x.long,\n    long: x.key,\n    description: x.description\n  )\n)\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n= English to Latin\n#print-glossary(list-a, show-all: true)\n\n= Latin to English\n#print-glossary(list-b, show-all: true)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f57ed456b52c41e97f5bdc9634ea10627dd71a58.png\" data-download-href=\"https://forum.typst.app/uploads/default/f57ed456b52c41e97f5bdc9634ea10627dd71a58\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f57ed456b52c41e97f5bdc9634ea10627dd71a58.png\" alt=\"image\" data-base62-sha1=\"z1KI5sRGaKFCJ11pGgl7JOvDk7u\" width=\"452\" height=\"422\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">452×422 61.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hello @fungai2000! Are you looking to simply print the glossary? Do you also want to preserve the ability to \"reference\" a term?\n\nIn which case, I don't see why you wouldn't be able to use either glossy or glossarium.\n\nA quick example without further formatting is like\n\n```typ\n#import \"@preview/glossarium:0.5.6\": *\n\n#let list-a = (\n  (\n    key: \"Foo\",\n    long: \"Lorem\",\n    description: [Comment A]\n  ),\n  (\n    key: \"Bar\",\n    long: \"Ipsum\",\n    description: [Comment B]\n  ),\n)\n#let list-b = list-a.map(\n  x => (\n    key: x.long,\n    long: x.key,\n    description: x.description\n  )\n)\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n= English to Latin\n#print-glossary(list-a, show-all: true)\n\n= Latin to English\n#print-glossary(list-b, show-all: true)\n```\n![image|452x422](upload://z1KI5sRGaKFCJ11pGgl7JOvDk7u.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13562,
      "post_number": 3,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-02T08:33:36.870Z",
      "updated_at": "2025-06-02T08:36:06.099Z",
      "cooked": "<p>Many thanks for this. That indeed solves for the question of drawing on one list for two printed glossaries.</p>\n<p>However, I have a follow-up question, if I may.</p>\n<p>In my “dictionary”, I have a need to map a single Latin term to multiple English equivalents.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let list-a = (\n    (   key: \"Foo\",\n        long: \"Bar\", \"Lorem\", \"Ipsum\", \n        description: [Some description].\n    ),\n)\n</code></pre>\n<p>Is there a way, using the solutions you pointed out, to have the printed glossaries automatically render a one-to-many relationship for the Latin term to the multiple English terms, but then for each English term a new entry in the glossary? Such that the printed result would be something like:</p>\n<h2><a name=\"p-13562-latin-to-english-1\" class=\"anchor\" href=\"#p-13562-latin-to-english-1\"></a>Latin to English</h2>\n<p><em>Foo</em> – Bar, Lorem, Ipsum</p>\n<h2><a name=\"p-13562-english-to-latin-2\" class=\"anchor\" href=\"#p-13562-english-to-latin-2\"></a>English to Latin</h2>\n<p><em>Bar</em> – Foo<br>\n<em>Lorem</em> – Foo<br>\n<em>Ipsum</em> – Foo</p>",
      "raw": "Many thanks for this. That indeed solves for the question of drawing on one list for two printed glossaries.\n\nHowever, I have a follow-up question, if I may.\n\nIn my \"dictionary\", I have a need to map a single Latin term to multiple English equivalents.\n\n```\n#let list-a = (\n    (   key: \"Foo\",\n        long: \"Bar\", \"Lorem\", \"Ipsum\", \n        description: [Some description].\n    ),\n)\n```\nIs there a way, using the solutions you pointed out, to have the printed glossaries automatically render a one-to-many relationship for the Latin term to the multiple English terms, but then for each English term a new entry in the glossary? Such that the printed result would be something like:\n\n## Latin to English\n*Foo* – Bar, Lorem, Ipsum\n\n## English to Latin\n*Bar* – Foo\n*Lorem* – Foo\n*Ipsum* – Foo",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13563,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-02T08:52:18.541Z",
      "updated_at": "2025-06-02T08:52:18.541Z",
      "cooked": "<p>Sure! That’s not too complicated. You can simply have a list of terms in <code>long</code> and iterate over them to create the second list. Then make sure you actually pass a content in <code>long</code> to glossarium.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/glossarium:0.5.6\": *\n\n#let list-a = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: [Comment A]\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: [Comment B]\n  ),\n)\n#let list-b = list-a.map(\n  x =&gt; for y in x.long {((\n    key: y,\n    long: x.key,\n    description: x.description\n  ),)}\n).flatten()\n#list-b\n#let list-a = list-a.map(\n  x =&gt; (\n    key: x.key,\n    long: x.long.join(\", \"),\n    description: x.description\n  )\n)\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n= English to Latin\n#print-glossary(list-a, show-all: true)\n\n= Latin to English\n#print-glossary(list-b, show-all: true)\n</code></pre>",
      "raw": "Sure! That's not too complicated. You can simply have a list of terms in `long` and iterate over them to create the second list. Then make sure you actually pass a content in `long` to glossarium.\n\n```typ\n#import \"@preview/glossarium:0.5.6\": *\n\n#let list-a = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: [Comment A]\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: [Comment B]\n  ),\n)\n#let list-b = list-a.map(\n  x => for y in x.long {((\n    key: y,\n    long: x.key,\n    description: x.description\n  ),)}\n).flatten()\n#list-b\n#let list-a = list-a.map(\n  x => (\n    key: x.key,\n    long: x.long.join(\", \"),\n    description: x.description\n  )\n)\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n= English to Latin\n#print-glossary(list-a, show-all: true)\n\n= Latin to English\n#print-glossary(list-b, show-all: true)\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13567,
      "post_number": 5,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-02T09:35:40.328Z",
      "updated_at": "2025-06-05T06:41:39.915Z",
      "cooked": "<p>This is really great, thank you! (I think there might be a mistake in the line <code>#list-b</code>; the above only worked when I removed that).</p>\n<p>One further step: is there a way in which to have one <code>key</code> term take multiple <code>long</code> values, where each of those <code>long</code> values is mapped to its own description? Such that the printed glossary would output something like:</p>\n<h2><a name=\"p-13567-latin-to-english-1\" class=\"anchor\" href=\"#p-13567-latin-to-english-1\"></a>Latin to English</h2>\n<p><strong>Foo</strong> – <em>Lorem</em>: Comment A. <em>Ipsum</em>: Comment B.</p>\n<h2><a name=\"p-13567-english-to-latin-2\" class=\"anchor\" href=\"#p-13567-english-to-latin-2\"></a>English to Latin</h2>\n<p><strong>Lorem</strong> – <em>Foo</em>: Comment A.<br>\n<strong>Ipsum</strong> – <em>Foo</em>: Comment B.</p>",
      "raw": "This is really great, thank you! (I think there might be a mistake in the line `#list-b`; the above only worked when I removed that).\n\nOne further step: is there a way in which to have one `key` term take multiple `long` values, where each of those `long` values is mapped to its own description? Such that the printed glossary would output something like:\n\n## Latin to English\n**Foo** – *Lorem*: Comment A. *Ipsum*: Comment B.\n\n## English to Latin \n**Lorem** – *Foo*: Comment A.\n**Ipsum** – *Foo*: Comment B.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13580,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-02T12:26:23.744Z",
      "updated_at": "2025-06-02T12:26:23.744Z",
      "cooked": "<p>I printed <code>list-b</code> for debug and forgot to remove it. For the descriptions, without testing I think it’s possible as long as you have a list of description (same length), and then iterate over all items in the lists. Something like this essentially.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let list-a = list-a.map(\n  x =&gt; (\n    key: x.key,\n    long: x.long.first(),\n    description: x.description.slice(1).zip(x.long.slice(1)).fold(x.description.at(0), (desc, d) =&gt; {\n      desc + \". \" + d.at(1) + \": \" + d.at(0)\n    }) \n  )\n)\n</code></pre>\n<p>Make sure the <code>list-b</code> is updated to match the new structure, then</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let list-a = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2])\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],)\n  ),\n)\n#let list-b = list-a.map(\n  x =&gt; for (i, y) in x.long.enumerate() {((\n    key: y,\n    long: x.key,\n    description: x.description.at(i)\n  ),)}\n).flatten()\n</code></pre>",
      "raw": "I printed `list-b` for debug and forgot to remove it. For the descriptions, without testing I think it's possible as long as you have a list of description (same length), and then iterate over all items in the lists. Something like this essentially.\n\n```typ\n#let list-a = list-a.map(\n  x => (\n    key: x.key,\n    long: x.long.first(),\n    description: x.description.slice(1).zip(x.long.slice(1)).fold(x.description.at(0), (desc, d) => {\n      desc + \". \" + d.at(1) + \": \" + d.at(0)\n    }) \n  )\n)\n```\n\nMake sure the `list-b` is updated to match the new structure, then\n\n```typ\n#let list-a = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2])\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],)\n  ),\n)\n#let list-b = list-a.map(\n  x => for (i, y) in x.long.enumerate() {((\n    key: y,\n    long: x.key,\n    description: x.description.at(i)\n  ),)}\n).flatten()\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13590,
      "post_number": 7,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-02T14:15:59.655Z",
      "updated_at": "2025-06-03T07:02:02.447Z",
      "cooked": "<p>Thank you ever so much! The code you provided was the key I needed to get to my final resolution. I used VS Code with the integrated Claude assistant API to help me make a few small changes and formatting/styling modifications, until it produced the following desired result:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/glossarium:0.5.6\": *\n\n#let my-custom-print-glossary(\n  entry-list,\n  show-all: true,\n  disable-back-references: false,\n  enable-group-pagebreak: false,\n  user-group-break: linebreak()\n) = {\n  // Your custom logic here\n  for entry in entry-list {\n    // Custom styling for each part with hanging indent\n    par(\n      first-line-indent: 0pt,\n      hanging-indent: 0em,\n      spacing: 12pt\n    )[\n      // Short form - apply your styling\n      #text(weight: \"bold\")[#entry.key#h(.3em)] \n      // Long form - apply italic styling\n      #if \"long\" in entry {\n        // Check if this is from list-a (already formatted) or list-b (needs formatting)\n        if type(entry.long) == content {\n          // This is from list-a, already formatted\n          entry.long\n        } else {\n          // This is from list-b, needs formatting\n          if \"description\" in entry and entry.description != [] {\n            emph(entry.long) + [: ] + entry.description\n          } else {\n            emph(entry.long) + [.]\n          }\n        }\n      }\n    ]\n  }\n}\n\n#let list-original = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2])\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],)\n  ),\n)\n\n#let list-a = list-original.map(\n  x =&gt; for (i, y) in x.long.enumerate() {((\n    key: y,\n    long: x.key,\n    description: if x.description.at(i) != [] { x.description.at(i) + [.] } else { [] }\n  ),)}\n).flatten().sorted(key: entry =&gt; entry.key)\n\n#let list-b = list-original.map(\n  x =&gt; (\n    key: {x.key},\n    long: {\n      let pairs = x.long.zip(x.description).map(pair =&gt; {\n        let term = pair.at(0)\n        let desc = pair.at(1)\n        if desc != [] {\n          emph(term) + [: ] + desc\n        } else {\n          emph(term)\n        }\n      })\n      if x.long.len() == 1 {\n        pairs.join([]) + [.]\n      } else {\n        pairs.join([; ]) + [.]\n      }\n    },\n    description: []\n  )\n).sorted(key: entry =&gt; entry.key)\n\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n=== English to Latin\n#my-custom-print-glossary(list-a, show-all: true)\n\n=== Latin to English\n#my-custom-print-glossary(list-b, show-all: true)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/73b05532a5a03e663a535ad940c8316f24261ac5.png\" data-download-href=\"https://forum.typst.app/uploads/default/73b05532a5a03e663a535ad940c8316f24261ac5\" title=\"Screenshot 2025-06-03 at 10.01.36\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/73b05532a5a03e663a535ad940c8316f24261ac5_2_681x500.png\" alt=\"Screenshot 2025-06-03 at 10.01.36\" data-base62-sha1=\"gvqHqj1lDlMOOHKuhxdHnu4Rn1j\" width=\"681\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/73b05532a5a03e663a535ad940c8316f24261ac5_2_681x500.png, https://forum.typst.app/uploads/default/optimized/2X/7/73b05532a5a03e663a535ad940c8316f24261ac5_2_1021x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/73b05532a5a03e663a535ad940c8316f24261ac5.png 2x\" data-dominant-color=\"F9F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-06-03 at 10.01.36</span><span class=\"informations\">1030×756 48.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Many thanks again, <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a>, both the package and for your help in customising it above!</p>",
      "raw": "Thank you ever so much! The code you provided was the key I needed to get to my final resolution. I used VS Code with the integrated Claude assistant API to help me make a few small changes and formatting/styling modifications, until it produced the following desired result:\n\n```\n#import \"@preview/glossarium:0.5.6\": *\n\n#let my-custom-print-glossary(\n  entry-list,\n  show-all: true,\n  disable-back-references: false,\n  enable-group-pagebreak: false,\n  user-group-break: linebreak()\n) = {\n  // Your custom logic here\n  for entry in entry-list {\n    // Custom styling for each part with hanging indent\n    par(\n      first-line-indent: 0pt,\n      hanging-indent: 0em,\n      spacing: 12pt\n    )[\n      // Short form - apply your styling\n      #text(weight: \"bold\")[#entry.key#h(.3em)] \n      // Long form - apply italic styling\n      #if \"long\" in entry {\n        // Check if this is from list-a (already formatted) or list-b (needs formatting)\n        if type(entry.long) == content {\n          // This is from list-a, already formatted\n          entry.long\n        } else {\n          // This is from list-b, needs formatting\n          if \"description\" in entry and entry.description != [] {\n            emph(entry.long) + [: ] + entry.description\n          } else {\n            emph(entry.long) + [.]\n          }\n        }\n      }\n    ]\n  }\n}\n\n#let list-original = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2])\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],)\n  ),\n)\n\n#let list-a = list-original.map(\n  x => for (i, y) in x.long.enumerate() {((\n    key: y,\n    long: x.key,\n    description: if x.description.at(i) != [] { x.description.at(i) + [.] } else { [] }\n  ),)}\n).flatten().sorted(key: entry => entry.key)\n\n#let list-b = list-original.map(\n  x => (\n    key: {x.key},\n    long: {\n      let pairs = x.long.zip(x.description).map(pair => {\n        let term = pair.at(0)\n        let desc = pair.at(1)\n        if desc != [] {\n          emph(term) + [: ] + desc\n        } else {\n          emph(term)\n        }\n      })\n      if x.long.len() == 1 {\n        pairs.join([]) + [.]\n      } else {\n        pairs.join([; ]) + [.]\n      }\n    },\n    description: []\n  )\n).sorted(key: entry => entry.key)\n\n#show: make-glossary\n#register-glossary(list-a)\n#register-glossary(list-b)\n\n=== English to Latin\n#my-custom-print-glossary(list-a, show-all: true)\n\n=== Latin to English\n#my-custom-print-glossary(list-b, show-all: true)\n```\n\n![Screenshot 2025-06-03 at 10.01.36|681x500](upload://gvqHqj1lDlMOOHKuhxdHnu4Rn1j.png)\n\nMany thanks again, @quachpas, both the package and for your help in customising it above!",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13610,
      "post_number": 8,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-06-03T06:26:32.371Z",
      "updated_at": "2025-06-03T06:26:32.371Z",
      "cooked": "<p>Good job on making it work! You probably don’t need to load glossarium, since you dropped the print-glossary for a custom one.</p>",
      "raw": "Good job on making it work! You probably don't need to load glossarium, since you dropped the print-glossary for a custom one.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13710,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T22:05:04.088Z",
      "updated_at": "2025-06-04T22:07:31.710Z",
      "cooked": "<p>It generated some stuff that is not used, and obviously a lot of verbose stuff (cause LLM). Here is a smaller version:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-custom-print-glossary(\n  entry-list,\n  // show-all: true,\n  // disable-back-references: false,\n  // enable-group-pagebreak: false,\n  // user-group-break: linebreak(),\n) = for entry in entry-list {\n  if \"long\" not in entry { continue }\n  let body = {\n    strong[#entry.key]\n    h(.3em)\n    if type(entry.long) == content { entry.long } else {\n      if \"description\" in entry and entry.description != [] {\n        [#emph(entry.long): #entry.description]\n      } else [#emph(entry.long).]\n    }\n  }\n  par(first-line-indent: 0pt, hanging-indent: 0em, spacing: 12pt, body)\n}\n\n\n#let list-original = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let list-a = {\n  let mapper(x) = ((i, y)) =&gt; (\n    (\n      key: y,\n      long: x.key,\n      description: if x.description.at(i) != [] [#x.description.at(i).] else [],\n    ),\n  )\n  list-original\n    .map(x =&gt; x.long.enumerate().map(mapper(x)))\n    .flatten()\n    .sorted(key: entry =&gt; entry.key)\n}\n\n#let list-b = {\n  let long(x) = {\n    let pairs = x\n      .long\n      .zip(x.description)\n      .map(pair =&gt; {\n        let term = pair.first()\n        let desc = pair.last()\n        if desc != [] [#emph(term): #desc] else { emph(term) }\n      })\n    if x.long.len() == 1 [#pairs.join().] else [#pairs.join(\"; \").]\n  }\n  list-original\n    .map(x =&gt; (key: x.key, long: long(x), description: []))\n    .sorted(key: entry =&gt; entry.key)\n}\n\n=== English to Latin\n#my-custom-print-glossary(list-a)\n\n=== Latin to English\n#my-custom-print-glossary(list-b)\n</code></pre>\n<p>It’s basically the same, but it doesn’t create unaccounted spaces because of content block, comments, etc.</p>\n<p>It still looks overengineered, without diving deep into the topic. Also list-a/b probably could be functions, so that you have dictionary(-ies) and then convert them with a single function call. The functions then can go into a separate file.</p>\n<p>What I don’t understand is that for some reason key gets swapped with long, and then list sorted by key, i.e., long. But I didn’t read the thread.</p>",
      "raw": "It generated some stuff that is not used, and obviously a lot of verbose stuff (cause LLM). Here is a smaller version:\n\n```typ\n#let my-custom-print-glossary(\n  entry-list,\n  // show-all: true,\n  // disable-back-references: false,\n  // enable-group-pagebreak: false,\n  // user-group-break: linebreak(),\n) = for entry in entry-list {\n  if \"long\" not in entry { continue }\n  let body = {\n    strong[#entry.key]\n    h(.3em)\n    if type(entry.long) == content { entry.long } else {\n      if \"description\" in entry and entry.description != [] {\n        [#emph(entry.long): #entry.description]\n      } else [#emph(entry.long).]\n    }\n  }\n  par(first-line-indent: 0pt, hanging-indent: 0em, spacing: 12pt, body)\n}\n\n\n#let list-original = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let list-a = {\n  let mapper(x) = ((i, y)) => (\n    (\n      key: y,\n      long: x.key,\n      description: if x.description.at(i) != [] [#x.description.at(i).] else [],\n    ),\n  )\n  list-original\n    .map(x => x.long.enumerate().map(mapper(x)))\n    .flatten()\n    .sorted(key: entry => entry.key)\n}\n\n#let list-b = {\n  let long(x) = {\n    let pairs = x\n      .long\n      .zip(x.description)\n      .map(pair => {\n        let term = pair.first()\n        let desc = pair.last()\n        if desc != [] [#emph(term): #desc] else { emph(term) }\n      })\n    if x.long.len() == 1 [#pairs.join().] else [#pairs.join(\"; \").]\n  }\n  list-original\n    .map(x => (key: x.key, long: long(x), description: []))\n    .sorted(key: entry => entry.key)\n}\n\n=== English to Latin\n#my-custom-print-glossary(list-a)\n\n=== Latin to English\n#my-custom-print-glossary(list-b)\n```\n\nIt's basically the same, but it doesn't create unaccounted spaces because of content block, comments, etc.\n\nIt still looks overengineered, without diving deep into the topic. Also list-a/b probably could be functions, so that you have dictionary(-ies) and then convert them with a single function call. The functions then can go into a separate file.\n\nWhat I don't understand is that for some reason key gets swapped with long, and then list sorted by key, i.e., long. But I didn't read the thread.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13736,
      "post_number": 10,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-05T06:46:45.432Z",
      "updated_at": "2025-06-05T06:46:45.432Z",
      "cooked": "<p>Many thanks, <a class=\"mention\" href=\"/u/andrew\">@Andrew</a>, for helping improve upon the LLM-generated aspects of the code.</p>\n<p>As to your question: <code>Key</code> is the English term, and <code>Long</code> is the Latin term. From this we make two glossaries: one English-to-Latin, the other Latin-to-English. Within each list, I wanted the entries sorted.</p>\n<p>I’d be very happy to learn how to restructure this based on a dictionary and functions as you suggest. This solution grew out of glossarium, though by the end it was self-contained enough to not require the package any further.</p>",
      "raw": "Many thanks, @Andrew, for helping improve upon the LLM-generated aspects of the code.\n\nAs to your question: `Key` is the English term, and `Long` is the Latin term. From this we make two glossaries: one English-to-Latin, the other Latin-to-English. Within each list, I wanted the entries sorted.\n\nI'd be very happy to learn how to restructure this based on a dictionary and functions as you suggest. This solution grew out of glossarium, though by the end it was self-contained enough to not require the package any further.",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13790,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-05T19:17:55.657Z",
      "updated_at": "2025-06-05T19:21:10.030Z",
      "cooked": "<p>Now I feel more confident it what needs to be changed. The only thing I don’t like is “key” and “long”. I would use something like maybe “first”/“second” or “from”/“to”.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let print-glossary(entry-list) = for entry in entry-list {\n  show: block.with(spacing: 1em)\n  strong(entry.key)\n  h(.3em)\n  emph(entry.long)\n  if entry.description != none [: #entry.description]\n  \".\"\n}\n\n/// Swaps key/long (English/Latin) values. Sorts by Latin.\n#let glossary-english-to-latin(glossary-data) = {\n  glossary-data\n    .map(entry =&gt; array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) =&gt; (\n        (\n          key: long,\n          long: entry.key,\n          description: if description != [] [#description],\n        ),\n      )))\n    .flatten()\n    .sorted(key: entry =&gt; entry.key)\n}\n\n/// Doesn't swap key/long (English/Latin) values. Sorts by English.\n#let glossary-latin-to-english(glossary-data) = {\n  glossary-data\n    .map(entry =&gt; array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) =&gt; (\n        (\n          key: entry.key,\n          long: long,\n          description: if description != [] [#description],\n        ),\n      )))\n    .flatten()\n    .sorted(key: entry =&gt; entry.key)\n}\n\n\n#let glossary-data = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let english-to-latin-glossary = glossary-english-to-latin(glossary-data)\n#let latin-to-english-glossary = glossary-latin-to-english(glossary-data)\n\n=== English to Latin\n#print-glossary(english-to-latin-glossary)\n\n=== Latin to English\n#print-glossary(latin-to-english-glossary)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/62121388a4eeffad5808d853b4abbcaca8107688.png\" data-download-href=\"https://forum.typst.app/uploads/default/62121388a4eeffad5808d853b4abbcaca8107688\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/6/62121388a4eeffad5808d853b4abbcaca8107688.png\" alt=\"image\" data-base62-sha1=\"dZzwgrnnphNaPYAHM1tpTuCqMUE\" width=\"175\" height=\"214\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">293×358 33.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>So, basically, we have the same input data, but then it’s passed through a processing function that spits out ready-to-print data. If you don’t need to access it, then just do</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">=== English to Latin\n#print-glossary(glossary-english-to-latin(glossary-data))\n\n=== Latin to English\n#print-glossary(glossary-latin-to-english(glossary-data))\n</code></pre>\n<p>Inside, a lot of <a href=\"https://typst.app/docs/reference/foundations/array/\"><code>array</code></a> methods were used in chains. For each entry, we go through a pair of long + description and make a new dictionary. Then sort by key and print.</p>",
      "raw": "Now I feel more confident it what needs to be changed. The only thing I don't like is \"key\" and \"long\". I would use something like maybe \"first\"/\"second\" or \"from\"/\"to\".\n\n```typ\n#let print-glossary(entry-list) = for entry in entry-list {\n  show: block.with(spacing: 1em)\n  strong(entry.key)\n  h(.3em)\n  emph(entry.long)\n  if entry.description != none [: #entry.description]\n  \".\"\n}\n\n/// Swaps key/long (English/Latin) values. Sorts by Latin.\n#let glossary-english-to-latin(glossary-data) = {\n  glossary-data\n    .map(entry => array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) => (\n        (\n          key: long,\n          long: entry.key,\n          description: if description != [] [#description],\n        ),\n      )))\n    .flatten()\n    .sorted(key: entry => entry.key)\n}\n\n/// Doesn't swap key/long (English/Latin) values. Sorts by English.\n#let glossary-latin-to-english(glossary-data) = {\n  glossary-data\n    .map(entry => array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) => (\n        (\n          key: entry.key,\n          long: long,\n          description: if description != [] [#description],\n        ),\n      )))\n    .flatten()\n    .sorted(key: entry => entry.key)\n}\n\n\n#let glossary-data = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let english-to-latin-glossary = glossary-english-to-latin(glossary-data)\n#let latin-to-english-glossary = glossary-latin-to-english(glossary-data)\n\n=== English to Latin\n#print-glossary(english-to-latin-glossary)\n\n=== Latin to English\n#print-glossary(latin-to-english-glossary)\n```\n\n![image|293x358, 60%](upload://dZzwgrnnphNaPYAHM1tpTuCqMUE.png)\n\nSo, basically, we have the same input data, but then it's passed through a processing function that spits out ready-to-print data. If you don't need to access it, then just do\n\n```typ\n=== English to Latin\n#print-glossary(glossary-english-to-latin(glossary-data))\n\n=== Latin to English\n#print-glossary(glossary-latin-to-english(glossary-data))\n```\n\nInside, a lot of [`array`](https://typst.app/docs/reference/foundations/array/) methods were used in chains. For each entry, we go through a pair of long + description and make a new dictionary. Then sort by key and print.",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13835,
      "post_number": 12,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-07T08:13:15.764Z",
      "updated_at": "2025-06-07T08:13:15.764Z",
      "cooked": "<p>Many thanks for this, <a class=\"mention\" href=\"/u/andrew\">@Andrew</a>. I look forward to studying this to understand better the rationale behind the discrete changes.</p>\n<p>One thing has been lost, however, is a single term listing multiple meanings within the same entry rather than as separate entries.</p>",
      "raw": "Many thanks for this, @Andrew. I look forward to studying this to understand better the rationale behind the discrete changes.\n\nOne thing has been lost, however, is a single term listing multiple meanings within the same entry rather than as separate entries.",
      "reply_to_post_number": 11,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13849,
      "post_number": 13,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-07T15:57:00.833Z",
      "updated_at": "2025-06-07T15:57:00.833Z",
      "cooked": "<p>I looked at the <a href=\"https://forum.typst.app/t/how-to-produce-two-glossaries-from-one-dictionary-or-source-file/4393\">spec</a>, and didn’t find anything about listings, so it works as was required in the OP, is the way I see it.</p>",
      "raw": "I looked at the [spec](https://forum.typst.app/t/how-to-produce-two-glossaries-from-one-dictionary-or-source-file/4393?u=andrew), and didn't find anything about listings, so it works as was required in the OP, is the way I see it.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13872,
      "post_number": 14,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-06-08T17:15:01.389Z",
      "updated_at": "2025-06-08T17:16:25.039Z",
      "cooked": "<p>This is true, the original spec didn’t mention it, so you make a fair point. (I am the OP.) It developed over the course of the conversation.</p>\n<p>For posterity, and anyone interested, here is a modified version of Andrew’s helpful code above (using VS Code’s integrated Claude LLM assistant), to achieve the goal of (a) two glossaries drawn from one dictionary, (b) where one key term may have multiple target terms, (c) where each target term may have its own description, and (d) each key term finally prints out all the associated target terms coupled with their respective descriptions:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let print-glossary(entry-list) = for entry in entry-list {\n  show: block.with(spacing: 1em)\n  strong(entry.key)\n  h(.75em)\n  entry.long\n  if entry.description != none [: #entry.description]\n  \".\"\n}\n\n#let transform-glossary(data, swap: false) = {\n  if swap {\n    data\n      .map(entry =&gt; array\n        .zip(entry.long, entry.description)\n        .map(((long, description)) =&gt; (\n          key: long,\n          long: emph(entry.key),\n          description: if description != [] [#description]\n        )))\n      .flatten()\n  } else {\n    data\n      .map(entry =&gt; {\n        let parts = array\n          .zip(entry.long, entry.description)\n          .map(((long, description)) =&gt; {\n            if description != [] {\n              emph(long) + [: ] + description\n            } else {\n              emph(long)\n            }\n          })\n        (\n          key: entry.key,\n          long: parts.join([; ]),\n          description: none\n        )\n      })\n  }\n    .sorted(key: entry =&gt; entry.key)\n}\n\n#let glossary-data = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let english-to-latin = transform-glossary(glossary-data, swap: true)\n#let latin-to-english = transform-glossary(glossary-data, swap: false)\n\n=== English to Latin\n#print-glossary(english-to-latin)\n\n=== Latin to English\n#print-glossary(latin-to-english)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/57abce24817b8c4a4b5d73194d886ec21ec1e263.png\" data-download-href=\"https://forum.typst.app/uploads/default/57abce24817b8c4a4b5d73194d886ec21ec1e263\" title=\"Screenshot 2025-06-08 at 20.11.48\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/57abce24817b8c4a4b5d73194d886ec21ec1e263_2_690x453.png\" alt=\"Screenshot 2025-06-08 at 20.11.48\" data-base62-sha1=\"cvzD7rjawjuyRQ6lxhcYnDVld1F\" width=\"690\" height=\"453\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/57abce24817b8c4a4b5d73194d886ec21ec1e263_2_690x453.png, https://forum.typst.app/uploads/default/original/2X/5/57abce24817b8c4a4b5d73194d886ec21ec1e263.png 1.5x, https://forum.typst.app/uploads/default/original/2X/5/57abce24817b8c4a4b5d73194d886ec21ec1e263.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-06-08 at 20.11.48</span><span class=\"informations\">858×564 37.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Again, it might be a bit verbose (again, due to the LLM bits). In any case, many thanks to both <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> and <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> for their help!</p>",
      "raw": "This is true, the original spec didn't mention it, so you make a fair point. (I am the OP.) It developed over the course of the conversation.\n\nFor posterity, and anyone interested, here is a modified version of Andrew's helpful code above (using VS Code's integrated Claude LLM assistant), to achieve the goal of (a) two glossaries drawn from one dictionary, (b) where one key term may have multiple target terms, (c) where each target term may have its own description, and (d) each key term finally prints out all the associated target terms coupled with their respective descriptions:\n\n```\n#let print-glossary(entry-list) = for entry in entry-list {\n  show: block.with(spacing: 1em)\n  strong(entry.key)\n  h(.75em)\n  entry.long\n  if entry.description != none [: #entry.description]\n  \".\"\n}\n\n#let transform-glossary(data, swap: false) = {\n  if swap {\n    data\n      .map(entry => array\n        .zip(entry.long, entry.description)\n        .map(((long, description)) => (\n          key: long,\n          long: emph(entry.key),\n          description: if description != [] [#description]\n        )))\n      .flatten()\n  } else {\n    data\n      .map(entry => {\n        let parts = array\n          .zip(entry.long, entry.description)\n          .map(((long, description)) => {\n            if description != [] {\n              emph(long) + [: ] + description\n            } else {\n              emph(long)\n            }\n          })\n        (\n          key: entry.key,\n          long: parts.join([; ]),\n          description: none\n        )\n      })\n  }\n    .sorted(key: entry => entry.key)\n}\n\n#let glossary-data = (\n  (\n    key: \"Foo\",\n    long: (\"Lorem\", \"Ipsum\"),\n    description: ([Comment A1], [Comment A2]),\n  ),\n  (\n    key: \"Bar\",\n    long: (\"Dolor\",),\n    description: ([Comment B],),\n  ),\n)\n\n#let english-to-latin = transform-glossary(glossary-data, swap: true)\n#let latin-to-english = transform-glossary(glossary-data, swap: false)\n\n=== English to Latin\n#print-glossary(english-to-latin)\n\n=== Latin to English\n#print-glossary(latin-to-english)\n```\n\n![Screenshot 2025-06-08 at 20.11.48|690x453](upload://cvzD7rjawjuyRQ6lxhcYnDVld1F.png)\n\nAgain, it might be a bit verbose (again, due to the LLM bits). In any case, many thanks to both @quachpas and @Andrew for their help!",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 10,
      "score": 6.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 13878,
      "post_number": 15,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-08T18:21:44.772Z",
      "updated_at": "2025-06-08T18:21:44.772Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"fungai2000\" data-post=\"14\" data-topic=\"4393\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/f/A561FF/48.png\" class=\"avatar\"> fungai2000:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let transform-glossary(data, swap: false) = {\n  if swap {\n    data\n      .map(entry =&gt; array\n        .zip(entry.long, entry.description)\n        .map(((long, description)) =&gt; (\n          key: long,\n          long: emph(entry.key),\n          description: if description != [] [#description]\n        )))\n      .flatten()\n  } else {\n    data\n      .map(entry =&gt; {\n        let parts = array\n          .zip(entry.long, entry.description)\n          .map(((long, description)) =&gt; {\n            if description != [] {\n              emph(long) + [: ] + description\n            } else {\n              emph(long)\n            }\n          })\n        (\n          key: entry.key,\n          long: parts.join([; ]),\n          description: none\n        )\n      })\n  }\n    .sorted(key: entry =&gt; entry.key)\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>You can also do something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let transform-glossary(data, swap: false) = if swap {\n  data\n    .map(entry =&gt; array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) =&gt; (\n        key: long,\n        long: emph(entry.key),\n        description: if description != [] [#description],\n      )))\n    .flatten()\n} else {\n  data.map(entry =&gt; (\n    key: entry.key,\n    long: array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) =&gt; {\n        emph(long) + if description != [] [: #description]\n      })\n      .join[; ],\n    description: none,\n  ))\n}.sorted(key: entry =&gt; entry.key)\n</code></pre>",
      "raw": "[quote=\"fungai2000, post:14, topic:4393\"]\n```typ\n#let transform-glossary(data, swap: false) = {\n  if swap {\n    data\n      .map(entry => array\n        .zip(entry.long, entry.description)\n        .map(((long, description)) => (\n          key: long,\n          long: emph(entry.key),\n          description: if description != [] [#description]\n        )))\n      .flatten()\n  } else {\n    data\n      .map(entry => {\n        let parts = array\n          .zip(entry.long, entry.description)\n          .map(((long, description)) => {\n            if description != [] {\n              emph(long) + [: ] + description\n            } else {\n              emph(long)\n            }\n          })\n        (\n          key: entry.key,\n          long: parts.join([; ]),\n          description: none\n        )\n      })\n  }\n    .sorted(key: entry => entry.key)\n}\n```\n[/quote]\n\nYou can also do something like this:\n\n```typ\n#let transform-glossary(data, swap: false) = if swap {\n  data\n    .map(entry => array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) => (\n        key: long,\n        long: emph(entry.key),\n        description: if description != [] [#description],\n      )))\n    .flatten()\n} else {\n  data.map(entry => (\n    key: entry.key,\n    long: array\n      .zip(entry.long, entry.description)\n      .map(((long, description)) => {\n        emph(long) + if description != [] [: #description]\n      })\n      .join[; ],\n    description: none,\n  ))\n}.sorted(key: entry => entry.key)\n```",
      "reply_to_post_number": 14,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 10,
      "score": 16.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:46:59.926291"
}
{
  "topic_metadata": {
    "id": 4399,
    "title": "How to remove html boilerplate from compiled html output?",
    "slug": "how-to-remove-html-boilerplate-from-compiled-html-output",
    "posts_count": 3,
    "created_at": "2025-05-31T16:54:04.319Z",
    "last_posted_at": "2025-06-05T23:10:26.913Z",
    "views": 57,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "html"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 239
  },
  "posts": [
    {
      "id": 13503,
      "post_number": 1,
      "username": "adnlorenzana",
      "name": "Adrian",
      "created_at": "2025-05-31T16:54:04.384Z",
      "updated_at": "2025-05-31T19:37:47.025Z",
      "cooked": "<p>Hi all!<br>\nI’ve been trying to work with the new experimental html compilation feature to use it as an alternative to markdown in my static site. I have it just about working, but I’d like to remove from extra bits the compiler provides to the output that my static site generator already provides. For example, the compiler currently outputs the following in every file:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;/head&gt;\n  &lt;body&gt;CONTENT HERE&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Is there any way to output say, only the  tags?<br>\nThanks!</p>",
      "raw": "Hi all!\nI've been trying to work with the new experimental html compilation feature to use it as an alternative to markdown in my static site. I have it just about working, but I'd like to remove from extra bits the compiler provides to the output that my static site generator already provides. For example, the compiler currently outputs the following in every file:\n```\n <!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>CONTENT HERE</body>\n</html>\n```\nIs there any way to output say, only the <body> tags?\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1680
    },
    {
      "id": 13719,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-06-04T23:01:26.631Z",
      "updated_at": "2025-06-04T23:01:26.631Z",
      "cooked": "<p>Hi. Looking at <a href=\"https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-html/src/lib.rs?plain=1#L49\" class=\"inline-onebox\">typst/crates/typst-html/src/lib.rs at 494e6a64225261add59c3c9b1cd923bfdfa77961 · typst/typst · GitHub</a>, the root element requires head, which adds the meta tags, and then the body is added. So no, you can’t remove them within Typst. This might become configurable at some point.</p>\n<p>See <a href=\"https://forum.typst.app/t/my-static-site-blog-based-on-astro-and-typst/4103\" class=\"inline-onebox\">My static-site blog based on astro and typst</a> and <a href=\"https://forum.typst.app/t/one-command-to-build-blogs-with-typst/4388\" class=\"inline-onebox\">One command to build blogs with Typst</a>. Maybe you can get some help from <a class=\"mention\" href=\"/u/myriad-dreamin\">@Myriad-Dreamin</a>.</p>",
      "raw": "Hi. Looking at https://github.com/typst/typst/blob/494e6a64225261add59c3c9b1cd923bfdfa77961/crates/typst-html/src/lib.rs?plain=1#L49, the root element requires head, which adds the meta tags, and then the body is added. So no, you can't remove them within Typst. This might become configurable at some point.\n\nSee https://forum.typst.app/t/my-static-site-blog-based-on-astro-and-typst/4103 and https://forum.typst.app/t/one-command-to-build-blogs-with-typst/4388. Maybe you can get some help from @Myriad-Dreamin.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 28.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13799,
      "post_number": 3,
      "username": "adnlorenzana",
      "name": "Adrian",
      "created_at": "2025-06-05T23:10:26.913Z",
      "updated_at": "2025-06-05T23:10:26.913Z",
      "cooked": "<p>Gotcha, thanks for your help! I’m not at all skilled enough to have figured that out looking at the source.<br>\nI was looking at <a class=\"mention\" href=\"/u/myriad-dreamin\">@Myriad-Dreamin</a> 's implementation with Astro a little bit ago, I may end up just going that route for rebuilding my website :)</p>",
      "raw": "Gotcha, thanks for your help! I'm not at all skilled enough to have figured that out looking at the source.\nI was looking at @Myriad-Dreamin 's implementation with Astro a little bit ago, I may end up just going that route for rebuilding my website :)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 13,
      "score": 17.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1680
    }
  ],
  "scraped_at": "2025-06-10T09:46:59.178576"
}
{
  "topic_metadata": {
    "id": 4400,
    "title": "How can I generate a list of image (paths) from command line?",
    "slug": "how-can-i-generate-a-list-of-image-paths-from-command-line",
    "posts_count": 2,
    "created_at": "2025-05-31T17:16:29.424Z",
    "last_posted_at": "2025-05-31T17:37:39.338Z",
    "views": 38,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 411
  },
  "posts": [
    {
      "id": 13504,
      "post_number": 1,
      "username": "typer",
      "name": "",
      "created_at": "2025-05-31T17:16:29.486Z",
      "updated_at": "2025-05-31T17:37:53.432Z",
      "cooked": "<p>I’ve previously done a pretty brute-force <code>grep</code>-and-<code>sed</code> to generate a list of images a document uses (for use in a dependency graph generator for a build system), but this has failed in all kinds of wonderful scenarios.  While looking for a way to make this more robust I recently discovered that there’s a <code>query</code> subcommand in the <code>typst</code> command.  And by the looks if it, I should be able to generate a list of all images in a document using it.</p>\n<p>If I run <code>typst query mytest.typst figure</code>, I get a json blob with what looks like mostly what I’m looking for, apart from that there are not mentions of the image files.  If I instead use <code>image</code> instead of <code>figure</code> I get:</p>\n<pre><code class=\"lang-plaintext\">error: image is not locatable\n</code></pre>\n<p>I’m wondering if this is the way it should be done, and if it is – why is it failing?</p>\n<p>I suspect the reason could be because I’m including my images in a rather unconventional way:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let img = image(\"s-to-ts.svg\")\n#figure(\n  scaled-image(img, DIA_SCALE),\n  caption: [Blah, blah, blah],\n) &lt;s-to-ts&gt;\n</code></pre>\n<p>This is basically a way to be able to scale all images (made in Dia) in a simple unified way – but is it interfering with manner in which images must be included in order for them to be query:able, or is there some other issue?</p>",
      "raw": "I've previously done a pretty brute-force `grep`-and-`sed` to generate a list of images a document uses (for use in a dependency graph generator for a build system), but this has failed in all kinds of wonderful scenarios.  While looking for a way to make this more robust I recently discovered that there's a `query` subcommand in the `typst` command.  And by the looks if it, I should be able to generate a list of all images in a document using it.\n\nIf I run `typst query mytest.typst figure`, I get a json blob with what looks like mostly what I'm looking for, apart from that there are not mentions of the image files.  If I instead use `image` instead of `figure` I get:\n\n```plain\nerror: image is not locatable\n```\n\nI'm wondering if this is the way it should be done, and if it is -- why is it failing?\n\nI suspect the reason could be because I'm including my images in a rather unconventional way:\n\n```\n#let img = image(\"s-to-ts.svg\")\n#figure(\n  scaled-image(img, DIA_SCALE),\n  caption: [Blah, blah, blah],\n) <s-to-ts>\n```\n\nThis is basically a way to be able to scale all images (made in Dia) in a simple unified way -- but is it interfering with manner in which images must be included in order for them to be query:able, or is there some other issue?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 29.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1629
    },
    {
      "id": 13505,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-31T17:37:39.338Z",
      "updated_at": "2025-05-31T17:37:39.338Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"typer\" data-post=\"1\" data-topic=\"4400\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/t/EA3E47/48.png\" class=\"avatar\"> typer:</div>\n<blockquote>\n<p>I’m wondering if this is the way it should be done, and if it is – why is it failing?</p>\n</blockquote>\n</aside>\n<p>In general it is, but for performance reasons not all elements carry the necessary information to be queried.</p>\n<p>The easiest way around this is to query <code>metadata</code> instead of the images directly. For example, you could define your own function for this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-image(path, ..args) = {\n  image(path, ..args)\n  [#metadata(path)&lt;image&gt;]\n}\n</code></pre>\n<p>or, more automated by doing this by a show rule:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show image: it =&gt; {\n  it\n  [#metadata(it.source)&lt;image&gt;]\n}\n</code></pre>\n<p>There is a general caveat: the paths you get will be relative to the source file they appear in, but you won’t know what file that is. For example, depending on whether an image appears in <code>main.typ</code> or <code>chapters/intro.typ</code>, the query will give you <code>image.jpg</code> or <code>../image.jpg</code>; you’ll need to figure that out on your own. One option could be to consistently use absolute paths, like <code>/image.jpg</code>.</p>",
      "raw": "[quote=\"typer, post:1, topic:4400\"]\nI’m wondering if this is the way it should be done, and if it is – why is it failing?\n[/quote]\n\nIn general it is, but for performance reasons not all elements carry the necessary information to be queried.\n\nThe easiest way around this is to query `metadata` instead of the images directly. For example, you could define your own function for this:\n\n```\n#let my-image(path, ..args) = {\n  image(path, ..args)\n  [#metadata(path)<image>]\n}\n```\nor, more automated by doing this by a show rule:\n```\n#show image: it => {\n  it\n  [#metadata(it.source)<image>]\n}\n```\nThere is a general caveat: the paths you get will be relative to the source file they appear in, but you won't know what file that is. For example, depending on whether an image appears in `main.typ` or `chapters/intro.typ`, the query will give you `image.jpg` or `../image.jpg`; you'll need to figure that out on your own. One option could be to consistently use absolute paths, like `/image.jpg`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 3,
      "reads": 19,
      "score": 48.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:46:58.243980"
}
