= hide

Hides content without affecting layout.

The `hide` function allows you to hide content while the layout still 'sees' it. This is useful to create whitespace that is exactly as large as some content. It may also be useful to redact content because its arguments are not included in the output.

== Example

```typst
Hello Jane \
#hide[Hello] Joe
```

== Parameters

```
hide(
  content: content
) -> content
```

=== `body`: content (Required, Positional)

The content to hide.
= layout

Provides access to the current outer container's (or page's, if none) dimensions (width and height).

Accepts a function that receives a single parameter, which is a dictionary with keys `width` and `height`, both of type #link("/docs/reference/layout/length/")[length]. The function is provided #link("/docs/reference/context/")[context], meaning you don't need to use it in combination with the `context` keyword. This is why #link("/docs/reference/layout/measure/")[measure] can be called in the example below.

```typst
#let text = lorem(30)
#layout(size => [
  #let (height,) = measure(
    block(width: size.width, text),
  )
  This text is #height high with
  the current page width: \
  #text
])
```

Note that the `layout` function forces its contents into a #link("/docs/reference/layout/block/")[block]-level container, so placement relative to the page or pagebreaks are not possible within it.

If the `layout` call is placed inside a box with a width of `800pt` and a height of `400pt`, then the specified function will be given the argument `(width: 800pt, height: 400pt)`. If it is placed directly into the page, it receives the page's dimensions minus its margins. This is mostly useful in combination with #link("/docs/reference/layout/measure/")[measurement].

You can also use this function to resolve #link("/docs/reference/layout/ratio/")[ratio] to fixed lengths. This might come in handy if you're building your own layout abstractions.

```typst
#layout(size => {
  let half = 50% * size.width
  [Half a page is #half wide.]
})
```

Note that the width or height provided by `layout` will be infinite if the corresponding page dimension is set to `auto`.

== Parameters

```
layout(
  function: function
) -> content
```

=== `func`: function (Required, Positional)

A function to call with the outer container's size. Its return value is displayed in the document.

The container's size is given as a #link("/docs/reference/foundations/dictionary/")[dictionary] with the keys `width` and `height`.

This function is called once for each time the content returned by `layout` appears in the document. This makes it possible to generate content that depends on the dimensions of its container.
= length

A size or distance, possibly expressed with contextual units.

Typst supports the following length units:

- Points: `72pt`
- Millimeters: `254mm`
- Centimeters: `2.54cm`
- Inches: `1in`
- Relative to font size: `2.5em`

You can multiply lengths with and divide them by integers and floats.

== Example

```typst
#rect(width: 20pt)
#rect(width: 2em)
#rect(width: 1in)

#(3em + 5pt).em \
#(20pt).em \
#(40em + 2pt).abs \
#(5em).abs
```

== Fields

- `abs`: A length with just the absolute component of the current length (that is, excluding the `em` component).
- `em`: The amount of `em` units in this length, as a #link("/docs/reference/foundations/float/")[float].

== Definitions

=== `pt`

Converts this length to points.

Fails with an error if this length has non-zero `em` units (such as `5em + 2pt` instead of just `2pt`). Use the `abs` field (such as in `(5em + 2pt).abs.pt()`) to ignore the `em` component of the length (thus converting only its absolute component).

```
pt(
  
) -> float
```

=== `mm`

Converts this length to millimeters.

Fails with an error if this length has non-zero `em` units. See the #link("/docs/reference/layout/length/#definitions-pt")[pt] method for more details.

```
mm(
  
) -> float
```

=== `cm`

Converts this length to centimeters.

Fails with an error if this length has non-zero `em` units. See the #link("/docs/reference/layout/length/#definitions-pt")[pt] method for more details.

```
cm(
  
) -> float
```

=== `inches`

Converts this length to inches.

Fails with an error if this length has non-zero `em` units. See the #link("/docs/reference/layout/length/#definitions-pt")[pt] method for more details.

```
inches(
  
) -> float
```

=== `to-absolute`

Resolve this length to an absolute length.

```
to-absolute(
  
) -> length
```

```typst
#set text(size: 12pt)
#context [
  #(6pt).to-absolute() \
  #(6pt + 10em).to-absolute() \
  #(10em).to-absolute()
]

#set text(size: 6pt)
#context [
  #(6pt).to-absolute() \
  #(6pt + 10em).to-absolute() \
  #(10em).to-absolute()
]
```
= measure

Measures the layouted size of content.

The `measure` function lets you determine the layouted size of content. By default an infinite space is assumed, so the measured dimensions may not necessarily match the final dimensions of the content. If you want to measure in the current layout dimensions, you can combine `measure` and #link("/docs/reference/layout/layout/")[layout].

== Example

The same content can have a different size depending on the #link("/docs/reference/context/")[context] that it is placed into. In the example below, the `#content` is of course bigger when we increase the font size.

```typst
#let content = [Hello!]
#content
#set text(14pt)
#content
```

For this reason, you can only measure when context is available.

```typst
#let thing(body) = context {
  let size = measure(body)
  [Width of "#body" is #size.width]
}

#thing[Hey] \
#thing[Welcome]
```

The measure function returns a dictionary with the entries `width` and `height`, both of type #link("/docs/reference/layout/length/")[length].

== Parameters

```
measure(
  width: auto | length,
  height: auto | length,
  content: content
) -> dictionary
```

=== `width`: auto | length

The width available to layout the content.

Setting this to `auto` indicates infinite available width.

Note that using the `width` and `height` parameters of this function is different from measuring a sized #link("/docs/reference/layout/block/")[block] containing the content. In the following example, the former will get the dimensions of the inner content instead of the dimensions of the block.

Default: `auto`

*Example:*
```typst
#context measure(lorem(100), width: 400pt)

#context measure(block(lorem(100), width: 400pt))
```

=== `height`: auto | length

The height available to layout the content.

Setting this to `auto` indicates infinite available height.

Default: `auto`

=== `content`: content (Required, Positional)

The content whose size to measure.
= move

Moves content without affecting layout.

The `move` function allows you to move content while the layout still 'sees' it at the original positions. Containers will still be sized as if the content was not moved.

== Example

```typst
#rect(inset: 0pt, move(
  dx: 6pt, dy: 6pt,
  rect(
    inset: 8pt,
    fill: white,
    stroke: black,
    [Abra cadabra]
  )
))
```

== Parameters

```
move(
  dx: relative,
  dy: relative,
  content: content
) -> content
```

=== `dx`: relative (Settable)

The horizontal displacement of the content.

Default: `0% + 0pt`

=== `dy`: relative (Settable)

The vertical displacement of the content.

Default: `0% + 0pt`

=== `body`: content (Required, Positional)

The content to move.
= pad

Adds spacing around content.

The spacing can be specified for each side individually, or for all sides at once by specifying a positional argument.

== Example

```typst
#set align(center)

#pad(x: 16pt, image("typing.jpg"))
_Typing speeds can be
 measured in words per minute._
```

== Parameters

```
pad(
  left: relative,
  top: relative,
  right: relative,
  bottom: relative,
  x: relative,
  y: relative,
  rest: relative,
  content: content
) -> content
```

=== `left`: relative (Settable)

The padding at the left side.

Default: `0% + 0pt`

=== `top`: relative (Settable)

The padding at the top side.

Default: `0% + 0pt`

=== `right`: relative (Settable)

The padding at the right side.

Default: `0% + 0pt`

=== `bottom`: relative (Settable)

The padding at the bottom side.

Default: `0% + 0pt`

=== `x`: relative (Settable)

A shorthand to set `left` and `right` to the same value.

Default: `0% + 0pt`

=== `y`: relative (Settable)

A shorthand to set `top` and `bottom` to the same value.

Default: `0% + 0pt`

=== `rest`: relative (Settable)

A shorthand to set all four sides to the same value.

Default: `0% + 0pt`

=== `body`: content (Required, Positional)

The content to pad at the sides.
= page

Layouts its child onto one or multiple pages.

Although this function is primarily used in set rules to affect page properties, it can also be used to explicitly render its argument onto a set of pages of its own.

Pages can be set to use `auto` as their width or height. In this case, the pages will grow to fit their content on the respective axis.

The #link("/docs/guides/page-setup-guide/")[Guide for Page Setup] explains how to use this and related functions to set up a document with many examples.

== Example

```typst
#set page("us-letter")

There you go, US friends!
```

== Parameters

```
page(
  paper: str,
  width: auto | length,
  height: auto | length,
  flipped: bool,
  margin: auto | relative | dictionary,
  binding: auto | alignment,
  columns: int,
  fill: none | auto | color | gradient | tiling,
  numbering: none | str | function,
  supplement: none | auto | content,
  number-align: alignment,
  header: none | auto | content,
  header-ascent: relative,
  footer: none | auto | content,
  footer-descent: relative,
  background: none | content,
  foreground: none | content,
  content: content
) -> content
```

=== `paper`: str (Settable)

A standard paper size to set width and height.

This is just a shorthand for setting `width` and `height` and, as such, cannot be retrieved in a context expression.

Default: `"a4"`

=== `width`: auto | length (Settable)

The width of the page.

Default: `595.28pt`

*Example:*
```typst
#set page(
  width: 3cm,
  margin: (x: 0cm),
)

#for i in range(3) {
  box(square(width: 1cm))
}
```

=== `height`: auto | length (Settable)

The height of the page.

If this is set to `auto`, page breaks can only be triggered manually by inserting a #link("/docs/reference/layout/pagebreak/")[page break]. Most examples throughout this documentation use `auto` for the height of the page to dynamically grow and shrink to fit their content.

Default: `841.89pt`

=== `flipped`: bool (Settable)

Whether the page is flipped into landscape orientation.

Default: `false`

*Example:*
```typst
#set page(
  "us-business-card",
  flipped: true,
  fill: rgb("f2e5dd"),
)

#set align(bottom + end)
#text(14pt)[*Sam H. Richards*] \
_Procurement Manager_

#set text(10pt)
17 Main Street \
New York, NY 10001 \
+1 555 555 5555
```

=== `margin`: auto | relative | dictionary (Settable)

The page's margins.

- `auto`: The margins are set automatically to 2.5/21 times the smaller dimension of the page. This results in 2.5cm margins for an A4 page.
- A single length: The same margin on all sides.
- A dictionary: With a dictionary, the margins can be set individually. The dictionary can contain the following keys in order of precedence: top: The top margin. right: The right margin. bottom: The bottom margin. left: The left margin. inside: The margin at the inner side of the page (where the binding is). outside: The margin at the outer side of the page (opposite to the binding). x: The horizontal margins. y: The vertical margins. rest: The margins on all sides except those for which the dictionary explicitly sets a size.

The values for `left` and `right` are mutually exclusive with the values for `inside` and `outside`.

Default: `auto`

*Example:*
```typst
#set page(
 width: 3cm,
 height: 4cm,
 margin: (x: 8pt, y: 4pt),
)

#rect(
  width: 100%,
  height: 100%,
  fill: aqua,
)
```

=== `binding`: auto | alignment (Settable)

On which side the pages will be bound.

- `auto`: Equivalent to `left` if the #link("/docs/reference/text/text/#parameters-dir")[text direction] is left-to-right and `right` if it is right-to-left.
- `left`: Bound on the left side.
- `right`: Bound on the right side.

This affects the meaning of the `inside` and `outside` options for margins.

Default: `auto`

=== `columns`: int (Settable)

How many columns the page has.

If you need to insert columns into a page or other container, you can also use the #link("/docs/reference/layout/columns/")[columns function].

Default: `1`

*Example:*
```typst
#set page(columns: 2, height: 4.8cm)
Climate change is one of the most
pressing issues of our time, with
the potential to devastate
communities, ecosystems, and
economies around the world. It's
clear that we need to take urgent
action to reduce our carbon
emissions and mitigate the impacts
of a rapidly changing climate.
```

=== `fill`: none | auto | color | gradient | tiling (Settable)

The page's background fill.

Setting this to something non-transparent instructs the printer to color the complete page. If you are considering larger production runs, it may be more environmentally friendly and cost-effective to source pre-dyed pages and not set this property.

When set to `none`, the background becomes transparent. Note that PDF pages will still appear with a (usually white) background in viewers, but they are actually transparent. (If you print them, no color is used for the background.)

The default of `auto` results in `none` for PDF output, and `white` for PNG and SVG.

Default: `auto`

*Example:*
```typst
#set page(fill: rgb("444352"))
#set text(fill: rgb("fdfdfd"))
*Dark mode enabled.*
```

=== `numbering`: none | str | function (Settable)

How to #link("/docs/reference/model/numbering/")[number] the pages.

If an explicit `footer` (or `header` for top-aligned numbering) is given, the numbering is ignored.

Default: `none`

*Example:*
```typst
#set page(
  height: 100pt,
  margin: (top: 16pt, bottom: 24pt),
  numbering: "1 / 1",
)

#lorem(48)
```

=== `supplement`: none | auto | content (Settable)

A supplement for the pages.

For page references, this is added before the page number.

Default: `auto`

*Example:*
```typst
#set page(numbering: "1.", supplement: [p.])

= Introduction <intro>
We are on #ref(<intro>, form: "page")!
```

=== `number-align`: alignment (Settable)

The alignment of the page numbering.

If the vertical component is `top`, the numbering is placed into the header and if it is `bottom`, it is placed in the footer. Horizon alignment is forbidden. If an explicit matching `header` or `footer` is given, the numbering is ignored.

Default: `center + bottom`

*Example:*
```typst
#set page(
  margin: (top: 16pt, bottom: 24pt),
  numbering: "1",
  number-align: right,
)

#lorem(30)
```

=== `header`: none | auto | content (Settable)

The page's header. Fills the top margin of each page.

- Content: Shows the content as the header.
- `auto`: Shows the page number if a `numbering` is set and `number-align` is `top`.
- `none`: Suppresses the header.

Default: `auto`

*Example:*
```typst
#set par(justify: true)
#set page(
  margin: (top: 32pt, bottom: 20pt),
  header: [
    #set text(8pt)
    #smallcaps[Typst Academy]
    #h(1fr) _Exercise Sheet 3_
  ],
)

#lorem(19)
```

=== `header-ascent`: relative (Settable)

The amount the header is raised into the top margin.

Default: `30% + 0pt`

=== `footer`: none | auto | content (Settable)

The page's footer. Fills the bottom margin of each page.

- Content: Shows the content as the footer.
- `auto`: Shows the page number if a `numbering` is set and `number-align` is `bottom`.
- `none`: Suppresses the footer.

For just a page number, the `numbering` property typically suffices. If you want to create a custom footer but still display the page number, you can directly access the #link("/docs/reference/introspection/counter/")[page counter].

Default: `auto`

*Example:*
```typst
#set par(justify: true)
#set page(
  height: 100pt,
  margin: 20pt,
  footer: context [
    #set align(right)
    #set text(8pt)
    #counter(page).display(
      "1 of I",
      both: true,
    )
  ]
)

#lorem(48)
```

=== `footer-descent`: relative (Settable)

The amount the footer is lowered into the bottom margin.

Default: `30% + 0pt`

=== `background`: none | content (Settable)

Content in the page's background.

This content will be placed behind the page's body. It can be used to place a background image or a watermark.

Default: `none`

*Example:*
```typst
#set page(background: rotate(24deg,
  text(18pt, fill: rgb("FFCBC4"))[
    *CONFIDENTIAL*
  ]
))

= Typst's secret plans
In the year 2023, we plan to take
over the world (of typesetting).
```

=== `foreground`: none | content (Settable)

Content in the page's foreground.

This content will overlay the page's body.

Default: `none`

*Example:*
```typst
#set page(foreground: text(24pt)[ðŸ¥¸])

Reviewer 2 has marked our paper
"Weak Reject" because they did
not understand our approach...
```

=== `body`: content (Required, Positional)

The contents of the page(s).

Multiple pages will be created if the content does not fit on a single page. A new page with the page properties prior to the function invocation will be created after the body has been typeset.
= pagebreak

A manual page break.

Must not be used inside any containers.

== Example

```typst
The next page contains
more details on compound theory.
#pagebreak()

== Compound Theory
In 1984, the first ...
```

== Parameters

```
pagebreak(
  weak: bool,
  to: none | str
) -> content
```

=== `weak`: bool (Settable)

If `true`, the page break is skipped if the current page is already empty.

Default: `false`

=== `to`: none | str (Settable)

If given, ensures that the next page will be an even/odd page, with an empty page in between if necessary.

Default: `none`

*Example:*
```typst
#set page(height: 30pt)

First.
#pagebreak(to: "odd")
Third.
```
= place

Places content relatively to its parent container.

Placed content can be either overlaid (the default) or floating. Overlaid content is aligned with the parent container according to the given #link("/docs/reference/layout/place/#parameters-alignment")[alignment], and shown over any other content added so far in the container. Floating content is placed at the top or bottom of the container, displacing other content down or up respectively. In both cases, the content position can be adjusted with #link("/docs/reference/layout/place/#parameters-dx")[dx] and #link("/docs/reference/layout/place/#parameters-dy")[dy] offsets without affecting the layout.

The parent can be any container such as a #link("/docs/reference/layout/block/")[block], #link("/docs/reference/layout/box/")[box], #link("/docs/reference/visualize/rect/")[rect], etc. A top level `place` call will place content directly in the text area of the current page. This can be used for absolute positioning on the page: with a `top + left` #link("/docs/reference/layout/place/#parameters-alignment")[alignment], the offsets `dx` and `dy` will set the position of the element's top left corner relatively to the top left corner of the text area. For absolute positioning on the full page including margins, you can use `place` in #link("/docs/reference/layout/page/#parameters-foreground")[page.foreground] or #link("/docs/reference/layout/page/#parameters-background")[page.background].

== Examples

```typst
#set page(height: 120pt)
Hello, world!

#rect(
  width: 100%,
  height: 2cm,
  place(horizon + right, square()),
)

#place(
  top + left,
  dx: -5pt,
  square(size: 5pt, fill: red),
)
```

== Effect on the position of other elements

Overlaid elements don't take space in the flow of content, but a `place` call inserts an invisible block-level element in the flow. This can affect the layout by breaking the current paragraph. To avoid this, you can wrap the `place` call in a #link("/docs/reference/layout/box/")[box] when the call is made in the middle of a paragraph. The alignment and offsets will then be relative to this zero-size box. To make sure it doesn't interfere with spacing, the box should be attached to a word using a word joiner.

For example, the following defines a function for attaching an annotation to the following word:

```typst
#let annotate(..args) = {
  box(place(..args))
  sym.wj
  h(0pt, weak: true)
}

A placed #annotate(square(), dy: 2pt)
square in my text.
```

The zero-width weak spacing serves to discard spaces between the function call and the next word.

== Parameters

```
place(
  alignment: auto | alignment,
  scope: str,
  float: bool,
  clearance: length,
  dx: relative,
  dy: relative,
  content: content
) -> content
```

=== `alignment`: auto | alignment (Positional, Settable)

Relative to which position in the parent container to place the content.

- If `float` is `false`, then this can be any alignment other than `auto`.
- If `float` is `true`, then this must be `auto`, `top`, or `bottom`.

When `float` is `false` and no vertical alignment is specified, the content is placed at the current position on the vertical axis.

Default: `start`

=== `scope`: str (Settable)

Relative to which containing scope something is placed.

The parent scope is primarily used with figures and, for this reason, the figure function has a mirrored #link("/docs/reference/model/figure/#parameters-scope")[scope parameter]. Nonetheless, it can also be more generally useful to break out of the columns. A typical example would be to #link("/docs/guides/page-setup-guide/#columns")[create a single-column title section] in a two-column document.

Note that parent-scoped placement is currently only supported if `float` is `true`. This may change in the future.

Default: `"column"`

*Example:*
```typst
#set page(height: 150pt, columns: 2)
#place(
  top + center,
  scope: "parent",
  float: true,
  rect(width: 80%, fill: aqua),
)

#lorem(25)
```

=== `float`: bool (Settable)

Whether the placed element has floating layout.

Floating elements are positioned at the top or bottom of the parent container, displacing in-flow content. They are always placed in the in-flow order relative to each other, as well as before any content following a later #link("/docs/reference/layout/place/#definitions-flush")[place.flush] element.

Default: `false`

*Example:*
```typst
#set page(height: 150pt)
#let note(where, body) = place(
  center + where,
  float: true,
  clearance: 6pt,
  rect(body),
)

#lorem(10)
#note(bottom)[Bottom 1]
#note(bottom)[Bottom 2]
#lorem(40)
#note(top)[Top]
#lorem(10)
```

=== `clearance`: length (Settable)

The spacing between the placed element and other elements in a floating layout.

Has no effect if `float` is `false`.

Default: `1.5em`

=== `dx`: relative (Settable)

The horizontal displacement of the placed content.

Default: `0% + 0pt`

*Example:*
```typst
#set page(height: 100pt)
#for i in range(16) {
  let amount = i * 4pt
  place(center, dx: amount - 32pt, dy: amount)[A]
}
```

=== `dy`: relative (Settable)

The vertical displacement of the placed content.

This does not affect the layout of in-flow content. In other words, the placed content is treated as if it were wrapped in a #link("/docs/reference/layout/move/")[move] element.

Default: `0% + 0pt`

=== `body`: content (Required, Positional)

The content to place.

== Definitions

=== `flush`

Asks the layout algorithm to place pending floating elements before continuing with the content.

This is useful for preventing floating figures from spilling into the next section.

```
flush(
  
) -> content
```

```typst
#lorem(15)

#figure(
  rect(width: 100%, height: 50pt),
  placement: auto,
  caption: [A rectangle],
)

#place.flush()

This text appears after the figure.
```
= ratio

A ratio of a whole.

Written as a number, followed by a percent sign.

== Example

```typst
#set align(center)
#scale(x: 150%)[
  Scaled apart.
]
```
= relative

A length in relation to some known length.

This type is a combination of a #link("/docs/reference/layout/length/")[length] with a #link("/docs/reference/layout/ratio/")[ratio]. It results from addition and subtraction of a length and a ratio. Wherever a relative length is expected, you can also use a bare length or ratio.

== Example

```typst
#rect(width: 100% - 50pt)

#(100% - 50pt).length \
#(100% - 50pt).ratio
```

A relative length has the following fields:

- `length`: Its length component.
- `ratio`: Its ratio component.
= repeat

Repeats content to the available space.

This can be useful when implementing a custom index, reference, or outline.

Space may be inserted between the instances of the body parameter, so be sure to adjust the #link("/docs/reference/layout/repeat/#parameters-justify")[justify] parameter accordingly.

Errors if there are no bounds on the available space, as it would create infinite content.

== Example

```typst
Sign on the dotted line:
#box(width: 1fr, repeat[.])

#set text(10pt)
#v(8pt, weak: true)
#align(right)[
  Berlin, the 22nd of December, 2022
]
```

== Parameters

```
repeat(
  content: content,
  gap: length,
  justify: bool
) -> content
```

=== `body`: content (Required, Positional)

The content to repeat.

=== `gap`: length (Settable)

The gap between each instance of the body.

Default: `0pt`

=== `justify`: bool (Settable)

Whether to increase the gap between instances to completely fill the available space.

Default: `true`
= rotate

Rotates content without affecting layout.

Rotates an element by a given angle. The layout will act as if the element was not rotated unless you specify `reflow: true`.

== Example

```typst
#stack(
  dir: ltr,
  spacing: 1fr,
  ..range(16)
    .map(i => rotate(24deg * i)[X]),
)
```

== Parameters

```
rotate(
  angle: angle,
  origin: alignment,
  reflow: bool,
  content: content
) -> content
```

=== `angle`: angle (Positional, Settable)

The amount of rotation.

Default: `0deg`

*Example:*
```typst
#rotate(-1.571rad)[Space!]
```

=== `origin`: alignment (Settable)

The origin of the rotation.

If, for instance, you wanted the bottom left corner of the rotated element to stay aligned with the baseline, you would set it to `bottom + left` instead.

Default: `center + horizon`

*Example:*
```typst
#set text(spacing: 8pt)
#let square = square.with(width: 8pt)

#box(square())
#box(rotate(30deg, origin: center, square()))
#box(rotate(30deg, origin: top + left, square()))
#box(rotate(30deg, origin: bottom + right, square()))
```

=== `reflow`: bool (Settable)

Whether the rotation impacts the layout.

If set to `false`, the rotated content will retain the bounding box of the original content. If set to `true`, the bounding box will take the rotation of the content into account and adjust the layout accordingly.

Default: `false`

*Example:*
```typst
Hello #rotate(90deg, reflow: true)[World]!
```

=== `body`: content (Required, Positional)

The content to rotate.
= scale

Scales content without affecting layout.

Lets you mirror content by specifying a negative scale on a single axis.

== Example

```typst
#set align(center)
#scale(x: -100%)[This is mirrored.]
#scale(x: -100%, reflow: true)[This is mirrored.]
```

== Parameters

```
scale(
  factor: auto | length | ratio,
  x: auto | length | ratio,
  y: auto | length | ratio,
  origin: alignment,
  reflow: bool,
  content: content
) -> content
```

=== `factor`: auto | length | ratio (Positional, Settable)

The scaling factor for both axes, as a positional argument. This is just an optional shorthand notation for setting `x` and `y` to the same value.

Default: `100%`

=== `x`: auto | length | ratio (Settable)

The horizontal scaling factor.

The body will be mirrored horizontally if the parameter is negative.

Default: `100%`

=== `y`: auto | length | ratio (Settable)

The vertical scaling factor.

The body will be mirrored vertically if the parameter is negative.

Default: `100%`

=== `origin`: alignment (Settable)

The origin of the transformation.

Default: `center + horizon`

*Example:*
```typst
A#box(scale(75%)[A])A \
B#box(scale(75%, origin: bottom + left)[B])B
```

=== `reflow`: bool (Settable)

Whether the scaling impacts the layout.

If set to `false`, the scaled content will be allowed to overlap other content. If set to `true`, it will compute the new size of the scaled content and adjust the layout accordingly.

Default: `false`

*Example:*
```typst
Hello #scale(x: 20%, y: 40%, reflow: true)[World]!
```

=== `body`: content (Required, Positional)

The content to scale.
= skew

Skews content.

Skews an element in horizontal and/or vertical direction. The layout will act as if the element was not skewed unless you specify `reflow: true`.

== Example

```typst
#skew(ax: -12deg)[
  This is some fake italic text.
]
```

== Parameters

```
skew(
  ax: angle,
  ay: angle,
  origin: alignment,
  reflow: bool,
  content: content
) -> content
```

=== `ax`: angle (Settable)

The horizontal skewing angle.

Default: `0deg`

*Example:*
```typst
#skew(ax: 30deg)[Skewed]
```

=== `ay`: angle (Settable)

The vertical skewing angle.

Default: `0deg`

*Example:*
```typst
#skew(ay: 30deg)[Skewed]
```

=== `origin`: alignment (Settable)

The origin of the skew transformation.

The origin will stay fixed during the operation.

Default: `center + horizon`

*Example:*
```typst
X #box(skew(ax: -30deg, origin: center + horizon)[X]) X \
X #box(skew(ax: -30deg, origin: bottom + left)[X]) X \
X #box(skew(ax: -30deg, origin: top + right)[X]) X
```

=== `reflow`: bool (Settable)

Whether the skew transformation impacts the layout.

If set to `false`, the skewed content will retain the bounding box of the original content. If set to `true`, the bounding box will take the transformation of the content into account and adjust the layout accordingly.

Default: `false`

*Example:*
```typst
Hello #skew(ay: 30deg, reflow: true, "World")!
```

=== `body`: content (Required, Positional)

The content to skew.
= stack

Arranges content and spacing horizontally or vertically.

The stack places a list of items along an axis, with optional spacing between each item.

== Example

```typst
#stack(
  dir: ttb,
  rect(width: 40pt),
  rect(width: 120pt),
  rect(width: 90pt),
)
```

== Parameters

```
stack(
  dir: direction,
  spacing: none | relative | fraction,
  ..: relative | fraction | content
) -> content
```

=== `dir`: direction (Settable)

The direction along which the items are stacked. Possible values are:

- `ltr`: Left to right.
- `rtl`: Right to left.
- `ttb`: Top to bottom.
- `btt`: Bottom to top.

You can use the `start` and `end` methods to obtain the initial and final points (respectively) of a direction, as `alignment`. You can also use the `axis` method to determine whether a direction is `"horizontal"` or `"vertical"`. The `inv` method returns a direction's inverse direction.

For example, `ttb.start()` is `top`, `ttb.end()` is `bottom`, `ttb.axis()` is `"vertical"` and `ttb.inv()` is equal to `btt`.

Default: `ttb`

=== `spacing`: none | relative | fraction (Settable)

Spacing to insert between items where no explicit spacing was provided.

Default: `none`

=== `children`: relative | fraction | content (Required, Positional, Variadic)

The children to stack along the axis.
= v

Inserts vertical spacing into a flow of blocks.

The spacing can be absolute, relative, or fractional. In the last case, the remaining space on the page is distributed among all fractional spacings according to their relative fractions.

== Example

```typst
#grid(
  rows: 3cm,
  columns: 6,
  gutter: 1fr,
  [A #parbreak() B],
  [A #v(0pt) B],
  [A #v(10pt) B],
  [A #v(0pt, weak: true) B],
  [A #v(40%, weak: true) B],
  [A #v(1fr) B],
)
```

== Parameters

```
v(
  relative: relative | fraction,
  weak: bool
) -> content
```

=== `amount`: relative | fraction (Required, Positional)

How much spacing to insert.

=== `weak`: bool (Settable)

If `true`, the spacing collapses at the start or end of a flow. Moreover, from multiple adjacent weak spacings all but the largest one collapse. Weak spacings will always collapse adjacent paragraph spacing, even if the paragraph spacing is larger.

Default: `false`

*Example:*
```typst
The following theorem is
foundational to the field:
#v(4pt, weak: true)
$ x^2 + y^2 = r^2 $
#v(4pt, weak: true)
The proof is simple:
```
= accent

Attaches an accent to a base.

== Example

```typst
$grave(a) = accent(a, `)$ \
$arrow(a) = accent(a, arrow)$ \
$tilde(a) = accent(a, \u{0303})$
```

== Parameters

```
accent(
  content: content,
  str: str | content,
  size: relative
) -> content
```

=== `base`: content (Required, Positional)

The base to which the accent is applied. May consist of multiple letters.

*Example:*
```typst
$arrow(A B C)$
```

=== `accent`: str | content (Required, Positional)

The accent to apply to the base.

Supported accents include:

=== `size`: relative (Settable)

The size of the accent, relative to the width of the base.

Default: `100% + 0pt`
= Attach

Subscript, superscripts, and limits.

Attachments can be displayed either as sub/superscripts, or limits. Typst automatically decides which is more suitable depending on the base, but you can also control this manually with the `scripts` and `limits` functions.

If you want the base to stretch to fit long top and bottom attachments (for example, an arrow with text above it), use the #link("/docs/reference/math/stretch/")[stretch] function.

== Example

```typst
$ sum_(i=0)^n a_i = 2^(1+i) $
```

== Syntax

This function also has dedicated syntax for attachments after the base: Use the underscore (`_`) to indicate a subscript i.e. bottom attachment and the hat (`^`) to indicate a superscript i.e. top attachment.

== Functions

=== `attach`

A base with optional attachments.

```
attach(
  content: content,
  t: none | content,
  b: none | content,
  tl: none | content,
  bl: none | content,
  tr: none | content,
  br: none | content
) -> content
```

```typst
$ attach(
  Pi, t: alpha, b: beta,
  tl: 1, tr: 2+3, bl: 4+5, br: 6,
) $
```

==== `base`: content (Required, Positional)

The base to which things are attached.

==== `t`: none | content (Settable)

The top attachment, smartly positioned at top-right or above the base.

You can wrap the base in `limits()` or `scripts()` to override the smart positioning.

Default: `none`

==== `b`: none | content (Settable)

The bottom attachment, smartly positioned at the bottom-right or below the base.

You can wrap the base in `limits()` or `scripts()` to override the smart positioning.

Default: `none`

==== `tl`: none | content (Settable)

The top-left attachment (before the base).

Default: `none`

==== `bl`: none | content (Settable)

The bottom-left attachment (before base).

Default: `none`

==== `tr`: none | content (Settable)

The top-right attachment (after the base).

Default: `none`

==== `br`: none | content (Settable)

The bottom-right attachment (after the base).

Default: `none`

=== `scripts`

Forces a base to display attachments as scripts.

```
scripts(
  content: content
) -> content
```

```typst
$ scripts(sum)_1^2 != sum_1^2 $
```

==== `body`: content (Required, Positional)

The base to attach the scripts to.

=== `limits`

Forces a base to display attachments as limits.

```
limits(
  content: content,
  inline: bool
) -> content
```

```typst
$ limits(A)_1^2 != A_1^2 $
```

==== `body`: content (Required, Positional)

The base to attach the limits to.

==== `inline`: bool (Settable)

Whether to also force limits in inline equations.

When applying limits globally (e.g., through a show rule), it is typically a good idea to disable this.

Default: `true`
= binom

A binomial expression.

== Example

```typst
$ binom(n, k) $
$ binom(n, k_1, k_2, k_3, ..., k_m) $
```

== Parameters

```
binom(
  content: content,
  ..: content
) -> content
```

=== `upper`: content (Required, Positional)

The binomial's upper index.

=== `lower`: content (Required, Positional, Variadic)

The binomial's lower index.
= cancel

Displays a diagonal line over a part of an equation.

This is commonly used to show the elimination of a term.

== Example

```typst
Here, we can simplify:
$ (a dot b dot cancel(x)) /
    cancel(x) $
```

== Parameters

```
cancel(
  content: content,
  length: relative,
  inverted: bool,
  cross: bool,
  angle: auto | angle | function,
  stroke: length | color | gradient | stroke | tiling | dictionary
) -> content
```

=== `body`: content (Required, Positional)

The content over which the line should be placed.

=== `length`: relative (Settable)

The length of the line, relative to the length of the diagonal spanning the whole element being "cancelled". A value of `100%` would then have the line span precisely the element's diagonal.

Default: `100% + 3pt`

*Example:*
```typst
$ a + cancel(x, length: #200%)
    - cancel(x, length: #200%) $
```

=== `inverted`: bool (Settable)

Whether the cancel line should be inverted (flipped along the y-axis). For the default angle setting, inverted means the cancel line points to the top left instead of top right.

Default: `false`

*Example:*
```typst
$ (a cancel((b + c), inverted: #true)) /
    cancel(b + c, inverted: #true) $
```

=== `cross`: bool (Settable)

Whether two opposing cancel lines should be drawn, forming a cross over the element. Overrides `inverted`.

Default: `false`

*Example:*
```typst
$ cancel(Pi, cross: #true) $
```

=== `angle`: auto | angle | function (Settable)

How much to rotate the cancel line.

- If given an angle, the line is rotated by that angle clockwise with respect to the y-axis.
- If `auto`, the line assumes the default angle; that is, along the rising diagonal of the content box.
- If given a function `angle => angle`, the line is rotated, with respect to the y-axis, by the angle returned by that function. The function receives the default angle as its input.

Default: `auto`

*Example:*
```typst
$ cancel(Pi)
  cancel(Pi, angle: #0deg)
  cancel(Pi, angle: #45deg)
  cancel(Pi, angle: #90deg)
  cancel(1/(1+x), angle: #(a => a + 45deg))
  cancel(1/(1+x), angle: #(a => a + 90deg)) $
```

=== `stroke`: length | color | gradient | stroke | tiling | dictionary (Settable)

How to #link("/docs/reference/visualize/stroke/")[stroke] the cancel line.

Default: `0.5pt`

*Example:*
```typst
$ cancel(
  sum x,
  stroke: #(
    paint: red,
    thickness: 1.5pt,
    dash: "dashed",
  ),
) $
```
= cases

A case distinction.

Content across different branches can be aligned with the `&` symbol.

== Example

```typst
$ f(x, y) := cases(
  1 "if" (x dot y)/2 <= 0,
  2 "if" x "is even",
  3 "if" x in NN,
  4 "else",
) $
```

== Parameters

```
cases(
  delim: none | str | array | symbol,
  reverse: bool,
  gap: relative,
  ..: content
) -> content
```

=== `delim`: none | str | array | symbol (Settable)

The delimiter to use.

Can be a single character specifying the left delimiter, in which case the right delimiter is inferred. Otherwise, can be an array containing a left and a right delimiter.

Default: `("{", "}")`

*Example:*
```typst
#set math.cases(delim: "[")
$ x = cases(1, 2) $
```

=== `reverse`: bool (Settable)

Whether the direction of cases should be reversed.

Default: `false`

*Example:*
```typst
#set math.cases(reverse: true)
$ cases(1, 2) = x $
```

=== `gap`: relative (Settable)

The gap between branches.

Default: `0% + 0.2em`

*Example:*
```typst
#set math.cases(gap: 1em)
$ x = cases(1, 2) $
```

=== `children`: content (Required, Positional, Variadic)

The branches of the case distinction.
