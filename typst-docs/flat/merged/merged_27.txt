{
  "topic_metadata": {
    "id": 3489,
    "title": "How to style an element if it contains or if it starts with another element?",
    "slug": "how-to-style-an-element-if-it-contains-or-if-it-starts-with-another-element",
    "posts_count": 10,
    "created_at": "2025-04-02T08:04:10.767Z",
    "last_posted_at": "2025-04-02T15:25:14.168Z",
    "views": 78,
    "like_count": 7,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout",
      "styling"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1261
  },
  "posts": [
    {
      "id": 10520,
      "post_number": 1,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-02T08:04:11.024Z",
      "updated_at": "2025-04-02T08:04:11.024Z",
      "cooked": "<p>I tried searching for various combinations of ‚Äústyle element based on content‚Äù or ‚Äústyle container based on child‚Äù or style ‚Äúbased on containing elements‚Äù but didn‚Äôt find a solution for the following two fold question:</p>\n<p>I want to style a container <code>#outside</code> (or parts of it) in two cases</p>\n<ul>\n<li>Case A: When it contains <code>#inside</code></li>\n<li>Case B: When it starts with <code>#inside</code></li>\n</ul>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let inside(body) = {\n  set text(blue)\n  body\n}\n\n#let outside(body) = {\n  if body.has(\"child\") {\n    set text(blue) if body.children.at(0).child == \"??\" // This was an attempt\n  }\n  \"Yo, \" + body\n}\n\n*How can I make this blue if it contains `#inside`?*\\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, listen up here‚Ä≤s a story I'm blue Da ba dee da ba di.\") (Expected)\n\n*How can I make the \"Yo, \" blue only if `#outside` starts with `#inside`?*\\\n#outside[#inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, I'm blue\") Da ba dee da ba di. (Expected) \\\n#text(fill: blue, \"Yo, I'm also blue\") Da ba dee da ba di. (Expected)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f.png\" data-download-href=\"https://forum.typst.app/uploads/default/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f\" title=\"how-blue\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f_2_690x248.png\" alt=\"how-blue\" data-base62-sha1=\"j8T1ncTBYlVuJ0JUWPQTyLKuqN9\" width=\"690\" height=\"248\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f_2_690x248.png, https://forum.typst.app/uploads/default/original/2X/8/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f.png 1.5x, https://forum.typst.app/uploads/default/original/2X/8/862a7e3e3b5e1bbd380cd1e49993ccbebbb6475f.png 2x\" data-dominant-color=\"EDEFF0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">how-blue</span><span class=\"informations\">926√ó334 101 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I realize ‚Äúelement‚Äù may not be the best (or most specific) word both ‚Äúelements‚Äù are user-defined functions.</p>\n<p>What is the best way to achieve this? <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "I tried searching for various combinations of \"style element based on content\" or \"style container based on child\" or style \"based on containing elements\" but didn't find a solution for the following two fold question:\n\nI want to style a container `#outside` (or parts of it) in two cases\n- Case A: When it contains `#inside`\n- Case B: When it starts with `#inside`\n\n```typ\n#let inside(body) = {\n  set text(blue)\n  body\n}\n\n#let outside(body) = {\n  if body.has(\"child\") {\n    set text(blue) if body.children.at(0).child == \"??\" // This was an attempt\n  }\n  \"Yo, \" + body\n}\n\n*How can I make this blue if it contains `#inside`?*\\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, listen up here‚Ä≤s a story I'm blue Da ba dee da ba di.\") (Expected)\n\n*How can I make the \"Yo, \" blue only if `#outside` starts with `#inside`?*\\\n#outside[#inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, I'm blue\") Da ba dee da ba di. (Expected) \\\n#text(fill: blue, \"Yo, I'm also blue\") Da ba dee da ba di. (Expected)\n```\n\n![how-blue|690x248](upload://j8T1ncTBYlVuJ0JUWPQTyLKuqN9.png)\n\nI realize \"element\" may not be the best (or most specific) word both \"elements\" are user-defined functions.\n\nWhat is the best way to achieve this? üòä",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 129.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10528,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T10:24:04.286Z",
      "updated_at": "2025-04-02T10:24:04.286Z",
      "cooked": "<p>I think this isn‚Äôt currently achievable easily, because of this:</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/147\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/147\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/147\" target=\"_blank\" rel=\"noopener nofollow ugc\">Support for user-defined elements</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-03-22\" data-time=\"13:49:16\" data-timezone=\"UTC\">01:49PM - 22 Mar 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/AndyBarcia\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"AndyBarcia\" src=\"https://forum.typst.app/uploads/default/original/2X/1/111fd79e8ca5732ee3ca0f737953c93cde5c5efa.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"402B43\">\n          AndyBarcia\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          scripting\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          styling\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">Hi, I've only been using Typst for some hours, so I don't know if I'm just not u<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">nderstanding the problem correctly. But I've noticed that this code:\n\n```\n#let test(color: red, content) = box(fill: color)[#content]\n#set test(color: blue)\n#test[Test Content]\n```\n\nFails to compile with this error:\n\n```\nerror: only element functions can be used in set rules\n   ‚îå‚îÄ main.typ:37:5\n   ‚îÇ\n37 ‚îÇ #set test(color: blue)\n   ‚îÇ      ^^^^\n```\n\nAfter reading the source code, I've reached the conclusion that set rules can only be used with native functions, or as they are called in the documentation, \"elements\". \n\nI was wondering if this was a permanent design decisions, or if in the future set rules could be applied to any optional argument of any function. And if it is a design decision, I'm thinking that the documentation should more explicitly mention the distinction between user-defined functions and native functions or \"elements\"; and that set and show rules can only be used with native functions, and nothing else.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/1926\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/1926\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/1926\" target=\"_blank\" rel=\"noopener nofollow ugc\">Ancestry/inside selector</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-08-14\" data-time=\"00:27:22\" data-timezone=\"UTC\">12:27AM - 14 Aug 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/MechMK1\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"MechMK1\" src=\"https://forum.typst.app/uploads/default/original/2X/6/65e4c548d94ced524b81c669ee5216a9ce442c6a.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"5F1F95\">\n          MechMK1\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          styling\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nCurrently, it is only possible to determine whether an element <span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">occurs after or before a specific element. However, it is not easily possible to determine whether an element is \"inside\" a specific element.\n\nFor example, take the following document:\n\n```\n= Chapter 1 &lt;C1&gt;\nThis &lt;Label&gt; is inside Chapter 1\n\n== Section 1\nThis &lt;OtherLabel&gt; is inside Chapter 1 and Section 1, but not Section 2\n\n== Section 2\nAnd &lt;YetAnotherLabel&gt; is inside Chapter 1 and Section 2, but not Section 1\n```\n\nIt becomes very difficult to determine whether an element is inside a chapter. This is *especially* true when combined with calls to `state()`, where one might be interested in seeing if a state update was made in a specific chapter or not.\n\n### Use Case\n\nThe primary use-case would be to determine whether or not an element is specifically inside another element. Take the following document as an example:\n\n```\n#let s = state(\"state\", 0)\n\n#let valueForChapter(chapter) = {\n  locate(loc =&gt; {\n    let tmp = query(selector(&lt;StateUpdate&gt;).after(chapter), loc)\n    if tmp == () {\n      // The chapter has no value associated. We'll return 0\n      0\n    }\n    else {\n      s.at(tmp.first().location())      \n    }\n  }) \n}\n\nExpected: 10 / Actual: #valueForChapter(&lt;H1&gt;)\n\nExpected: 0 / Actual: #valueForChapter(&lt;H2&gt;)\n\nExpected: 20 / Actual: #valueForChapter(&lt;H3&gt;)\n\n= H1 &lt;H1&gt;\nThe value of H1 is 10\n#s.update(10)\n&lt;StateUpdate&gt;\n\n= H2 &lt;H2&gt;\nThis chapter does not have a value associated.\n\n= H3 &lt;H3&gt;\nThe value of H3 is 20\n#s.update(20)\n&lt;StateUpdate&gt;\n```\n\nWith a `.inside()` method, it would become trivial to determine if H2 has a value associated to it or not. Without this method, one would need to use something like `selector(&lt;StateUpdate&gt;).after(&lt;H2&gt;).before(&lt;H3&gt;)`, which in turn becomes problematic inside loops.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>But <a href=\"https://github.com/PgBiel/elembic\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - PgBiel/elembic: Framework for custom elements and types in Typst</a> might be able to help in achieving this in the meantime.</p>",
      "raw": "I think this isn't currently achievable easily, because of this:\n\nhttps://github.com/typst/typst/issues/147\n\nhttps://github.com/typst/typst/issues/1926\n\nBut https://github.com/PgBiel/elembic might be able to help in achieving this in the meantime.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10537,
      "post_number": 3,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-02T13:50:44.361Z",
      "updated_at": "2025-04-02T13:55:25.702Z",
      "cooked": "<p>Thank you, that‚Äôs bad news for the case, but somewhat good news for me, as I didn‚Äôt overlook something super obvious (as many times before).</p>\n<p>So even the <code>#outside[#inside[</code> case is not detectable because, other than the content, there is nothing to check against. Am I seeing this right?</p>\n<p>I‚Äôve just tried:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outside[#inside[I'm blue]&lt;blue&gt; Da ba dee da ba di.]\n</code></pre>\n<p>as a workaround, but the sequence doesn‚Äôt seem to contain the label either.</p>",
      "raw": "Thank you, that's bad news for the case, but somewhat good news for me, as I didn't overlook something super obvious (as many times before).\n\nSo even the `#outside[#inside[` case is not detectable because, other than the content, there is nothing to check against. Am I seeing this right?\n\nI've just tried:\n```typ\n#outside[#inside[I'm blue]<blue> Da ba dee da ba di.]\n```\nas a workaround, but the sequence doesn't seem to contain the label either.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10539,
      "post_number": 4,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-02T14:15:44.280Z",
      "updated_at": "2025-04-02T14:16:47.853Z",
      "cooked": "<p>Here‚Äôs a hacky solution for the first question.</p>\n<p>Basic explanation: Every <code>outside</code> creates a new counter. <code>inside</code> adds to the current outside counter. The <code>outside</code> styling can detect the final value of its own counter and style itself accordingly.</p>\n<details>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show \"green\": set text(green)\n\n#let oc = counter(\"outside\")\n\n#let inside(body) = context {\n  // Why do we need -1 here? Don't know yet.\n  let ic = counter(\"inside/\" + str(oc.get().first() - 1))\n  ic.step()\n  set text(blue)\n  body\n}\n\n// There are 2 oc counters for each `outside`.\n// So that `inside` increments outside/x while inside `outside`\n// and adds to outside/x+1 otherwise.\n#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n  let isblue = ic.final().first() &gt; 0\n  set text(blue) if isblue\n  \"Yo, \" + body\n  oc.step()\n}\n\n*How can I make this blue if it contains `#inside`?*\\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story I'm green Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story I'm green Da ba dee da ba di.] \\\n\n#outside[Another empty sentence, should be black.]\n\n#inside[Freely running around inside]\n\n#outside[Empty outside.]\n\n\n#text(fill: blue, \"Yo, listen up here‚Ä≤s a story I'm blue Da ba dee da ba di.\") (Expected)\n\n*How can I make the \"Yo, \" blue only if `#outside` starts with `#inside`?*\\\n#outside[#inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, I'm blue\") Da ba dee da ba di. (Expected) \\\n#text(fill: blue, \"Yo, I'm also blue\") Da ba dee da ba di. (Expected)\n</code></pre>\n</details>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/5/50809f332111603f1eea93e3983f398e9bee392e.png\" alt=\"bild\" data-base62-sha1=\"bu9LEZQWiO3338AhZjq11neRCuW\" width=\"545\" height=\"416\"></p>\n<p>I have a question about my own code‚Ä¶ after this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n</code></pre>\n<p>The first time this is used, <code>ic</code> gets the counter called ‚Äúinside/0‚Äù, why doesn‚Äôt it get number 1? <code>oc</code> has been stepped just on the line before‚Ä¶</p>",
      "raw": "Here's a hacky solution for the first question.\n\nBasic explanation: Every `outside` creates a new counter. `inside` adds to the current outside counter. The `outside` styling can detect the final value of its own counter and style itself accordingly.\n\n<details>\n\n```typ\n#show \"green\": set text(green)\n\n#let oc = counter(\"outside\")\n\n#let inside(body) = context {\n  // Why do we need -1 here? Don't know yet.\n  let ic = counter(\"inside/\" + str(oc.get().first() - 1))\n  ic.step()\n  set text(blue)\n  body\n}\n\n// There are 2 oc counters for each `outside`.\n// So that `inside` increments outside/x while inside `outside`\n// and adds to outside/x+1 otherwise.\n#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n  let isblue = ic.final().first() > 0\n  set text(blue) if isblue\n  \"Yo, \" + body\n  oc.step()\n}\n\n*How can I make this blue if it contains `#inside`?*\\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story I'm green Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story #inside[I'm blue] Da ba dee da ba di.] \\\n#outside[listen up here‚Ä≤s a story I'm green Da ba dee da ba di.] \\\n\n#outside[Another empty sentence, should be black.]\n\n#inside[Freely running around inside]\n\n#outside[Empty outside.]\n\n\n#text(fill: blue, \"Yo, listen up here‚Ä≤s a story I'm blue Da ba dee da ba di.\") (Expected)\n\n*How can I make the \"Yo, \" blue only if `#outside` starts with `#inside`?*\\\n#outside[#inside[I'm blue] Da ba dee da ba di.] \\\n#text(fill: blue, \"Yo, I'm blue\") Da ba dee da ba di. (Expected) \\\n#text(fill: blue, \"Yo, I'm also blue\") Da ba dee da ba di. (Expected)\n```\n\n</details>\n\n![bild|545x416](upload://bu9LEZQWiO3338AhZjq11neRCuW.png)\n\n\nI have a question about my own code... after this:\n\n```typ\n#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n```\n\nThe first time this is used, `ic` gets the counter called \"inside/0\", why doesn't it get number 1? `oc` has been stepped just on the line before..",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10545,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T14:56:24.150Z",
      "updated_at": "2025-04-02T14:56:24.150Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"3\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<p>So even the <code>#outside[#inside[</code> case is not detectable because, other than the content, there is nothing to check against. Am I seeing this right?</p>\n</blockquote>\n</aside>\n<p>Exactly.</p>\n<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"3\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<p>I‚Äôve just tried:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outside[#inside[I'm blue]&lt;blue&gt; Da ba dee da ba di.]\n</code></pre>\n<p>as a workaround, but the sequence doesn‚Äôt seem to contain the label either.</p>\n</blockquote>\n</aside>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show &lt;blue&gt;: it =&gt; \"Blue is attached to \" + raw(repr(it), lang: \"typc\")\n\n#outside[#inside[I'm blue]&lt;blue&gt; Da ba dee da ba di.]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/b/b4f347f862b75dd35c17de79f5ad098c354d0106.png\" alt=\"image\" data-base62-sha1=\"pOLaFzIiJxg0Tqyx6hBoK8Fm5zo\" width=\"688\" height=\"56\"></p>",
      "raw": "[quote=\"a_w, post:3, topic:3489\"]\nSo even the `#outside[#inside[` case is not detectable because, other than the content, there is nothing to check against. Am I seeing this right?\n[/quote]\n\nExactly.\n\n[quote=\"a_w, post:3, topic:3489\"]\nI've just tried:\n\n```typ\n#outside[#inside[I'm blue]<blue> Da ba dee da ba di.]\n```\n\nas a workaround, but the sequence doesn‚Äôt seem to contain the label either.\n[/quote]\n\n\n```typ\n#show <blue>: it => \"Blue is attached to \" + raw(repr(it), lang: \"typc\")\n\n#outside[#inside[I'm blue]<blue> Da ba dee da ba di.]\n```\n\n![image|688x56](upload://pOLaFzIiJxg0Tqyx6hBoK8Fm5zo.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10546,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T15:02:21.030Z",
      "updated_at": "2025-04-02T15:02:21.030Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"4\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<p>I have a question about my own code‚Ä¶ after this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n</code></pre>\n<p>The first time this is used, <code>ic</code> gets the counter called ‚Äúinside/0‚Äù, why doesn‚Äôt it get number 1? <code>oc</code> has been stepped just on the line before‚Ä¶</p>\n</blockquote>\n</aside>\n<p>The <code>.get()</code> call is called within a <code>context</code>, and the context starts with counter set to 0. For <code>.get()</code> to see a <code>.step()</code>, they need to be separated by <code>context</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let outside(body) = {\n  oc.step()\n  context {\n      let ic = counter(\"inside/\" + str(oc.get().first()))\n</code></pre>\n<p>P.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you‚Äôre Êó•Êú¨Ë™û‰∏äÊâã.</p>",
      "raw": "[quote=\"bluss, post:4, topic:3489\"]\nI have a question about my own code‚Ä¶ after this:\n\n```typ\n#let outside(body) = context {\n  oc.step()\n  let ic = counter(\"inside/\" + str(oc.get().first()))\n```\n\nThe first time this is used, `ic` gets the counter called ‚Äúinside/0‚Äù, why doesn‚Äôt it get number 1? `oc` has been stepped just on the line before‚Ä¶\n[/quote]\n\nThe `.get()` call is called within a `context`, and the context starts with counter set to 0. For `.get()` to see a `.step()`, they need to be separated by `context`:\n\n```typ\n#let outside(body) = {\n  oc.step()\n  context {\n      let ic = counter(\"inside/\" + str(oc.get().first()))\n```\n\nP.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you're Êó•Êú¨Ë™û‰∏äÊâã.",
      "reply_to_post_number": 4,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 1,
      "reads": 21,
      "score": 29.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10547,
      "post_number": 7,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-02T15:06:47.492Z",
      "updated_at": "2025-04-02T15:06:47.492Z",
      "cooked": "<p>Ah, thanks for the reminder, makes sense!</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"6\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>P.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you‚Äôre Êó•Êú¨Ë™û‰∏äÊâã.</p>\n</blockquote>\n</aside>\n<p>This part I don‚Äôt understand, I don‚Äôt think that can be related to anything I‚Äôve written on the forum.</p>",
      "raw": "Ah, thanks for the reminder, makes sense!\n\n[quote=\"Andrew, post:6, topic:3489\"]\nP.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you‚Äôre Êó•Êú¨Ë™û‰∏äÊâã.\n[/quote]\n\nThis part I don't understand, I don't think that can be related to anything I've written on the forum.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10549,
      "post_number": 8,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-02T15:11:29.406Z",
      "updated_at": "2025-04-02T15:12:12.530Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"6\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>P.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you‚Äôre Êó•Êú¨Ë™û‰∏äÊâã.</p>\n</blockquote>\n</aside>\n<p>I have google translated your message, and I think I understand now.</p>\n<p>I used a HTML <code>&lt;details&gt;</code> tag in my message. It‚Äôs localized by your web browser. I see it in Swedish, hence your Japanese (I think) was very confusing to me. So yeah, we see different things. And yeah, it‚Äôs not me who decides how it‚Äôs displayed.</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/72b01926640d9f23c38bd7d5549ae23b1941cae1.png\" alt=\"bild\" data-base62-sha1=\"gmzIF7tewHtmYvWfMFm4Dg820b7\" width=\"239\" height=\"159\"></p>",
      "raw": "[quote=\"Andrew, post:6, topic:3489\"]\nP.S. The forum is English-oriented, so writing (or leaving) Ë©≥Á¥∞ in a message is confusing unless you‚Äôre Êó•Êú¨Ë™û‰∏äÊâã.\n[/quote]\n\nI have google translated your message, and I think I understand now.\n\nI used a HTML `<details>` tag in my message. It's localized by your web browser. I see it in Swedish, hence your Japanese (I think) was very confusing to me. So yeah, we see different things. And yeah, it's not me who decides how it's displayed.\n\n\n![bild|239x159](upload://gmzIF7tewHtmYvWfMFm4Dg820b7.png)",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10550,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T15:19:04.269Z",
      "updated_at": "2025-04-02T15:21:23.378Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"8\" data-topic=\"3489\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<p>I used a HTML <code>&lt;details&gt;</code> tag in my message. It‚Äôs localized by your web browser. I see it in Swedish, hence your Japanese (I think) was very confusing to me.</p>\n</blockquote>\n</aside>\n<p>See, reading the message in English and then see one small part in localized language is confusing either way (if it‚Äôs not English).</p>\n<p>In any case, ‚Äúdetails‚Äù is not descriptive, so you should provide the summary of what you hide.</p>\n<pre data-code-wrap=\"md\"><code class=\"lang-md\">&lt;details&gt;&lt;summary&gt;the summary&lt;/summary&gt;\n\n```typ\nstuff\n```\n\n&lt;/details&gt;\n</code></pre>\n<p>or</p>\n<pre data-code-wrap=\"md\"><code class=\"lang-md\">[details=\"Summary\"]\nThis text will be hidden\n[/details]\n</code></pre>\n<p>Which is an option in the dropdown menu in the editor (to not write it manually).</p>",
      "raw": "[quote=\"bluss, post:8, topic:3489\"]\nI used a HTML `<details>` tag in my message. It‚Äôs localized by your web browser. I see it in Swedish, hence your Japanese (I think) was very confusing to me.\n[/quote]\n\nSee, reading the message in English and then see one small part in localized language is confusing either way (if it's not English).\n\nIn any case, \"details\" is not descriptive, so you should provide the summary of what you hide.\n\n````md\n<details><summary>the summary</summary>\n\n```typ\nstuff\n```\n\n</details>\n````\n\nor\n\n```md\n[details=\"Summary\"]\nThis text will be hidden\n[/details]\n```\n\nWhich is an option in the dropdown menu in the editor (to not write it manually).",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10551,
      "post_number": 10,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-02T15:25:14.168Z",
      "updated_at": "2025-04-02T15:27:34.550Z",
      "cooked": "<p>Nice, very creative approach! <img src=\"https://forum.typst.app/images/emoji/apple/clap/2.png?v=12\" title=\":clap:t2:\" class=\"emoji\" alt=\":clap:t2:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>There is currently a pull request on the way for <code>.within</code> so hopefully both of these cases will have non-hacky solution soon.</p>",
      "raw": "Nice, very creative approach! üëèüèª\n\nThere is currently a pull request on the way for `.within` so hopefully both of these cases will have non-hacky solution soon.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    }
  ],
  "scraped_at": "2025-06-10T09:49:48.167118"
}
{
  "topic_metadata": {
    "id": 3491,
    "title": "Does typst support conditional compile?",
    "slug": "does-typst-support-conditional-compile",
    "posts_count": 4,
    "created_at": "2025-04-02T09:25:40.917Z",
    "last_posted_at": "2025-04-02T14:06:32.824Z",
    "views": 87,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "shylock",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 113
  },
  "posts": [
    {
      "id": 10523,
      "post_number": 1,
      "username": "shylock",
      "name": "shylock",
      "created_at": "2025-04-02T09:25:41.073Z",
      "updated_at": "2025-04-02T09:26:12.652Z",
      "cooked": "<p>Such as</p>\n<pre><code class=\"lang-auto\">ENV_VAR=xxx typst compile ...\n</code></pre>\n<p>We can output different content according to the compile environment variables.<br>\nOr some other methods to reach it too.</p>",
      "raw": "Such as \n```\nENV_VAR=xxx typst compile ...\n```\nWe can output different content according to the compile environment variables.\nOr some other methods to reach it too.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 41.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1408
    },
    {
      "id": 10524,
      "post_number": 2,
      "username": "shylock",
      "name": "shylock",
      "created_at": "2025-04-02T09:30:05.764Z",
      "updated_at": "2025-04-02T09:30:05.764Z",
      "cooked": "<p>We can use <code>--input</code></p>",
      "raw": "We can use `--input`",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 26.6,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1408
    },
    {
      "id": 10529,
      "post_number": 3,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2025-04-02T10:47:51.753Z",
      "updated_at": "2025-04-02T10:47:51.753Z",
      "cooked": "<p>Can you please expand on this answer with an example of how to use ‚Äîinput or a link to the documentation?</p>",
      "raw": "Can you please expand on this answer with an example of how to use ‚Äîinput or a link to the documentation?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    },
    {
      "id": 10538,
      "post_number": 4,
      "username": "ssotoen",
      "name": "",
      "created_at": "2025-04-02T14:06:32.824Z",
      "updated_at": "2025-04-02T14:06:32.824Z",
      "cooked": "<p>Using <code>--input</code> you can pass key-value pairs into your document:</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-sh\">typst compile main.typ --input foo=bar\n</code></pre>\n<p>These are accessible via the <code>sys.inputs</code> <a href=\"https://typst.app/docs/reference/foundations/dictionary/\">dictionary</a>.</p>\n<p>Example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">The `sys.inputs` dictionary has the following keys: #sys.inputs.keys().\nThe first value is #sys.inputs.at(\"foo\").\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/4e4f617fbceb93845f89625d688d558af45cf2e8.png\" data-download-href=\"https://forum.typst.app/uploads/default/4e4f617fbceb93845f89625d688d558af45cf2e8\" title=\"main\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/4e4f617fbceb93845f89625d688d558af45cf2e8_2_690x50.png\" alt=\"main\" data-base62-sha1=\"baLjyn3qHA4WDJ94U9vzE6D73EQ\" width=\"690\" height=\"50\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/4e4f617fbceb93845f89625d688d558af45cf2e8_2_690x50.png, https://forum.typst.app/uploads/default/original/2X/4/4e4f617fbceb93845f89625d688d558af45cf2e8.png 1.5x, https://forum.typst.app/uploads/default/original/2X/4/4e4f617fbceb93845f89625d688d558af45cf2e8.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">main</span><span class=\"informations\">790√ó58 24.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Using `--input` you can pass key-value pairs into your document:\n\n```sh\ntypst compile main.typ --input foo=bar\n```\n\nThese are accessible via the `sys.inputs` [dictionary](https://typst.app/docs/reference/foundations/dictionary/).\n\nExample:\n\n```typ\nThe `sys.inputs` dictionary has the following keys: #sys.inputs.keys().\nThe first value is #sys.inputs.at(\"foo\").\n```\n\n[details=\"Output\"]\n![main|690x50](upload://baLjyn3qHA4WDJ94U9vzE6D73EQ.png)\n[/details]",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 30,
      "score": 35.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 331
    }
  ],
  "scraped_at": "2025-06-10T09:49:47.366996"
}
{
  "topic_metadata": {
    "id": 3496,
    "title": "How to combine the title of the document with the page counter in the footer",
    "slug": "how-to-combine-the-title-of-the-document-with-the-page-counter-in-the-footer",
    "posts_count": 11,
    "created_at": "2025-04-02T12:06:01.936Z",
    "last_posted_at": "2025-04-04T08:08:45.716Z",
    "views": 120,
    "like_count": 4,
    "reply_count": 8,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Adrian_Weitkemper",
    "tags": [
      "layout",
      "counter",
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1243
  },
  "posts": [
    {
      "id": 10532,
      "post_number": 1,
      "username": "jamie.bowman",
      "name": "Jamie Bowman",
      "created_at": "2025-04-02T12:06:02.110Z",
      "updated_at": "2025-04-02T12:06:02.110Z",
      "cooked": "<p>Hi,</p>\n<p>I‚Äôm trying to create a footer that is made up of both the title of the document (as a variable) and the current page counter, e.g. ‚ÄúDocument title | 1‚Äù. Everything I‚Äôve tried is giving me syntax errors.</p>\n<p>This is what I‚Äôm trying to edit that currently works (aligning left and right on opposite pages):</p>\n<pre><code class=\"lang-auto\">footer: context {\n      set text(8pt)\n      if calc.odd(here().page()) {\n        align(right, counter(page).display(\" | 1\"))\n      } else {\n        align(left, counter(page).display(\"| 1\"))\n      }\n    }\n</code></pre>\n<p>What I‚Äôve tried that doesn‚Äôt work:</p>\n<ol>\n<li><code>align(right, counter(page).display(\" | 1\"))[#title]</code></li>\n<li><code>align(right)[#text], counter(page).display(\" | 1\"))</code></li>\n</ol>\n<p>Is there an easy way to combine two strings (that are both variables) in the footer? Thanks!</p>",
      "raw": "Hi, \n\nI'm trying to create a footer that is made up of both the title of the document (as a variable) and the current page counter, e.g. \"Document title | 1\". Everything I've tried is giving me syntax errors.\n\nThis is what I'm trying to edit that currently works (aligning left and right on opposite pages):\n```\nfooter: context {\n      set text(8pt)\n      if calc.odd(here().page()) {\n        align(right, counter(page).display(\" | 1\"))\n      } else {\n        align(left, counter(page).display(\"| 1\"))\n      }\n    }\n```\n\nWhat I've tried that doesn't work:\n1. `align(right, counter(page).display(\" | 1\"))[#title]`\n2. `align(right)[#text], counter(page).display(\" | 1\"))`\n\nIs there an easy way to combine two strings (that are both variables) in the footer? Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 166.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1410
    },
    {
      "id": 10533,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-02T12:28:07.167Z",
      "updated_at": "2025-04-02T12:28:07.167Z",
      "cooked": "<p>Hi there! Welcome to the forum. You can combine two strings with the ‚Äú+‚Äù operator (see the <a href=\"https://typst.app/docs/reference/foundations/str/\">Typst documentation</a>):</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let title = \"your title variable\"\n#align(right, context counter(page).display(title + \" | 1\"))\n</code></pre>\n<p>If this does not solve your problem, don‚Äôt hesitate to ask a follow up question. Otherwise, please mark this answer as the solution <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hi there! Welcome to the forum. You can combine two strings with the \"+\" operator (see the [Typst documentation](https://typst.app/docs/reference/foundations/str/)): \n```typst\n#let title = \"your title variable\"\n#align(right, context counter(page).display(title + \" | 1\"))\n```\nIf this does not solve your problem, don't hesitate to ask a follow up question. Otherwise, please mark this answer as the solution :blush:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 26.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10534,
      "post_number": 3,
      "username": "jamie.bowman",
      "name": "Jamie Bowman",
      "created_at": "2025-04-02T12:41:50.654Z",
      "updated_at": "2025-04-02T12:41:50.654Z",
      "cooked": "<p>Thanks for the warm welcome and helpful suggestion. I‚Äôve tried solving it with this, but I‚Äôm still getting errors. What I‚Äôve tried:</p>\n<ol>\n<li><code>align(right, counter(page).display(title + \"1\"))</code></li>\n<li><code>align(right, counter(page).display([title] + \"1\"))</code></li>\n<li><code>align(right, counter(page).display([#title] + \"1\"))</code></li>\n</ol>\n<p>None of which works, unfortunately. I‚Äôm certain the variable is assigned because it‚Äôs working elsewhere in the document. The error I‚Äôm getting is <code>error: expected string, function, or auto, found content</code>.</p>\n<p>Would it be helpful to share the full template?</p>",
      "raw": "Thanks for the warm welcome and helpful suggestion. I've tried solving it with this, but I'm still getting errors. What I've tried:\n\n1. `align(right, counter(page).display(title + \"1\"))`\n2. `align(right, counter(page).display([title] + \"1\"))`\n3. `align(right, counter(page).display([#title] + \"1\"))`\n\nNone of which works, unfortunately. I'm certain the variable is assigned because it's working elsewhere in the document. The error I'm getting is `error: expected string, function, or auto, found content`.\n\nWould it be helpful to share the full template?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1410
    },
    {
      "id": 10535,
      "post_number": 4,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-02T12:59:11.941Z",
      "updated_at": "2025-04-02T13:00:27.486Z",
      "cooked": "<p>Oh, I messed up, sry‚Ä¶</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#align(right, title + context counter(page).display(\" | 1 \"))\n</code></pre>\n<p>should work. ‚Äú<span class=\"hashtag-raw\">#align</span>(right, context counter(page).display(‚Äù | 1 \") \" outputs \" | \" followed by the number and the title is not part of the pattern of the display function.<br>\nI changed the order (title to the left) and didn‚Äôt check again if it works <img src=\"https://forum.typst.app/images/emoji/apple/frowning.png?v=12\" title=\":frowning:\" class=\"emoji\" alt=\":frowning:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Oh, I messed up, sry...\n```typst\n#align(right, title + context counter(page).display(\" | 1 \"))\n```\nshould work. \"#align(right, context counter(page).display(\" | 1 \") \" outputs \" | \" followed by the number and the title is not part of the pattern of the display function. \nI changed the order (title to the left) and didn't check again if it works :frowning:",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10536,
      "post_number": 5,
      "username": "jamie.bowman",
      "name": "Jamie Bowman",
      "created_at": "2025-04-02T13:24:56.191Z",
      "updated_at": "2025-04-02T13:24:56.191Z",
      "cooked": "<p>That‚Äôs done the trick! Thanks so much for your help ‚Äì it‚Äôs much appreciated.</p>",
      "raw": "That's done the trick! Thanks so much for your help -- it's much appreciated.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1410
    },
    {
      "id": 10544,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T14:36:55.769Z",
      "updated_at": "2025-04-03T12:58:44.281Z",
      "cooked": "<p>This is not how you‚Äôre supposed to use <a href=\"https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering\"><code>counter.display.numbering</code></a> (<a href=\"https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering\"><code>numbering.numbering</code></a>).</p>\n<p>All non-numbering formatting should be done outside like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let title = [Document title]\n#set page(\n  footer: context {\n    let page = counter(page).get().first()\n    set text(8pt)\n    if calc.odd(page) {\n      align(right)[#title | #page]\n    } else {\n      align(left)[#page | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ =&gt; lorem(150)).intersperse(parbreak()).join()\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9.png\" data-download-href=\"https://forum.typst.app/uploads/default/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9_2_690x463.png\" alt=\"image\" data-base62-sha1=\"A6FiYWqyFFKveV2O4do0vIKhMal\" width=\"690\" height=\"463\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9_2_690x463.png, https://forum.typst.app/uploads/default/original/2X/f/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/fd0f2c1125dfe47270174cf0f4c665b93d7d98d9.png 2x\" data-dominant-color=\"0B0B0B\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">916√ó615 145 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Or a more proper way that is customizable:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let title = [Document title]\n#set page(\n  numbering: \"I\",\n  footer: context {\n    assert(page.numbering != none) // Assumes this is always true.\n    let page-number = counter(page).get().first()\n    let page-formatted = counter(page).display() // `page.numbering` is used automatically.k\n    set text(8pt)\n    if calc.odd(page-number) {\n      align(right)[#title | #page-formatted]\n    } else {\n      align(left)[#page-formatted | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ =&gt; lorem(150)).intersperse(parbreak()).join()\n</code></pre>\n<hr>\n<p>Also, if you want to add a code mode snippet, you can use <code>typc</code> language marker:</p>\n<pre data-code-wrap=\"md\"><code class=\"lang-md\">```typc\n```\n</code></pre>\n<p>So that the syntax highlight is correct:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">footer: context {\n      set text(8pt)\n      if calc.odd(here().page()) {\n        align(right, counter(page).display(\" | 1\"))\n      } else {\n        align(left, counter(page).display(\"| 1\"))\n      }\n    }\n</code></pre>\n<p>There is also <code>typ</code> and <code>typm</code> for math.</p>",
      "raw": "This is not how you're supposed to use [`counter.display.numbering`](https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering) ([`numbering.numbering`](https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering)).\n\nAll non-numbering formatting should be done outside like this:\n\n```typ\n#let title = [Document title]\n#set page(\n  footer: context {\n    let page = counter(page).get().first()\n    set text(8pt)\n    if calc.odd(page) {\n      align(right)[#title | #page]\n    } else {\n      align(left)[#page | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ => lorem(150)).intersperse(parbreak()).join()\n```\n\n![image|690x463](upload://A6FiYWqyFFKveV2O4do0vIKhMal.png)\n\nOr a more proper way that is customizable:\n\n```typ\n#let title = [Document title]\n#set page(\n  numbering: \"I\",\n  footer: context {\n    assert(page.numbering != none) // Assumes this is always true.\n    let page-number = counter(page).get().first()\n    let page-formatted = counter(page).display() // `page.numbering` is used automatically.k\n    set text(8pt)\n    if calc.odd(page-number) {\n      align(right)[#title | #page-formatted]\n    } else {\n      align(left)[#page-formatted | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ => lorem(150)).intersperse(parbreak()).join()\n```\n---\n\nAlso, if you want to add a code mode snippet, you can use `typc` language marker:\n\n````md\n```typc\n```\n````\n\nSo that the syntax highlight is correct:\n\n```typc\nfooter: context {\n      set text(8pt)\n      if calc.odd(here().page()) {\n        align(right, counter(page).display(\" | 1\"))\n      } else {\n        align(left, counter(page).display(\"| 1\"))\n      }\n    }\n```\n\nThere is also `typ` and `typm` for math.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10585,
      "post_number": 7,
      "username": "sijo",
      "name": "",
      "created_at": "2025-04-03T09:15:10.215Z",
      "updated_at": "2025-04-03T09:15:10.215Z",
      "cooked": "<p>I think you can just call <code>.display()</code> and not worry about <code>page.numbering</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let title = [Document title]\n#set page(\n  numbering: \"I\",\n  footer: context {\n    set text(8pt)\n    let n = counter(page).display()\n    if calc.odd(here().page()) {\n      align(right)[#title | #n]\n    } else {\n      align(left)[#n | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ =&gt; lorem(150)).intersperse(parbreak()).join()\n</code></pre>\n<p>To check for left or right side it‚Äôs maybe better to use <code>here().page()</code> which gives the physical page number (so odd should always be on the right) while <code>counter(page)</code> can be set to anything by the user/template.</p>",
      "raw": "I think you can just call `.display()` and not worry about `page.numbering`:\n\n```typ\n#let title = [Document title]\n#set page(\n  numbering: \"I\",\n  footer: context {\n    set text(8pt)\n    let n = counter(page).display()\n    if calc.odd(here().page()) {\n      align(right)[#title | #n]\n    } else {\n      align(left)[#n | #title]\n    }\n  },\n)\n#set par(justify: true)\n\n#range(5).map(_ => lorem(150)).intersperse(parbreak()).join()\n```\n\nTo check for left or right side it's maybe better to use `here().page()` which gives the physical page number (so odd should always be on the right) while `counter(page)` can be set to anything by the user/template.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 44.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 10593,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T12:57:11.920Z",
      "updated_at": "2025-04-03T12:57:11.920Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"7\" data-topic=\"3496\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>I think you can just call <code>.display()</code> and not worry about <code>page.numbering</code>:</p>\n</blockquote>\n</aside>\n<p><a href=\"https://typst.app/docs/reference/introspection/counter/#definitions-display\">Indeed</a>, but the <code>numbering</code> still should be set, because if the default numbering would be <code>\"1.1.\"</code> then it would add a period, so the assertion is just a best practice.</p>\n<blockquote>\n<p>If this is omitted or set to <code>auto</code>, displays the counter with the numbering style for the counted element or with the pattern <code>\"1.1\"</code> if no such style exists.</p>\n</blockquote>\n<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"7\" data-topic=\"3496\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>To check for left or right side it‚Äôs maybe better to use <code>here().page()</code> which gives the physical page number (so odd should always be on the right) while <code>counter(page)</code> can be set to anything by the user/template.</p>\n</blockquote>\n</aside>\n<p>Since I don‚Äôt know how exactly the pages will look like, I used the more flexible option where you can change where the odd numbers start. If the intent is to start with the first physical page, then <code>here().page()</code> should be used.</p>",
      "raw": "[quote=\"sijo, post:7, topic:3496\"]\nI think you can just call `.display()` and not worry about `page.numbering`:\n[/quote]\n\n[Indeed](https://typst.app/docs/reference/introspection/counter/#definitions-display), but the `numbering` still should be set, because if the default numbering would be `\"1.1.\"` then it would add a period, so the assertion is just a best practice.\n\n> If this is omitted or set to `auto`, displays the counter with the numbering style for the counted element or with the pattern `\"1.1\"` if no such style exists.\n\n[quote=\"sijo, post:7, topic:3496\"]\nTo check for left or right side it‚Äôs maybe better to use `here().page()` which gives the physical page number (so odd should always be on the right) while `counter(page)` can be set to anything by the user/template.\n[/quote]\n\nSince I don't know how exactly the pages will look like, I used the more flexible option where you can change where the odd numbers start. If the intent is to start with the first physical page, then `here().page()` should be used.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10598,
      "post_number": 9,
      "username": "sijo",
      "name": "",
      "created_at": "2025-04-03T15:52:16.143Z",
      "updated_at": "2025-04-03T15:52:55.710Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"8\" data-topic=\"3496\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p><a href=\"https://typst.app/docs/reference/introspection/counter/#definitions-display\">Indeed</a>, but the <code>numbering</code> still should be set, because if the default numbering would be <code>\"1.1.\"</code> then it would add a period, so the assertion is just a best practice.</p>\n</blockquote>\n</aside>\n<p>The documentation says</p>\n<blockquote>\n<p>If [the numbering] is omitted or set to <code>auto</code>, displays the counter with the numbering style for the counted element</p>\n</blockquote>\n<p>For the page counter this defaults to <code>\"1\"</code> so that‚Äôs fine.</p>\n<p>Regarding <code>here().page()</code> vs <code>counter(page)</code>, I don‚Äôt understand your point. We want different alignment for odd vs even <em>physical</em> pages: for a page physically on the right, we want the footer on the right. And the physical page is given by <code>here().page()</code>. For this purpose, the <code>counter(page)</code> flexibility doesn‚Äôt bring anything except bugs as far as I can see‚Ä¶</p>\n<p>Or do you mean that the document might be right-to-left? If that‚Äôs a concern It seems to me a better solution would be to check <code>text.dir</code>, and still use <code>here().page()</code>.</p>",
      "raw": "[quote=\"Andrew, post:8, topic:3496\"]\n[Indeed](https://typst.app/docs/reference/introspection/counter/#definitions-display), but the `numbering` still should be set, because if the default numbering would be `\"1.1.\"` then it would add a period, so the assertion is just a best practice.\n[/quote]\n\nThe documentation says\n\n> If [the numbering] is omitted or set to `auto`, displays the counter with the numbering style for the counted element\n\nFor the page counter this defaults to `\"1\"` so that's fine.\n\nRegarding `here().page()` vs `counter(page)`, I don't understand your point. We want different alignment for odd vs even *physical* pages: for a page physically on the right, we want the footer on the right. And the physical page is given by `here().page()`. For this purpose, the `counter(page)` flexibility doesn't bring anything except bugs as far as I can see...\n\nOr do you mean that the document might be right-to-left? If that's a concern It seems to me a better solution would be to check `text.dir`, and still use `here().page()`.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 10600,
      "post_number": 10,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T16:48:11.827Z",
      "updated_at": "2025-04-03T16:48:11.827Z",
      "cooked": "<p>I can imagine a document where one or more first pages serve some special purpose and must not be counted toward physical pages that are used to determine which is left and which is right. There are a lot of cover/title pages where the numbering can start on the 2nd page or even after that. Without knowing the exact structure/intent, I wouldn‚Äôt suggest a single solution. In Okular, there is even a special view mode where the first page is centered, which can help in certain situations.</p>",
      "raw": "I can imagine a document where one or more first pages serve some special purpose and must not be counted toward physical pages that are used to determine which is left and which is right. There are a lot of cover/title pages where the numbering can start on the 2nd page or even after that. Without knowing the exact structure/intent, I wouldn't suggest a single solution. In Okular, there is even a special view mode where the first page is centered, which can help in certain situations.",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10605,
      "post_number": 11,
      "username": "sijo",
      "name": "",
      "created_at": "2025-04-04T08:08:45.716Z",
      "updated_at": "2025-04-04T08:08:45.716Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"10\" data-topic=\"3496\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>There are a lot of cover/title pages where the numbering can start on the 2nd page or even after that.</p>\n</blockquote>\n</aside>\n<p>This is precisely why you want to use <code>here().page()</code>: it works consistently no matter where the user decides to start numbering pages. Normally it shouldn‚Äôt make a difference since the page on the right ‚Äúshould‚Äù show an odd number but you never know what the user will do. I think we‚Äôre going a bit in circle though‚Ä¶ I would be interested to see a concrete document where <code>counter(page)</code> does the right thing and <code>here().page()</code> doesn‚Äôt.</p>",
      "raw": "[quote=\"Andrew, post:10, topic:3496\"]\nThere are a lot of cover/title pages where the numbering can start on the 2nd page or even after that.\n[/quote]\n\nThis is precisely why you want to use `here().page()`: it works consistently no matter where the user decides to start numbering pages. Normally it shouldn't make a difference since the page on the right \"should\" show an odd number but you never know what the user will do. I think we're going a bit in circle though... I would be interested to see a concrete document where `counter(page)` does the right thing and `here().page()` doesn't.",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 18,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:49:46.639609"
}
{
  "topic_metadata": {
    "id": 3499,
    "title": "How to cite in prose using only author's last name?",
    "slug": "how-to-cite-in-prose-using-only-authors-last-name",
    "posts_count": 10,
    "created_at": "2025-04-02T15:37:59.399Z",
    "last_posted_at": "2025-04-21T09:47:42.028Z",
    "views": 165,
    "like_count": 8,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 9,
    "accepted_answer_username": "Andrew",
    "tags": [
      "citation",
      "referencing"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 626
  },
  "posts": [
    {
      "id": 10553,
      "post_number": 1,
      "username": "mezzogallium",
      "name": "Andr√© Santos",
      "created_at": "2025-04-02T15:37:59.578Z",
      "updated_at": "2025-04-02T15:37:59.578Z",
      "cooked": "<p>Hi,</p>\n<p>I‚Äôm writing my thesis, using the CSL file to get the correct citation style (IEEE with URLs). When citing with the ‚Äúprose‚Äù option, I get the author‚Äôs initial and last name - e.g. ‚ÄúJ. Smith [1]‚Äù.</p>\n<p>Is there a straigthforward way to output only the last name, without the initial?</p>\n<p>Thanks!</p>",
      "raw": "Hi,\n\nI'm writing my thesis, using the CSL file to get the correct citation style (IEEE with URLs). When citing with the \"prose\" option, I get the author's initial and last name - e.g. \"J. Smith [1]\". \n\nIs there a straigthforward way to output only the last name, without the initial?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 193.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 10574,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-02T20:16:06.044Z",
      "updated_at": "2025-04-02T20:17:40.135Z",
      "cooked": "<p>Hi there!<br>\nIt should be possible to create a custom citation style or maybe there is one already, but I‚Äôm not aware of it. Creating a custom citation style is pretty complicated and might be overkill for your purpose.<br>\nSomething that seems to work though is the following:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let my-cite(label) = {\n  show regex(\"[A-Z]. \"): none\n  cite(label, form: \"prose\")\n}\nA citation in the style you asked for: #my-cite(&lt;some-citation&gt;)\n#bibliography(\"bibliography.bib\")\n</code></pre>\n<p>My answer is inspired by <a href=\"https://forum.typst.app/t/how-can-i-remove-parens-around-specific-citations/818\">this post</a> about getting rid of other parts of the citation (in another citation style)</p>",
      "raw": "Hi there!\nIt should be possible to create a custom citation style or maybe there is one already, but I'm not aware of it. Creating a custom citation style is pretty complicated and might be overkill for your purpose. \nSomething that seems to work though is the following: \n```typst\n#let my-cite(label) = {\n  show regex(\"[A-Z]. \"): none\n  cite(label, form: \"prose\")\n}\nA citation in the style you asked for: #my-cite(<some-citation>)\n#bibliography(\"bibliography.bib\")\n```\nMy answer is inspired by [this post](https://forum.typst.app/t/how-can-i-remove-parens-around-specific-citations/818) about getting rid of other parts of the citation (in another citation style)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 39,
      "score": 72.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10578,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T20:48:20.815Z",
      "updated_at": "2025-04-02T20:50:40.778Z",
      "cooked": "<p>This is not how regex works. Here is an <a href=\"https://regex101.com/r/8iAltG/1\" rel=\"noopener nofollow ugc\">explanation</a>. For any language to work, <code>\"\\p{Lu}\\. \"</code> should be used, for only Latin letters: <code>\"[A-Z]\\. \"</code>.</p>\n<hr>\n<p>Indeed, the correct way would be to use a different CSL style, or copy the used one and patch it.</p>\n<p>Since the text is supposed to be very short, I think this is a pretty good solution, though I think it will also remove the middle name, if it does exist and shows. If it was a longer text, then it can easily remove some other parts of the citation, since the regex is very generic.</p>",
      "raw": "This is not how regex works. Here is an [explanation](https://regex101.com/r/8iAltG/1). For any language to work, `\"\\p{Lu}\\. \"` should be used, for only Latin letters: `\"[A-Z]\\. \"`.\n\n---\n\nIndeed, the correct way would be to use a different CSL style, or copy the used one and patch it.\n\nSince the text is supposed to be very short, I think this is a pretty good solution, though I think it will also remove the middle name, if it does exist and shows. If it was a longer text, then it can easily remove some other parts of the citation, since the regex is very generic.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 36,
      "score": 42.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10581,
      "post_number": 4,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-03T07:59:39.733Z",
      "updated_at": "2025-04-03T07:59:39.733Z",
      "cooked": "<p>Thank you for correcting me <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\"> . I tend to forget the backslash‚Ä¶<br>\nAnd yes, you are correct, my expression is a little bit too specific.<br>\nI looked up the expression at <a href=\"https://docs.rs/regex/latest/regex/#syntax\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">regex - Rust</a>, but the website you referenced looks better , so thank you very much for the advice <img src=\"https://forum.typst.app/images/emoji/apple/+1.png?v=12\" title=\":+1:\" class=\"emoji\" alt=\":+1:\" loading=\"lazy\" width=\"20\" height=\"20\">.<br>\nRegarding editing the CSL style, I couldn‚Äôt find it in the <a href=\"https://github.com/citation-style-language/styles\" rel=\"noopener nofollow ugc\">github repo</a> (I searched the website for ‚Äúieee‚Äù) and to be honest it might be a little too complex for me anyways.</p>",
      "raw": "Thank you for correcting me :blush: . I tend to forget the backslash...\nAnd yes, you are correct, my expression is a little bit too specific. \nI looked up the expression at https://docs.rs/regex/latest/regex/#syntax, but the website you referenced looks better , so thank you very much for the advice :+1:. \nRegarding editing the CSL style, I couldn't find it in the [github repo](https://github.com/citation-style-language/styles) (I searched the website for \"ieee\") and to be honest it might be a little too complex for me anyways.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10582,
      "post_number": 5,
      "username": "mezzogallium",
      "name": "Andr√© Santos",
      "created_at": "2025-04-03T08:41:24.232Z",
      "updated_at": "2025-04-03T08:41:24.232Z",
      "cooked": "<p>Thank you for the responses, I‚Äôll try editing the CSL file!</p>",
      "raw": "Thank you for the responses, I'll try editing the CSL file!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 31.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 10583,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T08:58:54.334Z",
      "updated_at": "2025-04-03T08:58:54.334Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Adrian_Weitkemper\" data-post=\"4\" data-topic=\"3499\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/F7602B/48.png\" class=\"avatar\"> Adrian_Weitkemper:</div>\n<blockquote>\n<p>I couldn‚Äôt find it in the <a href=\"https://github.com/citation-style-language/styles\" rel=\"noopener nofollow ugc\">github repo</a></p>\n</blockquote>\n</aside>\n<p>I think it‚Äôs <a href=\"https://github.com/typst/hayagriva/blob/main/archive/styles/ieee.cbor\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">hayagriva/archive/styles/ieee.cbor at main ¬∑ typst/hayagriva ¬∑ GitHub</a>, but the up-to-date one is <a href=\"https://github.com/citation-style-language/styles/blob/master/ieee.csl\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">styles/ieee.csl at master ¬∑ citation-style-language/styles ¬∑ GitHub</a>.</p>",
      "raw": "[quote=\"Adrian_Weitkemper, post:4, topic:3499\"]\nI couldn‚Äôt find it in the [github repo](https://github.com/citation-style-language/styles)\n[/quote]\n\nI think it's https://github.com/typst/hayagriva/blob/main/archive/styles/ieee.cbor, but the up-to-date one is https://github.com/citation-style-language/styles/blob/master/ieee.csl.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10584,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T08:59:57.291Z",
      "updated_at": "2025-04-03T08:59:57.291Z",
      "cooked": "<p>The spec is here: <a href=\"https://docs.citationstyles.org/en/stable/specification.html\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">CSL 1.0.2 Specification ‚Äî Citation Style Language 1.0.1-dev documentation</a>.</p>",
      "raw": "The spec is here: https://docs.citationstyles.org/en/stable/specification.html.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10899,
      "post_number": 8,
      "username": "mezzogallium",
      "name": "Andr√© Santos",
      "created_at": "2025-04-10T17:36:37.065Z",
      "updated_at": "2025-04-10T17:36:37.065Z",
      "cooked": "<p>I‚Äôve tried going down the CSL editing path, but I believe the behavior of the ‚Äúprose‚Äù setting for the <code>#cite</code> function is not necessarily dictated by the CSL style. I‚Äôm using IEEE and its inline citation is just numeric (e. g. [1]), but ‚Äúprose‚Äù produces ‚ÄúJ. Doe [1]‚Äù. So Typst adds the author from the bibliography entry.</p>\n<p>Is there a way to manipulate this output to get rid of initials (just for this type of citation)? I haven‚Äôt found a way to access a string containing the author name while writing a show rule.</p>",
      "raw": "I've tried going down the CSL editing path, but I believe the behavior of the \"prose\" setting for the `#cite` function is not necessarily dictated by the CSL style. I'm using IEEE and its inline citation is just numeric (e. g. [1]), but \"prose\" produces \"J. Doe [1]\". So Typst adds the author from the bibliography entry.\n\nIs there a way to manipulate this output to get rid of initials (just for this type of citation)? I haven't found a way to access a string containing the author name while writing a show rule.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 11164,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-16T14:28:11.543Z",
      "updated_at": "2025-04-16T14:28:11.543Z",
      "cooked": "<p>This type is generated here:</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs?plain=1\">\n      <ol class=\"start lines\" start=\"1342\" style=\"counter-reset: li-counter 1341 ;\">\n          <li>(Some(CitePurpose::Prose), _) =&gt; {</li>\n          <li>    do_author(&amp;mut ctx);</li>\n          <li>    if !self.csl.citation.layout.prefix.as_ref().map_or(false, |f| {</li>\n          <li>        f.chars().next().map_or(false, char::is_whitespace)</li>\n          <li>    }) {</li>\n          <li>        ctx.ensure_space();</li>\n          <li>    }</li>\n          <li></li>\n          <li>    if self.csl.info.category.iter().any(|c| {</li>\n          <li>        matches!(</li>\n          <li>            c,</li>\n          <li>            StyleCategory::CitationFormat {</li>\n          <li>                format: CitationFormat::Label | CitationFormat::Numeric</li>\n          <li>            }</li>\n          <li>        )</li>\n          <li>    }) {</li>\n          <li>        // Print the label.</li>\n          <li>        if let Some(prefix) = self.csl.citation.layout.prefix.as_ref() {</li>\n          <li>            ctx.push_str(prefix);</li>\n          <li>        }</li>\n      </ol>\n    </code></pre>\n\n\n  This file has been truncated. <a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">show original</a>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>If you just want to apply the same workaround just for this form:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show cite.where(form: \"prose\"): it =&gt; {\n  show regex(\"[A-Z]\\. \"): none\n  it\n}\n\n#let bib = ```yaml\na:\n  type: book\n  title: title\n  author: Doe, John\n```.text\n\n#cite(form: \"prose\", &lt;a&gt;)\n\n@a\n\n#bibliography(bytes(bib))\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/5/512af07ad4e50f7fa075ea292d983ff0a0ae0d7d.png\" alt=\"image\" data-base62-sha1=\"bA2FGhSfjIkV4M0LvqhsxhzQUc5\" width=\"157\" height=\"129\"></p>",
      "raw": "This type is generated here:\n\nhttps://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\n\nIf you just want to apply the same workaround just for this form:\n\n```typ\n#show cite.where(form: \"prose\"): it => {\n  show regex(\"[A-Z]\\. \"): none\n  it\n}\n\n#let bib = ```yaml\na:\n  type: book\n  title: title\n  author: Doe, John\n```.text\n\n#cite(form: \"prose\", <a>)\n\n@a\n\n#bibliography(bytes(bib))\n```\n\n![image|210x173, 75%](upload://bA2FGhSfjIkV4M0LvqhsxhzQUc5.png)",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 44.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11382,
      "post_number": 10,
      "username": "mezzogallium",
      "name": "Andr√© Santos",
      "created_at": "2025-04-21T09:47:42.028Z",
      "updated_at": "2025-04-21T09:47:42.028Z",
      "cooked": "<p>Thanks a lot, that‚Äôs what I needed! :)</p>",
      "raw": "Thanks a lot, that's what I needed! :)",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 18.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    }
  ],
  "scraped_at": "2025-06-10T09:49:45.598443"
}
{
  "topic_metadata": {
    "id": 3501,
    "title": "How to ignore right margin for a block?",
    "slug": "how-to-ignore-right-margin-for-a-block",
    "posts_count": 9,
    "created_at": "2025-04-02T18:25:28.430Z",
    "last_posted_at": "2025-06-09T21:13:59.301Z",
    "views": 91,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 457
  },
  "posts": [
    {
      "id": 10560,
      "post_number": 1,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2025-04-02T18:25:28.560Z",
      "updated_at": "2025-04-02T20:11:55.293Z",
      "cooked": "<p>I would like that the lines of a block of code (I mean raw <code>```...```</code> text, not a Typst code block) continue over the margin instead of being wrapped to the next line, since they are just slightly larger than the lines of my document and reformatting the code would look bad. Thanks!</p>",
      "raw": "I would like that the lines of a block of code (I mean raw ` ```...``` ` text, not a Typst code block) continue over the margin instead of being wrapped to the next line, since they are just slightly larger than the lines of my document and reformatting the code would look bad. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 60.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    },
    {
      "id": 10564,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-02T18:49:23.766Z",
      "updated_at": "2025-04-02T18:51:18.364Z",
      "cooked": "<p>This might depend on your specific document styles, but you could wrap the code block in another block with larger (or even infinite) width.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// (Just for making it more visible)\n#show raw.where(block: true): set block(fill: silver, inset: 0.5em)\n\n#block(width: calc.inf * 1pt)[\n  ```py\n  def this_is_very_long(param: 0):\n    return \"Hello World\"\n  ```\n]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0b59bf1c44569ea9d71bd7b467a119461cb7baad.png\" alt=\"image\" data-base62-sha1=\"1Cpx3GNXfwyWCYlCbaak3gQVNvL\" width=\"336\" height=\"125\"></p>\n<p>You could also do this with a show rule on <code>raw.where(block: true)</code>, but then show-set rules on <code>block</code> may be applied multiple times, which may be unintended.</p>",
      "raw": "This might depend on your specific document styles, but you could wrap the code block in another block with larger (or even infinite) width.\n\n````typ\n// (Just for making it more visible)\n#show raw.where(block: true): set block(fill: silver, inset: 0.5em)\n\n#block(width: calc.inf * 1pt)[\n  ```py\n  def this_is_very_long(param: 0):\n    return \"Hello World\"\n  ```\n]\n````\n\n![image|336x125](upload://1Cpx3GNXfwyWCYlCbaak3gQVNvL.png)\n\nYou could also do this with a show rule on `raw.where(block: true)`, but then show-set rules on `block` may be applied multiple times, which may be unintended.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 20.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 10567,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T19:59:16.681Z",
      "updated_at": "2025-04-02T19:59:16.681Z",
      "cooked": "<p>The correct way, if wrapping isn‚Äôt allowed, is to just reduce the font size for all or just a single code block.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true): set text(0.9em)\n</code></pre>",
      "raw": "The correct way, if wrapping isn't allowed, is to just reduce the font size for all or just a single code block.\n\n```typ\n#show raw.where(block: true): set text(0.9em)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10575,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-04-02T20:16:22.276Z",
      "updated_at": "2025-04-02T20:16:22.276Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/carlos\">@Carlos</a>, I have moved your question to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\" data-ref=\"questions::category\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, please make sure to check the category when creating a topic <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> that also means that you can select an answer. If you feel a response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!</p>",
      "raw": "Hi @Carlos, I have moved your question to the #questions::category category, please make sure to check the category when creating a topic :slight_smile: that also means that you can select an answer. If you feel a response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 26,
      "score": 40.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 10602,
      "post_number": 5,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2025-04-03T23:52:10.516Z",
      "updated_at": "2025-04-03T23:52:10.516Z",
      "cooked": "<p>I‚Äôm doing this right now, but I prefer to miss the margin for a couple of characters than to resize the entire block.</p>",
      "raw": "I'm doing this right now, but I prefer to miss the margin for a couple of characters than to resize the entire block.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    },
    {
      "id": 10603,
      "post_number": 6,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2025-04-03T23:53:48.312Z",
      "updated_at": "2025-04-03T23:53:48.312Z",
      "cooked": "<p>Sorry, my bad, I knew about the category and just forgot to set it‚Ä¶</p>",
      "raw": "Sorry, my bad, I knew about the category and just forgot to set it...",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    },
    {
      "id": 10604,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T07:54:26.877Z",
      "updated_at": "2025-04-04T07:54:26.877Z",
      "cooked": "<p>That is rarely allowed in official documents, if at all, hence why I said that. But that is just general advice.</p>",
      "raw": "That is rarely allowed in official documents, if at all, hence why I said that. But that is just general advice.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10606,
      "post_number": 8,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T08:31:34.941Z",
      "updated_at": "2025-04-04T08:55:48.156Z",
      "cooked": "<p>There‚Äôs the package marginalia for making margin notes, but it also has an element <code>wideblock</code> where you temporarily use a fuller width, taking from either left or right margin or both. And that could be a way to go about this too.</p>\n<p>Also, a more principled(?) way of sizing an oversized block could be like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#block(width: 100% + 2cm)[]\n</code></pre>\n<p>Since then you only oversize it by a known amount (compare to your margin setting)</p>",
      "raw": "There's the package marginalia for making margin notes, but it also has an element `wideblock` where you temporarily use a fuller width, taking from either left or right margin or both. And that could be a way to go about this too.\n\n\nAlso, a more principled(?) way of sizing an oversized block could be like this:\n\n```typ\n#block(width: 100% + 2cm)[]\n```\n\nSince then you only oversize it by a known amount (compare to your margin setting)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13928,
      "post_number": 9,
      "username": "nleanba",
      "name": "",
      "created_at": "2025-06-09T21:13:59.301Z",
      "updated_at": "2025-06-09T21:23:38.655Z",
      "cooked": "<p>the way marginala does its wideblocks is simply</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#pad(left: -left, right: -right, body)\n</code></pre>\n<p>and <code>left</code> &amp; <code>right</code> are calculated from the configured margin widths (and on which side(s) the block is supposed to extend). You can easily hard-code these to whatever values fit your needs.</p>\n<p>Using <code>pad</code> over <code>block</code> has the advantage of being able to extend easily to the left, and it is less susceptible to show rules messing it up.</p>\n<p>cf. <a href=\"https://typst.app/docs/reference/layout/pad/\" class=\"inline-onebox\">Padding Function ‚Äì Typst Documentation</a></p>",
      "raw": "the way marginala does its wideblocks is simply\n```\n#pad(left: -left, right: -right, body)\n```\nand `left` & `right` are calculated from the configured margin widths (and on which side(s) the block is supposed to extend). You can easily hard-code these to whatever values fit your needs.\n\nUsing `pad` over `block` has the advantage of being able to extend easily to the left, and it is less susceptible to show rules messing it up.\n\ncf. https://typst.app/docs/reference/layout/pad/",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1719
    }
  ],
  "scraped_at": "2025-06-10T09:49:44.835779"
}
{
  "topic_metadata": {
    "id": 3506,
    "title": "Can I set font separately for inline and block \"raw\"?",
    "slug": "can-i-set-font-separately-for-inline-and-block-raw",
    "posts_count": 4,
    "created_at": "2025-04-03T11:51:10.320Z",
    "last_posted_at": "2025-04-03T12:48:37.309Z",
    "views": 80,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "styling"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 168
  },
  "posts": [
    {
      "id": 10587,
      "post_number": 1,
      "username": "Bjornhe",
      "name": "Bj√∂rn",
      "created_at": "2025-04-03T11:51:10.503Z",
      "updated_at": "2025-04-18T14:23:02.489Z",
      "cooked": "<p>Hey!</p>\n<p>I have figured out that I can do this to set the font for ‚Äúraw‚Äù text:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw: set text(font: \"PT Mono\", size: 8pt)\n</code></pre>\n<p>However, this also sets the font for ‚Äúinline‚Äù raw text, i.e. `this`, not just:</p>\n<p>```<br>\nthis<br>\n```</p>\n<p>Can I somehow set the fonts differently for these two?</p>\n<p>Thanks!</p>",
      "raw": "Hey!\n\nI have figured out that I can do this to set the font for \"raw\" text:\n\n```typ\n#show raw: set text(font: \"PT Mono\", size: 8pt)\n```\n\nHowever, this also sets the font for \"inline\" raw text, i.e. \\`this\\`, not just:\n\n\\`\\`\\`\nthis\n\\`\\`\\`\n\nCan I somehow set the fonts differently for these two?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 215.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1412
    },
    {
      "id": 10588,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-04-03T11:57:43.334Z",
      "updated_at": "2025-04-03T11:58:06.868Z",
      "cooked": "<p>Hi, welcome to the forum! Please note that you can put your Typst code in a markdown code block to format it properly (see <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">here</a> for more information.)</p>\n<p>To answer your question, you can write a rule that only affects raw blocks by writing</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true): set text(font: \"PT Mono\", size: 8pt)\n</code></pre>",
      "raw": "Hi, welcome to the forum! Please note that you can put your Typst code in a markdown code block to format it properly (see [here](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) for more information.)\n\nTo answer your question, you can write a rule that only affects raw blocks by writing\n\n```typ\n#show raw.where(block: true): set text(font: \"PT Mono\", size: 8pt)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 10589,
      "post_number": 3,
      "username": "Bjornhe",
      "name": "Bj√∂rn",
      "created_at": "2025-04-03T12:00:18.462Z",
      "updated_at": "2025-04-03T12:00:18.462Z",
      "cooked": "<p>Thank you for the quick reply and answer!</p>\n<p>I have edited my question to use a code block. Ironic that I left that out considering my question.</p>\n<p>Thanks!</p>",
      "raw": "Thank you for the quick reply and answer!\n\nI have edited my question to use a code block. Ironic that I left that out considering my question.\n\nThanks!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 25.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1412
    },
    {
      "id": 10591,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T12:48:37.309Z",
      "updated_at": "2025-04-03T12:48:37.309Z",
      "cooked": "<p>To enable syntax highlighting you need to add <code>typ</code> to the right of the first there ```.</p>",
      "raw": "To enable syntax highlighting you need to add `typ` to the right of the first there ```.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 20.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:43.985429"
}
{
  "topic_metadata": {
    "id": 3508,
    "title": "How to repeat a template multiple times?",
    "slug": "how-to-repeat-a-template-multiple-times",
    "posts_count": 6,
    "created_at": "2025-04-03T12:59:42.132Z",
    "last_posted_at": "2025-04-11T23:53:37.025Z",
    "views": 128,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "RogerBW",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 902
  },
  "posts": [
    {
      "id": 10594,
      "post_number": 1,
      "username": "RogerBW",
      "name": "RogerBW",
      "created_at": "2025-04-03T12:59:42.441Z",
      "updated_at": "2025-04-12T17:49:16.885Z",
      "cooked": "<p>I‚Äôm trying to put together a document containing articles from multiple authors. On each article‚Äôs first page, I want to display title and author in a specific formatting style; I also want them to appear in a table of contents,</p>\n<p>Title1 <em>(Author1)</em>‚Ä¶3<br>\nTitle2 <em>(Author2)</em>‚Ä¶5</p>\n<p>etc.</p>\n<p>I think the answer to this is a custom function for each article, that sets title and author variables in such a way that <code>outline</code> can read them, but I‚Äôm very new at this and I‚Äôm having trouble finding documentation in between the tutorials (jolly good but don‚Äôt cover what I‚Äôm after) and the reference (almost certainly does cover what I‚Äôm after, but I can‚Äôt find it).</p>\n<p>Any suggestions on (a) how to do this but also (b) other documentation sources?</p>\n<p>(I am a coder but I‚Äôm just starting with typst code. If it matters I‚Äôm using the CLI exclusively.)</p>",
      "raw": "I'm trying to put together a document containing articles from multiple authors. On each article's first page, I want to display title and author in a specific formatting style; I also want them to appear in a table of contents,\n\nTitle1 _(Author1)_.....3\nTitle2 _(Author2)_.....5\n\netc.\n\nI think the answer to this is a custom function for each article, that sets title and author variables in such a way that `outline` can read them, but I'm very new at this and I'm having trouble finding documentation in between the tutorials (jolly good but don't cover what I'm after) and the reference (almost certainly does cover what I'm after, but I can't find it).\n\nAny suggestions on (a) how to do this but also (b) other documentation sources?\n\n(I am a coder but I'm just starting with typst code. If it matters I'm using the CLI exclusively.)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 138.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1413
    },
    {
      "id": 10595,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T13:29:38.693Z",
      "updated_at": "2025-04-03T13:34:55.801Z",
      "cooked": "<p>Hi there. You can look at <a href=\"https://typst.app/universe/package/ijimai\" class=\"inline-onebox\">ijimai ‚Äì Typst Universe</a>, which is recently an official template for the journal that accepts articles in Typst. But you can‚Äôt just use it for each article, because <a href=\"https://github.com/typst/typst/issues/1097\" rel=\"noopener nofollow ugc\">multiple bibliographies are not supported yet</a>. Do you use <code>bibliography()</code>? If not, then I think you can copy the necessary stuff from that template and that‚Äôs it.</p>\n<p>The gist of the template function is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: doc =&gt; {\n  [above]\n  doc\n  [below]\n}\n</code></pre>\n<p>Do you know how to <a href=\"https://typst.app/docs/tutorial/making-a-template/\">create templates</a>?</p>\n<p>Then you would include the template in each article‚Äôs file and merge them with simple <code>include</code>s:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#include \"ijimai1/paper.typ\"\n#include \"ijimai2/paper.typ\"\n</code></pre>\n<p>Then the <code>above</code> and <code>below</code> (with custom content) will show up above and below the article where the template is used.</p>\n<p>Although one problem still, is that if article will use non-unique custom labels, then the main document won‚Äôt compile. I guess you can use a custom <code>label()</code> throughout the article that will internally create unique labels, even though it‚Äôs not as convenient as using special syntax.</p>\n<p>But if you don‚Äôt reference anything in the articles, then there should be no issues at all.</p>\n<p>You can make a function and wrap the whole article in it, but then you won‚Äôt be able to compile the article by itself with all the necessary styling. You don‚Äôt normally wrap a whole document in a function explicitly.</p>",
      "raw": "Hi there. You can look at https://typst.app/universe/package/ijimai, which is recently an official template for the journal that accepts articles in Typst. But you can't just use it for each article, because [multiple bibliographies are not supported yet](https://github.com/typst/typst/issues/1097). Do you use `bibliography()`? If not, then I think you can copy the necessary stuff from that template and that's it.\n\nThe gist of the template function is:\n\n```typ\n#show: doc => {\n  [above]\n  doc\n  [below]\n}\n```\n\nDo you know how to [create templates](https://typst.app/docs/tutorial/making-a-template/)?\n\nThen you would include the template in each article's file and merge them with simple `include`s:\n\n```typ\n#include \"ijimai1/paper.typ\"\n#include \"ijimai2/paper.typ\"\n```\n\nThen the `above` and `below` (with custom content) will show up above and below the article where the template is used.\n\nAlthough one problem still, is that if article will use non-unique custom labels, then the main document won't compile. I guess you can use a custom `label()` throughout the article that will internally create unique labels, even though it's not as convenient as using special syntax.\n\nBut if you don't reference anything in the articles, then there should be no issues at all.\n\nYou can make a function and wrap the whole article in it, but then you won't be able to compile the article by itself with all the necessary styling. You don't normally wrap a whole document in a function explicitly.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 22.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10860,
      "post_number": 3,
      "username": "RogerBW",
      "name": "RogerBW",
      "created_at": "2025-04-09T17:29:45.749Z",
      "updated_at": "2025-04-09T17:29:45.749Z",
      "cooked": "<p>Thanks for this, which has got me a lot further. The article-level template is working well. But my original question, which may have got lost in the other things I didn‚Äôt understand, was about generating the ToC. The IJIMAI code doesn‚Äôt seem to include the material for creating a whole issue of the journal with multiple papers, or I‚Äôve failed to spot it.</p>\n<p>To put it another way, I want to say somewhere in the article file:</p>\n<p>title = ‚Äútitle one‚Äù<br>\nauthor = ‚Äúauthor one‚Äù</p>\n<p>(in whatever format is needed, with a conf file, that‚Äôs all flexible), and then build an <code>outline()</code> that will look for all those definitions and produce a ToC that looks like</p>\n<p>title one <em>(author one)</em>‚Ä¶3<br>\ntitle two <em>(author two)</em>‚Ä¶5</p>\n<p>etc.</p>\n<p>In other words, I <em>think</em>, I need to define an element that is locatable so that <code>outline()</code> can find it, but not displayed. Or maybe I‚Äôm completely on the wrong track there.</p>",
      "raw": "Thanks for this, which has got me a lot further. The article-level template is working well. But my original question, which may have got lost in the other things I didn't understand, was about generating the ToC. The IJIMAI code doesn't seem to include the material for creating a whole issue of the journal with multiple papers, or I've failed to spot it.\n\nTo put it another way, I want to say somewhere in the article file:\n\ntitle = \"title one\"\nauthor = \"author one\"\n\n(in whatever format is needed, with a conf file, that's all flexible), and then build an `outline()` that will look for all those definitions and produce a ToC that looks like\n\ntitle one _(author one)_.....3\ntitle two _(author two)_.....5\n\netc.\n\nIn other words, I _think_, I need to define an element that is locatable so that `outline()` can find it, but not displayed. Or maybe I'm completely on the wrong track there.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1413
    },
    {
      "id": 10869,
      "post_number": 4,
      "username": "RogerBW",
      "name": "RogerBW",
      "created_at": "2025-04-10T10:28:28.494Z",
      "updated_at": "2025-04-10T10:28:28.494Z",
      "cooked": "<p>And I‚Äôve now resolved that thanks to the <a href=\"https://sitandr.github.io/typst-examples-book/book/typstonomicon/chapters.html\" rel=\"noopener nofollow ugc\">Typst Examples book</a>.</p>",
      "raw": "And I've now resolved that thanks to the [Typst Examples book](https://sitandr.github.io/typst-examples-book/book/typstonomicon/chapters.html).",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1413
    },
    {
      "id": 10916,
      "post_number": 5,
      "username": "RogerBW",
      "name": "RogerBW",
      "created_at": "2025-04-10T20:13:28.130Z",
      "updated_at": "2025-04-10T20:13:28.130Z",
      "cooked": "<p>An alternative approach which makes the PDF ‚ÄúBookmarks‚Äù work too is to sacrifice the level-1 heading to the article title.</p>\n<p>The article template runs something like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let article(title: \"\", subtitle: \"\", author: \"\", doc) = {\n  set page(columns: 2)\n  show heading: it =&gt; [\n    #block(sticky: true, \n      if it.level == 1 {\n      } else if it.level == 2 {\n        text(16.1pt, weight: \"bold\", font: \"Myriad Pro\")[\n          #it.body\n        ]\n      } // etc. for level 3 and 4\n    )\n  ]\n  heading(\n    level: 1,\n    emph(title) + \" (\" + author + \")\",\n  )\n  place(\n    top + left,\n    scope: \"parent\",\n    float: true,\n    text(18.2pt, weight: \"bold\", font: \"Myriad Pro\")[\n      #title\n    ],\n  )\n  if subtitle.len() &gt; 0 {\n    // place the subtitle similarly, elided boring code\n  }\n  place(\n    top + left,\n    scope: \"parent\",\n    float: true,\n    text()[\n      #author\n    ]\n  )\n  doc\n}\n</code></pre>\n<p>and the top of the article runs:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"article_template.typst\": article\n#show: doc =&gt; article(\n  title: \"Title\",\n  author: \"Author Name\",\n  doc\n)\n</code></pre>\n<p>and headers used <em>within</em> the article must start at level-2. The <code>outline</code> is restricted to <code>depth: 1</code>, though it needn‚Äôt be.</p>",
      "raw": "An alternative approach which makes the PDF \"Bookmarks\" work too is to sacrifice the level-1 heading to the article title.\n\nThe article template runs something like:\n\n```typ\n#let article(title: \"\", subtitle: \"\", author: \"\", doc) = {\n  set page(columns: 2)\n  show heading: it => [\n    #block(sticky: true, \n      if it.level == 1 {\n      } else if it.level == 2 {\n        text(16.1pt, weight: \"bold\", font: \"Myriad Pro\")[\n          #it.body\n        ]\n      } // etc. for level 3 and 4\n    )\n  ]\n  heading(\n    level: 1,\n    emph(title) + \" (\" + author + \")\",\n  )\n  place(\n    top + left,\n    scope: \"parent\",\n    float: true,\n    text(18.2pt, weight: \"bold\", font: \"Myriad Pro\")[\n      #title\n    ],\n  )\n  if subtitle.len() > 0 {\n    // place the subtitle similarly, elided boring code\n  }\n  place(\n    top + left,\n    scope: \"parent\",\n    float: true,\n    text()[\n      #author\n    ]\n  )\n  doc\n}\n```\n\nand the top of the article runs:\n\n```typ\n#import \"article_template.typst\": article\n#show: doc => article(\n  title: \"Title\",\n  author: \"Author Name\",\n  doc\n)\n```\n\nand headers used _within_ the article must start at level-2. The `outline` is restricted to `depth: 1`, though it needn't be.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1413
    },
    {
      "id": 10954,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-11T23:53:37.025Z",
      "updated_at": "2025-04-11T23:53:37.025Z",
      "cooked": "<p>You can make it simpler:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let article(doc, title: \"\", subtitle: \"\", author: \"\") = {\n  set page(columns: 2)\n  set heading(offset: 1)\n  show heading: set text(16.1pt, weight: \"bold\", font: \"Myriad Pro\")\n  show heading.where(level: 1): none\n  let bold = text.with(weight: \"bold\", font: \"Myriad Pro\")\n  let place = place.with(top, scope: \"parent\", float: true)\n  heading(level: 1, emph(title) + \" (\" + author + \")\")\n  place(bold(18.2pt, title))\n  if subtitle.len() &gt; 0 { place(bold(17.15pt, subtitle)) }\n  place(author)\n  doc\n}\n\n#outline(target: heading.where(level: 1), title: \"Articles\")\n\n#[\n  #show: article.with(title: \"title one\", author: \"author one\")\n\n  = Section 1\n  == Subsection 1\n  = Section 2\n]\n\n#[\n  #show: article.with(title: \"title two\", subtitle: \"Subtitle\", author: \"author two\")\n\n  = Section 1\n  == Subsection 1\n  = Section 2\n]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8c6631bd74087f7c303e572e50b6f66dfb9b3fb2.png\" alt=\"image\" data-base62-sha1=\"k21Nml9S3PwtrPJrsYElMSJkz50\" width=\"589\" height=\"79\"></p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/43c419259dc76658a348156bdc6462acdb4f6dc0.png\" alt=\"image\" data-base62-sha1=\"9Fu8020FCvkPiTVLqEuVUar3CGA\" width=\"143\" height=\"201\"> <img src=\"https://forum.typst.app/uploads/default/original/2X/7/7d4bd85e3da4b64632fb15b745e3714b23a3dc6a.png\" alt=\"image\" data-base62-sha1=\"hSqbfc1urqYBsF9NlOLcQlRCrLs\" width=\"141\" height=\"232\"></p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/89df16234e996a01a33d62987796e3378baec5fe.png\" alt=\"image\" data-base62-sha1=\"jFFnbK2I9TqBCFHQsIUqB1aHOs6\" width=\"213\" height=\"155\"></p>",
      "raw": "You can make it simpler:\n\n```typ\n#let article(doc, title: \"\", subtitle: \"\", author: \"\") = {\n  set page(columns: 2)\n  set heading(offset: 1)\n  show heading: set text(16.1pt, weight: \"bold\", font: \"Myriad Pro\")\n  show heading.where(level: 1): none\n  let bold = text.with(weight: \"bold\", font: \"Myriad Pro\")\n  let place = place.with(top, scope: \"parent\", float: true)\n  heading(level: 1, emph(title) + \" (\" + author + \")\")\n  place(bold(18.2pt, title))\n  if subtitle.len() > 0 { place(bold(17.15pt, subtitle)) }\n  place(author)\n  doc\n}\n\n#outline(target: heading.where(level: 1), title: \"Articles\")\n\n#[\n  #show: article.with(title: \"title one\", author: \"author one\")\n\n  = Section 1\n  == Subsection 1\n  = Section 2\n]\n\n#[\n  #show: article.with(title: \"title two\", subtitle: \"Subtitle\", author: \"author two\")\n\n  = Section 1\n  == Subsection 1\n  = Section 2\n]\n```\n\n![image|589x79](upload://k21Nml9S3PwtrPJrsYElMSJkz50.png)\n\n![image|143x201](upload://9Fu8020FCvkPiTVLqEuVUar3CGA.png) ![image|141x232](upload://hSqbfc1urqYBsF9NlOLcQlRCrLs.png)\n\n![image|213x155](upload://jFFnbK2I9TqBCFHQsIUqB1aHOs6.png)",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 12,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:42.701906"
}
{
  "topic_metadata": {
    "id": 3511,
    "title": "How can I create referrable labels for custom multi-level counters?",
    "slug": "how-can-i-create-referrable-labels-for-custom-multi-level-counters",
    "posts_count": 5,
    "created_at": "2025-04-04T09:27:46.259Z",
    "last_posted_at": "2025-04-04T17:44:11.046Z",
    "views": 65,
    "like_count": 3,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 606
  },
  "posts": [
    {
      "id": 10607,
      "post_number": 1,
      "username": "akoller",
      "name": "Alexander Koller",
      "created_at": "2025-04-04T09:27:46.451Z",
      "updated_at": "2025-04-04T10:59:43.229Z",
      "cooked": "<p>I have a custom counter and want to be able to attach a label whenever I step the counter. A popular solution in this forum is to create a figure with empty content and a custom kind, and then add a label to that figure. However, I can‚Äôt get this to work when my counter has two levels:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let wpcounter = counter(\"wpcounter\")\n\n#wpcounter.step()\n#context { wpcounter.display(\"1.1\") }\n#figure(kind: \"wpcounter\", supplement: \"WP\")[] &lt;wp-a&gt;\n\n#wpcounter.step()\n#context { wpcounter.display(\"1.1\") }\n#figure(kind: \"wpcounter\", supplement: \"WP\")[] &lt;wp-b&gt;\n\n#wpcounter.step(level: 2)\n#context { wpcounter.display(\"1.1\") } \n#figure(kind: \"wpcounter\", supplement: \"WP\")[] &lt;wp-c&gt;\n\n@wp-a\n\n@wp-b\n\n@wp-c\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/43530f322dec54b56970c7581da88b502730b767.png\" alt=\"Screenshot 2025-04-04 at 11.25.11\" data-base62-sha1=\"9BzWybt2293H08KRjMLx0lzXfAX\" width=\"316\" height=\"444\"></p>\n<p>Is this because the ‚Äúwpcounter‚Äù kind creates its own counter that has nothing to do with my own counter called ‚Äúwpcounter‚Äù? If yes, can someone give me a hint on how I would create a label that actually captures the state of my counter?</p>",
      "raw": "I have a custom counter and want to be able to attach a label whenever I step the counter. A popular solution in this forum is to create a figure with empty content and a custom kind, and then add a label to that figure. However, I can't get this to work when my counter has two levels:\n\n```typst\n#let wpcounter = counter(\"wpcounter\")\n\n#wpcounter.step()\n#context { wpcounter.display(\"1.1\") }\n#figure(kind: \"wpcounter\", supplement: \"WP\")[] <wp-a>\n\n#wpcounter.step()\n#context { wpcounter.display(\"1.1\") }\n#figure(kind: \"wpcounter\", supplement: \"WP\")[] <wp-b>\n\n#wpcounter.step(level: 2)\n#context { wpcounter.display(\"1.1\") } \n#figure(kind: \"wpcounter\", supplement: \"WP\")[] <wp-c>\n\n@wp-a\n\n@wp-b\n\n@wp-c\n```\n\n![Screenshot 2025-04-04 at 11.25.11|316x444](upload://9BzWybt2293H08KRjMLx0lzXfAX.png)\n\nIs this because the \"wpcounter\" kind creates its own counter that has nothing to do with my own counter called \"wpcounter\"? If yes, can someone give me a hint on how I would create a label that actually captures the state of my counter?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 88.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1363
    },
    {
      "id": 10630,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:12:37.830Z",
      "updated_at": "2025-04-04T17:42:55.688Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"akoller\" data-post=\"1\" data-topic=\"3511\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/akoller/48/2215_2.png\" class=\"avatar\"> akoller:</div>\n<blockquote>\n<p>Is this because the ‚Äúwpcounter‚Äù kind creates its own counter that has nothing to do with my own counter called ‚Äúwpcounter‚Äù?</p>\n</blockquote>\n</aside>\n<p>Indeed. The <code>kind: \"wpcounter\"</code> is for the <code>counter(figure)</code>. Add this and see the result:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure[]\n\n#context counter(figure).final()\n#context counter(figure.where(kind: \"wpcounter\")).final()\n</code></pre>\n<aside class=\"quote no-group\" data-username=\"akoller\" data-post=\"1\" data-topic=\"3511\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/akoller/48/2215_2.png\" class=\"avatar\"> akoller:</div>\n<blockquote>\n<p>If yes, can someone give me a hint on how I would create a label that actually captures the state of my counter?</p>\n</blockquote>\n</aside>\n<p>I think that in certain situations using <code>figure</code> for this job is fine.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wpcounter = counter(\"wpcounter\")\n\n#let step-wpcounter(label, level: 1) = {\n  wpcounter.step(level: level)\n  context [wpcounter: #wpcounter.display(\"1.1\")]\n  [#figure(kind: \"wpcounter\", supplement: \"WP\")[]#label]\n}\n\n#show ref: it =&gt; {\n  let target = query(it.target).first()\n  if (\n    type(target) != content\n      or target.func() != figure\n      or target.kind != \"wpcounter\"\n  ) { return it }\n  let sup = it.supplement\n  if sup == auto { sup = target.supplement }\n  let count = numbering(\"1.1\", ..wpcounter.at(locate(it.target)))\n  link(it.target)[#sup #count]\n}\n\n#step-wpcounter(&lt;wp-a&gt;)\n\n#step-wpcounter(&lt;wp-b&gt;)\n\n#step-wpcounter(&lt;wp-c&gt;, level: 2)\n\n@wp-a\n\n@wp-b\n\n@wp-c\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2d36c483908012874c0738f24ae2ccdb0a71f8ec.png\" alt=\"image\" data-base62-sha1=\"6rYPanJNqwYjJqVIgfGEu4myRw8\" width=\"147\" height=\"275\"></p>\n<p>But ideally you shouldn‚Äôt use figures.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wpcounter = counter(\"wpcounter\")\n\n#let step-wpcounter(label, level: 1) = {\n  wpcounter.step(level: level)\n  context [wpcounter: #wpcounter.display(\"1.1\")]\n  [#metadata(\"wpcounter\")#label]\n}\n\n#show ref: it =&gt; {\n  let supplement = \"WP\"\n  let target = query(it.target).first()\n  if (\n    type(target) != content\n      or target.func() != metadata\n      or target.value != \"wpcounter\"\n  ) { return it }\n  if it.supplement != auto { supplement = it.supplement }\n  let count = numbering(\"1.1\", ..wpcounter.at(locate(it.target)))\n  link(it.target)[#sup #count]\n}\n</code></pre>\n<p>Moreover, this is a solution where you manually create every label, which might be what you want. But if you want to create those labels automatically, then there is also a solution for this, but it depends on the counting system as here you only can have 26 labels.</p>\n<hr>\n<p>Also, please, change the category to the appropriate <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a>. You can also add some tags to allow people to narrow down their search.</p>",
      "raw": "[quote=\"akoller, post:1, topic:3511\"]\nIs this because the ‚Äúwpcounter‚Äù kind creates its own counter that has nothing to do with my own counter called ‚Äúwpcounter‚Äù?\n[/quote]\n\nIndeed. The `kind: \"wpcounter\"` is for the `counter(figure)`. Add this and see the result:\n\n```typ\n#figure[]\n\n#context counter(figure).final()\n#context counter(figure.where(kind: \"wpcounter\")).final()\n```\n\n[quote=\"akoller, post:1, topic:3511\"]\nIf yes, can someone give me a hint on how I would create a label that actually captures the state of my counter?\n[/quote]\n\nI think that in certain situations using `figure` for this job is fine.\n\n```typ\n#let wpcounter = counter(\"wpcounter\")\n\n#let step-wpcounter(label, level: 1) = {\n  wpcounter.step(level: level)\n  context [wpcounter: #wpcounter.display(\"1.1\")]\n  [#figure(kind: \"wpcounter\", supplement: \"WP\")[]#label]\n}\n\n#show ref: it => {\n  let target = query(it.target).first()\n  if (\n    type(target) != content\n      or target.func() != figure\n      or target.kind != \"wpcounter\"\n  ) { return it }\n  let sup = it.supplement\n  if sup == auto { sup = target.supplement }\n  let count = numbering(\"1.1\", ..wpcounter.at(locate(it.target)))\n  link(it.target)[#sup #count]\n}\n\n#step-wpcounter(<wp-a>)\n\n#step-wpcounter(<wp-b>)\n\n#step-wpcounter(<wp-c>, level: 2)\n\n@wp-a\n\n@wp-b\n\n@wp-c\n```\n\n![image|147x275](upload://6rYPanJNqwYjJqVIgfGEu4myRw8.png)\n\nBut ideally you shouldn't use figures.\n\n```typ\n#let wpcounter = counter(\"wpcounter\")\n\n#let step-wpcounter(label, level: 1) = {\n  wpcounter.step(level: level)\n  context [wpcounter: #wpcounter.display(\"1.1\")]\n  [#metadata(\"wpcounter\")#label]\n}\n\n#show ref: it => {\n  let supplement = \"WP\"\n  let target = query(it.target).first()\n  if (\n    type(target) != content\n      or target.func() != metadata\n      or target.value != \"wpcounter\"\n  ) { return it }\n  if it.supplement != auto { supplement = it.supplement }\n  let count = numbering(\"1.1\", ..wpcounter.at(locate(it.target)))\n  link(it.target)[#sup #count]\n}\n```\n\nMoreover, this is a solution where you manually create every label, which might be what you want. But if you want to create those labels automatically, then there is also a solution for this, but it depends on the counting system as here you only can have 26 labels.\n\n---\n\nAlso, please, change the category to the appropriate #questions. You can also add some tags to allow people to narrow down their search.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 18,
      "score": 23.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10641,
      "post_number": 3,
      "username": "akoller",
      "name": "Alexander Koller",
      "created_at": "2025-04-04T11:24:33.646Z",
      "updated_at": "2025-04-04T11:25:00.264Z",
      "cooked": "<p>This is a very cool solution with the <code>#metadata</code>, thank you.</p>\n<p>But while we‚Äôre at it, how can we set it up such that the ref to the WP label is still a reference, i.e. acts as a hyperlink in the PDF? Unless I missed something, the ref show rule now simply returns some unclickable text content.</p>",
      "raw": "This is a very cool solution with the `#metadata`, thank you.\n\nBut while we're at it, how can we set it up such that the ref to the WP label is still a reference, i.e. acts as a hyperlink in the PDF? Unless I missed something, the ref show rule now simply returns some unclickable text content.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 16,
      "score": 23.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1363
    },
    {
      "id": 10657,
      "post_number": 4,
      "username": "akoller",
      "name": "Alexander Koller",
      "created_at": "2025-04-04T17:09:24.945Z",
      "updated_at": "2025-04-04T17:09:24.945Z",
      "cooked": "<p>I suppose <code>link(it.target)[#supplement #count]</code> does the trick.</p>",
      "raw": "I suppose `link(it.target)[#supplement #count]` does the trick.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 22.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1363
    },
    {
      "id": 10660,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T17:44:11.046Z",
      "updated_at": "2025-04-04T17:44:11.046Z",
      "cooked": "<p>Indeed. I guess I forgot about that part, since it wasn‚Äôt necessary for the output result.</p>",
      "raw": "Indeed. I guess I forgot about that part, since it wasn't necessary for the output result.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:41.866875"
}
{
  "topic_metadata": {
    "id": 3513,
    "title": "Reproduce LaTeX's `\\vec` for \"i\" and \"j\"",
    "slug": "reproduce-latexs-vec-for-i-and-j",
    "posts_count": 15,
    "created_at": "2025-04-04T09:46:35.089Z",
    "last_posted_at": "2025-04-04T14:41:47.423Z",
    "views": 134,
    "like_count": 7,
    "reply_count": 9,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "bluss",
    "tags": [
      "math",
      "latex-migration"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 647
  },
  "posts": [
    {
      "id": 10609,
      "post_number": 1,
      "username": "geonpi",
      "name": "",
      "created_at": "2025-04-04T09:46:35.228Z",
      "updated_at": "2025-04-18T14:24:10.345Z",
      "cooked": "<p>I‚Äôm aware of <code>accent()</code> and <code>arrow()</code> from <a href=\"https://forum.typst.app/t/what-is-typsts-version-of-latexs-vec/1324\">this thread</a>. However, when used in <code>$accent(i)$</code> or <code>$accent(j)$</code>, the arrow replaces the dot instead of being over it.</p>\n<p>A workaround that I found is to wrap with a box (<code>$arrow(#box($i$))$</code>), but I cannot systematically apply this method to smaller characters like ‚Äúo‚Äù, because then the arrow is placed too high (as if the ‚Äúo‚Äù were an ‚Äúl‚Äù for example).</p>\n<p>What other solutions do I have?</p>",
      "raw": "I'm aware of `accent()` and `arrow()` from [this thread](https://forum.typst.app/t/what-is-typsts-version-of-latexs-vec/1324). However, when used in `$accent(i)$` or `$accent(j)$`, the arrow replaces the dot instead of being over it. \n\nA workaround that I found is to wrap with a box (`$arrow(#box($i$))$`), but I cannot systematically apply this method to smaller characters like \"o\", because then the arrow is placed too high (as if the \"o\" were an \"l\" for example).\n\nWhat other solutions do I have?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 56.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1415
    },
    {
      "id": 10632,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T10:35:11.528Z",
      "updated_at": "2025-04-04T10:35:56.694Z",
      "cooked": "<p>Hi there! Welcome to the Forum.<br>\nI created a custom function that should do what you are looking for:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let my_vec = (letter) =&gt; {\n  if (($j$, $i$).contains(letter)) {\n    $arrow(#box(letter))$\n  }\n  else {\n    $arrow(letter)$\n  }\n}\n#my_vec($j$)\n#my_vec($i$)\n#my_vec($o$)\n</code></pre>\n<p>By the way, I tried to use</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.arrow: it =&gt; [Demonstration of it not working]\n</code></pre>\n<p>but it seems like it ignores the show rule, so I think it might not work with this math function or am I doing something wrong? <img src=\"https://forum.typst.app/images/emoji/apple/sweat_smile.png?v=12\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hi there! Welcome to the Forum. \nI created a custom function that should do what you are looking for: \n```typst\n#let my_vec = (letter) => {\n  if (($j$, $i$).contains(letter)) {\n    $arrow(#box(letter))$\n  }\n  else {\n    $arrow(letter)$\n  }\n}\n#my_vec($j$)\n#my_vec($i$)\n#my_vec($o$)\n```\nBy the way, I tried to use \n```typst\n#show math.arrow: it => [Demonstration of it not working]\n```\nbut it seems like it ignores the show rule, so I think it might not work with this math function or am I doing something wrong? :sweat_smile:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 20.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10633,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T10:37:15.399Z",
      "updated_at": "2025-04-04T10:37:15.399Z",
      "cooked": "<p>There‚Äôs a new parameter for math.accent, will be in next typst version I guess, that controls this. <a href=\"https://github.com/typst/typst/pull/5939\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Add dotless parameter to `math.accent` by mkorje ¬∑ Pull Request #5939 ¬∑ typst/typst ¬∑ GitHub</a></p>",
      "raw": "There's a new parameter for math.accent, will be in next typst version I guess, that controls this. https://github.com/typst/typst/pull/5939",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 49,
      "score": 44.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10634,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:39:03.225Z",
      "updated_at": "2025-04-04T10:39:03.225Z",
      "cooked": "<p>Looking at the output of this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/mitex:0.2.5\": *\n#import \"@preview/m-jaxon:0.1.1\": *\n\n#text(16pt, render(\"\\vec{j} j \\vec{a} a\", inline: true))\n\n#mi(\"\\vec{j} j \\vec{a} a\")\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/9/92a5a6e101e5bfe9e1b958dec19d9219080a0a87.png\" alt=\"image\" data-base62-sha1=\"kViCki5gtSXMSplXSM2gAm2dqlh\" width=\"82\" height=\"119\"></p>\n<p>I guess that it‚Äôs just the current limitation of Typst, if there is no open issue about it at <a href=\"https://github.com/typst/typst\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - typst/typst: A new markup-based typesetting system that is powerful and easy to learn.</a>, then you can open one.</p>",
      "raw": "Looking at the output of this\n\n```typ\n#import \"@preview/mitex:0.2.5\": *\n#import \"@preview/m-jaxon:0.1.1\": *\n\n#text(16pt, render(\"\\vec{j} j \\vec{a} a\", inline: true))\n\n#mi(\"\\vec{j} j \\vec{a} a\")\n```\n\n![image|165x238, 50%](upload://kViCki5gtSXMSplXSM2gAm2dqlh.png)\n\nI guess that it's just the current limitation of Typst, if there is no open issue about it at https://github.com/typst/typst, then you can open one.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10635,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:45:22.012Z",
      "updated_at": "2025-04-04T10:46:07.288Z",
      "cooked": "<p>Indeed.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$arrow(j) j arrow(a) a$\n\n#set math.accent(dotless: false)\n\n$arrow(j) j arrow(a) a$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/aaac4fe165a9daa533d74509daf03725c5e75686.png\" alt=\"image\" data-base62-sha1=\"olQlv7dKUS5KS02PqaT7zXDlXJc\" width=\"67\" height=\"94\"></p>",
      "raw": "Indeed.\n\n```typ\n$arrow(j) j arrow(a) a$\n\n#set math.accent(dotless: false)\n\n$arrow(j) j arrow(a) a$\n```\n\n![image|134x188, 50%](upload://olQlv7dKUS5KS02PqaT7zXDlXJc.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 50,
      "score": 45.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10636,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:55:27.740Z",
      "updated_at": "2025-04-04T10:55:27.740Z",
      "cooked": "<p>You need this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.accent: it =&gt; {\n  if it.accent != \"\\u{20d7}\" { return it }\n  repr(it)\n}\n</code></pre>\n<p>See <a href=\"https://typst.app/docs/reference/math/accent/#example\" class=\"inline-onebox\">Accent Function ‚Äì Typst Documentation</a> and <a href=\"https://symbl.cc/en/20D7/\" rel=\"noopener nofollow ugc\">this</a>.</p>",
      "raw": "You need this:\n\n```typ\n#show math.accent: it => {\n  if it.accent != \"\\u{20d7}\" { return it }\n  repr(it)\n}\n```\n\nSee https://typst.app/docs/reference/math/accent/#example and [this](https://symbl.cc/en/20D7/).",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 49,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10637,
      "post_number": 7,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T10:57:35.333Z",
      "updated_at": "2025-04-04T10:57:35.333Z",
      "cooked": "<p>I didn‚Äôt know/remember you have to return the output in math mode. Thanks a lot for the correction/advice <img src=\"https://forum.typst.app/images/emoji/apple/+1.png?v=12\" title=\":+1:\" class=\"emoji\" alt=\":+1:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "I didn't know/remember you have to return the output in math mode. Thanks a lot for the correction/advice :+1:",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10639,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T11:12:24.836Z",
      "updated_at": "2025-04-04T11:12:24.836Z",
      "cooked": "<p>You don‚Äôt have to return, you were using the wrong show rule selector.</p>",
      "raw": "You don't have to return, you were using the wrong show rule selector.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 29.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10640,
      "post_number": 9,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T11:18:39.808Z",
      "updated_at": "2025-04-04T11:18:39.808Z",
      "cooked": "<p>Oh, OK. It didn‚Äôt show an error message and <a href=\"https://typst.app/docs/reference/math/accent/\">the documentation</a> says</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$arrow(a) = accent(a, arrow)$\n</code></pre>\n<p>in the example, so I thought arrow should also be a math function. So are just the ones listed in the overview on the left of there documentation under ‚Äúmath‚Äù usable for this?</p>",
      "raw": "Oh, OK. It didn't show an error message and [the documentation](https://typst.app/docs/reference/math/accent/) says\n```typst\n$arrow(a) = accent(a, arrow)$\n```\nin the example, so I thought arrow should also be a math function. So are just the ones listed in the overview on the left of there documentation under \"math\" usable for this?",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10642,
      "post_number": 10,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T11:43:33.200Z",
      "updated_at": "2025-04-04T11:44:47.978Z",
      "cooked": "<p>It‚Äôs because accent is the element function. I guess we can assume <code>arrow</code> is not since it does not have an entry in the docs.</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e76f8f26c1a22c9e6f12c8cdcd6a8795adec31a2.png\" alt=\"bild\" data-base62-sha1=\"x1nje7BaUodmOMCV7OFS6NOhldM\" width=\"419\" height=\"126\"></p>\n<p>Are there non-element functions in the math docs? Yes, <code>math.sans</code> is an example.</p>",
      "raw": "It's because accent is the element function. I guess we can assume `arrow` is not since it does not have an entry in the docs.\n\n![bild|419x126](upload://x1nje7BaUodmOMCV7OFS6NOhldM.png)\n\n\nAre there non-element functions in the math docs? Yes, `math.sans` is an example.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 33.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10643,
      "post_number": 11,
      "username": "geonpi",
      "name": "",
      "created_at": "2025-04-04T12:14:31.633Z",
      "updated_at": "2025-04-04T12:14:31.633Z",
      "cooked": "<p>Thanks for your replies! I‚Äôll wait for the next release then <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Thanks for your replies! I'll wait for the next release then :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1415
    },
    {
      "id": 10645,
      "post_number": 12,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T12:28:42.742Z",
      "updated_at": "2025-04-04T12:28:42.742Z",
      "cooked": "<p>Thank you for the clarification. Do you think I should open an issue? I think the fact that it doesn‚Äôt throw an error and does nothing is a bit irritating. It should be possible to check, if the entered function is an element function, right?</p>",
      "raw": "Thank you for the clarification. Do you think I should open an issue? I think the fact that it doesn't throw an error and does nothing is a bit irritating. It should be possible to check, if the entered function is an element function, right?",
      "reply_to_post_number": 10,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 92.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10647,
      "post_number": 13,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T12:41:35.724Z",
      "updated_at": "2025-04-04T12:41:35.724Z",
      "cooked": "<p>I think it should have an issue if it doesn‚Äôt already have one. I can see in the typst app that the autocomplete knows that they are different kinds of entities</p>",
      "raw": "I think it should have an issue if it doesn't already have one. I can see in the typst app that the autocomplete knows that they are different kinds of entities",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 22.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10651,
      "post_number": 14,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T13:39:22.564Z",
      "updated_at": "2025-04-04T13:39:22.564Z",
      "cooked": "<p>I opened an issue: <a href=\"https://github.com/typst/typst/issues/6141\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">add warning/error message for show-rules with non-element function ¬∑ Issue #6141 ¬∑ typst/typst ¬∑ GitHub</a></p>",
      "raw": "I opened an issue: https://github.com/typst/typst/issues/6141",
      "reply_to_post_number": 13,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10654,
      "post_number": 15,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T14:41:47.423Z",
      "updated_at": "2025-04-04T14:44:32.449Z",
      "cooked": "<p>I‚Äôve left a comment <a href=\"https://github.com/typst/typst/issues/6141#issuecomment-2778893934\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">add warning/error message for show-rules with non-element function ¬∑ Issue #6141 ¬∑ typst/typst ¬∑ GitHub</a>. In short, it‚Äôs a symbol with some funky function behavior, hence why show rule doesn‚Äôt throw an error.</p>\n<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"10\" data-topic=\"3513\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<p>Are there non-element functions in the math docs? Yes, <code>math.sans</code> is an example.</p>\n</blockquote>\n</aside>\n<p>This is actually a function, so the show rule with it does throw the error.</p>",
      "raw": "I've left a comment https://github.com/typst/typst/issues/6141#issuecomment-2778893934. In short, it's a symbol with some funky function behavior, hence why show rule doesn't throw an error.\n\n[quote=\"bluss, post:10, topic:3513\"]\nAre there non-element functions in the math docs? Yes, `math.sans` is an example.\n[/quote]\n\nThis is actually a function, so the show rule with it does throw the error.",
      "reply_to_post_number": 12,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 35,
      "score": 7.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:41.081075"
}
{
  "topic_metadata": {
    "id": 3524,
    "title": "How to easily have commas in cases (without leaving and entering math)?",
    "slug": "how-to-easily-have-commas-in-cases-without-leaving-and-entering-math",
    "posts_count": 4,
    "created_at": "2025-04-05T11:16:14.821Z",
    "last_posted_at": "2025-04-05T13:55:18.730Z",
    "views": 75,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 292
  },
  "posts": [
    {
      "id": 10667,
      "post_number": 1,
      "username": "A-Walrus",
      "name": "A-Walrus",
      "created_at": "2025-04-05T11:16:14.994Z",
      "updated_at": "2025-04-05T11:31:54.084Z",
      "cooked": "<p>I want to create an equation like the bottom part of:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/83133d95234ae66967f688788da4d35f13ea4052.png\" data-download-href=\"https://forum.typst.app/uploads/default/83133d95234ae66967f688788da4d35f13ea4052\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/83133d95234ae66967f688788da4d35f13ea4052_2_690x126.png\" alt=\"image\" data-base62-sha1=\"iHxLOZZfG9sBZf6Mcy5mTbEyGfU\" width=\"690\" height=\"126\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/83133d95234ae66967f688788da4d35f13ea4052_2_690x126.png, https://forum.typst.app/uploads/default/original/2X/8/83133d95234ae66967f688788da4d35f13ea4052.png 1.5x, https://forum.typst.app/uploads/default/original/2X/8/83133d95234ae66967f688788da4d35f13ea4052.png 2x\" data-dominant-color=\"F4F4F4\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">925√ó170 29.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I was able to do this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ cases(\n  b_(i,j) = (x_(i,j), y_(i,j), z_(i,j)), \n  #$0&lt;=u,v&lt;=1$) \n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e563e17b9ae6834da0a979975aec394a6299e7a0.png\" alt=\"Test\" data-base62-sha1=\"wJhkJdoYjNvvRwbT6cQCtBo2WDS\" width=\"325\" height=\"179\"></p>\n<p>any way to do this with leaving and entering math mode (<code>#$...$</code>)?</p>",
      "raw": "I want to create an equation like the bottom part of:\n![image|690x126](upload://iHxLOZZfG9sBZf6Mcy5mTbEyGfU.png)\n\nI was able to do this\n```typ\n$ cases(\n  b_(i,j) = (x_(i,j), y_(i,j), z_(i,j)), \n  #$0<=u,v<=1$) \n$\n```\n![Test|325x179](upload://wJhkJdoYjNvvRwbT6cQCtBo2WDS.png)\n\nany way to do this with leaving and entering math mode (`#$...$`)?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 170.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1417
    },
    {
      "id": 10670,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-05T11:33:25.225Z",
      "updated_at": "2025-04-05T13:54:18.779Z",
      "cooked": "<p>Hello! You can just escape the comma with a backslash (like many other specially treated symbols):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ cases(\n  b_(i,j) = (x_(i,j), y_(i,j), z_(i,j)),\n  0&lt;=u\\,v&lt;=1)\n$\n</code></pre>\n<p>This is how I would write this (probably):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let ij = $i,j$\n\n$\n  cases(\n    b_ij = (x_ij, y_ij, z_ij),\n    0 &lt;= u\\, v &lt;= 1\n  )\n$\n</code></pre>\n<hr>\n<p>Here is a full example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/i-figured:0.2.4\"\n\n#set heading(numbering: \"1.\")\n#show math.equation: i-figured.show-equation.with(only-labeled: true)\n\n#counter(math.equation).update(19)\n\n#let math-with-prefix(prefix, math) = context {\n  math\n  place(dy: -measure(math).height / 2 - 0.5em, prefix)\n}\n\n#let uv = $u,v$\n#let ij = $i,j$\n\n= Heading\n\n@eqt:my-eq\n\n#[ // Wrap it if other equations don't need this show rule.\n  #show math.equation: it =&gt; {\n    show regex(\"[Sb]\"): it =&gt; $bold(upright(it))$\n    it\n  }\n  $\n    S(uv)\n    = (x(uv), y(uv), z(uv))\n    = sum_(i=0)^n sum_(j=0)^m f_i (u) g_j (v) b_ij\n  $ &lt;my-eq&gt;\n\n  #math-with-prefix[where][$\n    cases(\n      b_ij = (x_ij, y_ij, z_ij),\n      0 &lt;= uv &lt;= 1\n    )\n  $]\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/71049bdc300bfa4ab6581a435abc321afaab8d54.png\" data-download-href=\"https://forum.typst.app/uploads/default/71049bdc300bfa4ab6581a435abc321afaab8d54\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/71049bdc300bfa4ab6581a435abc321afaab8d54_2_690x185.png\" alt=\"image\" data-base62-sha1=\"g7NPmRZ4jqICgIpf8nARLmdi9ec\" width=\"690\" height=\"185\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/71049bdc300bfa4ab6581a435abc321afaab8d54_2_690x185.png, https://forum.typst.app/uploads/default/original/2X/7/71049bdc300bfa4ab6581a435abc321afaab8d54.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/71049bdc300bfa4ab6581a435abc321afaab8d54.png 2x\" data-dominant-color=\"121212\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">919√ó247 25.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Definitely placing ‚Äúwhere‚Äù on the same line as the block equation is by far the<br>\nmost junky part. Not sure if it‚Äôs actually the correct way to do it, but you can, if you really want to.</p>",
      "raw": "Hello! You can just escape the comma with a backslash (like many other specially treated symbols):\n\n```typ\n$ cases(\n  b_(i,j) = (x_(i,j), y_(i,j), z_(i,j)),\n  0<=u\\,v<=1)\n$\n```\n\nThis is how I would write this (probably):\n\n```typ\n#let ij = $i,j$\n\n$\n  cases(\n    b_ij = (x_ij, y_ij, z_ij),\n    0 <= u\\, v <= 1\n  )\n$\n```\n\n---\n\nHere is a full example:\n\n```typ\n#import \"@preview/i-figured:0.2.4\"\n\n#set heading(numbering: \"1.\")\n#show math.equation: i-figured.show-equation.with(only-labeled: true)\n\n#counter(math.equation).update(19)\n\n#let math-with-prefix(prefix, math) = context {\n  math\n  place(dy: -measure(math).height / 2 - 0.5em, prefix)\n}\n\n#let uv = $u,v$\n#let ij = $i,j$\n\n= Heading\n\n@eqt:my-eq\n\n#[ // Wrap it if other equations don't need this show rule.\n  #show math.equation: it => {\n    show regex(\"[Sb]\"): it => $bold(upright(it))$\n    it\n  }\n  $\n    S(uv)\n    = (x(uv), y(uv), z(uv))\n    = sum_(i=0)^n sum_(j=0)^m f_i (u) g_j (v) b_ij\n  $ <my-eq>\n\n  #math-with-prefix[where][$\n    cases(\n      b_ij = (x_ij, y_ij, z_ij),\n      0 <= uv <= 1\n    )\n  $]\n]\n```\n\n![image|690x185](upload://g7NPmRZ4jqICgIpf8nARLmdi9ec.png)\n\n\nDefinitely placing \"where\" on the same line as the block equation is by far the\nmost junky part. Not sure if it's actually the correct way to do it, but you can, if you really want to.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 40.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10671,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-05T12:19:25.039Z",
      "updated_at": "2025-04-05T12:19:25.039Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/a-walrus\">@A-Walrus</a>, I‚Äôve added some more notes.</p>",
      "raw": "@A-Walrus, I've added some more notes.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10677,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-05T13:55:18.730Z",
      "updated_at": "2025-04-05T13:55:18.730Z",
      "cooked": "<p>I‚Äôve also figured out the bold symbols problem.</p>",
      "raw": "I've also figured out the bold symbols problem.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:40.310296"
}
{
  "topic_metadata": {
    "id": 3526,
    "title": "How can you switch between \"I,\" \"1,\" and no page number in an elegant way?",
    "slug": "how-can-you-switch-between-i-1-and-no-page-number-in-an-elegant-way",
    "posts_count": 5,
    "created_at": "2025-04-06T08:49:38.815Z",
    "last_posted_at": "2025-04-06T11:16:53.510Z",
    "views": 90,
    "like_count": 5,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bluss",
    "tags": [
      "layout",
      "numbering",
      "page"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 556
  },
  "posts": [
    {
      "id": 10679,
      "post_number": 1,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-06T08:49:38.974Z",
      "updated_at": "2025-04-06T08:49:38.974Z",
      "cooked": "<p>I have a document that uses roman page numbers for the preface, numeric ones for the main matter and no page number for title pages in between the main matter. I would like to switch between these three states without setting the footer ‚Äúfrom scratch‚Äù each time, like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 50mm, height: 50mm)\n#show heading.where(level: 1): it =&gt; {\n  pagebreak(weak: true)\n  it\n}\n\n#let page-number(shown, format: none) = {\n  context {\n    if shown {\n      set page(footer: align(center, counter(page).display(format))) \n    }\n  }\n}\n\n#page-number(true, format: \"I\")\n= Preface: Roman Page Number\n\n#counter(page).update(1)\n\n#page-number(true, format: \"1\")\n= Main Section: Numeric Page Number\n\n#page-number(false)\n= Blank Page: No Page Number\n\n#page-number(true, format: \"1\")\n= Main Section: Numeric Page Number\n</code></pre>\n<p>But this example doesn‚Äôt work (this displays no page numbers at all), I suspect because <code>context</code> doesn‚Äôt work that way. How could I refactor the code to get it to work?</p>",
      "raw": "I have a document that uses roman page numbers for the preface, numeric ones for the main matter and no page number for title pages in between the main matter. I would like to switch between these three states without setting the footer \"from scratch\" each time, like so:\n\n```typ\n#set page(width: 50mm, height: 50mm)\n#show heading.where(level: 1): it => {\n  pagebreak(weak: true)\n  it\n}\n\n#let page-number(shown, format: none) = {\n  context {\n    if shown {\n      set page(footer: align(center, counter(page).display(format))) \n    }\n  }\n}\n\n#page-number(true, format: \"I\")\n= Preface: Roman Page Number\n\n#counter(page).update(1)\n\n#page-number(true, format: \"1\")\n= Main Section: Numeric Page Number\n\n#page-number(false)\n= Blank Page: No Page Number\n\n#page-number(true, format: \"1\")\n= Main Section: Numeric Page Number\n```\n\nBut this example doesn't work (this displays no page numbers at all), I suspect because `context` doesn't work that way. How could I refactor the code to get it to work?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 112.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10681,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-06T09:28:03.408Z",
      "updated_at": "2025-04-06T09:43:40.423Z",
      "cooked": "<p>Simplest version that does the ‚Äúsame thing‚Äù (morally) of that code is to use page numbering:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(numbering: \"I\")\n= Preface: Roman Page Number\n\n#counter(page).update(1)\n\n#set page(numbering: \"1\")\n= Main Section: Numeric Page Number\n\n#set page(numbering: none)\n= Blank Page: No Page Number\n\n#set page(numbering: \"1\")\n= Main Section: Numeric Page Number\n</code></pre>\n<p>If you want to configure the footer once and for all you can do that, but not necessary for this example.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n</code></pre>\n<p>The <code>set page</code> rule only works the usual way: it works <em>in the scope where it is</em>, for all the following code. So a show rule would be how to refactor it to be closer to the original code (but this is not better for this simple case)</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let page-number(shown, format: none, it) = {\n  set page(footer: align(center, context counter(page).display(format))) if shown\n  set page(footer: []) if not shown\n  it\n}\n\n#show: page-number.with(true, format: \"I\")\n</code></pre>\n<p>As you can see the function has the item <code>it</code> which it expands <em>in the scope</em> where the set rules have been applied.</p>",
      "raw": "Simplest version that does the \"same thing\" (morally) of that code is to use page numbering:\n\n```typst\n#set page(numbering: \"I\")\n= Preface: Roman Page Number\n\n#counter(page).update(1)\n\n#set page(numbering: \"1\")\n= Main Section: Numeric Page Number\n\n#set page(numbering: none)\n= Blank Page: No Page Number\n\n#set page(numbering: \"1\")\n= Main Section: Numeric Page Number\n```\n\nIf you want to configure the footer once and for all you can do that, but not necessary for this example.\n\n```typst\n#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n```\n\n\nThe `set page` rule only works the usual way: it works _in the scope where it is_, for all the following code. So a show rule would be how to refactor it to be closer to the original code (but this is not better for this simple case)\n\n```typst\n#let page-number(shown, format: none, it) = {\n  set page(footer: align(center, context counter(page).display(format))) if shown\n  set page(footer: []) if not shown\n  it\n}\n\n#show: page-number.with(true, format: \"I\")\n```\n\nAs you can see the function has the item `it` which it expands _in the scope_ where the set rules have been applied.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 4,
      "reads": 30,
      "score": 76.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10684,
      "post_number": 3,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-06T10:32:17.772Z",
      "updated_at": "2025-04-06T10:32:17.772Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"2\" data-topic=\"3526\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<pre><code class=\"lang-auto\">#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n</code></pre>\n</blockquote>\n</aside>\n<p>Thanks so much, this is exactly what I‚Äôve been looking for and couldn‚Äôt get right, so I‚Äôd have to style/setup the footer only once. <img src=\"https://forum.typst.app/images/emoji/apple/pray.png?v=12\" title=\":pray:\" class=\"emoji\" alt=\":pray:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "[quote=\"bluss, post:2, topic:3526\"]\n```\n#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n```\n[/quote]\n\nThanks so much, this is exactly what I've been looking for and couldn't get right, so I'd have to style/setup the footer only once. üôè",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 25,
      "score": 5.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10688,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-06T11:00:33.305Z",
      "updated_at": "2025-04-06T11:00:33.305Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"2\" data-topic=\"3526\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n</code></pre>\n</blockquote>\n</aside>\n<p>Generally speaking, working with code in markup mode can play dirty tricks on you, and you have to use <code>#</code> a lot, so it‚Äôs better to avoid it. You‚Äôre also using an unnecessary <code>{}</code> to wrap the <code>context</code>. You can also apply an early return pattern and get this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(footer: context {\n  let page-numbering = here().page-numbering()\n  if page-numbering == none { return }\n  align(right, counter(page).display(page-numbering))\n})\n</code></pre>\n<p>Although with a formatter the number of lines will be the same, but the syntax and logic is a little easier to read through.</p>",
      "raw": "[quote=\"bluss, post:2, topic:3526\"]\n```typ\n#set page(footer: {\n  context align(right)[\n    #let pgn = here().page-numbering()\n    #if pgn != none {\n      counter(page).display(pgn)\n    }\n  ]\n})\n```\n[/quote]\n\nGenerally speaking, working with code in markup mode can play dirty tricks on you, and you have to use `#` a lot, so it's better to avoid it. You're also using an unnecessary `{}` to wrap the `context`. You can also apply an early return pattern and get this:\n\n```typ\n#set page(footer: context {\n  let page-numbering = here().page-numbering()\n  if page-numbering == none { return }\n  align(right, counter(page).display(page-numbering))\n})\n```\n\nAlthough with a formatter the number of lines will be the same, but the syntax and logic is a little easier to read through.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10690,
      "post_number": 5,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-06T11:16:53.510Z",
      "updated_at": "2025-04-06T11:16:53.510Z",
      "cooked": "<p>Ah, great, thank you for elaborating further! I will use this apporach as it is indeed a bit easier to read <img src=\"https://forum.typst.app/images/emoji/apple/smiling_face.png?v=12\" title=\":smiling_face:\" class=\"emoji\" alt=\":smiling_face:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Ah, great, thank you for elaborating further! I will use this apporach as it is indeed a bit easier to read ‚ò∫Ô∏è",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 20.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    }
  ],
  "scraped_at": "2025-06-10T09:49:39.579082"
}
{
  "topic_metadata": {
    "id": 3534,
    "title": "Why do contents after `&` affect alignment?",
    "slug": "why-do-contents-after-affect-alignment",
    "posts_count": 4,
    "created_at": "2025-04-07T07:21:21.982Z",
    "last_posted_at": "2025-04-07T08:00:41.772Z",
    "views": 52,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "math",
      "alignment"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 143
  },
  "posts": [
    {
      "id": 10705,
      "post_number": 1,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-07T07:21:22.095Z",
      "updated_at": "2025-04-18T14:58:09.012Z",
      "cooked": "<p>Hi.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  #[hello]&amp;= \\\n  #[world]&amp; \\\n$\n\n$\n  #[hello]&amp;= \\\n  #[world]&amp;= \\\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/d/d7d08745aa78619ed7bf26c8fd6ed1b789a681aa.png\" alt=\"image\" data-base62-sha1=\"uNbqqiOpaNUkqhV28YHMshAKaQW\" width=\"145\" height=\"211\"></p>\n<p>Why is the first <code>world</code> slightly shifted to the right?</p>",
      "raw": "Hi.\n\n```typ\n$\n  #[hello]&= \\\n  #[world]& \\\n$\n\n$\n  #[hello]&= \\\n  #[world]&= \\\n$\n```\n\n\n![image|291x423, 50%](upload://uNbqqiOpaNUkqhV28YHMshAKaQW.png)\n\nWhy is the first `world` slightly shifted to the right?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    },
    {
      "id": 10706,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T07:42:50.497Z",
      "updated_at": "2025-04-07T07:42:50.497Z",
      "cooked": "<p>Hello. Maybe the same reason it happens with <a href=\"https://github.com/typst/typst/issues/1268\" rel=\"noopener nofollow ugc\">this</a>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  a &amp;) \\\n  a &amp;=\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/1f5af93579195fc5b6f7e79b761dbb7d696e483a.png\" alt=\"image\" data-base62-sha1=\"4tnI6qqcT4UZ1IC7yNokdaKwEvU\" width=\"62\" height=\"68\"></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  \"hello\" &amp; = \\\n  \"world\" &amp;\n$\n\n$\n  \"hello\" &amp; = \\\n  \"world\" &amp; =\n$\n</code></pre>\n<p>It aligns it with the equal sign.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/6/6969ebd7afb2a8726301e905f5183716c1f64bc9.png\" alt=\"image\" data-base62-sha1=\"f2x4jJuI93NigJfALkmMsyQw6b7\" width=\"105\" height=\"162\"></p>",
      "raw": "Hello. Maybe the same reason it happens with [this](https://github.com/typst/typst/issues/1268):\n\n```typ\n$\n  a &) \\\n  a &=\n$\n```\n\n![image|62x68](upload://4tnI6qqcT4UZ1IC7yNokdaKwEvU.png)\n\n\n```typ\n$\n  \"hello\" & = \\\n  \"world\" &\n$\n\n$\n  \"hello\" & = \\\n  \"world\" & =\n$\n```\n\nIt aligns it with the equal sign.\n![image|105x162](upload://f2x4jJuI93NigJfALkmMsyQw6b7.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 29.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10707,
      "post_number": 3,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-07T07:48:45.060Z",
      "updated_at": "2025-04-07T07:48:45.060Z",
      "cooked": "<p>Thanks for answering!</p>\n<p>In my initial mental model, <code>&amp;</code> should be a separator, instead of attached to a character. In what layer is Typst‚Äôs alignment system? Is it builtin the rust engine or can I replace it with some custom package function?</p>",
      "raw": "Thanks for answering!\n\nIn my initial mental model, `&` should be a separator, instead of attached to a character. In what layer is Typst's alignment system? Is it builtin the rust engine or can I replace it with some custom package function?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    },
    {
      "id": 10708,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T08:00:41.772Z",
      "updated_at": "2025-04-07T08:00:41.772Z",
      "cooked": "<p><a href=\"https://typst.app/docs/reference/math/#alignment\">Math alignment</a></p>\n<p>If no explicit packages are used in a document, then it‚Äôs baked into the compiler written in Rust. You can change its behavior by patching the source code.</p>",
      "raw": "[Math alignment](https://typst.app/docs/reference/math/#alignment)\n\nIf no explicit packages are used in a document, then it's baked into the compiler written in Rust. You can change its behavior by patching the source code.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:38.858191"
}
{
  "topic_metadata": {
    "id": 3537,
    "title": "What is the \"Typst-way\" mental model around templates with shared logic and defaults?",
    "slug": "what-is-the-typst-way-mental-model-around-templates-with-shared-logic-and-defaults",
    "posts_count": 10,
    "created_at": "2025-04-07T11:16:48.833Z",
    "last_posted_at": "2025-04-08T18:45:50.195Z",
    "views": 189,
    "like_count": 3,
    "reply_count": 8,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "layout",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 1849
  },
  "posts": [
    {
      "id": 10711,
      "post_number": 1,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-07T11:16:48.993Z",
      "updated_at": "2025-04-07T13:43:45.340Z",
      "cooked": "<p>I know the official ‚ÄúMaking a Template‚Äù tutorial and I‚Äôve looked at <a href=\"https://forum.typst.app/t/1042\" class=\"inline-onebox\">Why is the template function I wrote not working properly?</a> as well as <a href=\"https://forum.typst.app/t/2967\" class=\"inline-onebox\">How can I load configuration and defined in another .typ file?</a> who had somewhat similiar questions. I sense that more people have problems with the mental model around templates and Typst, and so do I. Therefore I wanted to ‚Äúupdate‚Äù my understanding, to get it right.</p>\n<p>Say you <strong>don‚Äôt</strong> want a ‚Äútemplate‚Äù in the sense that the same document should be reproduced in version A and B e.g. a report that follows the same exact structure with slight differences.</p>\n<p><strong>But</strong> say a slide deck and a handout that share common logic (e.g. helper functions of some kind) and elements (e.g. headlines styled a certain way). What is the state of play or mental model to achieve this?</p>\n<p>To showcase what I mean, say you have a‚Ä¶</p>\n<p><code>main.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"template.typ\": *\n#show: template\n\n// This doesn't work, but should show the \"idea\":\n// ‚Üì how to \"override\" this in a way that actually works\n#let highlight-color = blue\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n</code></pre>\n<p>and a‚Ä¶</p>\n<p><code>template.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Setting defaults\n#let highlight-color = red\n\n// Common logic/functions\n#let colorize(body) = {\n  set text(highlight-color)\n  body\n}\n\n#let colorbox(body) = {\n  box(fill: highlight-color, body)\n}\n\n#let template(doc) = {\n  doc\n}\n</code></pre>\n<p>What my example should showcase is what ‚Äúmy‚Äù understanding (and as it seems it is a quite common question or confusion) of what I would like to do with a template and the way Typst handles templates, includes and imports are still a bit at odds.</p>\n<p>There is <code>.with()</code> but as I understand it this requires a function that produces ‚Äúthe same‚Äù document, just with different arguments.</p>\n<p>What I would want to achieve is ‚Äújust‚Äù shared logic and defaults for related documents. Is this possible too and just a matter of scope and wrapping everything in a function that does nothing further or not possible at all?</p>",
      "raw": "I know the official \"Making a Template\" tutorial and I've looked at https://forum.typst.app/t/1042 as well as https://forum.typst.app/t/2967 who had somewhat similiar questions. I sense that more people have problems with the mental model around templates and Typst, and so do I. Therefore I wanted to \"update\" my understanding, to get it right.\n\nSay you **don't** want a \"template\" in the sense that the same document should be reproduced in version A and B e.g. a report that follows the same exact structure with slight differences.\n\n**But** say a slide deck and a handout that share common logic (e.g. helper functions of some kind) and elements (e.g. headlines styled a certain way). What is the state of play or mental model to achieve this?\n\nTo showcase what I mean, say you have a‚Ä¶\n\n`main.typ`\n```typ\n#import \"template.typ\": *\n#show: template\n\n// This doesn't work, but should show the \"idea\":\n// ‚Üì how to \"override\" this in a way that actually works\n#let highlight-color = blue\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n```\n\nand a‚Ä¶\n\n`template.typ`\n```typ\n// Setting defaults\n#let highlight-color = red\n\n// Common logic/functions\n#let colorize(body) = {\n  set text(highlight-color)\n  body\n}\n\n#let colorbox(body) = {\n  box(fill: highlight-color, body)\n}\n\n#let template(doc) = {\n  doc\n}\n```\n\nWhat my example should showcase is what \"my\" understanding (and as it seems it is a quite common question or confusion) of what I would like to do with a template and the way Typst handles templates, includes and imports are still a bit at odds.\n\nThere is `.with()` but as I understand it this requires a function that produces \"the same\" document, just with different arguments.\n\nWhat I would want to achieve is \"just\" shared logic and defaults for related documents. Is this possible too and just a matter of scope and wrapping everything in a function that does nothing further or not possible at all?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 51,
      "score": 180.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10721,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T14:04:26.376Z",
      "updated_at": "2025-04-07T14:07:15.399Z",
      "cooked": "<p>This is very close to what was discussed in <a href=\"https://forum.typst.app/t/how-can-i-have-global-configuration-parameters-for-a-module-package/3365\" class=\"inline-onebox\">How can I have global configuration parameters for a module/package?</a>.</p>\n<p>It‚Äôs not a mental model, it‚Äôs the definition of the language, more specifically ‚Äî Typst is based on pure functions because it can cache the function input &amp; output and later reuse the output if the cache hit occurs. Hence why the fast incremental compilation exists. It‚Äôs a mix of procedural and functional programming, so it can be hard to grasp without any practice.</p>\n<p>Basically, because all user functions are pure, you have to change their input to get a different output. Which is why you can‚Äôt change a default value simply by creating a same-name variable in a file where you import an already baked function and then expect that function to use the new local variable to change its behavior. You either:</p>\n<ul>\n<li>change function‚Äôs named argument directly or through <code>.with()</code> (<code>#let a-thing = a-thing.with(a: 5)</code>),</li>\n<li>change function‚Äôs positional arguments when used (can be also set + consumed via <code>.with()</code>),</li>\n<li>change a state that the function uses to retrieve a value (need to use <code>context</code> outside or internally).</li>\n</ul>\n<p>Same with show rule functions, but instead of using it in-place, you use it on the right side of a show rule.</p>",
      "raw": "This is very close to what was discussed in https://forum.typst.app/t/how-can-i-have-global-configuration-parameters-for-a-module-package/3365.\n\nIt's not a mental model, it's the definition of the language, more specifically --- Typst is based on pure functions because it can cache the function input & output and later reuse the output if the cache hit occurs. Hence why the fast incremental compilation exists. It's a mix of procedural and functional programming, so it can be hard to grasp without any practice.\n\nBasically, because all user functions are pure, you have to change their input to get a different output. Which is why you can't change a default value simply by creating a same-name variable in a file where you import an already baked function and then expect that function to use the new local variable to change its behavior. You either:\n- change function's named argument directly or through `.with()` (`#let a-thing = a-thing.with(a: 5)`),\n- change function's positional arguments when used (can be also set + consumed via `.with()`),\n- change a state that the function uses to retrieve a value (need to use `context` outside or internally).\n\nSame with show rule functions, but instead of using it in-place, you use it on the right side of a show rule.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 14.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10722,
      "post_number": 3,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-07T14:24:06.762Z",
      "updated_at": "2025-04-07T14:30:12.499Z",
      "cooked": "<p>Ah! Thank you, I didn‚Äôt find that question, maybe because it was framed a little different in terms focus on modules/packages. The mentioned <a href=\"https://forum.typst.app/t/228\" class=\"inline-onebox\">What is the best way to retrieve template argument outside the template?</a> is another one. Funny how users, myself included, chose very similar ways of showcasing independent from each other.</p>\n<p>In your answer in the other thread, you gave a couple of examples, out of the variants not relying on <code>state</code> did or do you use one of the approaches yourself and would recommend it based on your experiences?</p>",
      "raw": "Ah! Thank you, I didn't find that question, maybe because it was framed a little different in terms focus on modules/packages. The mentioned https://forum.typst.app/t/228 is another one. Funny how users, myself included, chose very similar ways of showcasing independent from each other.\n\nIn your answer in the other thread, you gave a couple of examples, out of the variants not relying on `state` did or do you use one of the approaches yourself and would recommend it based on your experiences?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10723,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T14:37:58.715Z",
      "updated_at": "2025-04-07T14:37:58.715Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"3\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<p>In your answer in the other thread, you gave a couple of examples, out of the variants not relying on <code>state</code> did or do you use one of the approaches yourself and would recommend it based on your experiences?</p>\n</blockquote>\n</aside>\n<p>Can you list the approaches in question?</p>",
      "raw": "[quote=\"a_w, post:3, topic:3537\"]\nIn your answer in the other thread, you gave a couple of examples, out of the variants not relying on `state` did or do you use one of the approaches yourself and would recommend it based on your experiences?\n[/quote]\n\nCan you list the approaches in question?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 44,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10724,
      "post_number": 5,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-07T14:55:50.851Z",
      "updated_at": "2025-04-07T15:01:13.685Z",
      "cooked": "<p>You mentioned using an <code>init</code> function for rubby and I guess the other approach I would find the most accessible (in terms of ‚Äúlooks‚Äù) would be the <code>colorize.with(color: blue)</code>, but I wonder what I ‚Äúshould‚Äù use (I know of course it is depending on what <em>should</em> be achieved), but taking my example for a basic case for two somewhat related documents and wanting to switch things like font sizes, colors, page margins, what is most maintainable in your opinion and/or experience?</p>",
      "raw": "You mentioned using an `init` function for rubby and I guess the other approach I would find the most accessible (in terms of \"looks\") would be the `colorize.with(color: blue)`, but I wonder what I \"should\" use (I know of course it is depending on what *should* be achieved), but taking my example for a basic case for two somewhat related documents and wanting to switch things like font sizes, colors, page margins, what is most maintainable in your opinion and/or experience?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 18.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10725,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T15:16:09.018Z",
      "updated_at": "2025-04-07T15:22:55.911Z",
      "cooked": "<p>I think currently the most maintainable approach is to put all generic document styling into a single template function with some optional arguments for use with <code>.with()</code>. So things like <code>title</code> and <code>author</code> can be added as named arguments to the <code>template()</code> function. You can put the font size and page margins there as well, but you can also just set them separately after applying the template</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: template\n#set page(margin: 1.11cm)\n#set text(14pt)\n</code></pre>\n<p>if template doesn‚Äôt set them or doesn‚Äôt use the needed values. This is the preferred or the only way when using someone‚Äôs template, since it can be not as customizable via its template function. But sometimes neither will work, in which case you would have to ask for a feature request or patch it yourself.</p>\n<p>A standalone function should use named arguments that can be overridden at the call site or via <code>.with()</code>. But sometimes a <code>let colorize(color, body)</code> is better suited as you can shorten the call statement by not using a named argument, though the <code>.with()</code> will be the same with an exception that it can only be used once.</p>\n<p>The init function I thing is pretty niche and in case with rubby, it can be avoided by just changing the arguments, so that you can just do <code>#let r = ruby.with(dy: 1pt)</code>.</p>\n<p>This is a general adivice, so the use of <code>state</code> might be better in a specific cituation. As with everything, the 6th sense comes with practice. Just try to make things as simple as possible without too much abstractions, if you can. With practice you will be able to know which approach is better suited for which use case. Sometimes (or maybe almost always) it‚Äôs just not worth it building a super complex logic just to not write a couple of characters, or something. Been there, done that.</p>",
      "raw": "I think currently the most maintainable approach is to put all generic document styling into a single template function with some optional arguments for use with `.with()`. So things like `title` and `author` can be added as named arguments to the `template()` function. You can put the font size and page margins there as well, but you can also just set them separately after applying the template\n\n```typ\n#show: template\n#set page(margin: 1.11cm)\n#set text(14pt)\n```\n\nif template doesn't set them or doesn't use the needed values. This is the preferred or the only way when using someone's template, since it can be not as customizable via its template function. But sometimes neither will work, in which case you would have to ask for a feature request or patch it yourself.\n\nA standalone function should use named arguments that can be overridden at the call site or via `.with()`. But sometimes a `let colorize(color, body)` is better suited as you can shorten the call statement by not using a named argument, though the `.with()` will be the same with an exception that it can only be used once.\n\nThe init function I thing is pretty niche and in case with rubby, it can be avoided by just changing the arguments, so that you can just do `#let r = ruby.with(dy: 1pt)`.\n\nThis is a general adivice, so the use of `state` might be better in a specific cituation. As with everything, the 6th sense comes with practice. Just try to make things as simple as possible without too much abstractions, if you can. With practice you will be able to know which approach is better suited for which use case. Sometimes (or maybe almost always) it's just not worth it building a super complex logic just to not write a couple of characters, or something. Been there, done that.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 42.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10726,
      "post_number": 7,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-07T17:18:01.750Z",
      "updated_at": "2025-04-07T17:20:23.401Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"6\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>I think currently the most maintainable approach is to put all generic document styling into a single template function with some optional arguments for use with <code>.with()</code>.</p>\n</blockquote>\n</aside>\n<p>So do I understand you correctly that this would turn my example into something like this:</p>\n<p><code>main.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"template.typ\": *\n#show: template.with(headline-size: 18pt)\n\n#set page(margin: (top: 10%))\n#set text(size: 12pt, font: \"Libertinus Sans\")\n\n#let colorize = colorize.with(color: blue)\n#let colorbox = colorbox.with(color: blue)\n\n= Headline\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n</code></pre>\n<p>and</p>\n<p><code>template.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let colorize(body, color: red) = {\n  set text(color)\n  body\n}\n\n#let colorbox(body, color: red) = {\n  box(fill: color, body)\n}\n\n#let template(doc, headline-size: 12pt) = {\n \n  set page(margin: (top: 5%))\n  set text(size: 12pt, font: \"Comic Neue\")\n\n  show heading: set text(size: headline-size)\n  \n  doc\n}\n</code></pre>\n<p>Would you say this means‚Ä¶ in terms of rules (for myself!):</p>\n<ul>\n<li>Just leave everything that can be <code>set</code> and is ‚Äúprocedural‚Äù so to speak as is in the template (meaning no further adaption for a template/variation setup needed)</li>\n<li>Standalone functions get named arguments that can be directly modified using <code>.with</code></li>\n<li>Show-Rules are either left out of the template (and stay in each seperate file) altogether or get arguments on the template function if they really should be shared</li>\n<li>‚Ä¶ missing something?</li>\n</ul>\n<p>(Mind that I‚Äôm controlling both ends here, the templates as well as the file for the specific case/output in my example slide deck vs. handout or whatever.)</p>",
      "raw": "[quote=\"Andrew, post:6, topic:3537\"]\nI think currently the most maintainable approach is to put all generic document styling into a single template function with some optional arguments for use with `.with()`.\n[/quote]\n\nSo do I understand you correctly that this would turn my example into something like this:\n\n`main.typ`\n```typ\n#import \"template.typ\": *\n#show: template.with(headline-size: 18pt)\n\n#set page(margin: (top: 10%))\n#set text(size: 12pt, font: \"Libertinus Sans\")\n\n#let colorize = colorize.with(color: blue)\n#let colorbox = colorbox.with(color: blue)\n\n= Headline\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n```\n\nand\n\n`template.typ`\n```typ\n#let colorize(body, color: red) = {\n  set text(color)\n  body\n}\n\n#let colorbox(body, color: red) = {\n  box(fill: color, body)\n}\n\n#let template(doc, headline-size: 12pt) = {\n \n  set page(margin: (top: 5%))\n  set text(size: 12pt, font: \"Comic Neue\")\n\n  show heading: set text(size: headline-size)\n  \n  doc\n}\n```\n\nWould you say this means‚Ä¶ in terms of rules (for myself!):\n- Just leave everything that can be `set` and is \"procedural\" so to speak as is in the template (meaning no further adaption for a template/variation setup needed)\n- Standalone functions get named arguments that can be directly modified using `.with`\n- Show-Rules are either left out of the template (and stay in each seperate file) altogether or get arguments on the template function if they really should be shared\n- ‚Ä¶ missing something?\n\n(Mind that I'm controlling both ends here, the templates as well as the file for the specific case/output in my example slide deck vs. handout or whatever.)",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10737,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T20:41:54.946Z",
      "updated_at": "2025-04-07T20:42:41.123Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"7\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<p>So do I understand you correctly that this would turn my example into something like this:</p>\n<p><code>main.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"template.typ\": *\n#show: template.with(headline-size: 18pt)\n\n#set page(margin: (top: 10%))\n#set text(size: 12pt, font: \"Libertinus Sans\")\n\n#let colorize = colorize.with(color: blue)\n#let colorbox = colorbox.with(color: blue)\n\n= Headline\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n</code></pre>\n<p>and</p>\n<p><code>template.typ</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let colorize(body, color: red) = {\n  set text(color)\n  body\n}\n\n#let colorbox(body, color: red) = {\n  box(fill: color, body)\n}\n\n#let template(doc, headline-size: 12pt) = {\n\n  set page(margin: (top: 5%))\n  set text(size: 12pt, font: \"Comic Neue\")\n\n  show heading: set text(size: headline-size)\n\n  doc\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>Well, mostly yes, but if you want, you can add the font and margin parameters to the <code>template()</code> and just use one global show rule. But also this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let colorize(body, color: red) = text(color, body)\n\n#let colorbox(body, color: red) = box(fill: color, body)\n</code></pre>\n<p>I think I remember that in some rare cases <code>set text(color)</code> would work better, but if you just apply this directly on a normal text, then you can use a shorter version.</p>\n<hr>\n<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"7\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<p>Would you say this means‚Ä¶ in terms of rules (for myself!):</p>\n<ul>\n<li>Just leave everything that can be <code>set</code> and is ‚Äúprocedural‚Äù so to speak as is in the template (meaning no further adaption for a template/variation setup needed)</li>\n</ul>\n</blockquote>\n</aside>\n<p>Not sure what procedural means here, but the majority of set and show-set rules supposed to be in a template function, this is literally what it‚Äôs for, generally speaking.</p>\n<hr>\n<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"7\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<ul>\n<li>Standalone functions get named arguments that can be directly modified using <code>.with</code></li>\n<li>Show-Rules are either left out of the template (and stay in each seperate file) altogether or get arguments on the template function if they really should be shared</li>\n</ul>\n</blockquote>\n</aside>\n<p>Yes.</p>\n<hr>\n<aside class=\"quote no-group\" data-username=\"a_w\" data-post=\"7\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/a_w/48/1206_2.png\" class=\"avatar\"> a_w:</div>\n<blockquote>\n<ul>\n<li>‚Ä¶ missing something?</li>\n</ul>\n</blockquote>\n</aside>\n<p>Well, the <code>state</code> thing, I guess, but that‚Äôs about it.</p>",
      "raw": "[quote=\"a_w, post:7, topic:3537\"]\nSo do I understand you correctly that this would turn my example into something like this:\n\n`main.typ`\n\n```typ\n#import \"template.typ\": *\n#show: template.with(headline-size: 18pt)\n\n#set page(margin: (top: 10%))\n#set text(size: 12pt, font: \"Libertinus Sans\")\n\n#let colorize = colorize.with(color: blue)\n#let colorbox = colorbox.with(color: blue)\n\n= Headline\n\nThis should be #colorize(\"red\") by default, but #colorize(\"blue\") in after setting the `highlight-color` to blue. As should #colorbox(\"this\").\n```\n\nand\n\n`template.typ`\n\n```typ\n#let colorize(body, color: red) = {\n  set text(color)\n  body\n}\n\n#let colorbox(body, color: red) = {\n  box(fill: color, body)\n}\n\n#let template(doc, headline-size: 12pt) = {\n\n  set page(margin: (top: 5%))\n  set text(size: 12pt, font: \"Comic Neue\")\n\n  show heading: set text(size: headline-size)\n\n  doc\n}\n```\n[/quote]\n\nWell, mostly yes, but if you want, you can add the font and margin parameters to the `template()` and just use one global show rule. But also this:\n\n```typ\n#let colorize(body, color: red) = text(color, body)\n\n#let colorbox(body, color: red) = box(fill: color, body)\n```\n\nI think I remember that in some rare cases `set text(color)` would work better, but if you just apply this directly on a normal text, then you can use a shorter version.\n\n---\n\n[quote=\"a_w, post:7, topic:3537\"]\nWould you say this means‚Ä¶ in terms of rules (for myself!):\n\n* Just leave everything that can be `set` and is ‚Äúprocedural‚Äù so to speak as is in the template (meaning no further adaption for a template/variation setup needed)\n[/quote]\n\nNot sure what procedural means here, but the majority of set and show-set rules supposed to be in a template function, this is literally what it's for, generally speaking.\n\n---\n\n[quote=\"a_w, post:7, topic:3537\"]\n* Standalone functions get named arguments that can be directly modified using `.with`\n* Show-Rules are either left out of the template (and stay in each seperate file) altogether or get arguments on the template function if they really should be shared\n[/quote]\n\nYes.\n\n---\n\n[quote=\"a_w, post:7, topic:3537\"]\n* ‚Ä¶ missing something?\n[/quote]\n\nWell, the `state` thing, I guess, but that's about it.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 33,
      "score": 36.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10808,
      "post_number": 9,
      "username": "a_w",
      "name": "Alex",
      "created_at": "2025-04-08T18:39:21.520Z",
      "updated_at": "2025-04-08T18:39:21.520Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"8\" data-topic=\"3537\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>Not sure what procedural means here, but the majority of set and show-set rules supposed to be in a template function, this is literally what it‚Äôs for, generally speaking.</p>\n</blockquote>\n</aside>\n<p>By ‚Äúprocedural,‚Äù I meant that, as I understand it (Disclaimer!), <code>set</code> rules get processed as they occur and can be reset in the following flow of the document at any time, but since the same is true for <code>show</code>‚Ä¶ maybe it isn‚Äôt an accurate description.</p>\n<p>I will try to experiment with state as well. Thank you for your answers!</p>",
      "raw": "[quote=\"Andrew, post:8, topic:3537\"]\nNot sure what procedural means here, but the majority of set and show-set rules supposed to be in a template function, this is literally what it‚Äôs for, generally speaking.\n[/quote]\n\nBy \"procedural,\" I meant that, as I understand it (Disclaimer!), `set` rules get processed as they occur and can be reset in the following flow of the document at any time, but since the same is true for `show`‚Ä¶ maybe it isn't an accurate description.\n\nI will try to experiment with state as well. Thank you for your answers!",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 21,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 566
    },
    {
      "id": 10809,
      "post_number": 10,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T18:45:50.195Z",
      "updated_at": "2025-04-08T18:45:50.195Z",
      "cooked": "<p>For the rules, you can check out <a href=\"https://typst.app/docs/reference/styling/\" class=\"inline-onebox\">Styling ‚Äì Typst Documentation</a> and <a href=\"https://typst.app/docs/tutorial/formatting/\" class=\"inline-onebox\">Formatting ‚Äì Typst Documentation</a>.</p>",
      "raw": "For the rules, you can check out https://typst.app/docs/reference/styling/ and https://typst.app/docs/tutorial/formatting/.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:38.137662"
}
{
  "topic_metadata": {
    "id": 3538,
    "title": "Template mimicking LaTeX's article?",
    "slug": "template-mimicking-latexs-article",
    "posts_count": 7,
    "created_at": "2025-04-07T12:40:53.044Z",
    "last_posted_at": "2025-04-23T06:50:44.974Z",
    "views": 182,
    "like_count": 6,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "latex-migration",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 210
  },
  "posts": [
    {
      "id": 10712,
      "post_number": 1,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-07T12:40:53.178Z",
      "updated_at": "2025-04-26T19:57:14.969Z",
      "cooked": "<p>Hi. Last week my TA asked me if I typeset my homework using Word. (I used Typst.) Is there a template mimicking LaTeX‚Äôs article documentclass (e.g., maketitle, page number, etc)?</p>",
      "raw": "Hi. Last week my TA asked me if I typeset my homework using Word. (I used Typst.) Is there a template mimicking LaTeX's article documentclass (e.g., maketitle, page number, etc)?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 110.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    },
    {
      "id": 10713,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-07T12:55:00.220Z",
      "updated_at": "2025-04-07T12:55:00.220Z",
      "cooked": "<p>Would that be a good start?</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/guides/guide-for-latex-users/\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/guides/guide-for-latex-users/\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/guides/guide-for-latex-users/\" target=\"_blank\" rel=\"noopener\">Guide for LaTeX users ‚Äì Typst Documentation</a></h3>\n\n  <p>Are you a LaTeX user? This guide explains the differences and\nsimilarities between Typst and LaTeX so you can get started quickly.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Would that be a good start? \n\nhttps://typst.app/docs/guides/guide-for-latex-users/",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 10714,
      "post_number": 3,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-07T12:56:56.674Z",
      "updated_at": "2025-04-07T12:56:56.674Z",
      "cooked": "<p>Hi! Thanks for replying. You mean the elsearticle template? That looks completely different from the <code>article</code> documentclass.</p>",
      "raw": "Hi! Thanks for replying. You mean the elsearticle template? That looks completely different from the `article` documentclass.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 30.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    },
    {
      "id": 10716,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T13:08:38.025Z",
      "updated_at": "2025-04-07T13:08:38.025Z",
      "cooked": "<p>I suppose after searching for ‚Äúarticle latex‚Äù in <a href=\"https://typst.app/universe/search/?kind=templates&amp;q=article%20latex\" class=\"inline-onebox\">Search ‚Äî Typst: Universe</a> this should be it: <a href=\"https://typst.app/universe/package/rubber-article\" class=\"inline-onebox\">rubber-article ‚Äì Typst Universe</a>.</p>",
      "raw": "I suppose after searching for \"article latex\" in https://typst.app/universe/search/?kind=templates&q=article%20latex this should be it: https://typst.app/universe/package/rubber-article.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 49,
      "score": 79.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10719,
      "post_number": 5,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-07T13:16:56.954Z",
      "updated_at": "2025-04-07T13:16:56.954Z",
      "cooked": "<p>Thanks! I missed it in my search probably because it didn‚Äôt look like a LaTeX article in the minipicture.</p>",
      "raw": "Thanks! I missed it in my search probably because it didn't look like a LaTeX article in the minipicture.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 34.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    },
    {
      "id": 11465,
      "post_number": 6,
      "username": "niko",
      "name": "niko",
      "created_at": "2025-04-22T21:57:46.972Z",
      "updated_at": "2025-04-22T21:57:46.972Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/aprilgrimoire\">@AprilGrimoire</a> Author of <a href=\"https://typst.app/universe/package/rubber-article\">rubber-article</a> here. I have recently updated the template and was wondering if the thumbnail now meets your expectations more closely?</p>",
      "raw": "Hey @AprilGrimoire Author of [rubber-article](https://typst.app/universe/package/rubber-article) here. I have recently updated the template and was wondering if the thumbnail now meets your expectations more closely?",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 46.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1435
    },
    {
      "id": 11469,
      "post_number": 7,
      "username": "AprilGrimoire",
      "name": "AprilGrimoire",
      "created_at": "2025-04-23T06:50:44.974Z",
      "updated_at": "2025-04-23T06:50:44.974Z",
      "cooked": "<p>Hello niko! Thank you very much for your great template! I think the thumbnail met my expectations pretty well at the first place. It‚Äôs just that the first time I searched for ‚Äòlatex‚Äô in templates, this template was surrounded by a ton of other templates about latex (but not the default article documentclass) and the mini-pic didn‚Äôt caught enough of my attention.</p>",
      "raw": "Hello niko! Thank you very much for your great template! I think the thumbnail met my expectations pretty well at the first place. It's just that the first time I searched for 'latex' in templates, this template was surrounded by a ton of other templates about latex (but not the default article documentclass) and the mini-pic didn't caught enough of my attention.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 21.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1309
    }
  ],
  "scraped_at": "2025-06-10T09:49:37.377353"
}
{
  "topic_metadata": {
    "id": 3539,
    "title": "How to remove spacing after colon in math?",
    "slug": "how-to-remove-spacing-after-colon-in-math",
    "posts_count": 3,
    "created_at": "2025-04-07T13:04:04.124Z",
    "last_posted_at": "2025-04-08T13:51:45.095Z",
    "views": 70,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 67
  },
  "posts": [
    {
      "id": 10715,
      "post_number": 1,
      "username": "jeanas",
      "name": "Jean Abou Samra",
      "created_at": "2025-04-07T13:04:04.536Z",
      "updated_at": "2025-04-08T14:05:23.496Z",
      "cooked": "<p>This feels like a silly question, but‚Ä¶ <code>$u[:n]$</code> renders like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/2/28fe8a325029638c84c0fca1d2b5f65e005fab0f.png\" alt=\"image\" data-base62-sha1=\"5QErLGvxneFZE29HoG8pv1GwVqv\" width=\"75\" height=\"38\">. What is the most elegant way to remove the spacing between <code>:</code> and <code>n</code>?</p>",
      "raw": "This feels like a silly question, but‚Ä¶ `$u[:n]$` renders like this: \n![image|75x38](upload://5QErLGvxneFZE29HoG8pv1GwVqv.png). What is the most elegant way to remove the spacing between `:` and `n`?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 90.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 485
    },
    {
      "id": 10717,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-07T13:12:48.795Z",
      "updated_at": "2025-04-07T13:14:30.006Z",
      "cooked": "<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/math/class/\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/math/class/\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/math/class/\" target=\"_blank\" rel=\"noopener\">Class Function ‚Äì Typst Documentation</a></h3>\n\n  <p>Documentation for the `class` function.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: it =&gt; {\n  show \":\": math.class.with(\"normal\")\n  it\n}\n\n$u[:n]$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8f84931a6a8c0e2fc82328dd858b3229d246d201.png\" alt=\"image\" data-base62-sha1=\"ktCjIK6YiuhpKkvqQAzYW6Fz42Z\" width=\"74\" height=\"42\"></p>",
      "raw": "https://typst.app/docs/reference/math/class/\n\n```typ\n#show math.equation: it => {\n  show \":\": math.class.with(\"normal\")\n  it\n}\n\n$u[:n]$\n```\n\n![image|74x42](upload://ktCjIK6YiuhpKkvqQAzYW6Fz42Z.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10782,
      "post_number": 3,
      "username": "jeanas",
      "name": "Jean Abou Samra",
      "created_at": "2025-04-08T13:51:45.095Z",
      "updated_at": "2025-04-08T13:51:45.095Z",
      "cooked": "<p>Thanks! Not sure how I managed to miss it in the docs‚Ä¶</p>",
      "raw": "Thanks! Not sure how I managed to miss it in the docs‚Ä¶",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 485
    }
  ],
  "scraped_at": "2025-06-10T09:49:36.637669"
}
{
  "topic_metadata": {
    "id": 3543,
    "title": "Unnecessary spacing after referencing glossary terms. How to fix?",
    "slug": "unnecessary-spacing-after-referencing-glossary-terms-how-to-fix",
    "posts_count": 8,
    "created_at": "2025-04-07T17:59:55.938Z",
    "last_posted_at": "2025-04-11T20:23:33.183Z",
    "views": 97,
    "like_count": 4,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "layout",
      "referencing",
      "glossarium"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 542
  },
  "posts": [
    {
      "id": 10728,
      "post_number": 1,
      "username": "ggold",
      "name": "",
      "created_at": "2025-04-07T17:59:56.068Z",
      "updated_at": "2025-04-11T17:38:31.710Z",
      "cooked": "<p>When referencing something from the glossary using either <code>#citation</code> or <code>@XXX</code>, there is automatically a space after the reference even when there isn‚Äôt one in the editor. This is fine typically as there is meant to be a space before the next word of course but when I am wanting to finish the sentence or add a comma it adds a space after the reference which I don‚Äôt want.</p>\n<p>I am using glossarium for the glossary.</p>\n<pre><code class=\"lang-auto\">This paper explores the use of regressive machine learning models to perform prognostics in @bev:pl. \n</code></pre>\n<p>I.e it should be Battery Electric Vehicles (BEV).</p>\n<p>But it appears as</p>\n<p>‚Ä¶ Battery Electric Vehicles (BEV) .</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e302598795ed9cdc89acdc945e845ddc66567254.png\" data-download-href=\"https://forum.typst.app/uploads/default/e302598795ed9cdc89acdc945e845ddc66567254\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/e302598795ed9cdc89acdc945e845ddc66567254_2_690x140.png\" alt=\"image\" data-base62-sha1=\"wodq2GOLdGDqvK3vm90btescX4g\" width=\"690\" height=\"140\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/e302598795ed9cdc89acdc945e845ddc66567254_2_690x140.png, https://forum.typst.app/uploads/default/original/2X/e/e302598795ed9cdc89acdc945e845ddc66567254.png 1.5x, https://forum.typst.app/uploads/default/original/2X/e/e302598795ed9cdc89acdc945e845ddc66567254.png 2x\" data-dominant-color=\"F2F3F4\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">784√ó160 26.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>(First post so not sure if the formatting is correct)</p>",
      "raw": "When referencing something from the glossary using either `#citation` or `@XXX`, there is automatically a space after the reference even when there isn't one in the editor. This is fine typically as there is meant to be a space before the next word of course but when I am wanting to finish the sentence or add a comma it adds a space after the reference which I don't want.\n\nI am using glossarium for the glossary.\n\n```typ...\nThis paper explores the use of regressive machine learning models to perform prognostics in @bev:pl. \n```\n\n\nI.e it should be Battery Electric Vehicles (BEV).\n\nBut it appears as\n\n... Battery Electric Vehicles (BEV) .\n\n![image|690x140](upload://wodq2GOLdGDqvK3vm90btescX4g.png)\n\n\n(First post so not sure if the formatting is correct)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 215.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1422
    },
    {
      "id": 10731,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-07T19:27:09.887Z",
      "updated_at": "2025-04-07T19:27:09.887Z",
      "cooked": "<p>Hello,<br>\nThis is a bug in glossarium 0.5.4. This will be fixed in the next release. It is fixed by this <a href=\"https://github.com/typst-community/glossarium/commit/fb207c41b120063685c2666109f0696b158ae202\">commit</a>.</p>",
      "raw": "Hello, \nThis is a bug in glossarium 0.5.4. This will be fixed in the next release. It is fixed by this [commit](https://github.com/typst-community/glossarium/commit/fb207c41b120063685c2666109f0696b158ae202).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 35.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 10732,
      "post_number": 3,
      "username": "ggold",
      "name": "",
      "created_at": "2025-04-07T19:44:43.156Z",
      "updated_at": "2025-04-07T19:44:43.156Z",
      "cooked": "<p>Thank you for the response <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a></p>\n<p>Is there an easy way I can fix this myself now or switch to that branch / commit?</p>\n<p>It‚Äôs for my dissertation due next Monday so would like to sort it by then.</p>\n<p>Another question I had that you might know the answer to.</p>\n<p>I‚Äôm using a .bib file for my bibliography in Harvard format which results in (Name, date) i.e (Chen et Al., 2018) however I believe the proper format when using it at the start of the sentence would be Chen et Al. (2018) states‚Ä¶</p>\n<p>Is there a way I can manually override it for this use case or is it easier to just do the reference manually?</p>",
      "raw": "Thank you for the response @quachpas \n\nIs there an easy way I can fix this myself now or switch to that branch / commit?\n\nIt's for my dissertation due next Monday so would like to sort it by then.\n\nAnother question I had that you might know the answer to.\n\nI'm using a .bib file for my bibliography in Harvard format which results in (Name, date) i.e (Chen et Al., 2018) however I believe the proper format when using it at the start of the sentence would be Chen et Al. (2018) states... \n\nIs there a way I can manually override it for this use case or is it easier to just do the reference manually?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1422
    },
    {
      "id": 10734,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-07T20:05:27.351Z",
      "updated_at": "2025-04-07T20:05:27.351Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"ggold\" data-post=\"3\" data-topic=\"3543\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/239DAD/48.png\" class=\"avatar\"> ggold:</div>\n<blockquote>\n<p>there an easy way I can fix this myself now or switch to that branch / commit?</p>\n</blockquote>\n</aside>\n<p>You can download the files directly and import from that. Or replace your local files if you are not using the webapp.</p>\n<p>For your 2nd question, I think you should try different citation <a href=\"https://typst.app/docs/reference/model/cite/#parameters-style\">styles</a>.</p>",
      "raw": "[quote=\"ggold, post:3, topic:3543\"]\nthere an easy way I can fix this myself now or switch to that branch / commit?\n[/quote]\n\nYou can download the files directly and import from that. Or replace your local files if you are not using the webapp.\n\nFor your 2nd question, I think you should try different citation [styles](https://typst.app/docs/reference/model/cite/#parameters-style).",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 0,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 10736,
      "post_number": 5,
      "username": "ggold",
      "name": "",
      "created_at": "2025-04-07T20:21:45.532Z",
      "updated_at": "2025-04-07T20:21:45.532Z",
      "cooked": "<p>Ah that‚Äôs great.</p>\n<p>I‚Äôll take a look!</p>",
      "raw": "Ah that's great.\n\nI'll take a look!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1422
    },
    {
      "id": 10740,
      "post_number": 6,
      "username": "ggold",
      "name": "",
      "created_at": "2025-04-07T22:36:15.094Z",
      "updated_at": "2025-04-07T22:36:15.094Z",
      "cooked": "<p>FYI for all</p>\n<p>Form is what I was looking for turns out. form: ‚Äúprose‚Äù fixes the issue.</p>",
      "raw": "FYI for all\n\nForm is what I was looking for turns out. form: \"prose\" fixes the issue.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 64.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1422
    },
    {
      "id": 10939,
      "post_number": 7,
      "username": "ggold",
      "name": "",
      "created_at": "2025-04-11T14:54:11.711Z",
      "updated_at": "2025-04-11T14:54:11.711Z",
      "cooked": "<p>I‚Äôve tried importing the files into the project folder (web app) and then importing from there however it‚Äôs still causing the issue for me</p>",
      "raw": "I've tried importing the files into the project folder (web app) and then importing from there however it's still causing the issue for me",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1422
    },
    {
      "id": 10945,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-11T20:23:33.183Z",
      "updated_at": "2025-04-11T20:23:33.183Z",
      "cooked": "<p>If you still have problems with the fixed version of the package, please open a new <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> topic.</p>\n<hr>\n<p>Also, please read how to write inline and block code correctly from</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ‚Ä¶ ````. It will then look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n</code></pre>\n<p>If you need to highlight a code or math mode snippet instead, the language tags <code>typc</code> and <code>typm</code> do that, respectively.</p>\n</blockquote>\n</aside>\n<p>You were not using backticks for inline code, and for code block it was single quotes instead of backticks. A moderator fixed your message, because new users only can edit posts within 24 hours time period after posting.</p>",
      "raw": "If you still have problems with the fixed version of the package, please open a new #questions topic.\n\n---\n\nAlso, please read how to write inline and block code correctly from\n\n[quote=\"reknih, post:1, topic:11\"]\nIf your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ... ````. It will then look like this:\n\n```typ\n#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n```\n\nIf you need to highlight a code or math mode snippet instead, the language tags `typc` and `typm` do that, respectively.\n[/quote]\n\nYou were not using backticks for inline code, and for code block it was single quotes instead of backticks. A moderator fixed your message, because new users only can edit posts within 24 hours time period after posting.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 12,
      "score": 32.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:35.657175"
}
{
  "topic_metadata": {
    "id": 3549,
    "title": "Where to get the offline [doc](https://typst.app/docs/reference/)?",
    "slug": "where-to-get-the-offline-doc-https-typst-app-docs-reference",
    "posts_count": 2,
    "created_at": "2025-04-08T04:28:08.174Z",
    "last_posted_at": "2025-04-08T05:46:04.014Z",
    "views": 150,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 89
  },
  "posts": [
    {
      "id": 10763,
      "post_number": 1,
      "username": "Maxwell",
      "name": "Maxwell",
      "created_at": "2025-04-08T04:28:08.267Z",
      "updated_at": "2025-04-08T04:28:08.267Z",
      "cooked": "<p>As Typst can work 100% locally,</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-sh\">./typst w tutorial.typ\nfirefox tutorial.pdf  # f5 to reload\n</code></pre>\n<p>how to read its doc locally, e.g. a <code>reference.pdf</code>?</p>",
      "raw": "As Typst can work 100% locally, \n```sh\n./typst w tutorial.typ\nfirefox tutorial.pdf  # f5 to reload\n```\nhow to read its doc locally, e.g. a `reference.pdf`?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 473.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1424
    },
    {
      "id": 10766,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T05:46:04.014Z",
      "updated_at": "2025-04-17T18:50:32.622Z",
      "cooked": "<p>Currently, there is no offline documentation. You can try scraping the docs site and then run it locally. All the text is from <a href=\"https://github.com/typst/typst\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - typst/typst: A new markup-based typesetting system that is powerful and easy to learn.</a>, but the images and stuff are from <a href=\"https://github.com/typst/typst-assets\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - typst/typst-assets: Assets for the Typst compiler.</a>.</p>\n<p>It‚Äôs also not 100% local unless you have all required packages saved.</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/2089\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/2089\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/2089\" target=\"_blank\" rel=\"noopener nofollow ugc\">Typst documentation available offline?</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-09-09\" data-time=\"07:14:02\" data-timezone=\"UTC\">07:14AM - 09 Sep 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/patrick-kidger\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"patrick-kidger\" src=\"https://forum.typst.app/uploads/default/original/2X/a/a93c5817b9825777f6524a76aaba0f79f591de31.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"99807C\">\n          patrick-kidger\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          docs\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nIt'd be great if the documentation could be made available offl<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">ine, as a PDF file.\n\n### Use Case\n\nPersonally, I'd find this very useful whilst travelling: train/plane/etc.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Currently, there is no offline documentation. You can try scraping the docs site and then run it locally. All the text is from https://github.com/typst/typst, but the images and stuff are from https://github.com/typst/typst-assets.\n\nIt's also not 100% local unless you have all required packages saved.\n\nhttps://github.com/typst/typst/issues/2089",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 28.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:34.947305"
}
{
  "topic_metadata": {
    "id": 3556,
    "title": "Is there a way to include multiple bibliography files?",
    "slug": "is-there-a-way-to-include-multiple-bibliography-files",
    "posts_count": 5,
    "created_at": "2025-04-08T12:14:00.380Z",
    "last_posted_at": "2025-04-09T03:52:47.462Z",
    "views": 68,
    "like_count": 6,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Y.D.X",
    "tags": [
      "bibtex"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 257
  },
  "posts": [
    {
      "id": 10771,
      "post_number": 1,
      "username": "QIAN_Chen",
      "name": "BoomShaKaLaaaKa",
      "created_at": "2025-04-08T12:14:00.525Z",
      "updated_at": "2025-04-08T12:14:00.525Z",
      "cooked": "<p>Hi, newbie for typst here. Is there a possibility of including multiple .bib files?</p>\n<p>In my research area, we mutually maintain a huge bibliography with several .bib files for most of the citations. Is there a way to include them together, maybe something like:</p>\n<p>bibliography(‚Äúa.bib‚Äù, ‚Äúb.bib‚Äù)</p>\n<p>Thanks a lot!</p>",
      "raw": "Hi, newbie for typst here. Is there a possibility of including multiple .bib files?\n\nIn my research area, we mutually maintain a huge bibliography with several .bib files for most of the citations. Is there a way to include them together, maybe something like:\n\nbibliography(\"a.bib\", \"b.bib\")\n\nThanks a lot!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 75.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1414
    },
    {
      "id": 10786,
      "post_number": 2,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-08T14:32:27.617Z",
      "updated_at": "2025-04-08T14:34:23.022Z",
      "cooked": "<p>Hi! The doc says that you can pass an array as sources, so the following will work.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#bibliography((\"a.bib\", \"b.bib\"))\n</code></pre>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/model/bibliography/#parameters-sources\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/model/bibliography/#parameters-sources\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/model/bibliography/#parameters-sources\" target=\"_blank\" rel=\"noopener\">Bibliography Function ‚Äì Typst Documentation</a></h3>\n\n  <p>Documentation for the `bibliography` function.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Hi! The doc says that you can pass an array as sources, so the following will work.\n\n```typst\n#bibliography((\"a.bib\", \"b.bib\"))\n```\n\nhttps://typst.app/docs/reference/model/bibliography/#parameters-sources",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 26,
      "score": 60.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 10819,
      "post_number": 3,
      "username": "QIAN_Chen",
      "name": "BoomShaKaLaaaKa",
      "created_at": "2025-04-09T02:28:30.318Z",
      "updated_at": "2025-04-09T02:28:30.318Z",
      "cooked": "<p>Thanks so much! I totally forgot the parentheses <img src=\"https://forum.typst.app/images/emoji/apple/smile.png?v=12\" title=\":smile:\" class=\"emoji\" alt=\":smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nI have another question‚ÄîI‚Äôve noticed that separate <code>.bib</code> files don‚Äôt seem to support cross-referencing. For example, I have an <code>abbrev.bib</code> file with all my abbreviations using entries like <code>@string{xxx = yyy}</code>, but these don‚Äôt seem to be recognized in my other <code>.bib</code> files. Is there a way around this?</p>",
      "raw": "Thanks so much! I totally forgot the parentheses üòÑ\nI have another question‚ÄîI've noticed that separate `.bib` files don't seem to support cross-referencing. For example, I have an `abbrev.bib` file with all my abbreviations using entries like `@string{xxx = yyy}`, but these don't seem to be recognized in my other `.bib` files. Is there a way around this?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1414
    },
    {
      "id": 10824,
      "post_number": 4,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-09T03:41:01.619Z",
      "updated_at": "2025-04-09T03:41:55.911Z",
      "cooked": "<p>To be honest, I have never used <a href=\"https://www.bibtex.org/Format/\" rel=\"noopener nofollow ugc\">the <code>@string</code> feature</a> before.</p>\n<p>The following might work.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#bibliography(bytes((\"abbrev.bib\", \"ref.bib\").map(read).join(\"\\n\")))\n</code></pre>\n<ul>\n<li>\n<p><code>(\"abbrev.bib\", \"ref.bib\").map(read).join(\"\\n\")</code></p>\n<p>Read files as strings, and join them together.</p>\n</li>\n<li>\n<p><code>bytes(‚Ä¶)</code></p>\n<p>Convert the string to raw bytes, making <code>#bibliography</code> think it is a single file.</p>\n</li>\n</ul>\n<p>Besides, most people don‚Äôt read topics marked as <em>solved</em>. If you want to discuss it further, please <a href=\"https://forum.typst.app/new-topic\">start a new topic</a> and put a link to this post.</p>",
      "raw": "To be honest, I have never used [the `@string` feature](https://www.bibtex.org/Format/) before.\n\nThe following might work.\n\n```typst\n#bibliography(bytes((\"abbrev.bib\", \"ref.bib\").map(read).join(\"\\n\")))\n```\n\n- `(\"abbrev.bib\", \"ref.bib\").map(read).join(\"\\n\")`\n\n  Read files as strings, and join them together.\n\n- `bytes(‚Ä¶)`\n\n  Convert the string to raw bytes, making `#bibliography` think it is a single file.\n\nBesides, most people don't read topics marked as *solved*. If you want to discuss it further, please [start a new topic](https://forum.typst.app/new-topic) and put a link to this post.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 19,
      "score": 38.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 10827,
      "post_number": 5,
      "username": "QIAN_Chen",
      "name": "BoomShaKaLaaaKa",
      "created_at": "2025-04-09T03:52:47.462Z",
      "updated_at": "2025-04-09T03:52:47.462Z",
      "cooked": "<p>Amazing! Thanks a lot! That works, Typst is really a programming language <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Amazing! Thanks a lot! That works, Typst is really a programming language :smiley:",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1414
    }
  ],
  "scraped_at": "2025-06-10T09:49:34.247243"
}
{
  "topic_metadata": {
    "id": 3562,
    "title": "How to control line breaks (wrap opportunities) in inline math?",
    "slug": "how-to-control-line-breaks-wrap-opportunities-in-inline-math",
    "posts_count": 8,
    "created_at": "2025-04-08T13:14:10.610Z",
    "last_posted_at": "2025-04-09T03:54:03.563Z",
    "views": 113,
    "like_count": 5,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Y.D.X",
    "tags": [
      "math",
      "text"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 461
  },
  "posts": [
    {
      "id": 10779,
      "post_number": 1,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-08T13:14:10.804Z",
      "updated_at": "2025-04-08T13:23:00.444Z",
      "cooked": "<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: 10em, margin: 1em)\nThen $exists x &gt; 0, f(x) = y$ and why?\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/c/cb1c197fd8bb631ea658a2e533a2c150db0e3f23.png\" alt=\"ÂõæÁâá\" data-base62-sha1=\"sYN82iPI4GTmx56sAn0SecRXKAX\" width=\"322\" height=\"187\"></p>\n<p>How to allow the line to break after <code>,</code>? I think the following would be better.</p>\n<pre><code class=\"lang-auto\">Then ‚àÉx&gt;0,\nf(x) = y and\nwhy?\n</code></pre>\n<h2><a name=\"p-10779-why-cant-i-split-it-1\" class=\"anchor\" href=\"#p-10779-why-cant-i-split-it-1\"></a>Why can‚Äôt I split it?</h2>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$exists x &gt; 0$, $f(x) = y$\n</code></pre>\n<p>My document is not English, and I have to use a dedicated font for my main text. The font provides a good glyph for this comma, but it does not fit well among Latin-like characters in math equations.</p>\n<p>Moreover, I can‚Äôt <code>set text(font: (covers: regex_matching_comma_period_etc, ‚Ä¶))</code>, because it will destroy kerning.</p>\n<h2><a name=\"p-10779-my-failed-attempts-2\" class=\"anchor\" href=\"#p-10779-my-failed-attempts-2\"></a>My (failed) attempts</h2>\n<ul>\n<li>Adding <code>med</code>/<code>thin</code>/etc. doesn‚Äôt break the line.</li>\n<li>Inserting <code>zwj</code>/<code>zwnj</code> changes nothing.</li>\n<li>Inserting a <code>#linebreak()</code> gives a weird result.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/0/0f04944fa468c3a5575af944e854271da4822080.png\" alt=\"ÂõæÁâá\" data-base62-sha1=\"28QYlaeRsRFGbkxO2P6GexxNi1i\" width=\"255\" height=\"131\"></li>\n</ul>",
      "raw": "```typst\n#set page(height: auto, width: 10em, margin: 1em)\nThen $exists x > 0, f(x) = y$ and why?\n```\n\n![ÂõæÁâá|322x187](upload://sYN82iPI4GTmx56sAn0SecRXKAX.png)\n\nHow to allow the line to break after `,`? I think the following would be better.\n\n```\nThen ‚àÉx>0,\nf(x) = y and\nwhy?\n```\n\n## Why can't I split it?\n\n```typst\n$exists x > 0$, $f(x) = y$\n```\n\nMy document is not English, and I have to use a dedicated font for my main text. The font provides a good glyph for this comma, but it does not fit well among Latin-like characters in math equations.\n\nMoreover, I can't `set text(font: (covers: regex_matching_comma_period_etc, ‚Ä¶))`, because it will destroy kerning.\n\n## My (failed) attempts\n\n- Adding `med`/`thin`/etc. doesn't break the line.\n- Inserting `zwj`/`zwnj` changes nothing.\n- Inserting a `#linebreak()` gives a weird result.\n  ![ÂõæÁâá|255x131](upload://28QYlaeRsRFGbkxO2P6GexxNi1i.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 399.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 10781,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-04-08T13:46:27.208Z",
      "updated_at": "2025-04-08T13:46:27.208Z",
      "cooked": "<p>You could just wrap the comma in a separate equation to get the correct font. The space of the comma relative to the zero looks to be equal to the case where everything is in the same equation. The space behind the comma will be wider by default because you have to use the ‚Äúplain-text‚Äù space between the last two equations. This is however not an issue when you have a line break.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">Then $exists x &gt; 0$$,$ $f(x) = y$ and why?\n</code></pre>",
      "raw": "You could just wrap the comma in a separate equation to get the correct font. The space of the comma relative to the zero looks to be equal to the case where everything is in the same equation. The space behind the comma will be wider by default because you have to use the \"plain-text\" space between the last two equations. This is however not an issue when you have a line break.\n\n```typ\nThen $exists x > 0$$,$ $f(x) = y$ and why?\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 10784,
      "post_number": 3,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-08T14:11:34.834Z",
      "updated_at": "2025-04-08T14:11:34.834Z",
      "cooked": "<p>Thank you! Inspired by your reply, I realize that I can simply write:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$exists x &gt; 0,$ $f(x) = y$\n</code></pre>\n<p>But to be honest, I don‚Äôt think this is an elegant way‚Ä¶</p>",
      "raw": "Thank you! Inspired by your reply, I realize that I can simply write:\n\n```typst\n$exists x > 0,$ $f(x) = y$\n```\n\nBut to be honest, I don't think this is an elegant way‚Ä¶",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 44.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 10790,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T15:45:03.488Z",
      "updated_at": "2025-04-08T15:45:03.488Z",
      "cooked": "<p>Indeed, this is how you would split it.</p>\n<aside class=\"quote no-group\" data-username=\"Y.D.X\" data-post=\"3\" data-topic=\"3562\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/y.d.x/48/252_2.png\" class=\"avatar\"> Y.D.X:</div>\n<blockquote>\n<p>But to be honest, I don‚Äôt think this is an elegant way‚Ä¶</p>\n</blockquote>\n</aside>\n<p>Well, long inline math is hard to make look good. Typst is a WYSIWYM tool, so if you explicitly don‚Äôt say it to break, it won‚Äôt break. If you want, you can always open a new issue and see if others will agree. Perhaps this can be improved.</p>",
      "raw": "Indeed, this is how you would split it.\n\n[quote=\"Y.D.X, post:3, topic:3562\"]\nBut to be honest, I don‚Äôt think this is an elegant way‚Ä¶\n[/quote]\n\nWell, long inline math is hard to make look good. Typst is a WYSIWYM tool, so if you explicitly don't say it to break, it won't break. If you want, you can always open a new issue and see if others will agree. Perhaps this can be improved.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10795,
      "post_number": 5,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-08T16:12:45.421Z",
      "updated_at": "2025-04-08T16:14:12.628Z",
      "cooked": "<blockquote>\n<p>WYSIWYM</p>\n</blockquote>\n<p>But it breaks between<code>&gt;</code> and <code>0</code>!</p>\n<p>I will create an issue when I have time, unless someone does it first.</p>",
      "raw": "> WYSIWYM\n\nBut it breaks between`>` and `0`!\n\nI will create an issue when I have time, unless someone does it first.",
      "reply_to_post_number": 4,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 10796,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T16:16:30.217Z",
      "updated_at": "2025-04-08T16:16:30.217Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Y.D.X\" data-post=\"5\" data-topic=\"3562\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/y.d.x/48/252_2.png\" class=\"avatar\"> Y.D.X:</div>\n<blockquote>\n<p>But it breaks between<code>&gt;</code> and <code>0</code>!</p>\n</blockquote>\n</aside>\n<p>True. I guess changing the breaking locations and their priority would be nice to have.</p>",
      "raw": "[quote=\"Y.D.X, post:5, topic:3562\"]\nBut it breaks between`>` and `0`!\n[/quote]\n\nTrue. I guess changing the breaking locations and their priority would be nice to have.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10798,
      "post_number": 7,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-08T16:35:11.402Z",
      "updated_at": "2025-04-08T16:35:11.402Z",
      "cooked": "<p>A related issue regarding customizable line breaking behaviour in math already exists:</p><aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/4795\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/4795\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/4795\" target=\"_blank\" rel=\"noopener nofollow ugc\">Simple way to add non-breaking space in math mode</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-08-20\" data-time=\"14:50:18\" data-timezone=\"UTC\">02:50PM - 20 Aug 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/memeplex\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"memeplex\" src=\"https://forum.typst.app/uploads/default/original/2X/b/be9d22aa41a60f0625240b23bfdda2461e291a25.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"A2957C\">\n          memeplex\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          math\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          syntax\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nInline equations may be particularly sensible to arbitrary li<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">ne breaks. A convenient way to add non-breaking space (such as `~` in text mode) would be helpful. One can also box the equation, although that currently introduces some baseline related issues e.g. (see also https://github.com/typst/typst/issues/4796):\n\n```typst\nHello #box($a + sum_(i=1)^n x_i / y_i$) world\n```\n\n&lt;img width=\"227\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f78339e9-ea22-40fe-933e-26ff3fc8ae49\"&gt;\n\nMaybe fixing this would be enough, but I believe that `~` or similar could help.\n\n### Use Case\n\nDuring the final phase of document edition it would be useful to add a handful of `~` where the author detects problematic line breaks inside equations.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "A related issue regarding customizable line breaking behaviour in math already exists:\nhttps://github.com/typst/typst/issues/4795",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 10828,
      "post_number": 8,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2025-04-09T03:54:03.563Z",
      "updated_at": "2025-04-09T03:54:03.563Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Y.D.X\" data-post=\"5\" data-topic=\"3562\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/y.d.x/48/252_2.png\" class=\"avatar\"> Y.D.X:</div>\n<blockquote>\n<p>I will create an issue when I have time, unless someone does it first.</p>\n</blockquote>\n</aside>\n<p>I‚Äôve just found an exact issue:</p><aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/5315#issuecomment-2788211046\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/5315#issuecomment-2788211046\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/5315#issuecomment-2788211046\" target=\"_blank\" rel=\"noopener nofollow ugc\">In inline math mode, allow breaking lines after a comma</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-10-28\" data-time=\"17:33:33\" data-timezone=\"UTC\">05:33PM - 28 Oct 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/jmigual\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"jmigual\" src=\"https://forum.typst.app/uploads/default/original/2X/b/b355ea1b3279021f8ff0ae68b39c0e9c7e99d168.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"CAC1BE\">\n          jmigual\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          math\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nThere are already some cases where inline math breaks lines aut<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">omatically. However, it seems that comma doesn't trigger this scenario. It'd be nice to either: (1) have an option to choose whether or not a line break can be added after a comma or (2) make commas \"breakable\" by default.\n\n### Use Case\n\nIn my use case, I was trying to write a very long tuple:\n\n```typst\nTest of a sentence with math that should break after a comma: \n$E = (M, O, sans(\"cap\"), sans(\"prc\"), sans(\"nextM\"), sans(\"csiM\"), sans(\"csd\"))$\n```\n\nAnd this is how it rendered:\n\n![image](https://github.com/user-attachments/assets/62faef9d-f6ef-461f-8394-e357eeef6a34)\n\nThe Typst version used for this is v0.12.0.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>Therefore, I will close this topic. Hope the linebreak algorithm will be improved someday.</p>",
      "raw": "[quote=\"Y.D.X, post:5, topic:3562\"]\nI will create an issue when I have time, unless someone does it first.\n[/quote]\n\nI've just found an exact issue:\nhttps://github.com/typst/typst/issues/5315#issuecomment-2788211046\n\nTherefore, I will close this topic. Hope the linebreak algorithm will be improved someday.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 292
    }
  ],
  "scraped_at": "2025-06-10T09:49:33.517908"
}
{
  "topic_metadata": {
    "id": 3563,
    "title": "How to create a function that takes a array of dictionaries?",
    "slug": "how-to-create-a-function-that-takes-a-array-of-dictionaries",
    "posts_count": 5,
    "created_at": "2025-04-08T13:40:09.049Z",
    "last_posted_at": "2025-04-08T15:36:13.153Z",
    "views": 115,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1132
  },
  "posts": [
    {
      "id": 10780,
      "post_number": 1,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2025-04-08T13:40:09.436Z",
      "updated_at": "2025-04-08T13:40:09.436Z",
      "cooked": "<p>I want to create a function that takes data for a table. I‚Äôd like it to have one parameter that takes a <code>result</code> that is mutiple rows of data:</p>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Feedback</th>\n<th>Status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>John</td>\n<td>Did not find the button</td>\n<td>Not OK</td>\n</tr>\n<tr>\n<td>Jane</td>\n<td>Did find the button immediately</td>\n<td>OK</td>\n</tr>\n</tbody>\n</table>\n</div><p>What is the best way to pass this to my function? Note that this data does not come from an external source like a CSV, I plan to put it directly as a function argument in Typst.</p>\n<p>Below you find my currently failing attempt at constructing a function like that</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table = (\nid,\ntask,\nresult: ((name: \"\", feedback: \"\", status: \"\"),)\n) = {\n  table(\n    columns: (auto, 1fr, auto),\n    [ID], table.cell(colspan: 2, id),\n    [Task], table.cell(colspan: 2, task),\n    for r in result {\n         table.cell[r.at(\"name\")]\n         table.cell[r.at(\"feedback\")]\n         table.cell[r.at(\"status\")]\n    }\n  )\n}\n</code></pre>\n<p>Calling with</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">exercise-table(\n   \"1\",\n   \"Test\",\n   ((\n      name: \"John\",\n      feedback: \"Did not find the button\",\n      status: \"Not OK\"\n   ), )\n</code></pre>\n<p>Apologies for the title, I couldn‚Äôt think of anything better.</p>",
      "raw": "I want to create a function that takes data for a table. I'd like it to have one parameter that takes a `result` that is mutiple rows of data:\n\n|Name | Feedback | Status|\n|--- | --- | ---|\n|John | Did not find the button | Not OK|\n|Jane | Did find the button immediately | OK|\n\nWhat is the best way to pass this to my function? Note that this data does not come from an external source like a CSV, I plan to put it directly as a function argument in Typst.\n\nBelow you find my currently failing attempt at constructing a function like that\n```typ\n#let exercise-table = (\nid,\ntask,\nresult: ((name: \"\", feedback: \"\", status: \"\"),)\n) = {\n  table(\n    columns: (auto, 1fr, auto),\n    [ID], table.cell(colspan: 2, id),\n    [Task], table.cell(colspan: 2, task),\n    for r in result {\n         table.cell[r.at(\"name\")]\n         table.cell[r.at(\"feedback\")]\n         table.cell[r.at(\"status\")]\n    }\n  )\n}\n```\nCalling with\n```typ\nexercise-table(\n   \"1\",\n   \"Test\",\n   ((\n      name: \"John\",\n      feedback: \"Did not find the button\",\n      status: \"Not OK\"\n   ), )\n```\nApologies for the title, I couldn't think of anything better.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 440.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 10783,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-04-08T14:01:45.110Z",
      "updated_at": "2025-04-08T14:02:59.645Z",
      "cooked": "<p>Passing an array of dictionaries to the function is perfectly fine. Inside the table you can then directly grab the values from the dictionaries to fill the table. This only works under the assumption that every row of the table has all three items ‚Äúname‚Äù, ‚Äúfeedback‚Äù and ‚Äústatus‚Äù. If this is not the case, you have to add the relevant checks inside <code>result.map()</code>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(\n  id,\n  task,\n  result: ((name: \"\", feedback: \"\", status: \"\"),)\n) = {\n  table(\n    columns: (auto, 1fr, auto),\n    [ID], table.cell(colspan: 2, id),\n    [Task], table.cell(colspan: 2, task),\n    ..result.map(row =&gt; row.values()).flatten()\n  )\n}\n\n#exercise-table(\n   \"1\",\n   \"Test\",\n   result: ((\n      name: \"John\",\n      feedback: \"Did not find the button\",\n      status: \"Not OK\"\n   ), )\n )\n</code></pre>\n<p>Since you did not specify which part of your example was failing exactly, these are the two mistakes I noticed:</p>\n<ul>\n<li>By using <code>table.cell[]</code> with square brackets the function expects content. You either have to use the prefix <code>#</code> to access the variable <code>r</code> or you can directly use parentheses <code>table.cell(r.at(\"name\"))</code>.</li>\n<li>The argument ‚Äúresult‚Äù is a named argument. You therefore have to explicitly use the name when calling the function.</li>\n</ul>",
      "raw": "Passing an array of dictionaries to the function is perfectly fine. Inside the table you can then directly grab the values from the dictionaries to fill the table. This only works under the assumption that every row of the table has all three items \"name\", \"feedback\" and \"status\". If this is not the case, you have to add the relevant checks inside `result.map()`.\n\n```typ\n#let exercise-table(\n  id,\n  task,\n  result: ((name: \"\", feedback: \"\", status: \"\"),)\n) = {\n  table(\n    columns: (auto, 1fr, auto),\n    [ID], table.cell(colspan: 2, id),\n    [Task], table.cell(colspan: 2, task),\n    ..result.map(row => row.values()).flatten()\n  )\n}\n\n#exercise-table(\n   \"1\",\n   \"Test\",\n   result: ((\n      name: \"John\",\n      feedback: \"Did not find the button\",\n      status: \"Not OK\"\n   ), )\n )\n```\n\nSince you did not specify which part of your example was failing exactly, these are the two mistakes I noticed:\n- By using `table.cell[]` with square brackets the function expects content. You either have to use the prefix `#` to access the variable `r` or you can directly use parentheses `table.cell(r.at(\"name\"))`.\n- The argument \"result\" is a named argument. You therefore have to explicitly use the name when calling the function.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 44.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 10785,
      "post_number": 3,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2025-04-08T14:16:49.970Z",
      "updated_at": "2025-04-08T14:16:49.970Z",
      "cooked": "<p>Thank you, this worked! I got a wierd error regarding ‚ÄúModule not found‚Äù from my template.typ, so something strange was going on. I think my main issue was that I did not specify <code>result:</code> on the function call.</p>",
      "raw": "Thank you, this worked! I got a wierd error regarding \"Module not found\" from my template.typ, so something strange was going on. I think my main issue was that I did not specify `result:` on the function call.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 10788,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T15:13:38.077Z",
      "updated_at": "2025-04-08T15:34:15.474Z",
      "cooked": "<p>I don‚Äôt understand the logic behind additional <code>id</code> and <code>task</code> arguments that create 2 rows of 2 columns in a 3 column table. Is this intended? IMO, this is not readable and not how tables are usually used.</p>\n<p>Also, not sure if you actually need to use dictionary over a list. From the for loop, it looks like you just want to create the table provided in the OP. And normally you would put table in a figure with a caption and maybe add a label.</p>\n<p>If you really just want to recreate the table, use this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(result: ()) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  result: (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n</code></pre>\n<details><summary>with id &amp; task</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(id, task, result: ()) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  result: (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n</code></pre>\n</details>\n<p>Or this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table((\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n))\n</code></pre>\n<details><summary>with id &amp; task</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(id, task, result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n</code></pre>\n</details>\n<p>Or even this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(..result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.pos().map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n)\n</code></pre>\n<details><summary>with id &amp; task</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let exercise-table(id, task, ..result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.pos().map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n)\n</code></pre>\n</details>\n<p>But without additional context, I don‚Äôt see a point in using the dictionary:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Row schema: (name, feedback, status)\n#let exercise-table(..result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.pos().flatten(),\n)\n\n#exercise-table(\n  (\"John\", \"Did not find the button\", \"Not OK\"),\n  (\"Jane\", \"Did find the button immediately\", \"OK\"),\n)\n</code></pre>\n<details><summary>with id &amp; task</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Row schema: (name, feedback, status)\n#let exercise-table(id, task, ..result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.pos().flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (\"John\", \"Did not find the button\", \"Not OK\"),\n  (\"Jane\", \"Did find the button immediately\", \"OK\"),\n)\n</code></pre>\n</details>\n<p>The cool thing about dictionaries though is that they <a href=\"https://typst.app/docs/reference/foundations/dictionary/#summary\">preserve order</a>:</p>\n<blockquote>\n<p>You can iterate over the pairs in a dictionary using a <a href=\"https://typst.app/docs/reference/scripting/#loops\">for loop</a>. This will iterate in the order the pairs were inserted / declared.</p>\n</blockquote>\n<p>Which is why converting it to flatten array works.</p>",
      "raw": "I don't understand the logic behind additional `id` and `task` arguments that create 2 rows of 2 columns in a 3 column table. Is this intended? IMO, this is not readable and not how tables are usually used.\n\nAlso, not sure if you actually need to use dictionary over a list. From the for loop, it looks like you just want to create the table provided in the OP. And normally you would put table in a figure with a caption and maybe add a label.\n\nIf you really just want to recreate the table, use this:\n\n```typ\n#let exercise-table(result: ()) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  result: (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n```\n\n<details><summary>with id & task</summary>\n\n```typ\n#let exercise-table(id, task, result: ()) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  result: (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n```\n\n</details>\n\nOr this:\n\n```typ\n#let exercise-table(result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table((\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n))\n```\n\n<details><summary>with id & task</summary>\n\n```typ\n#let exercise-table(id, task, result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (\n    (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n    (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n  ),\n)\n```\n\n</details>\n\nOr even this:\n\n```typ\n#let exercise-table(..result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.pos().map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n)\n```\n\n<details><summary>with id & task</summary>\n\n```typ\n#let exercise-table(id, task, ..result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.pos().map(dictionary.values).flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (name: \"John\", feedback: \"Did not find the button\", status: \"Not OK\"),\n  (name: \"Jane\", feedback: \"Did find the button immediately\", status: \"OK\"),\n)\n```\n\n</details>\n\nBut without additional context, I don't see a point in using the dictionary:\n\n```typ\n// Row schema: (name, feedback, status)\n#let exercise-table(..result) = table(\n  columns: (auto, 1fr, auto),\n  table.header[Name][Feedback][Status],\n  ..result.pos().flatten(),\n)\n\n#exercise-table(\n  (\"John\", \"Did not find the button\", \"Not OK\"),\n  (\"Jane\", \"Did find the button immediately\", \"OK\"),\n)\n```\n\n<details><summary>with id & task</summary>\n\n```typ\n// Row schema: (name, feedback, status)\n#let exercise-table(id, task, ..result) = table(\n  columns: (auto, 1fr, auto),\n  [ID],\n  table.cell(colspan: 2, id),\n  [Task],\n  table.cell(colspan: 2, task),\n  ..result.pos().flatten(),\n)\n\n#exercise-table(\n  \"1\",\n  \"Test\",\n  (\"John\", \"Did not find the button\", \"Not OK\"),\n  (\"Jane\", \"Did find the button immediately\", \"OK\"),\n)\n```\n\n</details>\n\nThe cool thing about dictionaries though is that they [preserve order](https://typst.app/docs/reference/foundations/dictionary/#summary):\n\n> You can iterate over the pairs in a dictionary using a [for loop](https://typst.app/docs/reference/scripting/#loops). This will iterate in the order the pairs were inserted / declared.\n\nWhich is why converting it to flatten array works.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 23.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10789,
      "post_number": 5,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2025-04-08T15:36:13.153Z",
      "updated_at": "2025-04-08T15:37:46.984Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"4\" data-topic=\"3563\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>I don‚Äôt understand the logic behind additional <code>id</code> and <code>task</code> arguments that create 2 rows of 2 columns in a 3 column table. Is this intended? IMO, this is not readable and not how tables are usually used.</p>\n</blockquote>\n</aside>\n<p>The table is supposed to represent a exercise (described by the Task row) that has an ID (it has some more fields in my document, but I simplified it a little to focus on <code>results</code>). The data passed in with <code>result</code> represents different people solving that task and their feedback on it. <code>The colspan: 2</code> is just for aesthetic reasons.</p>\n<aside class=\"quote no-group\">\n<blockquote>\n<p>Also, not sure if you actually need to use dictionary over a list.</p>\n</blockquote>\n</aside>\n<p>I was unsure if I should use a dictionary, but I thought it would be nice to have names assigned to the data.</p>",
      "raw": "[quote=\"Andrew, post:4, topic:3563\"]\nI don‚Äôt understand the logic behind additional `id` and `task` arguments that create 2 rows of 2 columns in a 3 column table. Is this intended? IMO, this is not readable and not how tables are usually used.\n[/quote]\n\nThe table is supposed to represent a exercise (described by the Task row) that has an ID (it has some more fields in my document, but I simplified it a little to focus on `results`). The data passed in with `result` represents different people solving that task and their feedback on it. `The colspan: 2` is just for aesthetic reasons.\n\n[quote]\nAlso, not sure if you actually need to use dictionary over a list. \n[/quote]\n\nI was unsure if I should use a dictionary, but I thought it would be nice to have names assigned to the data.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    }
  ],
  "scraped_at": "2025-06-10T09:49:32.776996"
}
{
  "topic_metadata": {
    "id": 3569,
    "title": "How to get first heading in each column?",
    "slug": "how-to-get-first-heading-in-each-column",
    "posts_count": 5,
    "created_at": "2025-04-08T20:51:57.017Z",
    "last_posted_at": "2025-04-14T07:55:17.691Z",
    "views": 74,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 360
  },
  "posts": [
    {
      "id": 10812,
      "post_number": 1,
      "username": "rabidgremlin",
      "name": "rabidgremlin",
      "created_at": "2025-04-08T20:51:57.132Z",
      "updated_at": "2025-04-09T06:38:37.846Z",
      "cooked": "<p>I have set the columns for my page to 2. I‚Äôm wanting to set up the page header so that it shows the first headings of each column to the left and the right in the header but I cannot figure out how to query/select the first heading in each column.</p>\n<p>Anyone have any ideas/solutions ?</p>\n<p>Thanks</p>",
      "raw": "I have set the columns for my page to 2. I'm wanting to set up the page header so that it shows the first headings of each column to the left and the right in the header but I cannot figure out how to query/select the first heading in each column.\n\nAnyone have any ideas/solutions ?\n\nThanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 79.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1430
    },
    {
      "id": 10813,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-08T21:14:03.628Z",
      "updated_at": "2025-04-08T21:14:03.628Z",
      "cooked": "<p>Hello. If there is no heading in a column, what should be displayed? What about numbering? There is a very similar question in <a href=\"https://forum.typst.app/t/how-to-get-the-number-of-the-first-and-last-paragraph-on-a-page-and-show-the-result-in-the-header/3456\" class=\"inline-onebox\">How to get the number of the first and last paragraph on a page and show the result in the header?</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(header: [Heading 1#h(1fr)Heading 2], columns: 2)\n#set par(justify: true)\n\n= Heading 1\n#lorem(50)\n\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(50)\n\n= Heading 2\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(70)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/61c335410902203eb5b916b8a7d19aed5dbc0001.png\" data-download-href=\"https://forum.typst.app/uploads/default/61c335410902203eb5b916b8a7d19aed5dbc0001\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/61c335410902203eb5b916b8a7d19aed5dbc0001_2_339x500.png\" alt=\"image\" data-base62-sha1=\"dWQxQq81YxJYczwrVNmwcRcbwUF\" width=\"339\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/61c335410902203eb5b916b8a7d19aed5dbc0001_2_339x500.png, https://forum.typst.app/uploads/default/optimized/2X/6/61c335410902203eb5b916b8a7d19aed5dbc0001_2_508x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/6/61c335410902203eb5b916b8a7d19aed5dbc0001_2_678x1000.png 2x\" data-dominant-color=\"222222\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">691√ó1017 261 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Is this how it should look like?</p>",
      "raw": "Hello. If there is no heading in a column, what should be displayed? What about numbering? There is a very similar question in https://forum.typst.app/t/how-to-get-the-number-of-the-first-and-last-paragraph-on-a-page-and-show-the-result-in-the-header/3456.\n\n```typ\n#set page(header: [Heading 1#h(1fr)Heading 2], columns: 2)\n#set par(justify: true)\n\n= Heading 1\n#lorem(50)\n\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(50)\n\n= Heading 2\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(70)\n```\n\n![image|339x500](upload://dWQxQq81YxJYczwrVNmwcRcbwUF.png)\n\nIs this how it should look like?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10816,
      "post_number": 3,
      "username": "rabidgremlin",
      "name": "rabidgremlin",
      "created_at": "2025-04-08T23:38:08.678Z",
      "updated_at": "2025-04-08T23:38:08.678Z",
      "cooked": "<p>I‚Äôll take a look at that link, but yes that is what it should look like (but obviously the header values need to be dynamic <img src=\"https://forum.typst.app/images/emoji/apple/smile.png?v=12\" title=\":smile:\" class=\"emoji\" alt=\":smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> ).</p>\n<p>Good question re what to do if no heading in the column‚Ä¶ I think blank will do in my case.</p>",
      "raw": "I'll take a look at that link, but yes that is what it should look like (but obviously the header values need to be dynamic :smile: ).\n\nGood question re what to do if no heading in the column... I think blank will do in my case.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1430
    },
    {
      "id": 10948,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-11T21:02:28.220Z",
      "updated_at": "2025-04-11T21:02:28.220Z",
      "cooked": "<p>Wow, this was actually very easy after thinking for a little bit:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let header = context {\n  let headings = query(heading).filter(x =&gt; x.location().page() == here().page())\n  let leftm = if page.margin == auto { 2.5cm } else { page.margin.left }\n  let rightm = if page.margin == auto { 2.5cm } else { page.margin.right }\n  let middle = (page.width - leftm - rightm) / 2\n  let left = headings.filter(x =&gt; x.location().position().x &lt; middle)\n  let right = headings.filter(x =&gt; x not in left)\n  let left = if left.len() != 0 { left.first().body }\n  let right = if right.len() != 0 { right.first().body }\n  [#left#h(1fr)#right]\n}\n#set page(header: header, columns: 2)\n#set heading(numbering: \"1.\")\n#set par(justify: true)\n\n= Heading 1\n#lorem(50)\n\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(50)\n\n= Heading 2\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(70)\n\n= Heading 3\n#lorem(80)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae.png\" data-download-href=\"https://forum.typst.app/uploads/default/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae_2_344x500.png\" alt=\"image\" data-base62-sha1=\"AkMGF6BCYn3fIVTBCQkf3smTnc2\" width=\"344\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae_2_344x500.png, https://forum.typst.app/uploads/default/optimized/2X/f/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae_2_516x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/f/fea7c0f1b2a419d3649249d69fcdf9d24676c2ae_2_688x1000.png 2x\" data-dominant-color=\"222222\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">713√ó1035 265 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/4e3d4327b3fba366792e93c2403f81d6f27b8536.png\" alt=\"image\" data-base62-sha1=\"ba8uN0tcaaSstfHito9BE1PgN9Q\" width=\"339\" height=\"222\"></p>",
      "raw": "Wow, this was actually very easy after thinking for a little bit:\n\n```typ\n#let header = context {\n  let headings = query(heading).filter(x => x.location().page() == here().page())\n  let leftm = if page.margin == auto { 2.5cm } else { page.margin.left }\n  let rightm = if page.margin == auto { 2.5cm } else { page.margin.right }\n  let middle = (page.width - leftm - rightm) / 2\n  let left = headings.filter(x => x.location().position().x < middle)\n  let right = headings.filter(x => x not in left)\n  let left = if left.len() != 0 { left.first().body }\n  let right = if right.len() != 0 { right.first().body }\n  [#left#h(1fr)#right]\n}\n#set page(header: header, columns: 2)\n#set heading(numbering: \"1.\")\n#set par(justify: true)\n\n= Heading 1\n#lorem(50)\n\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(50)\n\n= Heading 2\n#lorem(60)\n\n#lorem(70)\n\n#lorem(80)\n\n#lorem(70)\n\n= Heading 3\n#lorem(80)\n```\n\n![image|344x500](upload://AkMGF6BCYn3fIVTBCQkf3smTnc2.png)\n\n![image|678x445, 50%](upload://ba8uN0tcaaSstfHito9BE1PgN9Q.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11058,
      "post_number": 5,
      "username": "rabidgremlin",
      "name": "rabidgremlin",
      "created_at": "2025-04-14T07:55:17.691Z",
      "updated_at": "2025-04-14T07:55:17.691Z",
      "cooked": "<p>Ah nice. Very cunning!</p>",
      "raw": "Ah nice. Very cunning!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1430
    }
  ],
  "scraped_at": "2025-06-10T09:49:32.056876"
}
{
  "topic_metadata": {
    "id": 3571,
    "title": "How to keep parentheses small?",
    "slug": "how-to-keep-parentheses-small",
    "posts_count": 7,
    "created_at": "2025-04-09T01:32:18.509Z",
    "last_posted_at": "2025-04-18T15:50:46.789Z",
    "views": 104,
    "like_count": 4,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 273
  },
  "posts": [
    {
      "id": 10817,
      "post_number": 1,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2025-04-09T01:32:18.615Z",
      "updated_at": "2025-04-09T01:32:18.615Z",
      "cooked": "<p>I usually write stuff like <code>$f(hat(beta))$</code> but would like to keep the parentheses as in <code>$f(beta)$</code>:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/eab0a5b50432a70596d58de0fd8fd6edf6d60999.png\" alt=\"image\" data-base62-sha1=\"xuabYwLNxCxeVNuwOd32XFLGTHj\" width=\"112\" height=\"44\"></p>\n<p>A workaround is <code>$f\"(\"hat(beta))$</code> but I noticed that it introduces undesirable spacing where math.ops are involved:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/81c255456cdba3aae13038018fe0401aed89a172.png\" alt=\"image\" data-base62-sha1=\"ivTWVolc4PcoAhQHBbRG1p12Zyy\" width=\"130\" height=\"44\"></p>\n<p>How can I get normal height parenthesis while avoiding the extra spacing, and perhaps in a more elegant way?</p>\n<p>Thanks!</p>",
      "raw": "I usually write stuff like `$f(hat(beta))$` but would like to keep the parentheses as in `$f(beta)$`:\n\n![image|224x88, 50%](upload://xuabYwLNxCxeVNuwOd32XFLGTHj.png)\n\nA workaround is `$f\"(\"hat(beta))$` but I noticed that it introduces undesirable spacing where math.ops are involved:\n\n![image|260x88, 50%](upload://ivTWVolc4PcoAhQHBbRG1p12Zyy.png)\n\nHow can I get normal height parenthesis while avoiding the extra spacing, and perhaps in a more elegant way?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 96.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    },
    {
      "id": 10821,
      "post_number": 2,
      "username": "maxwellfire",
      "name": "Max",
      "created_at": "2025-04-09T03:03:32.456Z",
      "updated_at": "2025-04-09T03:04:14.969Z",
      "cooked": "<p>I think you can use <code>paren.l</code> and <code>paren.r</code> for that, as in <code>$cos paren.l accent(beta, hat) paren.r cos(beta)$</code>, which looks normal to me</p>",
      "raw": "I think you can use `paren.l` and `paren.r` for that, as in `$cos paren.l accent(beta, hat) paren.r cos(beta)$`, which looks normal to me",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 21.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1432
    },
    {
      "id": 10822,
      "post_number": 3,
      "username": "maxwellfire",
      "name": "Max",
      "created_at": "2025-04-09T03:13:12.924Z",
      "updated_at": "2025-04-09T03:13:39.956Z",
      "cooked": "<p>You can also probably set <code>size</code> on <a href=\"https://typst.app/docs/reference/math/lr#functions-lr-size\">lr</a> to a contextual <code>0% + text.size</code> if you want to override all lr delimiters not to scale in some places.</p>",
      "raw": "You can also probably set `size` on [lr](https://typst.app/docs/reference/math/lr#functions-lr-size) to a contextual `0% + text.size` if you want to override all lr delimiters not to scale in some places.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1432
    },
    {
      "id": 10831,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-09T06:23:54.117Z",
      "updated_at": "2025-04-09T06:28:27.299Z",
      "cooked": "<p>You should escape opening or both parentheses:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$f(hat(beta)) f\\(hat(beta)) f(beta)$\n\n$cos(hat(beta)) cos\\(hat(beta)) cos(beta)$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/b/be9faa7d3db911e2e471ba2e52d73599b391155c.png\" alt=\"image\" data-base62-sha1=\"rckNJudBDPCUqs6JvAPGSm6bxxi\" width=\"206\" height=\"93\"></p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/6158\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/6158\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/6158\" target=\"_blank\" rel=\"noopener nofollow ugc\">Add section in `lr()` about resetting parentheses size with a backslash (escape)</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2025-04-09\" data-time=\"06:28:02\" data-timezone=\"UTC\">06:28AM - 09 Apr 25 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Andrew15-5\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Andrew15-5\" src=\"https://forum.typst.app/uploads/default/original/1X/8c66fc8b1c207ba90488266df18b206a61b1fc49.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"707C3A\">\n          Andrew15-5\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          docs\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nI think https://typst.app/docs/reference/math/lr or somewhere e<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">lse it should explain that to use normal `()` etc. size, you should write `\\()` or `\\(\\)`.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "You should escape opening or both parentheses:\n\n```typ\n$f(hat(beta)) f\\(hat(beta)) f(beta)$\n\n$cos(hat(beta)) cos\\(hat(beta)) cos(beta)$\n```\n\n![image|275x124, 75%](upload://rckNJudBDPCUqs6JvAPGSm6bxxi.png)\n\nhttps://github.com/typst/typst/issues/6158",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 29,
      "score": 105.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10832,
      "post_number": 5,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-09T07:59:53.207Z",
      "updated_at": "2025-04-09T07:59:53.207Z",
      "cooked": "<p>That seems like a good option too, that you can apply to an equation or part of it if you don‚Äôt want to write escapes. I think size 0% works without context?</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let nolr(it) = {\n  set math.lr(size: 0%)\n  it\n}\n</code></pre>",
      "raw": "That seems like a good option too, that you can apply to an equation or part of it if you don't want to write escapes. I think size 0% works without context?\n\n```typst\n#let nolr(it) = {\n  set math.lr(size: 0%)\n  it\n}\n```",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 5.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11284,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-04-18T15:16:51.082Z",
      "updated_at": "2025-04-18T15:16:51.082Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/carlos\">@Carlos</a>, don‚Äôt forget to tick <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\"> one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @Carlos, don‚Äôt forget to tick :ballot_box_with_check: one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 11288,
      "post_number": 7,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2025-04-18T15:50:46.789Z",
      "updated_at": "2025-04-18T15:50:46.789Z",
      "cooked": "<p>Done, thank you all, many good solutions here, but escaping seems to be the cleanest one.</p>",
      "raw": "Done, thank you all, many good solutions here, but escaping seems to be the cleanest one.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 23.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    }
  ],
  "scraped_at": "2025-06-10T09:49:31.336545"
}
