{
  "topic_metadata": {
    "id": 1311,
    "title": "What are the values that are shown when hovering over a variable?",
    "slug": "what-are-the-values-that-are-shown-when-hovering-over-a-variable",
    "posts_count": 6,
    "created_at": "2024-10-23T12:07:24.984Z",
    "last_posted_at": "2024-10-23T20:20:03.138Z",
    "views": 109,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "gezepi",
    "tags": [
      "scripting",
      "tooling"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 392
  },
  "posts": [
    {
      "id": 4532,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T12:07:24.984Z",
      "updated_at": "2024-10-23T12:56:18.622Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"gezepi\" data-post=\"4\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/C34CE0/48.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/what-is-the-it-in-show-rules-exactly/1305/4\">What is the `it` in show rules exactly?</a></div>\n<blockquote>\n<p>The tooltips that the web app (and Tinymist) provide are also very helpful. Hovering my mouse over the <code>it</code> shows the same info that <code>repr</code> does:</p>\n</blockquote>\n</aside>\n<p>Oh I never knew that. What are the many different versions that it shows? Just examples?</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/9cf71c52d85faeabda153394ed276467d1b609a6.png\" data-download-href=\"https://forum.typst.app/uploads/default/9cf71c52d85faeabda153394ed276467d1b609a6\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/9cf71c52d85faeabda153394ed276467d1b609a6_2_690x429.png\" alt=\"image\" data-base62-sha1=\"mozUSQbD39zYX6Q9bJN5YMANyom\" width=\"690\" height=\"429\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/9cf71c52d85faeabda153394ed276467d1b609a6_2_690x429.png, https://forum.typst.app/uploads/default/optimized/2X/9/9cf71c52d85faeabda153394ed276467d1b609a6_2_1035x643.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/9cf71c52d85faeabda153394ed276467d1b609a6.png 2x\" data-dominant-color=\"242525\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1113×692 100 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>On the image you can only see two, but there are around 9 available with scrolling.</p>",
      "raw": "[quote=\"gezepi, post:4, topic:1305\"]\nThe tooltips that the web app (and Tinymist) provide are also very helpful. Hovering my mouse over the `it` shows the same info that `repr` does:\n[/quote]\n\nOh I never knew that. What are the many different versions that it shows? Just examples?\n\n![image|690x429](upload://mozUSQbD39zYX6Q9bJN5YMANyom.png)\n\nOn the image you can only see two, but there are around 9 available with scrolling.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 28,
      "score": 385.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4541,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-23T12:37:56.023Z",
      "updated_at": "2024-10-23T12:56:18.628Z",
      "cooked": "<blockquote>\n<p>What are the many different versions that it shows?</p>\n</blockquote>\n<p>It’s all the instances of <code>it</code> that end up where your cursor is.  So if you had two non-block equations then there would be two items in this list.  If you had 10 there would be 10 of them.</p>",
      "raw": "> What are the many different versions that it shows?\n\nIt's all the instances of `it` that end up where your cursor is.  So if you had two non-block equations then there would be two items in this list.  If you had 10 there would be 10 of them.",
      "reply_to_post_number": 1,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 25.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4542,
      "post_number": 3,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T12:39:26.302Z",
      "updated_at": "2024-10-23T12:56:18.632Z",
      "cooked": "<p>Oh wow. Why would it do that?</p>",
      "raw": "Oh wow. Why would it do that?",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4547,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:59:39.905Z",
      "updated_at": "2024-10-23T21:30:58.530Z",
      "cooked": "<p>(I split this discussion off so that it’s easier to find on its own)</p>\n<aside class=\"quote no-group\" data-username=\"SebastianJL\" data-post=\"3\" data-topic=\"1311\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sebastianjl/48/870_2.png\" class=\"avatar\"> SebastianJL:</div>\n<blockquote>\n<p>Oh wow. Why would it do that?</p>\n</blockquote>\n</aside>\n<p>Why wouldn’t it? :P Typst has no way of knowing which execution of the show rule you’re currently interested in, so it shows all.</p>\n<p>If I’m interested in something specific, I often create an extra variable for that:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">if it.supplement == \"Fancy Equation\" {\n  // hovering over this will only show `it` from certain executions\n  let dbg = it\n}\n</code></pre>",
      "raw": "(I split this discussion off so that it's easier to find on its own)\n\n[quote=\"SebastianJL, post:3, topic:1311, full:true\"]\nOh wow. Why would it do that?\n[/quote]\n\nWhy wouldn't it? :P Typst has no way of knowing which execution of the show rule you're currently interested in, so it shows all.\n\nIf I'm interested in something specific, I often create an extra variable for that:\n```typc\nif it.supplement == \"Fancy Equation\" {\n  // hovering over this will only show `it` from certain executions\n  let dbg = it\n}\n```",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 2,
      "reads": 24,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4551,
      "post_number": 5,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-23T13:05:21.909Z",
      "updated_at": "2024-10-23T13:05:21.909Z",
      "cooked": "<p>I can only speculate about <em>why</em>. So here I go speculating:</p>\n<p>Typst relies heavily on <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"noopener nofollow ugc\">memoizing</a> to speed up document compilation. As I understand it this works by saving the output of a function for the given inputs. Then if the function is called again with those same inputs, it can simply return the already-calculated output.<br>\nGetting back to the question: there already exists a record of every version of a given variable for the whole document. I assume this makes it pretty trivial to display it like you see when you hover over a variable.<br>\nIt could also be a way to offer a debugging tool without going through the effort of a full-blown debugging environment.</p>\n<p>From a user perspective I’ve found it helpful to see all these while working on a function. When I can’t keep all the variables and scopes in my head this can help get me back on track.</p>",
      "raw": "I can only speculate about *why*. So here I go speculating:\n\nTypst relies heavily on [memoizing](https://en.wikipedia.org/wiki/Memoization) to speed up document compilation. As I understand it this works by saving the output of a function for the given inputs. Then if the function is called again with those same inputs, it can simply return the already-calculated output.\nGetting back to the question: there already exists a record of every version of a given variable for the whole document. I assume this makes it pretty trivial to display it like you see when you hover over a variable.\nIt could also be a way to offer a debugging tool without going through the effort of a full-blown debugging environment.\n\nFrom a user perspective I’ve found it helpful to see all these while working on a function. When I can’t keep all the variables and scopes in my head this can help get me back on track.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4585,
      "post_number": 6,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-23T20:20:03.138Z",
      "updated_at": "2024-10-23T20:20:03.138Z",
      "cooked": "<p>Ah I see, seems reasonable. Thanks for your take <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Ah I see, seems reasonable. Thanks for your take :slight_smile:",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    }
  ],
  "scraped_at": "2025-06-10T09:56:03.502460"
}
{
  "topic_metadata": {
    "id": 1312,
    "title": "How to include webography?",
    "slug": "how-to-include-webography",
    "posts_count": 2,
    "created_at": "2024-10-23T14:11:43.587Z",
    "last_posted_at": "2024-12-10T07:15:08.635Z",
    "views": 131,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "packages",
      "literature",
      "bibtex"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 157
  },
  "posts": [
    {
      "id": 4557,
      "post_number": 1,
      "username": "Enjoyer_101",
      "name": "brrrrr",
      "created_at": "2024-10-23T14:11:43.718Z",
      "updated_at": "2024-10-24T08:26:02.851Z",
      "cooked": "<p>Hello,<br>\nI would like to inlcude the webography of a document that mentions an academic example but does not qualify to a standard bibliographic citation (no information about authors as it was made in the name of an enterprise to help people use its technology).<br>\nMany thanks in advance</p>",
      "raw": "Hello,\nI would like to inlcude the webography of a document that mentions an academic example but does not qualify to a standard bibliographic citation (no information about authors as it was made in the name of an enterprise to help people use its technology).\nMany thanks in advance",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 142.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 538
    },
    {
      "id": 6451,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-12-10T07:15:08.635Z",
      "updated_at": "2024-12-10T07:15:08.635Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/enjoyer_101\">@Enjoyer_101</a>,</p>\n<p>If I understand well, you want to cite web content that were authored by corporate entities. It would help if you give us more details, but as far as I know, there is no issue with doing that.</p>\n<p>Your bibfile can be written by hand, e.g., for a website reference. The author is not a physical person, it is quoted verbatim using <code>{{ ... }}</code>.</p>\n<pre data-code-wrap=\"bib\"><code class=\"lang-bib\">@online{AnticipatoryActionOCHA_jun_2024,\n  title = {Anticipatory Action},\n  author = {{United Nations Office for the Coordination of Humanitarian Affairs}},\n  date = {2024-06-25},\n  url = {https://www.unocha.org/anticipatory-action},\n  urldate = {2024-07-08},\n  abstract = {Every year, millions of people face the reality of},\n  langid = {english}\n}\n</code></pre>",
      "raw": "Hello @Enjoyer_101,\n\nIf I understand well, you want to cite web content that were authored by corporate entities. It would help if you give us more details, but as far as I know, there is no issue with doing that.\n\nYour bibfile can be written by hand, e.g., for a website reference. The author is not a physical person, it is quoted verbatim using `{{ ... }}`.\n\n```bib\n@online{AnticipatoryActionOCHA_jun_2024,\n  title = {Anticipatory Action},\n  author = {{United Nations Office for the Coordination of Humanitarian Affairs}},\n  date = {2024-06-25},\n  url = {https://www.unocha.org/anticipatory-action},\n  urldate = {2024-07-08},\n  abstract = {Every year, millions of people face the reality of},\n  langid = {english}\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:56:02.783040"
}
{
  "topic_metadata": {
    "id": 1317,
    "title": "How to flatten an array by one level",
    "slug": "how-to-flatten-an-array-by-one-level",
    "posts_count": 2,
    "created_at": "2024-10-23T15:41:52.316Z",
    "last_posted_at": "2024-10-23T17:33:05.936Z",
    "views": 124,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 85
  },
  "posts": [
    {
      "id": 4572,
      "post_number": 1,
      "username": "gabe",
      "name": "",
      "created_at": "2024-10-23T15:41:52.412Z",
      "updated_at": "2024-10-23T15:41:52.412Z",
      "cooked": "<p>I have an array of arrays of arrays. I want to flatten by one level so that I have an array of arrays. Flatten takes the 3d array to a 1d array, but I want a 2d array. How can I do this?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#range(3,7).map(x =&gt; {\n  range(3,7).map(y =&gt; {\n    (x,y)\n  })\n}).flatten()\n</code></pre>\n<p>^ flattens to array of ints, want array of (int, int).</p>",
      "raw": "I have an array of arrays of arrays. I want to flatten by one level so that I have an array of arrays. Flatten takes the 3d array to a 1d array, but I want a 2d array. How can I do this?\n\n```typ\n#range(3,7).map(x => {\n  range(3,7).map(y => {\n    (x,y)\n  })\n}).flatten()\n```\n^ flattens to array of ints, want array of (int, int).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 535.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 433
    },
    {
      "id": 4576,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T17:33:05.936Z",
      "updated_at": "2024-10-23T17:35:08.542Z",
      "cooked": "<p>I think you’re looking for <code>join()</code> or <code>sum()</code>? (<code>join</code> is more explicit so should probably be preferred)</p>",
      "raw": "I think you're looking for `join()` or `sum()`? (`join` is more explicit so should probably be preferred)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 24,
      "score": 59.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:02.042910"
}
{
  "topic_metadata": {
    "id": 1324,
    "title": "What is Typst's version of LaTeX's `\\vec`?",
    "slug": "what-is-typsts-version-of-latexs-vec",
    "posts_count": 4,
    "created_at": "2024-10-24T01:54:16.439Z",
    "last_posted_at": "2024-10-24T02:09:31.346Z",
    "views": 333,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 73
  },
  "posts": [
    {
      "id": 4595,
      "post_number": 1,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-10-24T01:54:16.510Z",
      "updated_at": "2024-10-24T01:54:47.477Z",
      "cooked": "<p>In Typst, <code>vec()</code> is used to create a column vector, if I wanted type a symbol that is identical to LaTeX’s <code>\\vec{x}</code> to denote a vector, how would I achieve it?</p>",
      "raw": "In Typst, `vec()` is used to create a column vector, if I wanted type a symbol that is identical to LaTeX's `\\vec{x}` to denote a vector, how would I achieve it?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 1129.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    },
    {
      "id": 4596,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-24T02:06:28.129Z",
      "updated_at": "2024-10-24T02:06:28.129Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ arrow(x) $\n</code></pre>",
      "raw": "```typ\n$ arrow(x) $\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 99.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4597,
      "post_number": 3,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-24T02:09:07.502Z",
      "updated_at": "2024-10-24T02:09:07.502Z",
      "cooked": "<p>Also, check <a href=\"https://typst.app/docs/reference/math/accent/\">Typst Docs</a> for more accents.</p>",
      "raw": "Also, check [Typst Docs](https://typst.app/docs/reference/math/accent/) for more accents.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 29.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4598,
      "post_number": 4,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-10-24T02:09:31.346Z",
      "updated_at": "2024-10-24T02:10:35.685Z",
      "cooked": "<p>Oh thanks! That’s simpler than I thought. <img src=\"https://forum.typst.app/images/emoji/apple/see_no_evil.png?v=12\" title=\":see_no_evil:\" class=\"emoji\" alt=\":see_no_evil:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>Is this in the <code>sym</code> module?</p>\n<p>Edit: Nvm it’s in the <code>accent</code> function</p>",
      "raw": "Oh thanks! That's simpler than I thought. :see_no_evil: \n\nIs this in the `sym` module?\n\nEdit: Nvm it's in the `accent` function",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    }
  ],
  "scraped_at": "2025-06-10T09:56:01.343275"
}
{
  "topic_metadata": {
    "id": 1342,
    "title": "What is the best way to identify parsing mode at given position in file?",
    "slug": "what-is-the-best-way-to-identify-parsing-mode-at-given-position-in-file",
    "posts_count": 4,
    "created_at": "2024-10-24T23:12:32.218Z",
    "last_posted_at": "2024-10-25T16:20:41.509Z",
    "views": 102,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 257
  },
  "posts": [
    {
      "id": 4635,
      "post_number": 1,
      "username": "jakobjpeters",
      "name": "Jakob Peters",
      "created_at": "2024-10-24T23:12:32.320Z",
      "updated_at": "2024-11-01T10:21:59.252Z",
      "cooked": "<p>Given a Typst file as a string and an index into that string, is there a good way to programmatically (in any language) identify whether it’s in markup, code, or math mode?</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">let s = \"a $ #{ b + 1 } c $\"\nmode(s, 0) // \"a\" --&gt; \"markup\"\nmode(s, 7) // \"b\" --&gt; \"code\"\nmode(s, 15) // \"c\" --&gt; \"math\"\n</code></pre>\n<h4><a name=\"p-4635-possible-solutions-1\" class=\"anchor\" href=\"#p-4635-possible-solutions-1\"></a>Possible solutions</h4>\n<ul>\n<li>Write a custom parser that only handles transitions between modes</li>\n<li>Use an existing grammar, such as <a href=\"https://github.com/uben0/tree-sitter-typst\" rel=\"noopener nofollow ugc\">tree-sitter-typst</a></li>\n<li>Fork the Typst parser</li>\n<li>???</li>\n</ul>",
      "raw": "Given a Typst file as a string and an index into that string, is there a good way to programmatically (in any language) identify whether it's in markup, code, or math mode?\n\n```typc\nlet s = \"a $ #{ b + 1 } c $\"\nmode(s, 0) // \"a\" --> \"markup\"\nmode(s, 7) // \"b\" --> \"code\"\nmode(s, 15) // \"c\" --> \"math\"\n```\n\n#### Possible solutions\n\n- Write a custom parser that only handles transitions between modes\n- Use an existing grammar, such as [tree-sitter-typst](https://github.com/uben0/tree-sitter-typst)\n- Fork the Typst parser\n- ???",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 201.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 674
    },
    {
      "id": 4639,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T06:01:47.342Z",
      "updated_at": "2024-10-25T06:01:47.342Z",
      "cooked": "<p>for reference, this is how tinymist does it (I presume)</p><aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/editors/vscode/src/editor-tools.ts#L268\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/editors/vscode/src/editor-tools.ts#L268\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/editors/vscode/src/editor-tools.ts#L268\" target=\"_blank\" rel=\"noopener nofollow ugc\">Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/editors/vscode/src/editor-tools.ts#L268</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-ts\">\n      <ol class=\"start lines\" start=\"258\" style=\"counter-reset: li-counter 257 ;\">\n          <li>  math,</li>\n          <li>  comment,</li>\n          <li>  markup,</li>\n          <li>  code,</li>\n          <li>  string: stringContent,</li>\n          <li>  raw,</li>\n          <li>  rest,</li>\n          <li>} = edit.newText;</li>\n          <li>const newText = kind === \"by-mode\" ? rest || \"\" : \"\";</li>\n          <li></li>\n          <li class=\"selected\">const res = await vscode.commands.executeCommand&lt;</li>\n          <li>  [{ mode: \"math\" | \"markup\" | \"code\" | \"comment\" | \"string\" | \"raw\" }]</li>\n          <li>&gt;(\"tinymist.interactCodeContext\", {</li>\n          <li>  textDocument: {</li>\n          <li>    uri: activeDocument.uri.toString(),</li>\n          <li>  },</li>\n          <li>  query: [</li>\n          <li>    {</li>\n          <li>      kind: \"modeAt\",</li>\n          <li>      position: {</li>\n          <li>        line: selectionStart.line,</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>Alternatively, you can also take a loot at <a href=\"https://forum.typst.app/t/is-there-a-prism-language-definition-for-typst/914\" class=\"inline-onebox\">Is there a prism language definition for Typst?</a>, but there are issues with nested scopes.</p>",
      "raw": "for reference, this is how tinymist does it (I presume)\nhttps://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/editors/vscode/src/editor-tools.ts#L268\n\nAlternatively, you can also take a loot at https://forum.typst.app/t/is-there-a-prism-language-definition-for-typst/914, but there are issues with nested scopes.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 29,
      "score": 85.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4648,
      "post_number": 3,
      "username": "jakobjpeters",
      "name": "Jakob Peters",
      "created_at": "2024-10-25T07:56:21.825Z",
      "updated_at": "2024-11-01T10:21:21.697Z",
      "cooked": "<p>tinimist is a great lead, thank you! It looks like it <a href=\"https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/crates/tinymist-query/src/code_context.rs#L79\" rel=\"noopener nofollow ugc\">locates the leaf node of the Typst syntax tree</a>, <a href=\"https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/crates/tinymist-query/src/syntax/matcher.rs#L108\" rel=\"noopener nofollow ugc\">matches the node kind on whether it has a known mode</a>, and traverses the parent nodes until finding a match.</p>\n<p>I’m still curious if there are other implementations out there, but it seems like this one is both well-done, widely used, and will be kept updated.</p>",
      "raw": "tinimist is a great lead, thank you! It looks like it [locates the leaf node of the Typst syntax tree](https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/crates/tinymist-query/src/code_context.rs#L79), [matches the node kind on whether it has a known mode](https://github.com/Myriad-Dreamin/tinymist/blob/136b1623609b6b9f8ad2987256f9a08958edf2a6/crates/tinymist-query/src/syntax/matcher.rs#L108), and traverses the parent nodes until finding a match.\n\nI'm still curious if there are other implementations out there, but it seems like this one is both well-done, widely used, and will be kept updated.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 674
    },
    {
      "id": 4682,
      "post_number": 4,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-10-25T16:20:41.509Z",
      "updated_at": "2024-10-25T16:20:41.509Z",
      "cooked": "<p>I think a full parse is necessary to identify the current mode with certainty. No shortcuts here.</p>",
      "raw": "I think a full parse is necessary to identify the current mode with certainty. No shortcuts here.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    }
  ],
  "scraped_at": "2025-06-10T09:56:00.422362"
}
{
  "topic_metadata": {
    "id": 1347,
    "title": "Why does a semicolon go missing from output when inserted directly after code expression?",
    "slug": "why-does-a-semicolon-go-missing-from-output-when-inserted-directly-after-code-expression",
    "posts_count": 6,
    "created_at": "2024-10-25T07:57:14.785Z",
    "last_posted_at": "2024-10-25T12:47:04.144Z",
    "views": 61,
    "like_count": 7,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "quachpas",
    "tags": [
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 331
  },
  "posts": [
    {
      "id": 4649,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-25T07:57:14.903Z",
      "updated_at": "2024-10-25T10:35:49.259Z",
      "cooked": "<p>I just had a problem where I have the following code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: auto, margin: 1cm)\n\nThe semicolon after this #{[code epxression]}; will disappear.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/3446098f7b8df3d02578fa544789aeeffed754eb.png\" data-download-href=\"https://forum.typst.app/uploads/default/3446098f7b8df3d02578fa544789aeeffed754eb\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/3446098f7b8df3d02578fa544789aeeffed754eb_2_690x143.png\" alt=\"image\" data-base62-sha1=\"7sqSJqdrTBSWGhZvW99VtpFMvvZ\" width=\"690\" height=\"143\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/3446098f7b8df3d02578fa544789aeeffed754eb_2_690x143.png, https://forum.typst.app/uploads/default/original/2X/3/3446098f7b8df3d02578fa544789aeeffed754eb.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/3446098f7b8df3d02578fa544789aeeffed754eb.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">911×190 17 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Is the disappearance of the semicolon after <code>#{}</code> intended behavior? How would you correct it? Indeed it happens after any code expression, namely functions etc. Adding a space between the code expression and the semicolon also adds an actual space in the output, so how would you fix this?</p>",
      "raw": "I just had a problem where I have the following code:\n\n```typst\n#set page(height: auto, width: auto, margin: 1cm)\n\nThe semicolon after this #{[code epxression]}; will disappear.\n```\n![image|690x143](upload://7sqSJqdrTBSWGhZvW99VtpFMvvZ.png)\n\nIs the disappearance of the semicolon after `#{}` intended behavior? How would you correct it? Indeed it happens after any code expression, namely functions etc. Adding a space between the code expression and the semicolon also adds an actual space in the output, so how would you fix this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 100.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4650,
      "post_number": 2,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-25T08:00:09.098Z",
      "updated_at": "2024-10-25T08:00:09.098Z",
      "cooked": "<p>I just found out that one can escape the semicolon with a backslash.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: auto, margin: 1cm)\n\nAfter this #{[code expression]}\\; the semicolon will appear.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b1d59320321c70969d8b8f88700b2008d5229484.png\" data-download-href=\"https://forum.typst.app/uploads/default/b1d59320321c70969d8b8f88700b2008d5229484\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b1d59320321c70969d8b8f88700b2008d5229484_2_690x149.png\" alt=\"image\" data-base62-sha1=\"pnc5PeXnkEivphDHMddx3BPsphi\" width=\"690\" height=\"149\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b1d59320321c70969d8b8f88700b2008d5229484_2_690x149.png, https://forum.typst.app/uploads/default/original/2X/b/b1d59320321c70969d8b8f88700b2008d5229484.png 1.5x, https://forum.typst.app/uploads/default/original/2X/b/b1d59320321c70969d8b8f88700b2008d5229484.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">879×190 16.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Still the question remains if this is intended behavior.</p>",
      "raw": "I just found out that one can escape the semicolon with a backslash.\n\n```typst\n#set page(height: auto, width: auto, margin: 1cm)\n\nAfter this #{[code expression]}\\; the semicolon will appear.\n```\n![image|690x149](upload://pnc5PeXnkEivphDHMddx3BPsphi.png)\n\nStill the question remains if this is intended behavior.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4651,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T08:02:27.774Z",
      "updated_at": "2024-10-25T08:02:27.774Z",
      "cooked": "<p>from the docs</p>\n<blockquote>\n<p>If a character would continue the expression but should be interpreted as text, the expression can forcibly be ended with a semicolon (<code>;</code> ).</p>\n</blockquote>\n<p><a href=\"https://typst.app/docs/reference/scripting/#:~:text=If%20a%20character%20would%20continue%20the%20expression%20but%20should%20be%20interpreted%20as%20text%2C%20the%20expression%20can%20forcibly%20be%20ended%20with%20a%20semicolon%20(%3B)\" class=\"inline-onebox\">Scripting – Typst Documentation</a>.</p>\n<p>So writing <code>#{ ...};</code>, the semicolon directly after <code>}</code> is interpreted as the expression termination character.</p>",
      "raw": "from the docs\n\n> If a character would continue the expression but should be interpreted as text, the expression can forcibly be ended with a semicolon (`;` ).\n\nhttps://typst.app/docs/reference/scripting/#:~:text=If%20a%20character%20would%20continue%20the%20expression%20but%20should%20be%20interpreted%20as%20text%2C%20the%20expression%20can%20forcibly%20be%20ended%20with%20a%20semicolon%20(%3B).\n\nSo writing `#{ ...};`, the semicolon directly after `}` is interpreted as the expression termination character.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 26,
      "score": 55.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4652,
      "post_number": 4,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-25T08:06:32.529Z",
      "updated_at": "2024-10-25T08:06:32.529Z",
      "cooked": "<p>Ah ok I see. I guess that makes sense. So I could also write</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">After this #{[code expression]};; the semicolon will appear.\n</code></pre>",
      "raw": "Ah ok I see. I guess that makes sense. So I could also write\n\n```typst\nAfter this #{[code expression]};; the semicolon will appear.\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4663,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-25T10:38:19.183Z",
      "updated_at": "2024-10-25T10:38:19.183Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/sebastianjl\">@SebastianJL</a>, I have moved your question to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\" data-ref=\"questions::category\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, please make sure to check the category when creating a topic <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!</p>",
      "raw": "Hi @SebastianJL, I have moved your question to the #questions::category category, please make sure to check the category when creating a topic :slight_smile: that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4671,
      "post_number": 6,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-25T12:47:04.144Z",
      "updated_at": "2024-10-25T12:47:04.144Z",
      "cooked": "<p>Thanks for the gentle slap on the wrist <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> I went back and marked questions as solved in past threads. Unfortunately I wasn’t able to change the categories for all posts that where questions. Sorry for posting a bit carelessly. The forum has been a great help this week.</p>",
      "raw": "Thanks for the gentle slap on the wrist :slight_smile: I went back and marked questions as solved in past threads. Unfortunately I wasn't able to change the categories for all posts that where questions. Sorry for posting a bit carelessly. The forum has been a great help this week.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 16,
      "score": 78.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    }
  ],
  "scraped_at": "2025-06-10T09:55:59.623208"
}
{
  "topic_metadata": {
    "id": 1349,
    "title": "How can I separate a preamble (with functions and formatting rules) from my main typ file?",
    "slug": "how-can-i-separate-a-preamble-with-functions-and-formatting-rules-from-my-main-typ-file",
    "posts_count": 5,
    "created_at": "2024-10-25T08:44:48.779Z",
    "last_posted_at": "2024-10-25T12:12:29.522Z",
    "views": 461,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "tom1",
    "tags": [
      "templates"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 544
  },
  "posts": [
    {
      "id": 4656,
      "post_number": 1,
      "username": "tom1",
      "name": "tom",
      "created_at": "2024-10-25T08:44:48.854Z",
      "updated_at": "2024-10-25T10:30:47.627Z",
      "cooked": "<p>Hi,<br>\nI want to split my typ file in 2 files: one preamble and one main file.<br>\nI tried import, include … but nothing seems to work. I put below an example of the problem: if I use this file, it’s working my text is blue and I have number on heading.<br>\nBut if I put the first part in preamble.typ (the first part finish before the first import), I am unable to get the same result. As you see in comment, I tried different thing but without getting the expected output.<br>\nDo you have ideas where is the problem please ? Many thanks.<br>\nTom</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let chapter-counter = counter(\"chapter\")\n#chapter-counter.update(0)\n\n#set page(margin: 2cm)                 // Set page margin globally\n#set heading(numbering: \"I.1.a.i\")     // Set a custom numbering format for headings\n#set text(fill: blue, size: 14pt)     // Set global text color and size\n\n// Function to define a chapter\n#let define-chapter(title) = {\n  pagebreak(weak: true)\n  context {\n    align(center)[\n      #block(inset: 2em, breakable: false)[\n        #set text(size: 24pt, weight: \"bold\")\n        #smallcaps[Chapter]\n        #v(0cm)\n        #title\n      ]\n    ]\n  }\n\n}\n\n// #import \"preamble.typ\": define-chapter\n// #import \"preamble.typ\": *\n// #include(\"preamble.typ\")\n#define-chapter(\"Introduction to Typst\")\n= Test &lt;test&gt;\n#lorem(700)\n</code></pre>",
      "raw": "Hi,\nI want to split my typ file in 2 files: one preamble and one main file.\nI tried import, include ... but nothing seems to work. I put below an example of the problem: if I use this file, it's working my text is blue and I have number on heading.\nBut if I put the first part in preamble.typ (the first part finish before the first import), I am unable to get the same result. As you see in comment, I tried different thing but without getting the expected output.\nDo you have ideas where is the problem please ? Many thanks.\nTom\n\n```typ\n#let chapter-counter = counter(\"chapter\")\n#chapter-counter.update(0)\n\n#set page(margin: 2cm)                 // Set page margin globally\n#set heading(numbering: \"I.1.a.i\")     // Set a custom numbering format for headings\n#set text(fill: blue, size: 14pt)     // Set global text color and size\n\n// Function to define a chapter\n#let define-chapter(title) = {\n  pagebreak(weak: true)\n  context {\n    align(center)[\n      #block(inset: 2em, breakable: false)[\n        #set text(size: 24pt, weight: \"bold\")\n        #smallcaps[Chapter]\n        #v(0cm)\n        #title\n      ]\n    ]\n  }\n\n}\n\n// #import \"preamble.typ\": define-chapter\n// #import \"preamble.typ\": *\n// #include(\"preamble.typ\")\n#define-chapter(\"Introduction to Typst\")\n= Test <test>\n#lorem(700)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 61,
      "score": 1847.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 677
    },
    {
      "id": 4659,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-25T09:18:23.083Z",
      "updated_at": "2024-10-25T09:18:23.083Z",
      "cooked": "<p>Check this post:</p><aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"1292\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/c/0A3649/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-can-i-create-a-set-of-shared-set-and-show-rules-which-can-be-imported-into-a-theme/1292\">How can I create a set of shared `set` and `show` rules which can be imported into a theme?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    If I want consistent show and set rules across several templates, I have been trying to do so with a generic styling file, which is imported into each template. This guarantees the consistency, I would think, but in practice does not. E.g., in styling.typ: \n#set text( size: 10pt,\n          fill: blue,\n          font: (\"Lato\", \"Noto Sans\", \"Fira Sans\", ),\n          lang: \"en\",\n          ligatures: true,\n          discretionary-ligatures: true,\n          historical-ligatures: true)\n\n#show math.equ…\n  </blockquote>\n</aside>\n",
      "raw": "Check this post:\nhttps://forum.typst.app/t/how-can-i-create-a-set-of-shared-set-and-show-rules-which-can-be-imported-into-a-theme/1292?u=paran3xus",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 59,
      "score": 171.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4660,
      "post_number": 3,
      "username": "Yahuxo",
      "name": "Tobias",
      "created_at": "2024-10-25T10:16:20.881Z",
      "updated_at": "2024-10-25T10:16:20.881Z",
      "cooked": "<p>The tutorial page <a href=\"https://typst.app/docs/tutorial/making-a-template/\">Making a Template</a> should be helpful in your case.</p>\n<p>Citing from that tutorial:</p>\n<blockquote>\n<p>In Typst, templates are functions in which you can wrap your whole document.</p>\n</blockquote>\n<p>So if you <code>#import</code> something (a function) from a template it is not applied automatically. You have to call it (e.g. for your custom chapter function), or wrap your whole document in it (e.g. for the text set rules).</p>",
      "raw": "The tutorial page [Making a Template](https://typst.app/docs/tutorial/making-a-template/) should be helpful in your case.\n\nCiting from that tutorial:\n> In Typst, templates are functions in which you can wrap your whole document. \n\nSo if you `#import` something (a function) from a template it is not applied automatically. You have to call it (e.g. for your custom chapter function), or wrap your whole document in it (e.g. for the text set rules).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 472
    },
    {
      "id": 4662,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-25T10:34:46.818Z",
      "updated_at": "2024-10-25T10:34:46.818Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/tom1\">@tom1</a>, welcome and thank you for your question! I have changed your post’s title to bring it in line with the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> and thus make it easier to understand from the title:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>I also added the <a class=\"hashtag-cooked\" href=\"/tag/templates\" data-type=\"tag\" data-slug=\"templates\" data-id=\"51\" data-ref=\"templates::tag\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>templates</span></a> tag, as it makes your question easier to find.</p>",
      "raw": "Hi @tom1, welcome and thank you for your question! I have changed your post’s title to bring it in line with the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) and thus make it easier to understand from the title:\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nI also added the #templates::tag tag, as it makes your question easier to find.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 44.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4668,
      "post_number": 5,
      "username": "tom1",
      "name": "tom",
      "created_at": "2024-10-25T12:12:29.522Z",
      "updated_at": "2024-11-06T19:09:57.804Z",
      "cooked": "<p>Many thanks for your replies.<br>\nCurrently I have not enough time to understand the overall process to convert to a template, but I find a solution which seems working except for the number of the chapter but I think I forgot to add it.</p>\n<p>I hope the solution will be interesting for some people.</p>\n<p><em>Listing of template_test.typ:</em></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Counter for chapters\n#let chapter-counter = counter(\"chapter\")\n\n// Function to define a chapter\n#let define-chapter(title) = {\n  pagebreak(weak: true)\n  context {\n    align(center)[\n      #block(inset: 2em, breakable: false)[\n        #set text(size: 24pt, weight: \"bold\")\n        #smallcaps[Chapter]\n        #v(0cm)\n        #title\n      ]\n    ]\n  }\n}\n\n// Initialize document with all styles\n#let init(doc) = {\n  // Initialize counter\n  chapter-counter.update(0)\n  \n  // Set document styles\n  set page(margin: 2cm)\n  set heading(numbering: \"I.1.a.i\")\n  set text(fill: blue, size: 14pt)\n  \n  // Return the styled document\n  doc\n}\n</code></pre>\n<p><em>Listing of main.typ:</em></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"template_test.typ\": init, define-chapter\n\n#show: doc =&gt; init(doc)\n\n#define-chapter(\"Introduction to Typst\")\n= Test &lt;test&gt;\n#lorem(700)\n</code></pre>\n<p>Tom</p>",
      "raw": "Many thanks for your replies.\nCurrently I have not enough time to understand the overall process to convert to a template, but I find a solution which seems working except for the number of the chapter but I think I forgot to add it.\n\nI hope the solution will be interesting for some people.\n\n*Listing of template_test.typ:*\n```typ\n// Counter for chapters\n#let chapter-counter = counter(\"chapter\")\n\n// Function to define a chapter\n#let define-chapter(title) = {\n  pagebreak(weak: true)\n  context {\n    align(center)[\n      #block(inset: 2em, breakable: false)[\n        #set text(size: 24pt, weight: \"bold\")\n        #smallcaps[Chapter]\n        #v(0cm)\n        #title\n      ]\n    ]\n  }\n}\n\n// Initialize document with all styles\n#let init(doc) = {\n  // Initialize counter\n  chapter-counter.update(0)\n  \n  // Set document styles\n  set page(margin: 2cm)\n  set heading(numbering: \"I.1.a.i\")\n  set text(fill: blue, size: 14pt)\n  \n  // Return the styled document\n  doc\n}\n```\n\n*Listing of main.typ:*\n```typ\n#import \"template_test.typ\": init, define-chapter\n\n#show: doc => init(doc)\n\n#define-chapter(\"Introduction to Typst\")\n= Test <test>\n#lorem(700)\n```\n\nTom",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 99.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 677
    }
  ],
  "scraped_at": "2025-06-10T09:55:58.862423"
}
{
  "topic_metadata": {
    "id": 1351,
    "title": "Why are font styles not being applied?",
    "slug": "why-are-font-styles-not-being-applied",
    "posts_count": 6,
    "created_at": "2024-10-25T09:16:07.563Z",
    "last_posted_at": "2024-12-19T05:04:16.623Z",
    "views": 421,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "dezifit",
    "tags": [
      "styling",
      "fonts"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 325
  },
  "posts": [
    {
      "id": 4658,
      "post_number": 1,
      "username": "dezifit",
      "name": "dezifit",
      "created_at": "2024-10-25T09:16:07.667Z",
      "updated_at": "2024-12-19T05:03:21.255Z",
      "cooked": "<p>Why does the following example not show the correct font style, provided that all variants are installed?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let font = { \"Helvetica\" }\n\n#block(width:15cm)[*Typst version:* #sys.version \\ \\\n#text(font: font, style: \"normal\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)\n\n#text(font: font, style: \"oblique\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)]\n\n#text(font: font, style: \"italic\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/321639842f2be04bdef7b1d032f19bc750398b56.jpeg\" alt=\"result\" data-base62-sha1=\"795umgVVaSiCvdiLTfmyNRuAWcC\" width=\"227\" height=\"294\"></p>",
      "raw": "Why does the following example not show the correct font style, provided that all variants are installed?\n```typ\n#let font = { \"Helvetica\" }\n\n#block(width:15cm)[*Typst version:* #sys.version \\ \\\n#text(font: font, style: \"normal\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)\n\n#text(font: font, style: \"oblique\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)]\n\n#text(font: font, style: \"italic\", weight: \"bold\", size: 32pt,\n\tfill: rgb(0,0,0,0), stroke: 0.5pt + blue, font)\n```\n![result|227x294](upload://795umgVVaSiCvdiLTfmyNRuAWcC.jpeg)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 1800.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 678
    },
    {
      "id": 4661,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T10:26:59.515Z",
      "updated_at": "2024-10-25T10:26:59.515Z",
      "cooked": "<p>They must be “incorrectly” installed? The same code on my typst 0.12 shows the correct styles.</p>\n<p>You can execute <code>typst fonts --variants</code> to check which font styles typst has found on your system.</p>",
      "raw": "They must be \"incorrectly\" installed? The same code on my typst 0.12 shows the correct styles.\n\nYou can execute `typst fonts --variants` to check which font styles typst has found on your system.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4664,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-25T10:41:08.246Z",
      "updated_at": "2024-10-25T15:25:03.222Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/dezifit\">@dezifit</a>, thanks for your question! Could you maybe try to revise your post’s title so others can find it easier in the future? The <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> recommend a complete question:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>Also, please add relevant tags such as <a class=\"hashtag-cooked\" href=\"/tag/fonts\" data-type=\"tag\" data-slug=\"fonts\" data-id=\"47\" data-ref=\"fonts::tag\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>fonts</span></a> <s>and move it to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category (I’m actually not sure if you can change that yourself; if not, I can do it for you.</s></p>",
      "raw": "Hi @dezifit, thanks for your question! Could you maybe try to revise your post’s title so others can find it easier in the future? The [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) recommend a complete question:\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nAlso, please add relevant tags such as #fonts::tag ~~and move it to the #questions category (I'm actually not sure if you can change that yourself; if not, I can do it for you.~~",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4672,
      "post_number": 4,
      "username": "dezifit",
      "name": "dezifit",
      "created_at": "2024-10-25T12:49:30.442Z",
      "updated_at": "2024-10-25T12:49:30.442Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"2\" data-topic=\"1351\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p><code>typst fonts --variants</code></p>\n</blockquote>\n</aside>\n<p>Ok, for Helvetica this only lists:</p>\n<pre><code class=\"lang-auto\">Helvetica\n- Style: Normal, Weight: 400, Stretch: FontStretch(1000)\n</code></pre>\n<p>and indeed, I had them in a LaTeX specific folder. After moving them to a system wide directory the output is as expected. Thanks for your help.</p>",
      "raw": "[quote=\"sijo, post:2, topic:1351\"]\n`typst fonts --variants`\n[/quote]\n\nOk, for Helvetica this only lists:\n```\nHelvetica\n- Style: Normal, Weight: 400, Stretch: FontStretch(1000)\n```\nand indeed, I had them in a LaTeX specific folder. After moving them to a system wide directory the output is as expected. Thanks for your help.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 2,
      "reads": 38,
      "score": 97.4,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 678
    },
    {
      "id": 4673,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T12:53:18.165Z",
      "updated_at": "2024-10-25T12:53:18.165Z",
      "cooked": "<p>A note on “moving the fonts”. You probably don’t need to move the latex fonts to a system wide directory. A symbolic link works fine.</p>",
      "raw": "A note on \"moving the fonts\". You probably don't need to move the latex fonts to a system wide directory. A symbolic link works fine.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 6766,
      "post_number": 6,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-12-19T05:04:16.623Z",
      "updated_at": "2024-12-19T05:04:16.623Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/dezifit\">@dezifit</a>, I’ve marked your reply as a solution as it appears you’ve solved the problem. Please mark solutions in the replies as well for future questions. Thanks!</p>",
      "raw": "Hey @dezifit, I've marked your reply as a solution as it appears you've solved the problem. Please mark solutions in the replies as well for future questions. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:55:58.143078"
}
{
  "topic_metadata": {
    "id": 1355,
    "title": "How do I set the typst version to render my document?",
    "slug": "how-do-i-set-the-typst-version-to-render-my-document",
    "posts_count": 4,
    "created_at": "2024-10-25T23:01:43.830Z",
    "last_posted_at": "2024-11-01T20:48:32.566Z",
    "views": 555,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "ParaN3xus",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 347
  },
  "posts": [
    {
      "id": 4688,
      "post_number": 1,
      "username": "Monkey",
      "name": "",
      "created_at": "2024-10-25T23:01:43.941Z",
      "updated_at": "2024-10-26T00:11:57.590Z",
      "cooked": "<p>Is it possible to set which version of typst is used to render my .typ files?</p>\n<p>I am working on a large project and discovered today that all of a sudden things are not rendering properly. A lot of text that shouldn’t be center-aligned is center-aligned. Other text runs off the bottom of the page and isn’t displayed anywhere.</p>\n<p>I understand that typst recently got a major update. But if possible I would prefer not to use it until after I’m done my project (in a few months).</p>\n<p>I have a half answer to my own question. I was using the extension Tinymist Typst on Visual Studio Code. But it seems that by switching back to (the now deprecated) “Typst Preview” v0.11.14 everything renders beautifully again.</p>\n<p>I suppose then perhaps the issue is with Tinymist and not Typst?</p>",
      "raw": "Is it possible to set which version of typst is used to render my .typ files?\n\nI am working on a large project and discovered today that all of a sudden things are not rendering properly. A lot of text that shouldn't be center-aligned is center-aligned. Other text runs off the bottom of the page and isn't displayed anywhere.\n\nI understand that typst recently got a major update. But if possible I would prefer not to use it until after I'm done my project (in a few months). \n\nI have a half answer to my own question. I was using the extension Tinymist Typst on Visual Studio Code. But it seems that by switching back to (the now deprecated) \"Typst Preview\" v0.11.14 everything renders beautifully again.\n\nI suppose then perhaps the issue is with Tinymist and not Typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 2346.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 411
    },
    {
      "id": 4695,
      "post_number": 2,
      "username": "jbirnick",
      "name": "Johann Birnick",
      "created_at": "2024-10-26T06:08:25.569Z",
      "updated_at": "2024-10-26T06:09:05.942Z",
      "cooked": "<p>Tinymist brings its own Typst compiler, currently 0.12. There have been some significant changes with Typst 0.12, that’s why your code doesn’t render correctly.</p>\n<p>For example, you said there is center-aligned text that shouldn’t be. Is that perhaps because you use a theorem package? If so, please update to the latest version of the theorem package, where this is fixed.</p>\n<p>In the end, you should probably update your document to work with the latest Typst compiler rather than just using an old Typst compiler.</p>\n<p>(Also, if you use the webapp, you can easily choose via a dropdown menu which version of the compiler you want to use.)</p>",
      "raw": "Tinymist brings its own Typst compiler, currently 0.12. There have been some significant changes with Typst 0.12, that's why your code doesn't render correctly.\n\nFor example, you said there is center-aligned text that shouldn't be. Is that perhaps because you use a theorem package? If so, please update to the latest version of the theorem package, where this is fixed.\n\nIn the end, you should probably update your document to work with the latest Typst compiler rather than just using an old Typst compiler.\n\n(Also, if you use the webapp, you can easily choose via a dropdown menu which version of the compiler you want to use.)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 56,
      "score": 66.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 218
    },
    {
      "id": 4720,
      "post_number": 3,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-27T05:18:02.109Z",
      "updated_at": "2024-10-27T05:18:02.109Z",
      "cooked": "<p>Unfortunately, because Tinymist is tightly integrated with Typst, Tinymist cannot support multiple Typst versions within a single release.<br>\nHowever, in VS Code, you can choose to install a specific version of Tinymist and temporarily disable automatic updates. I believe version 0.11.32 should work fine for your older document.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2_2_690x215.jpeg\" alt=\"image\" data-base62-sha1=\"sVt9bhln0A9dgtzB0AAn2Lwa1to\" width=\"690\" height=\"215\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2_2_690x215.jpeg, https://forum.typst.app/uploads/default/original/2X/c/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2.jpeg 1.5x, https://forum.typst.app/uploads/default/original/2X/c/cabbf55b3cd3b864a11eb8a2a36ac12245d184f2.jpeg 2x\" data-dominant-color=\"2B3138\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1000×313 64.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Unfortunately, because Tinymist is tightly integrated with Typst, Tinymist cannot support multiple Typst versions within a single release.\n However, in VS Code, you can choose to install a specific version of Tinymist and temporarily disable automatic updates. I believe version 0.11.32 should work fine for your older document.\n\n![image|690x215](upload://sVt9bhln0A9dgtzB0AAn2Lwa1to.jpeg)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 134.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 5020,
      "post_number": 4,
      "username": "Monkey",
      "name": "",
      "created_at": "2024-11-01T20:48:32.566Z",
      "updated_at": "2024-11-01T20:48:32.566Z",
      "cooked": "<p>Thank you both!! I seem to only be able to mark one reply as “the solution” but it turns out that I needed both of your replies to fix the issues I was having.</p>",
      "raw": "Thank you both!! I seem to only be able to mark one reply as \"the solution\" but it turns out that I needed both of your replies to fix the issues I was having.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 46.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 411
    }
  ],
  "scraped_at": "2025-06-10T09:55:57.422734"
}
{
  "topic_metadata": {
    "id": 1356,
    "title": "How do I use references in theorems?",
    "slug": "how-do-i-use-references-in-theorems",
    "posts_count": 2,
    "created_at": "2024-10-26T00:17:27.487Z",
    "last_posted_at": "2024-10-26T05:32:16.942Z",
    "views": 85,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "jbirnick",
    "tags": [
      "citation"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 130
  },
  "posts": [
    {
      "id": 4689,
      "post_number": 1,
      "username": "Monkey",
      "name": "",
      "created_at": "2024-10-26T00:17:27.584Z",
      "updated_at": "2025-02-05T15:09:32.494Z",
      "cooked": "<p>I’m currently using the package <code>ctheorems:1.1.3</code></p>\n<p>I was looking at this page for help: <a href=\"https://typst.app/universe/package/ctheorems/\" class=\"inline-onebox\">ctheorems – Typst Universe</a></p>\n<p>There they gave this example.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#theorem(\"Euclid\")[\n  There are infinitely many primes.\n]\n</code></pre>\n<p>I would like to be able to write something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#theorem(\"Euclid\" @elements)[\n  There are infinitely many primes.\n]\n</code></pre>\n<p>and have the <code>@elements</code> render as the number in my bibliography corresponding to the entry for Euclid’s Elements. Is this possible?</p>",
      "raw": "I'm currently using the package ```ctheorems:1.1.3```\n\nI was looking at this page for help: https://typst.app/universe/package/ctheorems/\n\nThere they gave this example. \n\n```typ\n#theorem(\"Euclid\")[\n  There are infinitely many primes.\n]\n```\n\nI would like to be able to write something like \n```typ\n#theorem(\"Euclid\" @elements)[\n  There are infinitely many primes.\n]\n```\n\nand have the `@elements` render as the number in my bibliography corresponding to the entry for Euclid's Elements. Is this possible?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 219.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 411
    },
    {
      "id": 4691,
      "post_number": 2,
      "username": "jbirnick",
      "name": "Johann Birnick",
      "created_at": "2024-10-26T05:32:16.942Z",
      "updated_at": "2024-10-26T05:32:16.942Z",
      "cooked": "<p>You can just replace <code>\"Euclid\"</code> with <code>[Euclid @elements]</code>.</p>\n<p>Here is an example which uses <a href=\"https://typst.app/universe/package/great-theorems/\">great-theorems</a> instead of ctheorems.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/great-theorems:0.1.1\": *\n\n#show: great-theorems-init\n\n#let theorem = mathblock(\n  blocktitle: \"Theorem\",\n)\n#theorem(title: [Euclid @elements])[\n  There are infinitely many primes.\n]\n</code></pre>",
      "raw": "You can just replace `\"Euclid\"` with `[Euclid @elements]`.\n\nHere is an example which uses [great-theorems](https://typst.app/universe/package/great-theorems/) instead of ctheorems.\n\n```typ\n#import \"@preview/great-theorems:0.1.1\": *\n\n#show: great-theorems-init\n\n#let theorem = mathblock(\n  blocktitle: \"Theorem\",\n)\n#theorem(title: [Euclid @elements])[\n  There are infinitely many primes.\n]\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 218
    }
  ],
  "scraped_at": "2025-06-10T09:55:56.723165"
}
{
  "topic_metadata": {
    "id": 1361,
    "title": "How do I use states in between different files?",
    "slug": "how-do-i-use-states-in-between-different-files",
    "posts_count": 2,
    "created_at": "2024-10-26T11:37:36.716Z",
    "last_posted_at": "2024-10-26T12:56:09.938Z",
    "views": 173,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting",
      "layout",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 365
  },
  "posts": [
    {
      "id": 4699,
      "post_number": 1,
      "username": "VictuarVi",
      "name": "",
      "created_at": "2024-10-26T11:37:37.121Z",
      "updated_at": "2024-10-26T13:09:42.381Z",
      "cooked": "<p>Suppose I have the following file structure:</p>\n<pre><code class=\"lang-auto\">.\n├── main.typ\n├── properties.typ\n├── lib\n│   ├── colors.typ\n│   ├── functions.typ\n│   └── template.typ\n└── sections\n    ├── abstract.typ\n    ├── introduction.typ\n    ├── first_section.typ\n    └── appendix.typ\n</code></pre>\n<p>I want to set a <code>theme</code> state in <code>main.typ</code> than can be used both in <code>template.typ</code> – which contains the styling functions responsible for margins, page counter, etc – and <code>functions.typ</code>, which contains elements that have to react to the color theme.</p>\n<p>For instance, in <code>functions.typ</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// this is how I tried to do\n#import \"../properties.typ\" : *\n#let theme = properties.at(\"theme\")\n\n#let title(string, colour) = {\n  set line(stroke: colour)\n\n  grid(\n    columns: (1fr, auto, 1fr),\n    align: horizon + center,\n    line(start: (-8pt, 0pt), end: (56pt, 0pt)),\n    box(stroke: colour, inset: 0pt, outset: 10pt, smallcaps(string)),\n    line(start: (12pt, 0pt), end: (80pt, 0pt)),\n  )\n\n  v(1.5em, weak: false)\n}\n\n// this doesn't work, however it demonstrates how I would want it to work\n#show title.with(colour: theme)\n</code></pre>\n<p>so that every time I import <code>functions.typ</code> with a different <code>theme</code> attribute set in <code>properties</code> I get something like this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cfc7e7eed64cc3839d911f543fded99bfa5ba252.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/cfc7e7eed64cc3839d911f543fded99bfa5ba252\" title=\"main\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cfc7e7eed64cc3839d911f543fded99bfa5ba252_2_525x500.jpeg\" alt=\"main\" data-base62-sha1=\"tE78fczFetFxHotVlBVs00Y7PZU\" width=\"525\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cfc7e7eed64cc3839d911f543fded99bfa5ba252_2_525x500.jpeg, https://forum.typst.app/uploads/default/optimized/2X/c/cfc7e7eed64cc3839d911f543fded99bfa5ba252_2_787x750.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/c/cfc7e7eed64cc3839d911f543fded99bfa5ba252_2_1050x1000.jpeg 2x\" data-dominant-color=\"FAFAFA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">main</span><span class=\"informations\">1969×1875 168 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>This styling should affect <em>every</em> function, in whatever document they are. I have tried using states but didn’t manage to get it working.</p>\n<p>So far <code>main.typ</code> looks like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">\n#import \"lib/template.typ\": *\n#import \"lib/functions.typ\": *\n#import \"properties.typ\": *\n\n#show: document.with(..properties)\n\n#include \"sections/abstract.typ\"\n#include \"sections/introduction.typ\"\n#include \"sections/first_section.typ\"\n#include \"sections/appendix.typ\"\n</code></pre>\n<p>while <code>properties</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let properties = (\n  title: \"Title\",\n  authors: (),\n  theme: \"blue\",\n)\n</code></pre>",
      "raw": "Suppose I have the following file structure:\n\n```\n.\n├── main.typ\n├── properties.typ\n├── lib\n│   ├── colors.typ\n│   ├── functions.typ\n│   └── template.typ\n└── sections\n    ├── abstract.typ\n    ├── introduction.typ\n    ├── first_section.typ\n    └── appendix.typ\n```\n\nI want to set a `theme` state in `main.typ` than can be used both in `template.typ` -- which contains the styling functions responsible for margins, page counter, etc -- and `functions.typ`, which contains elements that have to react to the color theme.\n\nFor instance, in `functions.typ`:\n```typ\n// this is how I tried to do\n#import \"../properties.typ\" : *\n#let theme = properties.at(\"theme\")\n\n#let title(string, colour) = {\n  set line(stroke: colour)\n\n  grid(\n    columns: (1fr, auto, 1fr),\n    align: horizon + center,\n    line(start: (-8pt, 0pt), end: (56pt, 0pt)),\n    box(stroke: colour, inset: 0pt, outset: 10pt, smallcaps(string)),\n    line(start: (12pt, 0pt), end: (80pt, 0pt)),\n  )\n\n  v(1.5em, weak: false)\n}\n\n// this doesn't work, however it demonstrates how I would want it to work\n#show title.with(colour: theme)\n```\nso that every time I import `functions.typ` with a different `theme` attribute set in `properties` I get something like this:\n![main|525x500, 100%](upload://tE78fczFetFxHotVlBVs00Y7PZU.jpeg)\n\nThis styling should affect _every_ function, in whatever document they are. I have tried using states but didn't manage to get it working.\n\nSo far `main.typ` looks like this:\n\n```typst\n\n#import \"lib/template.typ\": *\n#import \"lib/functions.typ\": *\n#import \"properties.typ\": *\n\n#show: document.with(..properties)\n\n#include \"sections/abstract.typ\"\n#include \"sections/introduction.typ\"\n#include \"sections/first_section.typ\"\n#include \"sections/appendix.typ\"\n```\nwhile `properties`:\n```typ\n#let properties = (\n  title: \"Title\",\n  authors: (),\n  theme: \"blue\",\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 720.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 632
    },
    {
      "id": 4700,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-26T12:56:09.938Z",
      "updated_at": "2024-10-26T12:56:09.938Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/victuarvi\">@VictuarVi</a>, thanks for your question! Could you maybe try to revise your post’s title so others can find it easier in the future? The <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines </a> recommend a complete question:</p>\n<blockquote>\n<p>Good titles are questions you would ask your friend about Typst.</p>\n</blockquote>\n<p>I think the questions under the <a class=\"hashtag-cooked\" href=\"/tag/templates\" data-type=\"tag\" data-slug=\"templates\" data-id=\"51\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>templates</span></a> tag could be interesting to you (and that may be a good tag for your question too). Without completely thinking through your situation, this in particular sounds promising:</p>\n<aside class=\"quote\" data-post=\"1\" data-topic=\"228\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/m/8C2563/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/what-is-the-best-way-to-retrieve-template-argument-outside-the-template/228\">What is the best way to retrieve template argument outside the template?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Generally, in the template I create, I define a list of colors as: \n#let colors = (\n    primary: red,\n    secondary: blue\n)\n\nMy question is “What is the best way to give the user access to the template colors?” \nShould I use a state variable ? \n// in template.typ\n#let user-colors = state(\"user-colors\", colors)\n\n// in main.typ\n#let colors = context user-colors.get() // it gives a content\n\nDo you have any recommendation ? \nThank you\n  </blockquote>\n</aside>\n",
      "raw": "Hi @VictuarVi, thanks for your question! Could you maybe try to revise your post’s title so others can find it easier in the future? The [question guidelines ](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) recommend a complete question:\n\n> Good titles are questions you would ask your friend about Typst.\n\nI think the questions under the #templates tag could be interesting to you (and that may be a good tag for your question too). Without completely thinking through your situation, this in particular sounds promising:\n\nhttps://forum.typst.app/t/what-is-the-best-way-to-retrieve-template-argument-outside-the-template/228?u=sillyfreak",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:55:56.043249"
}
{
  "topic_metadata": {
    "id": 1366,
    "title": "How to change spacing between entries within bibliography?",
    "slug": "how-to-change-spacing-between-entries-within-bibliography",
    "posts_count": 6,
    "created_at": "2024-10-26T17:35:12.387Z",
    "last_posted_at": "2024-10-27T17:44:07.740Z",
    "views": 231,
    "like_count": 5,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout",
      "literature"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 298
  },
  "posts": [
    {
      "id": 4709,
      "post_number": 1,
      "username": "Silas",
      "name": "Silas",
      "created_at": "2024-10-26T17:35:12.497Z",
      "updated_at": "2025-02-05T15:08:24.407Z",
      "cooked": "<p>Hey there,</p>\n<p>i am having a hard time getting some space between my sources. My code looks like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#bibliography(\n  \"sources.bib\",\n  style: \"harvard-cite-them-right\",\n)\n</code></pre>\n<p>Sadly, the result looks like this:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/de978328dbd3bc119751a15d8ab39d6cabd61e44.png\" data-download-href=\"https://forum.typst.app/uploads/default/de978328dbd3bc119751a15d8ab39d6cabd61e44\" title=\"Bildschirmfoto 2024-10-26 um 19.32.53\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/de978328dbd3bc119751a15d8ab39d6cabd61e44_2_483x500.png\" alt=\"Bildschirmfoto 2024-10-26 um 19.32.53\" data-base62-sha1=\"vL8BX35Ft7uHihsYZZpagtsgZrC\" width=\"483\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/de978328dbd3bc119751a15d8ab39d6cabd61e44_2_483x500.png, https://forum.typst.app/uploads/default/original/2X/d/de978328dbd3bc119751a15d8ab39d6cabd61e44.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/de978328dbd3bc119751a15d8ab39d6cabd61e44.png 2x\" data-dominant-color=\"F1F1F1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Bildschirmfoto 2024-10-26 um 19.32.53</span><span class=\"informations\">517×535 96.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Does anyone know, how I can configure the spacing between the sources?</p>\n<p>Kind regards,<br>\nSilas</p>",
      "raw": "Hey there,\n\ni am having a hard time getting some space between my sources. My code looks like this:\n\n```typ\n#bibliography(\n  \"sources.bib\",\n  style: \"harvard-cite-them-right\",\n)\n```\n\nSadly, the result looks like this:\n\n![Bildschirmfoto 2024-10-26 um 19.32.53|483x500](upload://vL8BX35Ft7uHihsYZZpagtsgZrC.png)\n\nDoes anyone know, how I can configure the spacing between the sources?\n\nKind regards,\nSilas",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 1007.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 681
    },
    {
      "id": 4712,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-26T18:11:10.330Z",
      "updated_at": "2024-10-26T18:11:10.330Z",
      "cooked": "<p>The bibliography uses the normal paragraph spacing value, which you can set for the whole document via</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(spacing: ...) // Default: 1.2em\n</code></pre>\n<p>Usually, the default value looks fine, but your increased line spacing makes it look disproportionate. If you want different spacing just for the bibliography, you can limit the above set rule or decrease the line spacing with a show-set rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show bibliography: set par(spacing: ..., leading: ...)\n</code></pre>\n<p>The default leading value (used for line spacing) is <code>0.65em</code>.</p>",
      "raw": "The bibliography uses the normal paragraph spacing value, which you can set for the whole document via\n```typ\n#set par(spacing: ...) // Default: 1.2em\n```\nUsually, the default value looks fine, but your increased line spacing makes it look disproportionate. If you want different spacing just for the bibliography, you can limit the above set rule or decrease the line spacing with a show-set rule\n```typ\n#show bibliography: set par(spacing: ..., leading: ...)\n```\nThe default leading value (used for line spacing) is `0.65em`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 67.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4715,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-26T23:53:04.771Z",
      "updated_at": "2024-10-26T23:53:04.771Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/silas\">@Silas</a>, welcome to the forum! I’ve changed your post’s title in accordance with our question post guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your post’s title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Silas, welcome to the forum! I've changed your post's title in accordance with our question post guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your post's title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 41.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4731,
      "post_number": 4,
      "username": "Silas",
      "name": "Silas",
      "created_at": "2024-10-27T17:08:54.497Z",
      "updated_at": "2024-10-27T17:08:54.497Z",
      "cooked": "<p>Hey Eric,</p>\n<p>thanks for your answer!<br>\nEven though the actual documentation of <a href=\"https://typst.app/docs/reference/model/par/\">Typst Paragraphs</a> contains the variable <code>spacing</code>, somehow I always get the error <code>unknown variable: spacing</code>. If you are familiar with this issue, please reach out to me.</p>\n<p>Kind regards<br>\nSilas</p>",
      "raw": "Hey Eric,\n\nthanks for your answer! \nEven though the actual documentation of [Typst Paragraphs](https://typst.app/docs/reference/model/par/) contains the variable `spacing`, somehow I always get the error `unknown variable: spacing`. If you are familiar with this issue, please reach out to me.\n\nKind regards\nSilas",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 681
    },
    {
      "id": 4732,
      "post_number": 5,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-27T17:22:52.777Z",
      "updated_at": "2024-10-27T17:22:52.777Z",
      "cooked": "<p>It appears you are using an outdated Typst version; you’ll need to use Typst 0.12.0 for <code>#set par(spacing: ...)</code> to work. (It used to be <code>set block(spacing: ...)</code> in previous versions, which still works but is no longer useful for paragraphs themselves.)</p>",
      "raw": "It appears you are using an outdated Typst version; you'll need to use Typst 0.12.0 for `#set par(spacing: ...)` to work. (It used to be `set block(spacing: ...)` in previous versions, which still works but is no longer useful for paragraphs themselves.)",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4733,
      "post_number": 6,
      "username": "Silas",
      "name": "Silas",
      "created_at": "2024-10-27T17:44:07.740Z",
      "updated_at": "2024-10-27T17:44:07.740Z",
      "cooked": "<p>Thank you for your support, that fixed it &lt;3</p>",
      "raw": "Thank you for your support, that fixed it <3",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 49.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 681
    }
  ],
  "scraped_at": "2025-06-10T09:55:55.323293"
}
{
  "topic_metadata": {
    "id": 1368,
    "title": "How can I bypass set/show rules to revert to the default?",
    "slug": "how-can-i-bypass-set-show-rules-to-revert-to-the-default",
    "posts_count": 2,
    "created_at": "2024-10-26T20:13:47.311Z",
    "last_posted_at": "2024-10-27T05:07:10.311Z",
    "views": 294,
    "like_count": 5,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 124
  },
  "posts": [
    {
      "id": 4713,
      "post_number": 1,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-26T20:13:47.485Z",
      "updated_at": "2024-10-26T20:13:47.485Z",
      "cooked": "<p>I have some customized show rule for references. Now, I want to bypass these rules for one specific reference and get the default behaviour.<br>\nIs this possible?</p>",
      "raw": "I have some customized show rule for references. Now, I want to bypass these rules for one specific reference and get the default behaviour.\nIs this possible?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 38,
      "score": 1442.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4719,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-27T05:07:10.311Z",
      "updated_at": "2024-10-27T05:07:10.311Z",
      "cooked": "<p>No. Currently we can’t revoke set/show rules in Typst. But it’s a planned feature: <a href=\"https://github.com/typst/typst/issues/420\" rel=\"noopener nofollow ugc\">Related issue</a>, <a href=\"https://typst.app/docs/roadmap/\">Typst Roadmap</a></p>\n<p>If you want to apply two different styles to the same element, you can encapsulate the element with specific styles into a function, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let styled-text(..args) = {\n  set text(font: \"Buenard\")\n\n  text(..args)\n}\n\n#styled-text(\"123\", size: 10pt)\n</code></pre>\n<p>But I guess there’s probably no way to encapsulate the default style into a function, especially when you applied a <code>show</code> rule.</p>",
      "raw": "No. Currently we can't revoke set/show rules in Typst. But it's a planned feature: [Related issue](https://github.com/typst/typst/issues/420), [Typst Roadmap](https://typst.app/docs/roadmap/)\n\nIf you want to apply two different styles to the same element, you can encapsulate the element with specific styles into a function, for example:\n```typ\n#let styled-text(..args) = {\n  set text(font: \"Buenard\")\n\n  text(..args)\n}\n\n#styled-text(\"123\", size: 10pt)\n```\nBut I guess there's probably no way to encapsulate the default style into a function, especially when you applied a `show` rule.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 34,
      "score": 81.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    }
  ],
  "scraped_at": "2025-06-10T09:55:54.603290"
}
{
  "topic_metadata": {
    "id": 1380,
    "title": "Is it possible to calculate intersection points between two cetz plots?",
    "slug": "is-it-possible-to-calculate-intersection-points-between-two-cetz-plots",
    "posts_count": 4,
    "created_at": "2024-10-27T19:31:58.442Z",
    "last_posted_at": "2025-03-28T18:20:37.080Z",
    "views": 229,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Tiggax",
    "tags": [
      "cetz"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 518
  },
  "posts": [
    {
      "id": 4734,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-10-27T19:31:58.580Z",
      "updated_at": "2024-10-27T19:31:58.580Z",
      "cooked": "<p>I was trying different ways to calculate the intersection points from two cetz plots.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#canvas(\n      length: 1cm,\n      {\n        import draw: *\n        plot.plot(\n          size: (5, 5),\n          axis-style: \"school-book\",\n          x-label: [$x$],\n          y-label: [$y$],\n          {\n            intersections(\n              \"i\",\n              {\n                plot.add(\n                  style: (stroke: black + 1.5pt),\n                  domain: (-1, 1),\n                  x =&gt; calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n                )\n                plot.add(\n                  style: (stroke: black + 1.5pt),\n                  domain: (-1, 1),\n                  x =&gt; -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1),\n                )\n              },\n            )\n          },\n        )\n      },\n    )\n</code></pre>\n<p>Is this even possible, or should i calculate the intersection points outside of typst/cetz?</p>",
      "raw": "I was trying different ways to calculate the intersection points from two cetz plots.\n\n```typst\n#canvas(\n      length: 1cm,\n      {\n        import draw: *\n        plot.plot(\n          size: (5, 5),\n          axis-style: \"school-book\",\n          x-label: [$x$],\n          y-label: [$y$],\n          {\n            intersections(\n              \"i\",\n              {\n                plot.add(\n                  style: (stroke: black + 1.5pt),\n                  domain: (-1, 1),\n                  x => calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n                )\n                plot.add(\n                  style: (stroke: black + 1.5pt),\n                  domain: (-1, 1),\n                  x => -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1),\n                )\n              },\n            )\n          },\n        )\n      },\n    )\n```\n\nIs this even possible, or should i calculate the intersection points outside of typst/cetz?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 754.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 4770,
      "post_number": 2,
      "username": "Tiggax",
      "name": "",
      "created_at": "2024-10-28T13:49:46.443Z",
      "updated_at": "2024-10-28T13:58:12.726Z",
      "cooked": "<p>When you mean calculate them, do you want to reference them (like point to them) or do you want the values?</p>\n<p>If you need to have a reference, you could do something like my example:</p>\n<pre><code class=\"lang-auto\">#import \"@preview/cetz:0.3.1\": canvas, draw\n#import \"@preview/cetz-plot:0.1.0\": plot\n\n\n#let intersection(plotA, plotB, style: (stroke: red + 2pt)) = {\n  let dataA = plotA.first().data\n  let dataB = plotB.first().data\n\n  let points = dataA.filter(x =&gt; x in dataB)\n\n  for ((i, point)) in points.enumerate() {\n    plot.add-anchor(\"i_\" + str(i),point )\n  }\n\n  plotA\n  plotB\n}\n\n#canvas(\n  length: 1cm,\n  {\n    import draw: *\n    plot.plot(\n      name: \"my_plot\",\n      size: (5, 5),\n      axis-style: \"school-book\",\n      x-label: [$x$],\n      y-label: [$y$],\n      {\n      intersection(\n        plot.add(\n          style: (stroke: black + 1.5pt),\n          domain: (-1, 1),\n          x =&gt; calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n        ),\n        plot.add(\n          style: (stroke: black + 1.5pt),\n          domain: (-1, 1),\n          x =&gt; -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1),\n        )\n      )\n      }\n    )\n\n    // reference the point with {plot name}.i_{number}\n    line(\"my_plot.i_1\", ((), \"|-\", (0,3.5)), mark: (start: \"&gt;\"), name: \"line\")\n    content(\"line.end\", [Here], anchor: \"south\", padding: .1)\n  },\n)\n</code></pre>\n<p>The function just takes the plots, and access its values, before passing it on. This can be modified to for example output the values and so on.<br>\n(note: intersections might not be shown 100% of the time, since the calculation is discrete.)</p>",
      "raw": "When you mean calculate them, do you want to reference them (like point to them) or do you want the values?\n \nIf you need to have a reference, you could do something like my example:\n```\n#import \"@preview/cetz:0.3.1\": canvas, draw\n#import \"@preview/cetz-plot:0.1.0\": plot\n\n\n#let intersection(plotA, plotB, style: (stroke: red + 2pt)) = {\n  let dataA = plotA.first().data\n  let dataB = plotB.first().data\n\n  let points = dataA.filter(x => x in dataB)\n\n  for ((i, point)) in points.enumerate() {\n    plot.add-anchor(\"i_\" + str(i),point )\n  }\n\n  plotA\n  plotB\n}\n\n#canvas(\n  length: 1cm,\n  {\n    import draw: *\n    plot.plot(\n      name: \"my_plot\",\n      size: (5, 5),\n      axis-style: \"school-book\",\n      x-label: [$x$],\n      y-label: [$y$],\n      {\n      intersection(\n        plot.add(\n          style: (stroke: black + 1.5pt),\n          domain: (-1, 1),\n          x => calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n        ),\n        plot.add(\n          style: (stroke: black + 1.5pt),\n          domain: (-1, 1),\n          x => -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1),\n        )\n      )\n      }\n    )\n\n    // reference the point with {plot name}.i_{number}\n    line(\"my_plot.i_1\", ((), \"|-\", (0,3.5)), mark: (start: \">\"), name: \"line\")\n    content(\"line.end\", [Here], anchor: \"south\", padding: .1)\n  },\n)\n```\nThe function just takes the plots, and access its values, before passing it on. This can be modified to for example output the values and so on.\n(note: intersections might not be shown 100% of the time, since the calculation is discrete.)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 49.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 71
    },
    {
      "id": 5377,
      "post_number": 3,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-11-09T12:38:33.723Z",
      "updated_at": "2024-11-09T12:38:33.723Z",
      "cooked": "<p>Thank’s for your quick solution!</p>\n<p>I’ve used your code to create a similar, but different approach, to solve this problem. Now the only remaining issue is the scaling of the drawn objects in the <code>plot.annotate</code> function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let intersection(plotA, plotB, style: (stroke: red + 2pt)) = {\n  import draw: *\n  let dataA = plotA.first().data\n  let dataB = plotB.first().data\n\n  plot.annotate({\n    hide({\n      intersections(\"i\", line(..plotA.first().data), line(..plotB.first().data))\n    })\n    for-each-anchor(\"i\", (name) =&gt; {\n      circle(\"i.\" + name, radius: 0.05, fill: red)\n    })\n  })\n\n  plotA\n  plotB\n}\n\n#canvas(\n  length: 1cm,\n  {\n    import draw: *\n    plot.plot(\n      name: \"plot\",\n      size: (10, 10),\n      axis-style: \"school-book\",\n      x-label: [$x$],\n      y-label: [$y$],\n      {\n        intersection(\n          plot.add(\n            style: (stroke: black + 1.5pt),\n            domain: (-1, 1),\n            x =&gt; calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n          ),\n          plot.add(\n            style: (stroke: black + 1.5pt),\n            domain: (-1, 1),\n            x =&gt; -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 0.5),\n          ),\n        )\n      },\n    )\n  },\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/3725be31cbbb287bdd4dcef5738ade7e840ff05e.png\" data-download-href=\"https://forum.typst.app/uploads/default/3725be31cbbb287bdd4dcef5738ade7e840ff05e\" title=\"SCR-20241109-melu\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/3725be31cbbb287bdd4dcef5738ade7e840ff05e_2_529x500.png\" alt=\"SCR-20241109-melu\" data-base62-sha1=\"7RR7JBkeHMpyyDtsxCG8eqW4vBI\" width=\"529\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/3725be31cbbb287bdd4dcef5738ade7e840ff05e_2_529x500.png, https://forum.typst.app/uploads/default/original/2X/3/3725be31cbbb287bdd4dcef5738ade7e840ff05e.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/3725be31cbbb287bdd4dcef5738ade7e840ff05e.png 2x\" data-dominant-color=\"F9F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20241109-melu</span><span class=\"informations\">642×606 40.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Is there any option to make the circle perfectly round, without manually calculating the scale base of the axis scaling?</p>",
      "raw": "Thank's for your quick solution!\n\nI've used your code to create a similar, but different approach, to solve this problem. Now the only remaining issue is the scaling of the drawn objects in the `plot.annotate` function.\n\n``` typ\n#let intersection(plotA, plotB, style: (stroke: red + 2pt)) = {\n  import draw: *\n  let dataA = plotA.first().data\n  let dataB = plotB.first().data\n\n  plot.annotate({\n    hide({\n      intersections(\"i\", line(..plotA.first().data), line(..plotB.first().data))\n    })\n    for-each-anchor(\"i\", (name) => {\n      circle(\"i.\" + name, radius: 0.05, fill: red)\n    })\n  })\n\n  plotA\n  plotB\n}\n\n#canvas(\n  length: 1cm,\n  {\n    import draw: *\n    plot.plot(\n      name: \"plot\",\n      size: (10, 10),\n      axis-style: \"school-book\",\n      x-label: [$x$],\n      y-label: [$y$],\n      {\n        intersection(\n          plot.add(\n            style: (stroke: black + 1.5pt),\n            domain: (-1, 1),\n            x => calc.pow(x, 4) - 2 * calc.pow(x, 2) + 1,\n          ),\n          plot.add(\n            style: (stroke: black + 1.5pt),\n            domain: (-1, 1),\n            x => -(calc.pow(x, 4) - 2 * calc.pow(x, 2) + 0.5),\n          ),\n        )\n      },\n    )\n  },\n)\n```\n\n![SCR-20241109-melu|529x500, 100%](upload://7RR7JBkeHMpyyDtsxCG8eqW4vBI.png)\n\n\nIs there any option to make the circle perfectly round, without manually calculating the scale base of the axis scaling?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 32.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 10372,
      "post_number": 4,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2025-03-28T18:20:37.080Z",
      "updated_at": "2025-03-28T18:20:37.080Z",
      "cooked": "<p>This is a good question and probably should be posted as a new question in the forum.</p>",
      "raw": "This is a good question and probably should be posted as a new question in the forum.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 4.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    }
  ],
  "scraped_at": "2025-06-10T09:55:53.842410"
}
{
  "topic_metadata": {
    "id": 1382,
    "title": "How to properly abbreviate symbols with subscript in math?",
    "slug": "how-to-properly-abbreviate-symbols-with-subscript-in-math",
    "posts_count": 7,
    "created_at": "2024-10-27T20:07:03.858Z",
    "last_posted_at": "2024-10-28T23:49:54.725Z",
    "views": 201,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 411
  },
  "posts": [
    {
      "id": 4736,
      "post_number": 1,
      "username": "Dominique_Unruh",
      "name": "Dominique Unruh",
      "created_at": "2024-10-27T20:07:04.052Z",
      "updated_at": "2024-10-28T23:48:56.142Z",
      "cooked": "<p>I would like to abbreviate<code> $omega_0$</code> as <code>o0</code> in formulas. So I define it as</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let o0 = $omega_0$\n</code></pre>\n<p>Later, I want to use write the square of this in a formula, i.e.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$o0^2$\n</code></pre>\n<p>But this does not render as <code>$omega_0^2$</code> (with 0 and 2 on top of each other), but with the 2 to the right of the whole <code>$omega_0$</code>.</p>\n<p>How do I define an abbreviated mathematical variable with a subscript so that I can add squaring later on when I use it?</p>",
      "raw": "I would like to abbreviate` $omega_0$` as `o0` in formulas. So I define it as\n```typ\n#let o0 = $omega_0$\n```\nLater, I want to use write the square of this in a formula, i.e.\n```typ\n$o0^2$\n```\nBut this does not render as `$omega_0^2$` (with 0 and 2 on top of each other), but with the 2 to the right of the whole `$omega_0$`.\n\nHow do I define an abbreviated mathematical variable with a subscript so that I can add squaring later on when I use it?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 616.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 691
    },
    {
      "id": 4737,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-27T20:13:47.621Z",
      "updated_at": "2024-10-27T20:13:47.621Z",
      "cooked": "<p>It seems that you aren’t yet using Typst v0.12, as that behaviour was fixed with the latest update.</p>",
      "raw": "It seems that you aren't yet using Typst v0.12, as that behaviour was fixed with the latest update.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 32.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4738,
      "post_number": 3,
      "username": "Dominique_Unruh",
      "name": "Dominique Unruh",
      "created_at": "2024-10-27T20:31:11.331Z",
      "updated_at": "2024-10-27T20:31:11.331Z",
      "cooked": "<p>Oh, indeed, ArchLinux has still 0.11.1. Trying this in <code>typst.app</code>, it works as expected. So I will wait for 0.12.</p>\n<p>However, if I look at the representation of what I’m producing, I still get something that seems wrong:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let o0 = $omega_0$\n#repr($o0^2$)\n</code></pre>\n<p>shows</p>\n<pre><code class=\"lang-auto\">equation(\n  block: false,\n  body: attach(\n    base: equation(block: false, body: attach(base: [ω], b: [0])),\n    t: [2],\n  ),\n)\n</code></pre>\n<p>which contains unnecessarily nested equations. I understand why it happens (because of the $$ in the definition of o0), but is does not seem right. Is there a more correct way to define o0 than to enclose its body in $$?</p>",
      "raw": "Oh, indeed, ArchLinux has still 0.11.1. Trying this in `typst.app`, it works as expected. So I will wait for 0.12.\n\nHowever, if I look at the representation of what I'm producing, I still get something that seems wrong:\n```typ\n#let o0 = $omega_0$\n#repr($o0^2$)\n```\nshows\n```\nequation(\n  block: false,\n  body: attach(\n    base: equation(block: false, body: attach(base: [ω], b: [0])),\n    t: [2],\n  ),\n)\n```\nwhich contains unnecessarily nested equations. I understand why it happens (because of the $$ in the definition of o0), but is does not seem right. Is there a more correct way to define o0 than to enclose its body in $$?",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 31.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 691
    },
    {
      "id": 4739,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-27T21:11:58.518Z",
      "updated_at": "2024-10-27T21:11:58.518Z",
      "cooked": "<p>In principle you can write the math function call out directly:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let o0 = math.attach(sym.omega, b: [0])\n#repr($o0^2$)\n</code></pre>\n<p>Which is still not perfect:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">equation(\n  block: false,\n  body: attach(base: attach(base: [ω], b: [0]), t: [2]),\n)\n</code></pre>\n<p>However, as far as I know that should not matter at all. Nested equations in particular are expected in idiomatic Typst markup and are eliminated during layout. 0.12 is now doing the same for attachments (or so it seems, I don’t know the details). So I wouldn’t worry about it. <code>$$</code> <em>is</em> the clean way to do this.</p>",
      "raw": "In principle you can write the math function call out directly:\n```typ\n#let o0 = math.attach(sym.omega, b: [0])\n#repr($o0^2$)\n```\nWhich is still not perfect:\n```typc\nequation(\n  block: false,\n  body: attach(base: attach(base: [ω], b: [0]), t: [2]),\n)\n```\nHowever, as far as I know that should not matter at all. Nested equations in particular are expected in idiomatic Typst markup and are eliminated during layout. 0.12 is now doing the same for attachments (or so it seems, I don't know the details). So I wouldn't worry about it. `$$` _is_ the clean way to do this.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 41.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4766,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T12:58:54.062Z",
      "updated_at": "2024-10-28T12:58:54.062Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Dominique_Unruh\" data-post=\"3\" data-topic=\"1382\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/d/9335FF/48.png\" class=\"avatar\"> Dominique_Unruh:</div>\n<blockquote>\n<p>Oh, indeed, ArchLinux has still 0.11.1</p>\n</blockquote>\n</aside>\n<p>? It was updated on 10/19</p>",
      "raw": "[quote=\"Dominique_Unruh, post:3, topic:1382\"]\nOh, indeed, ArchLinux has still 0.11.1\n[/quote]\n\n? It was updated on 10/19",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4785,
      "post_number": 6,
      "username": "Dominique_Unruh",
      "name": "Dominique Unruh",
      "created_at": "2024-10-28T22:06:35.525Z",
      "updated_at": "2024-10-28T22:06:35.525Z",
      "cooked": "<p>Oh, indeed. I didn’t do <code>pacman -Sy</code>, so I got the old version even though I installed on Oct 25. Unfortunate timing.</p>",
      "raw": "Oh, indeed. I didn't do `pacman -Sy`, so I got the old version even though I installed on Oct 25. Unfortunate timing.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 691
    },
    {
      "id": 4789,
      "post_number": 7,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-28T23:49:54.725Z",
      "updated_at": "2024-10-28T23:49:54.725Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/dominique_unruh\">@Dominique_Unruh</a>, welcome to the forum! I’ve updated your post to better fit our guidelines for the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your post title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Dominique_Unruh, welcome to the forum! I've updated your post to better fit our guidelines for the #questions category: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your post title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 29.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:55:53.122260"
}
{
  "topic_metadata": {
    "id": 1389,
    "title": "Can I define $⊂=$ to show as $subset.eq$?",
    "slug": "can-i-define-to-show-as-subset-eq",
    "posts_count": 6,
    "created_at": "2024-10-28T08:25:45.867Z",
    "last_posted_at": "2024-10-28T10:44:20.957Z",
    "views": 197,
    "like_count": 6,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Eric",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 259
  },
  "posts": [
    {
      "id": 4749,
      "post_number": 1,
      "username": "heptocat",
      "name": "",
      "created_at": "2024-10-28T08:25:46.017Z",
      "updated_at": "2024-10-28T08:25:46.017Z",
      "cooked": "<p>I am wondering if defining own shortcuts by linking operators (analogously to how  &lt;= is lt.eq) is possible, and if so how. Clearly I can’t simply write</p>\n<pre><code class=\"lang-auto\">let ⊂= = subset.eq\n</code></pre>\n<p>Cheers!</p>",
      "raw": "I am wondering if defining own shortcuts by linking operators (analogously to how  <= is lt.eq) is possible, and if so how. Clearly I can't simply write\n\n```\nlet ⊂= = subset.eq\n```\n\nCheers!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 651.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 659
    },
    {
      "id": 4750,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T09:10:32.501Z",
      "updated_at": "2024-10-28T09:11:09.848Z",
      "cooked": "<p>Hello!<br>\nTo define a shortcut for ⊆, you can simply define a variable</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let sse = math.subset.eq\n$\n  sse\n  subset.eq\n$\n</code></pre>\n<p>As you said, writing a variable can only be defined within specific naming constraints. See</p>\n<ul>\n<li><a href=\"https://forum.typst.app/t/what-characters-may-the-names-of-variables-and-functions-consist-of/1133\" class=\"inline-onebox\">What characters may the names of variables and functions consist of?</a>.</li>\n<li><a href=\"https://forum.typst.app/t/what-are-the-rules-for-identifiers-in-typst/665/2\" class=\"inline-onebox\">What are the rules for identifiers in Typst? - #2 by xkevio</a></li>\n</ul>",
      "raw": "Hello!\nTo define a shortcut for ⊆, you can simply define a variable\n```typ\n#let sse = math.subset.eq\n$\n  sse\n  subset.eq\n$\n```\nAs you said, writing a variable can only be defined within specific naming constraints. See \n- https://forum.typst.app/t/what-characters-may-the-names-of-variables-and-functions-consist-of/1133.\n- https://forum.typst.app/t/what-are-the-rules-for-identifiers-in-typst/665/2",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 33,
      "score": 46.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4751,
      "post_number": 3,
      "username": "heptocat",
      "name": "",
      "created_at": "2024-10-28T09:23:34.768Z",
      "updated_at": "2024-10-28T09:23:34.768Z",
      "cooked": "<p>Thanks for your reply! I’m aware of how to define variables, I was just wondering if defining a composition of operators similarly to &lt;= but ⊂= would be possible in some way. Thanks for the link to the naming constraints, that’s useful. But perhaps there is another way to do this?</p>",
      "raw": "Thanks for your reply! I'm aware of how to define variables, I was just wondering if defining a composition of operators similarly to <= but ⊂= would be possible in some way. Thanks for the link to the naming constraints, that's useful. But perhaps there is another way to do this?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 21.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 659
    },
    {
      "id": 4753,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T10:04:35.793Z",
      "updated_at": "2024-10-28T10:04:35.793Z",
      "cooked": "<p>hmmm, I don’t think it’s possible in Typst, but you can open an issue at the Typst repo to add new shorthands!</p>",
      "raw": "hmmm, I don't think it's possible in Typst, but you can open an issue at the Typst repo to add new shorthands!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4755,
      "post_number": 5,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-28T10:18:55.606Z",
      "updated_at": "2024-10-28T10:20:21.660Z",
      "cooked": "<p>You can use the <a href=\"https://typst.app/universe/package/quick-maths/\"><code>quick-maths</code></a> package which traverses the equation content and replaces any direct occurrences of given shorthands with their respective symbols. This method is relatively naive, so it may break when defining more complex shorthands.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/quick-maths:0.1.0\": shorthands\n\n#show: shorthands.with(\n  ($⊂=$, $subset.eq$)\n)\n\n$ A ⊂= B $\n</code></pre>\n<p><em>(Note: I am the author of that package)</em></p>",
      "raw": "You can use the [`quick-maths`](https://typst.app/universe/package/quick-maths/) package which traverses the equation content and replaces any direct occurrences of given shorthands with their respective symbols. This method is relatively naive, so it may break when defining more complex shorthands.\n\n```typ\n#import \"@preview/quick-maths:0.1.0\": shorthands\n\n#show: shorthands.with(\n  ($⊂=$, $subset.eq$)\n)\n\n$ A ⊂= B $\n```\n\n_(Note: I am the author of that package)_",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 30,
      "score": 81.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4759,
      "post_number": 6,
      "username": "heptocat",
      "name": "",
      "created_at": "2024-10-28T10:44:20.957Z",
      "updated_at": "2024-10-28T10:44:20.957Z",
      "cooked": "<p>This is great :-) thanks for the info and your work on the package</p>",
      "raw": "This is great :-) thanks for the info and your work on the package",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 659
    }
  ],
  "scraped_at": "2025-06-10T09:55:52.374252"
}
{
  "topic_metadata": {
    "id": 1392,
    "title": "How can i cite without paranthesis",
    "slug": "how-can-i-cite-without-paranthesis",
    "posts_count": 2,
    "created_at": "2024-10-28T10:19:42.821Z",
    "last_posted_at": "2024-10-28T10:38:46.264Z",
    "views": 62,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "citation"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 119
  },
  "posts": [
    {
      "id": 4756,
      "post_number": 1,
      "username": "toIhr",
      "name": "",
      "created_at": "2024-10-28T10:19:43.001Z",
      "updated_at": "2024-10-28T10:19:43.001Z",
      "cooked": "<p>So I am a heavy user of the apa citatitation style because that is basically standard in my field.  But I cannot seem to figure out how to cite within a text and as such without paranthesis.</p>\n<p>I am super confused this should be an option but I honestly don’t understand the Documentation on this.<br>\nCan someone help me and point out the way this is supposed to be done?</p>",
      "raw": "So I am a heavy user of the apa citatitation style because that is basically standard in my field.  But I cannot seem to figure out how to cite within a text and as such without paranthesis.\n\nI am super confused this should be an option but I honestly don't understand the Documentation on this.\nCan someone help me and point out the way this is supposed to be done?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 65.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 693
    },
    {
      "id": 4758,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T10:38:46.264Z",
      "updated_at": "2024-10-28T10:38:46.264Z",
      "cooked": "<p>Hello and welcome <a class=\"mention\" href=\"/u/toihr\">@toIhr</a>!<br>\nWould using <code>form: \"prose\"</code> work for you?<br>\nYou can take a look at the docs <a href=\"https://typst.app/docs/reference/model/cite/#:~:text=%23cite(%3Cnetwok%3E%2C%20form%3A%20%22prose%22)%0Ashow%20the%20outsized%20effects%20of%0Apirate%20life%20on%20the%20human%20psyche.\">here</a>.</p>",
      "raw": "Hello and welcome @toIhr!\nWould using `form: \"prose\"` work for you?\nYou can take a look at the docs [here](https://typst.app/docs/reference/model/cite/#:~:text=%23cite(%3Cnetwok%3E%2C%20form%3A%20%22prose%22)%0Ashow%20the%20outsized%20effects%20of%0Apirate%20life%20on%20the%20human%20psyche.).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:55:51.642464"
}
{
  "topic_metadata": {
    "id": 1399,
    "title": "How to render the symbol underscore?",
    "slug": "how-to-render-the-symbol-underscore",
    "posts_count": 2,
    "created_at": "2024-10-28T14:52:02.649Z",
    "last_posted_at": "2024-10-28T15:02:43.936Z",
    "views": 278,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "gezepi",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 98
  },
  "posts": [
    {
      "id": 4772,
      "post_number": 1,
      "username": "Hans_Vinther-Larsen",
      "name": "Hans Vinther-Larsen",
      "created_at": "2024-10-28T14:52:02.773Z",
      "updated_at": "2024-10-28T14:52:02.773Z",
      "cooked": "<p>Is there a supported way to render an underscore other than using the utf encoding, ie. \\u{005F}?</p>\n<p>I haven’t been able to find a matching symbol in <a href=\"https://typst.app/docs/reference/symbols/sym/\" class=\"inline-onebox\">General Symbols – Typst Documentation</a> .</p>\n<p>Otherwise, is it perhaps possible to disable asterix for bold an underscore for italic such that the symbols are being rendered directly, and instead indicating bold and italic with some function calls?</p>",
      "raw": "Is there a supported way to render an underscore other than using the utf encoding, ie. \\u{005F}?\n\nI haven't been able to find a matching symbol in https://typst.app/docs/reference/symbols/sym/ .\n\nOtherwise, is it perhaps possible to disable asterix for bold an underscore for italic such that the symbols are being rendered directly, and instead indicating bold and italic with some function calls?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 1236.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 694
    },
    {
      "id": 4773,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-28T15:02:43.936Z",
      "updated_at": "2024-10-28T15:02:43.936Z",
      "cooked": "<p>Luckily it’s pretty simple.  You can escape the underscore character with a back slash (<code>\\</code>):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">This is _italic_, this is an underscore:\\_\n</code></pre>\n<p>Output:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/1/1af0fc794d71d9f5de4f7e5f2bb2fda1463042d6.png\" alt=\"image\" data-base62-sha1=\"3QkIWhyrM91CiJ86QmML8No9gFg\" width=\"341\" height=\"67\"></p>",
      "raw": "Luckily it's pretty simple.  You can escape the underscore character with a back slash (`\\`):\n```typ\nThis is _italic_, this is an underscore:\\_\n```\nOutput:\n![image|341x67](upload://3QkIWhyrM91CiJ86QmML8No9gFg.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 31,
      "score": 151.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 326
    }
  ],
  "scraped_at": "2025-06-10T09:55:50.763009"
}
{
  "topic_metadata": {
    "id": 1403,
    "title": "Wrong numbering for the equation",
    "slug": "wrong-numbering-for-the-equation",
    "posts_count": 3,
    "created_at": "2024-10-28T20:50:07.583Z",
    "last_posted_at": "2024-10-28T21:30:32.595Z",
    "views": 197,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "math",
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 322
  },
  "posts": [
    {
      "id": 4781,
      "post_number": 1,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-10-28T20:50:07.680Z",
      "updated_at": "2024-10-28T20:54:51.624Z",
      "cooked": "<p>I don’t know whether it’s a bug or if I did something wrong, but the equation numbers aren’t displaying correctly.</p>\n<p>A minimal code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(paper: \"a7\")\n#set heading(numbering: \"1.1\")\n#set math.equation(numbering: \"(1.1)\" )\n= Heading One \n$ y = x^2 + 1 $\n$ y = x^2 + 2 $\n= Heading Two\n$ y = x^2 + 3 $\n</code></pre>\n<p>it gives<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b.png\" data-download-href=\"https://forum.typst.app/uploads/default/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b\" title=\"Screenshot 2024-10-28 at 21.46.32\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b_2_606x500.png\" alt=\"Screenshot 2024-10-28 at 21.46.32\" data-base62-sha1=\"lEB5nrV6z7AEoWMIqx2QfqG0tbd\" width=\"606\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b_2_606x500.png, https://forum.typst.app/uploads/default/original/2X/9/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/97c47ebbbe7848b807e478851d1ecf7cac8d0f4b.png 2x\" data-dominant-color=\"F5F5F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2024-10-28 at 21.46.32</span><span class=\"informations\">682×562 36.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The expectation is (1.1), (1.2), (2.1). The same issue also happens to figures.</p>",
      "raw": "I don't know whether it's a bug or if I did something wrong, but the equation numbers aren't displaying correctly.\n\nA minimal code:\n```typst\n#set page(paper: \"a7\")\n#set heading(numbering: \"1.1\")\n#set math.equation(numbering: \"(1.1)\" )\n= Heading One \n$ y = x^2 + 1 $\n$ y = x^2 + 2 $\n= Heading Two\n$ y = x^2 + 3 $\n```\nit gives \n![Screenshot 2024-10-28 at 21.46.32|606x500, 100%](upload://lEB5nrV6z7AEoWMIqx2QfqG0tbd.png)\n\nThe expectation is (1.1), (1.2), (2.1). The same issue also happens to figures.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 886.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 4782,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-28T21:06:06.314Z",
      "updated_at": "2024-10-28T21:06:06.314Z",
      "cooked": "<p>By just setting the equation numbering to <code>\"(1.1)\"</code>, Typst cannot infer that you wish to have the current heading number there. You need to specify that separately, via a numbering function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: (..nums) =&gt; {\n  let section = counter(heading).get().first()\n  numbering(\"(1.1)\", section, ..nums)\n})\n</code></pre>\n<p>Doing this will give you the numbers (1.1), (1.2) and (2.3). You see that the equation number also needs to be reset at the start of each section. To achieve that, you can update the heading counter in a show rule for level-1 headings:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): it =&gt; {\n  counter(math.equation).update(0)\n  it\n}\n</code></pre>\n<p>These two pieces together will then give your expected numbers. To do the same for figures, just copy the first piece (to set the numbering) for figures, and include the counter updates for the various figure kinds in the show rule:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">counter(figure.where(kind: image)).update(0)\ncounter(figure.where(kind: table)).update(0)\ncounter(figure.where(kind: raw)).update(0)\n// + any custom figure kinds you use in your document\n</code></pre>\n<p>One side effect of this is that if you now reference equations, you no longer get something like “Equation 1”. Instead, the parentheses of the equation numbering is included, resulting in something like “Equation (1.1)”.</p>",
      "raw": "By just setting the equation numbering to `\"(1.1)\"`, Typst cannot infer that you wish to have the current heading number there. You need to specify that separately, via a numbering function:\n```typ\n#set math.equation(numbering: (..nums) => {\n  let section = counter(heading).get().first()\n  numbering(\"(1.1)\", section, ..nums)\n})\n```\nDoing this will give you the numbers (1.1), (1.2) and (2.3). You see that the equation number also needs to be reset at the start of each section. To achieve that, you can update the heading counter in a show rule for level-1 headings:\n```typ\n#show heading.where(level: 1): it => {\n  counter(math.equation).update(0)\n  it\n}\n```\nThese two pieces together will then give your expected numbers. To do the same for figures, just copy the first piece (to set the numbering) for figures, and include the counter updates for the various figure kinds in the show rule:\n```typc\ncounter(figure.where(kind: image)).update(0)\ncounter(figure.where(kind: table)).update(0)\ncounter(figure.where(kind: raw)).update(0)\n// + any custom figure kinds you use in your document\n```\nOne side effect of this is that if you now reference equations, you no longer get something like \"Equation 1\". Instead, the parentheses of the equation numbering is included, resulting in something like \"Equation (1.1)\".",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 35.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4783,
      "post_number": 3,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-10-28T21:30:32.595Z",
      "updated_at": "2024-10-28T21:30:32.595Z",
      "cooked": "<p>Thank you! It works now, and the current citation style is exactly what I wanted.</p>",
      "raw": "Thank you! It works now, and the current citation style is exactly what I wanted.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    }
  ],
  "scraped_at": "2025-06-10T09:55:50.052040"
}
{
  "topic_metadata": {
    "id": 1404,
    "title": "How to get the page number when referencing?",
    "slug": "how-to-get-the-page-number-when-referencing",
    "posts_count": 3,
    "created_at": "2024-10-28T23:33:53.197Z",
    "last_posted_at": "2024-10-31T04:43:32.694Z",
    "views": 574,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 280
  },
  "posts": [
    {
      "id": 4788,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-28T23:33:53.304Z",
      "updated_at": "2024-10-31T04:42:56.699Z",
      "cooked": "<p>Here is a discussion about how to get the page number when referencing an image or table. (And if I understand correctly, it should also work for headings.): <a href=\"https://github.com/typst/typst/issues/2873\" rel=\"noopener nofollow ugc\">https://github.com/typst/typst/issues/2873</a>.</p>\n<p>In May, Laurenz posted a solution for Typst 0.11:</p>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pageref(label) = context {\n  let loc = locate(label)\n  let nums = counter(page).at(loc)\n  link(loc, numbering(loc.page-numbering(), ..nums))\n}\n</code></pre>\n<p>You can use it as</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">see #pageref(&lt;myref&gt;)\n</code></pre>\n</blockquote>\n<p>This doesn’t seem to work for me using Typst 0.12 and gives an error. Not sure whether the code should be updated or I simply don’t really understand how to use it properly. Here is what I tried:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pageref(label) = context {\n  let loc = locate(label)\n  let nums = counter(page).at(loc)\n  link(loc, numbering(loc.page-numbering(), ..nums))\n}\n\n= Foos and Bars\n&lt;myref&gt;\n\n#lorem(1000)\n\nFor more on foo, see #pageref(&lt;myref&gt;).\n</code></pre>\n<p>There is also a similar question by Goossa and there is a solution by Andrew: <a href=\"https://forum.typst.app/t/how-do-i-make-a-reference-that-inserts-name-of-section-and-page-number/461\">https://forum.typst.app/t/how-do-i-make-a-reference-that-inserts-name-of-section-and-page-number/461</a>, and it works. But having 2 working solutions is better than 1, right? <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Here is a discussion about how to get the page number when referencing an image or table. (And if I understand correctly, it should also work for headings.): <https://github.com/typst/typst/issues/2873>.\n\nIn May, Laurenz posted a solution for Typst 0.11:\n\n> ```typ\n> #let pageref(label) = context {\n>   let loc = locate(label)\n>   let nums = counter(page).at(loc)\n>   link(loc, numbering(loc.page-numbering(), ..nums))\n> }\n> ```\n>\n> You can use it as\n>\n> ```typ\n> see #pageref(<myref>)\n> ```\n\nThis doesn't seem to work for me using Typst 0.12 and gives an error. Not sure whether the code should be updated or I simply don't really understand how to use it properly. Here is what I tried:\n\n```typ\n#let pageref(label) = context {\n  let loc = locate(label)\n  let nums = counter(page).at(loc)\n  link(loc, numbering(loc.page-numbering(), ..nums))\n}\n\n= Foos and Bars\n<myref>\n\n#lorem(1000)\n\nFor more on foo, see #pageref(<myref>).\n```\n\nThere is also a similar question by Goossa and there is a solution by Andrew: <https://forum.typst.app/t/how-do-i-make-a-reference-that-inserts-name-of-section-and-page-number/461>, and it works. But having 2 working solutions is better than 1, right? :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 2660.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4800,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-29T07:11:58.427Z",
      "updated_at": "2024-10-29T07:11:58.427Z",
      "cooked": "<p>The page’s numbering is <code>none</code> by default, so you need to either set it to something else via</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"1\")\n</code></pre>\n<p>or explicitly handle that case in the <code>pageref</code> function.</p>",
      "raw": "The page's numbering is `none` by default, so you need to either set it to something else via\n```typ\n#set page(numbering: \"1\")\n```\nor explicitly handle that case in the `pageref` function.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 47,
      "score": 124.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4876,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-31T04:43:32.694Z",
      "updated_at": "2024-10-31T04:43:32.694Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/jsx97\">@jsx97</a>, I’ve updated your post title to better fit our guidelines for question posts: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your post title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @jsx97, I've updated your post title to better fit our guidelines for question posts: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your post title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 36.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:55:49.332717"
}
{
  "topic_metadata": {
    "id": 1407,
    "title": "Problems with code blocks in @preview/problemst:0.1.0",
    "slug": "problems-with-code-blocks-in-preview-problemst-0-1-0",
    "posts_count": 4,
    "created_at": "2024-10-29T04:16:27.680Z",
    "last_posted_at": "2024-10-29T06:10:59.483Z",
    "views": 275,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "maucejo",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 367
  },
  "posts": [
    {
      "id": 4793,
      "post_number": 1,
      "username": "infinitymdm",
      "name": "Marcus Mellor",
      "created_at": "2024-10-29T04:16:27.825Z",
      "updated_at": "2024-10-29T04:19:33.384Z",
      "cooked": "<p>Hi folks, I’m pretty new to typst. Currently using it to make my homework assignments readable. I’ve just updated to 0.12.0.</p>\n<p>I’ve run into an issue with code blocks when using the problemst template. At first, I thought it was because I was trying to use a <code>raw()</code> with <code>lang: \"typc\"</code>, but now that I’m including matlab code blocks as well I see it error out there as well. Any advice on how to get code blocks working again?</p>\n<p>Here’s the error I’m seeing:</p>\n<pre><code class=\"lang-auto\">$ typst c example.typ\nerror: can only be used when context is known\n   ┌─ @preview/problemst:0.1.0/pset.typ:55:18\n   │\n55 │         box(width:measure([#it.lines.last().count]).width, align(right, text(fill: luma(50%))[#l.number]))                                                                     \n   │                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   │\n= hint: try wrapping this in a `context` expression\n= hint: the `context` expression should wrap everything that depends on this function\nhelp: error occurred while applying show rule to this line\n   ┌─ example.typ:17:0\n   │\n17 │ // Subroutine code:\n   │ ^^^^^^^^^^^^^^^^^^^                                                                                                                                                            \n</code></pre>\n<p>and here’s a reproducible example file: <a href=\"https://bpa.st/6J732\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">View paste 6J732</a></p>\n<p>Anybody got tips on how to fix?</p>",
      "raw": "Hi folks, I'm pretty new to typst. Currently using it to make my homework assignments readable. I've just updated to 0.12.0.\n\nI've run into an issue with code blocks when using the problemst template. At first, I thought it was because I was trying to use a `raw()` with `lang: \"typc\"`, but now that I'm including matlab code blocks as well I see it error out there as well. Any advice on how to get code blocks working again?\n\nHere's the error I'm seeing:\n\n```\n$ typst c example.typ\nerror: can only be used when context is known\n   ┌─ @preview/problemst:0.1.0/pset.typ:55:18\n   │\n55 │         box(width:measure([#it.lines.last().count]).width, align(right, text(fill: luma(50%))[#l.number]))                                                                     \n   │                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   │\n= hint: try wrapping this in a `context` expression\n= hint: the `context` expression should wrap everything that depends on this function\nhelp: error occurred while applying show rule to this line\n   ┌─ example.typ:17:0\n   │\n17 │ // Subroutine code:\n   │ ^^^^^^^^^^^^^^^^^^^                                                                                                                                                            \n```\n\nand here's a reproducible example file: https://bpa.st/6J732\n\nAnybody got tips on how to fix?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 1444.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 408
    },
    {
      "id": 4794,
      "post_number": 2,
      "username": "infinitymdm",
      "name": "Marcus Mellor",
      "created_at": "2024-10-29T04:58:12.532Z",
      "updated_at": "2024-10-29T04:58:12.532Z",
      "cooked": "<p>Another discovery: this appears to be a regression introduced with Typst 0.12.0. Switching back to 0.11.1 fixes the issue, though I lose access to <code>sym.crossmark</code> :(</p>",
      "raw": "Another discovery: this appears to be a regression introduced with Typst 0.12.0. Switching back to 0.11.1 fixes the issue, though I lose access to `sym.crossmark` :(",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 39.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 408
    },
    {
      "id": 4795,
      "post_number": 3,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-29T05:41:20.393Z",
      "updated_at": "2024-10-29T05:41:20.393Z",
      "cooked": "<p>Actually, it is not a regression. It is the expected behavior and the error explains what to do at the level package.</p>\n<p>I think you should post an issue on the Github repo of the package. The error is easy to correct, since it seems that a <code>context</code> is missing.</p>",
      "raw": "Actually, it is not a regression. It is the expected behavior and the error explains what to do at the level package.\n\nI think you should post an issue on the Github repo of the package. The error is easy to correct, since it seems that a `context` is missing.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 94.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 4796,
      "post_number": 4,
      "username": "infinitymdm",
      "name": "Marcus Mellor",
      "created_at": "2024-10-29T06:10:59.483Z",
      "updated_at": "2024-10-29T06:10:59.483Z",
      "cooked": "<p>Thanks for clarifying. I’ve posted an issue <a href=\"https://github.com/carreter/problemst/issues/2\" rel=\"noopener nofollow ugc\">here</a>. Hopefully that’s the right place.</p>\n<p><s>Until the author responds, got any advice for me on how to fix this? I’m happy to fork the template and tinker, I just haven’t figured out <code>context</code> yet. I’ve read through the docs page about 3 times, but it’s still Greek to me.</s></p>\n<p>I now see that <a href=\"https://github.com/carreter/problemst/pull/1\" rel=\"noopener nofollow ugc\">there’s already a PR up for this</a>. Guess I just needed to find the right place to look. Thanks!</p>",
      "raw": "Thanks for clarifying. I've posted an issue [here](https://github.com/carreter/problemst/issues/2). Hopefully that's the right place.\n\n~~Until the author responds, got any advice for me on how to fix this? I'm happy to fork the template and tinker, I just haven't figured out `context` yet. I've read through the docs page about 3 times, but it's still Greek to me.~~\n\nI now see that [there's already a PR up for this](https://github.com/carreter/problemst/pull/1). Guess I just needed to find the right place to look. Thanks!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 54.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 408
    }
  ],
  "scraped_at": "2025-06-10T09:55:48.612757"
}
{
  "topic_metadata": {
    "id": 1416,
    "title": "How to display outline using grid?",
    "slug": "how-to-display-outline-using-grid",
    "posts_count": 5,
    "created_at": "2024-10-29T15:40:48.405Z",
    "last_posted_at": "2025-03-04T12:46:12.577Z",
    "views": 282,
    "like_count": 4,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 825
  },
  "posts": [
    {
      "id": 4810,
      "post_number": 1,
      "username": "ArthurAraruna",
      "name": "Arthur Rodrigues Araruna",
      "created_at": "2024-10-29T15:40:48.549Z",
      "updated_at": "2024-10-31T04:42:11.435Z",
      "cooked": "<p>My university has a strict guide of style and layout for academic documents. I’m making a template for it and one of the styles I could not yet reproduce is the one for the outline.</p>\n<p>The rules state that (in summary):</p>\n<ul>\n<li>Each heading level has to reflect the corresponding styling from the text.</li>\n<li>The numbering and page numbers have to be laid out in columns (so that they occupy the same width).</li>\n<li>The filling has to start and end in the same line as the last letter of each title.</li>\n<li>Front matter headings must not be present. Back matter headings must not display a numbering.</li>\n</ul>\n<p>Here is the sample they provide from their style guide:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/d8454bf19369b74b63c35353b045f1c53011cdf4.png\" data-download-href=\"https://forum.typst.app/uploads/default/d8454bf19369b74b63c35353b045f1c53011cdf4\" title=\"guianormalizacaotrabalhosacademicos-17.05.2022-sumario\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/d8454bf19369b74b63c35353b045f1c53011cdf4_2_353x500.png\" alt=\"guianormalizacaotrabalhosacademicos-17.05.2022-sumario\" data-base62-sha1=\"uRdBgiNythi1qNVJObdRmw9ebzK\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/d8454bf19369b74b63c35353b045f1c53011cdf4_2_353x500.png, https://forum.typst.app/uploads/default/optimized/2X/d/d8454bf19369b74b63c35353b045f1c53011cdf4_2_529x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/d/d8454bf19369b74b63c35353b045f1c53011cdf4_2_706x1000.png 2x\" data-dominant-color=\"F9F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">guianormalizacaotrabalhosacademicos-17.05.2022-sumario</span><span class=\"informations\">793×1121 80.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>For the columnar layout I figured I have to use a custom <code>show outline</code> rule, but from there I didn’t find a way yet to get the data for the headings. I know I could query for them, but first I wanted to ask you if you know an easier way to get that info.</p>\n<p>Using <code> show outline.entry</code> does not seem to cut it because I can’t guarantee the same-width rule for the numbering columns.</p>\n<p>How could I solve this laying-out problem? Thank you in advance.</p>",
      "raw": "My university has a strict guide of style and layout for academic documents. I'm making a template for it and one of the styles I could not yet reproduce is the one for the outline.\n\nThe rules state that (in summary):\n\n- Each heading level has to reflect the corresponding styling from the text.\n- The numbering and page numbers have to be laid out in columns (so that they occupy the same width).\n- The filling has to start and end in the same line as the last letter of each title.\n- Front matter headings must not be present. Back matter headings must not display a numbering.\n\nHere is the sample they provide from their style guide:\n\n![guianormalizacaotrabalhosacademicos-17.05.2022-sumario|353x500](upload://uRdBgiNythi1qNVJObdRmw9ebzK.png)\n\nFor the columnar layout I figured I have to use a custom `show outline` rule, but from there I didn't find a way yet to get the data for the headings. I know I could query for them, but first I wanted to ask you if you know an easier way to get that info.\n\nUsing ` show outline.entry` does not seem to cut it because I can't guarantee the same-width rule for the numbering columns.\n\nHow could I solve this laying-out problem? Thank you in advance.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 56,
      "score": 756.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 684
    },
    {
      "id": 4817,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-29T21:19:19.640Z",
      "updated_at": "2025-03-13T18:13:44.340Z",
      "cooked": "<blockquote>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/warning.png?v=12\" title=\":warning:\" class=\"emoji\" alt=\":warning:\" loading=\"lazy\" width=\"20\" height=\"20\"> <em>As of Typst 0.13, the following answer may be outdated. Feel free to aks in this thread for an updated answer.</em></p>\n</blockquote>\n<hr>\n<p>There are likely many different ways to achieve something like that.</p>\n<p>One option would be to use a show rule on <code>outline.entry</code> like you suggested, and using a state to keep track of the widths for the number and page columns. The downside here is that you would need to use different states if you have multiple outlines (e.g. for a list of figures), or else they would all have the same column widths. This is of course possible by using counters to count the outlines and then using the corresponding counter value in the name of the state, but it would still introduce quite a bit of complexity.</p>\n<details>\n<summary>\nCode Example</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let outline-state = state(\"outline\", (number-width: 0pt, page-width: 0pt))\n#show outline.entry: it =&gt; context {\n  let body = if it.element.func() == heading { it.element.body }\n             else { it.element.caption.body }\n             \n  let number = if it.element.numbering != none {\n    let counter = if it.element.has(\"counter\") { it.element.counter }\n                  else { counter(heading) }\n    numbering(\n      it.element.numbering,\n      ..counter.at(it.element.location())\n    )\n  }\n\n  let page-numbering = it.element.location().page-numbering()\n  if page-numbering == none { page-numbering = \"1\" }\n  let page = numbering(\n    page-numbering,\n    ..counter(page).at(it.element.location())\n  )\n\n  // Update state with current number/page widths.\n  let number-width = measure(number).width\n  let page-width = measure(page).width\n  outline-state.update(s =&gt; (\n    number-width: calc.max(number-width, s.number-width),\n    page-width: calc.max(page-width, s.page-width)\n  ))\n\n  // Get final width values and construct outline entry.\n  let (number-width, page-width) = outline-state.final()\n  box(grid(\n    column-gutter: 0.5em,\n    columns: (number-width, 1fr, page-width),\n    align: (start, start, end + bottom),\n    number, body + [ ] + box(width: 1fr, it.fill), page\n  ))\n}\n</code></pre>\n</details>\n<p>Another shorter option would be to use a show rule on <code>outline</code>. There, you can then query the elements manually and directly lay them out in a grid with three columns. The downside here is that you can’t nicely reconstruct the automatically translated outline title.</p>\n<details>\n<summary>\nCode Example</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline: it =&gt; {\n  let elements = query(it.target)\n  let has-number = elements.any(el =&gt; el.numbering != none)\n\n  // Can't use the automatically translated title here.\n  heading(if it.title == auto [ Contents ] else { it.title })\n  \n  grid(\n    column-gutter: 0.5em,\n    align: (start, start, end + bottom),\n    row-gutter: par.leading,\n    columns: (auto, 1fr, auto),\n    ..elements.map(el =&gt; {\n      let body = if el.func() == heading { el.body } else { el.caption.body }\n      \n      let num = if el.numbering != none {\n        let counter = if el.has(\"counter\") { el.counter } else { counter(heading) }\n        numbering(el.numbering, ..counter.at(el.location()))\n      }\n\n      let page-numbering = el.location().page-numbering()\n      if page-numbering == none { page-numbering = \"1\" }\n      let page = numbering(page-numbering, ..counter(page).at(el.location()))\n\n      (num, body + [ ] + box(width: 1fr, it.fill), page)\n    }).flatten()\n  )\n}\n</code></pre>\n</details>",
      "raw": "> :warning: _As of Typst 0.13, the following answer may be outdated. Feel free to aks in this thread for an updated answer._\n\n---\n\nThere are likely many different ways to achieve something like that.\n\nOne option would be to use a show rule on `outline.entry` like you suggested, and using a state to keep track of the widths for the number and page columns. The downside here is that you would need to use different states if you have multiple outlines (e.g. for a list of figures), or else they would all have the same column widths. This is of course possible by using counters to count the outlines and then using the corresponding counter value in the name of the state, but it would still introduce quite a bit of complexity.\n\n[details=\"Code Example\"]\n```typ\n#let outline-state = state(\"outline\", (number-width: 0pt, page-width: 0pt))\n#show outline.entry: it => context {\n  let body = if it.element.func() == heading { it.element.body }\n             else { it.element.caption.body }\n             \n  let number = if it.element.numbering != none {\n    let counter = if it.element.has(\"counter\") { it.element.counter }\n                  else { counter(heading) }\n    numbering(\n      it.element.numbering,\n      ..counter.at(it.element.location())\n    )\n  }\n\n  let page-numbering = it.element.location().page-numbering()\n  if page-numbering == none { page-numbering = \"1\" }\n  let page = numbering(\n    page-numbering,\n    ..counter(page).at(it.element.location())\n  )\n\n  // Update state with current number/page widths.\n  let number-width = measure(number).width\n  let page-width = measure(page).width\n  outline-state.update(s => (\n    number-width: calc.max(number-width, s.number-width),\n    page-width: calc.max(page-width, s.page-width)\n  ))\n\n  // Get final width values and construct outline entry.\n  let (number-width, page-width) = outline-state.final()\n  box(grid(\n    column-gutter: 0.5em,\n    columns: (number-width, 1fr, page-width),\n    align: (start, start, end + bottom),\n    number, body + [ ] + box(width: 1fr, it.fill), page\n  ))\n}\n```\n[/details]\n\nAnother shorter option would be to use a show rule on `outline`. There, you can then query the elements manually and directly lay them out in a grid with three columns. The downside here is that you can't nicely reconstruct the automatically translated outline title.\n\n[details=\"Code Example\"]\n```typ\n#show outline: it => {\n  let elements = query(it.target)\n  let has-number = elements.any(el => el.numbering != none)\n\n  // Can't use the automatically translated title here.\n  heading(if it.title == auto [ Contents ] else { it.title })\n  \n  grid(\n    column-gutter: 0.5em,\n    align: (start, start, end + bottom),\n    row-gutter: par.leading,\n    columns: (auto, 1fr, auto),\n    ..elements.map(el => {\n      let body = if el.func() == heading { el.body } else { el.caption.body }\n      \n      let num = if el.numbering != none {\n        let counter = if el.has(\"counter\") { el.counter } else { counter(heading) }\n        numbering(el.numbering, ..counter.at(el.location()))\n      }\n\n      let page-numbering = el.location().page-numbering()\n      if page-numbering == none { page-numbering = \"1\" }\n      let page = numbering(page-numbering, ..counter(page).at(el.location()))\n\n      (num, body + [ ] + box(width: 1fr, it.fill), page)\n    }).flatten()\n  )\n}\n```\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 46,
      "score": 64.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4875,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-31T04:42:29.162Z",
      "updated_at": "2024-10-31T04:42:29.162Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/arthurararuna\">@ArthurAraruna</a>, welcome to the forum! I’ve updated your post title to better fit our guidelines for question posts: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your post title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @ArthurAraruna, welcome to the forum! I've updated your post title to better fit our guidelines for question posts: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your post title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 48.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 9361,
      "post_number": 4,
      "username": "Jonathan",
      "name": "Jonathan",
      "created_at": "2025-03-04T12:12:24.286Z",
      "updated_at": "2025-03-04T12:12:24.286Z",
      "cooked": "<p>How can I add clickable references? I want to klick add the text “Abbilung 1” and then the document should automatically scroll to the figure.</p>",
      "raw": "How can I add clickable references? I want to klick add the text \"Abbilung 1\" and then the document should automatically scroll to the figure.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1196
    },
    {
      "id": 9364,
      "post_number": 5,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-03-04T12:46:12.577Z",
      "updated_at": "2025-03-04T12:46:12.577Z",
      "cooked": "<p>You can wrap the entry (or the parts of the entry) with a link to the element’s location, e.g.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry: it =&gt; {\n  ...\n  link(it.element.location(), box(..))\n}\n</code></pre>\n<p>Note though, that my post above is likely out of date as outlines were completely overhauled in Typst v0.13.</p>",
      "raw": "You can wrap the entry (or the parts of the entry) with a link to the element's location, e.g.\n```typ\n#show outline.entry: it => {\n  ...\n  link(it.element.location(), box(..))\n}\n```\nNote though, that my post above is likely out of date as outlines were completely overhauled in Typst v0.13.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    }
  ],
  "scraped_at": "2025-06-10T09:55:47.912222"
}
