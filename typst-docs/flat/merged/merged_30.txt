{
  "topic_metadata": {
    "id": 3754,
    "title": "How can I exclude page number for Heading 1 in outline list?",
    "slug": "how-can-i-exclude-page-number-for-heading-1-in-outline-list",
    "posts_count": 8,
    "created_at": "2025-04-22T10:29:36.957Z",
    "last_posted_at": "2025-04-23T10:09:03.155Z",
    "views": 96,
    "like_count": 10,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "vmartel08",
    "tags": [
      "scripting",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 643
  },
  "posts": [
    {
      "id": 11427,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-22T10:29:37.096Z",
      "updated_at": "2025-04-26T19:59:05.596Z",
      "cooked": "<p>Another newbie question (from a retired, humanities  person!). I have set up a template which does most of what I want, but I do wish to modify it in a couple of ways relating to the outline.</p>\n<p>The first is this one: My 4 levels of headings are working as I want with only Headings 1 and 2 appearing in the outline. But what I would like in the outline is for only the text of Heading 1 to be shown, without the dots and the page number.</p>\n<p>This is my current code for headings and outline:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(\n  level: 1\n): it =&gt; block(sticky: true, width: 100%)[\n  #set align(center)\n  #set text(24pt, weight: \"regular\")\n  #smallcaps(it.body)\n]\n\n#show heading.where(level: 2): set text(20pt, weight: \"semibold\")\n\n#show heading.where(level: 3): set text(16pt, weight: \"semibold\")\n\n#show heading.where(level: 4): set text(14pt, weight: \"semibold\")\n\n#outline(\n  depth: 2,\n  title: ([Contents]),\n  target: heading.where(outlined: true),\n  indent: 18pt,\n)\n\n#show outline.entry.where(\n  level: 1\n): it =&gt; {\n  v(1em, weak: true)\n  strong(it)\n}\n#show outline.entry.where(\n  level: 2\n): it =&gt; {\n  v(0.3em, weak: true)\n  strong(it)\n}\n\n</code></pre>\n<p>which gives me:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f583c5212d92e2c3df815a73b2b580033bd1eebb.png\" data-download-href=\"https://forum.typst.app/uploads/default/f583c5212d92e2c3df815a73b2b580033bd1eebb\" title=\"SCR-20250422-kgsq\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/f583c5212d92e2c3df815a73b2b580033bd1eebb_2_690x100.png\" alt=\"SCR-20250422-kgsq\" data-base62-sha1=\"z1VimPQM5RZCIeeFxuYFsF0TCen\" width=\"690\" height=\"100\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/f583c5212d92e2c3df815a73b2b580033bd1eebb_2_690x100.png, https://forum.typst.app/uploads/default/optimized/2X/f/f583c5212d92e2c3df815a73b2b580033bd1eebb_2_1035x150.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/f583c5212d92e2c3df815a73b2b580033bd1eebb.png 2x\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250422-kgsq</span><span class=\"informations\">1342√ó196 33.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>when what I‚Äôd really like is:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/02cc2a167f2d7aca446a033b75239333d84f7065.png\" data-download-href=\"https://forum.typst.app/uploads/default/02cc2a167f2d7aca446a033b75239333d84f7065\" title=\"SCR-20250422-kiwu\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/02cc2a167f2d7aca446a033b75239333d84f7065_2_690x141.png\" alt=\"SCR-20250422-kiwu\" data-base62-sha1=\"oKng7PbizIp9U7l0AqdOfwXho9\" width=\"690\" height=\"141\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/02cc2a167f2d7aca446a033b75239333d84f7065_2_690x141.png, https://forum.typst.app/uploads/default/original/2X/0/02cc2a167f2d7aca446a033b75239333d84f7065.png 1.5x, https://forum.typst.app/uploads/default/original/2X/0/02cc2a167f2d7aca446a033b75239333d84f7065.png 2x\" data-dominant-color=\"FAFAFA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250422-kiwu</span><span class=\"informations\">900√ó184 42 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>How can I achieve this? (The latter I mocked up in a word processor hence the difference in font appearance etc. which can be ignored).</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Another newbie question (from a retired, humanities  person!). I have set up a template which does most of what I want, but I do wish to modify it in a couple of ways relating to the outline.\n\nThe first is this one: My 4 levels of headings are working as I want with only Headings 1 and 2 appearing in the outline. But what I would like in the outline is for only the text of Heading 1 to be shown, without the dots and the page number.\n\nThis is my current code for headings and outline:\n\n``` typ\n#show heading.where(\n  level: 1\n): it => block(sticky: true, width: 100%)[\n  #set align(center)\n  #set text(24pt, weight: \"regular\")\n  #smallcaps(it.body)\n]\n\n#show heading.where(level: 2): set text(20pt, weight: \"semibold\")\n\n#show heading.where(level: 3): set text(16pt, weight: \"semibold\")\n\n#show heading.where(level: 4): set text(14pt, weight: \"semibold\")\n\n#outline(\n  depth: 2,\n  title: ([Contents]),\n  target: heading.where(outlined: true),\n  indent: 18pt,\n)\n\n#show outline.entry.where(\n  level: 1\n): it => {\n  v(1em, weak: true)\n  strong(it)\n}\n#show outline.entry.where(\n  level: 2\n): it => {\n  v(0.3em, weak: true)\n  strong(it)\n}\n\n```\n\nwhich gives me:\n\n![SCR-20250422-kgsq|690x100](upload://z1VimPQM5RZCIeeFxuYFsF0TCen.png)\n\nwhen what I'd really like is:\n\n![SCR-20250422-kiwu|690x141](upload://oKng7PbizIp9U7l0AqdOfwXho9.png)\n\nHow can I achieve this? (The latter I mocked up in a word processor hence the difference in font appearance etc. which can be ignored).\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 135.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11428,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-22T10:55:14.932Z",
      "updated_at": "2025-04-22T11:14:08.779Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mark_hilton\">@Mark_Hilton</a>,</p>\n<p>If you have a look at <a href=\"https://typst.app/docs/reference/model/outline/#building-an-entry\" class=\"inline-onebox\">Outline Function ‚Äì Typst Documentation</a>, you will find the hint on how to do it.</p>\n<p>An adapted version of the example is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; link(\n  it.element.location(),\n  // Keep just the body, dropping\n  // the fill and the page.\n  it.indented(it.prefix(), it.body()),\n)\n\n#outline()\n\n= About ACME Corp.\n== History\n</code></pre>\n<p>Which leads to the desired output:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/83c56c63e0e4dc05bd15a414cb1172c311bba944.png\" data-download-href=\"https://forum.typst.app/uploads/default/83c56c63e0e4dc05bd15a414cb1172c311bba944\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/83c56c63e0e4dc05bd15a414cb1172c311bba944_2_690x157.png\" alt=\"image\" data-base62-sha1=\"iNHwD8wyGXVbwyRwTPOAuhKLLEg\" width=\"690\" height=\"157\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/83c56c63e0e4dc05bd15a414cb1172c311bba944_2_690x157.png, https://forum.typst.app/uploads/default/original/2X/8/83c56c63e0e4dc05bd15a414cb1172c311bba944.png 1.5x, https://forum.typst.app/uploads/default/original/2X/8/83c56c63e0e4dc05bd15a414cb1172c311bba944.png 2x\" data-dominant-color=\"1A1B1B\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1034√ó236 82.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi @Mark_Hilton,\n\nIf you have a look at https://typst.app/docs/reference/model/outline/#building-an-entry, you will find the hint on how to do it. \n\nAn adapted version of the example is:\n\n```typ\n#show outline.entry.where(level: 1): it => link(\n  it.element.location(),\n  // Keep just the body, dropping\n  // the fill and the page.\n  it.indented(it.prefix(), it.body()),\n)\n\n#outline()\n\n= About ACME Corp.\n== History\n```\n\nWhich leads to the desired output:\n![image|690x157](upload://iNHwD8wyGXVbwyRwTPOAuhKLLEg.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11441,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-22T18:00:00.087Z",
      "updated_at": "2025-04-22T18:00:00.087Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a>, thank you very much for your input. This solves the issue.</p>\n<p>To tell you the truth, the problem for someone like me, with a background in the humanities and no background in coding, is that it is sometimes difficult to work out how to achieve what one wants because the examples often seem somewhat impenetrable.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Hi @vmartel08, thank you very much for your input. This solves the issue.\n\nTo tell you the truth, the problem for someone like me, with a background in the humanities and no background in coding, is that it is sometimes difficult to work out how to achieve what one wants because the examples often seem somewhat impenetrable.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11443,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-22T18:40:20.230Z",
      "updated_at": "2025-04-22T18:42:08.590Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/mark_hilton\">@Mark_Hilton</a>, please try and format your code blocks appropriately like mentioned in <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> :</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ‚Ä¶ ````. It will then look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n</code></pre>\n<p>If you need to highlight a code or math mode snippet instead, the language tags <code>typc</code> and <code>typm</code> do that, respectively.</p>\n<p>It would be great if you could post the <strong>smallest possible code samples</strong> that allow people to see what your problem is.</p>\n</blockquote>\n</aside>",
      "raw": "@Mark_Hilton, please try and format your code blocks appropriately like mentioned in https://forum.typst.app/t/how-to-post-in-the-questions-category/11 :\n\n[quote=\"reknih, post:1, topic:11\"]\nIf your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ... ````. It will then look like this:\n\n```typ\n#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n```\n\nIf you need to highlight a code or math mode snippet instead, the language tags `typc` and `typm` do that, respectively.\n\nIt would be great if you could post the **smallest possible code samples** that allow people to see what your problem is.\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 74.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11445,
      "post_number": 5,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-22T18:54:51.053Z",
      "updated_at": "2025-04-22T18:56:07.374Z",
      "cooked": "<p>Hi again Mark, that‚Äôs why there is a forum about it <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\">. Lots of it comes from reading around and trial and error. Please come back should you have more questions.</p>",
      "raw": "Hi again Mark, that‚Äôs why there is a forum about it üòä. Lots of it comes from reading around and trial and error. Please come back should you have more questions.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 20,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11457,
      "post_number": 6,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-22T21:20:01.510Z",
      "updated_at": "2025-04-22T21:20:01.510Z",
      "cooked": "<p>My apologies; I thought I had syntax-highlighted the code correctly, but I must have typed <code>typst</code> rather than <code>typ</code>.</p>\n<p>As for ‚Äúminimum code snippet‚Äù, I posted only what I thought would be necessary for others to see; clearly I was mistaken in my estimate, so again I apologise. I have much to learn!</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "My apologies; I thought I had syntax-highlighted the code correctly, but I must have typed `typst` rather than `typ`.\n\nAs for \"minimum code snippet\", I posted only what I thought would be necessary for others to see; clearly I was mistaken in my estimate, so again I apologise. I have much to learn!\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11463,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-22T21:54:33.748Z",
      "updated_at": "2025-04-22T21:54:33.748Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Mark_Hilton\" data-post=\"6\" data-topic=\"3754\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/m/1F0115/48.png\" class=\"avatar\"> Mark_Hilton:</div>\n<blockquote>\n<p>I thought I had syntax-highlighted the code correctly, but I must have typed <code>typst</code> rather than <code>typ</code>.</p>\n</blockquote>\n</aside>\n<p><code>typst</code> and <code>typ</code> are identical. You can still edit your message and change that.</p>",
      "raw": "[quote=\"Mark_Hilton, post:6, topic:3754\"]\nI thought I had syntax-highlighted the code correctly, but I must have typed `typst` rather than `typ`.\n[/quote]\n\n`typst` and `typ` are identical. You can still edit your message and change that.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 17,
      "score": 23.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11477,
      "post_number": 8,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-23T10:09:03.155Z",
      "updated_at": "2025-04-23T10:09:03.155Z",
      "cooked": "<p>Thanks, sorted. Turned out I had typed <code>(typst)</code> with parentheses!</p>\n<p>&lt;dohh!!&gt;</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks, sorted. Turned out I had typed `(typst)` with parentheses!\n\n<dohh!!>\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 14,
      "score": 62.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    }
  ],
  "scraped_at": "2025-06-10T09:48:50.976321"
}
{
  "topic_metadata": {
    "id": 3756,
    "title": "How to make bullet list item bodies flow like paragraphs?",
    "slug": "how-to-make-bullet-list-item-bodies-flow-like-paragraphs",
    "posts_count": 5,
    "created_at": "2025-04-22T12:52:00.239Z",
    "last_posted_at": "2025-05-21T09:39:21.039Z",
    "views": 180,
    "like_count": 8,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout",
      "lists"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 823
  },
  "posts": [
    {
      "id": 11431,
      "post_number": 1,
      "username": "magackame",
      "name": "Andrii Hetman",
      "created_at": "2025-04-22T12:52:00.335Z",
      "updated_at": "2025-04-22T12:56:35.965Z",
      "cooked": "<p>Hi folks.</p>\n<p>I am trying to make bullet list item bodies flow like paragraphs. That is, when text wrapping occurs, instead of wrapping up to the bullet point I want it to wrap to the left page margin, like a regular paragraph would.</p>\n<p>This snippet works, but only for single level lists:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show list: it =&gt; {\n  for item in it.children {\n    [#it.marker #item.body #parbreak()]\n  }\n}\n\n- #lorem(20)\n- #lorem(20)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/7e35edd16f83626a93a1b9ca76c205c1de2ec98e.png\" data-download-href=\"https://forum.typst.app/uploads/default/7e35edd16f83626a93a1b9ca76c205c1de2ec98e\" title=\"2025-04-22_15:19:48_737x127\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/7e35edd16f83626a93a1b9ca76c205c1de2ec98e_2_690x118.png\" alt=\"2025-04-22_15:19:48_737x127\" data-base62-sha1=\"i0vHCy4zezUxcJWQCXSv92KJIES\" width=\"690\" height=\"118\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/7e35edd16f83626a93a1b9ca76c205c1de2ec98e_2_690x118.png, https://forum.typst.app/uploads/default/original/2X/7/7e35edd16f83626a93a1b9ca76c205c1de2ec98e.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/7e35edd16f83626a93a1b9ca76c205c1de2ec98e.png 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">2025-04-22_15:19:48_737x127</span><span class=\"informations\">737√ó127 22.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>If we have a multilevel list:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">- #lorem(20)\n  - #lorem(20)\n  - #lorem(20)\n- #lorem(20)\n  - #lorem(20)\n  - #lorem(20)\n</code></pre>\n<p>The nested items just append at the end of the top level item.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0cea88d1d5d6a1de7c777b2c59de426dfe568c20.png\" data-download-href=\"https://forum.typst.app/uploads/default/0cea88d1d5d6a1de7c777b2c59de426dfe568c20\" title=\"2025-04-22_15:21:47_737x249\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cea88d1d5d6a1de7c777b2c59de426dfe568c20_2_690x233.png\" alt=\"2025-04-22_15:21:47_737x249\" data-base62-sha1=\"1QgdtEmkINROX4ltw9H4PPPhA2c\" width=\"690\" height=\"233\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cea88d1d5d6a1de7c777b2c59de426dfe568c20_2_690x233.png, https://forum.typst.app/uploads/default/original/2X/0/0cea88d1d5d6a1de7c777b2c59de426dfe568c20.png 1.5x, https://forum.typst.app/uploads/default/original/2X/0/0cea88d1d5d6a1de7c777b2c59de426dfe568c20.png 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">2025-04-22_15:21:47_737x249</span><span class=\"informations\">737√ó249 44.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Inspecting the <code>it.children</code> I see that nested items are wrapped into <code>sequence</code>, but checking with <code>type(item.body) == array</code> is not working. They all have <code>content</code> type.</p>\n<p>Any ideas on how to check for nested items or maybe a more elegant solution altogether?</p>",
      "raw": "Hi folks.\n\nI am trying to make bullet list item bodies flow like paragraphs. That is, when text wrapping occurs, instead of wrapping up to the bullet point I want it to wrap to the left page margin, like a regular paragraph would.\n\nThis snippet works, but only for single level lists:\n\n```typ\n#show list: it => {\n  for item in it.children {\n    [#it.marker #item.body #parbreak()]\n  }\n}\n\n- #lorem(20)\n- #lorem(20)\n```\n\n![2025-04-22_15:19:48_737x127|690x118](upload://i0vHCy4zezUxcJWQCXSv92KJIES.png)\n\nIf we have a multilevel list:\n\n```typ\n- #lorem(20)\n  - #lorem(20)\n  - #lorem(20)\n- #lorem(20)\n  - #lorem(20)\n  - #lorem(20)\n```\n\nThe nested items just append at the end of the top level item.\n\n![2025-04-22_15:21:47_737x249|690x233](upload://1QgdtEmkINROX4ltw9H4PPPhA2c.png)\n\nInspecting the `it.children` I see that nested items are wrapped into `sequence`, but checking with `type(item.body) == array` is not working. They all have `content` type.\n\nAny ideas on how to check for nested items or maybe a more elegant solution altogether?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 263.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 13
    },
    {
      "id": 11434,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-22T13:40:53.990Z",
      "updated_at": "2025-04-22T13:44:12.854Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/magackame\">@magackame</a>,</p>\n<p>this is a beginning‚Ä¶</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show list : set par(hanging-indent: -1em) \n- lorem(20)\n\n- lorem(20)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4.png\" data-download-href=\"https://forum.typst.app/uploads/default/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4_2_690x123.png\" alt=\"image\" data-base62-sha1=\"fXpBKg4x1eO3MjPatRZshEtLhB2\" width=\"690\" height=\"123\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4_2_690x123.png, https://forum.typst.app/uploads/default/original/2X/6/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/6fd7ebe49e43e2bc33ca095a8736e9a1439a35d4.png 2x\" data-dominant-color=\"242626\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">701√ó125 44.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<ul>\n<li>Note the required space between the two items (to make it <em>not tight</em>, otherwise it doesn‚Äôt work).</li>\n<li>There is an issue still opened on <code>enum</code> lists <a href=\"https://github.com/typst/typst/issues/5751\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Hanging-indent for enum lists ¬∑ Issue #5751 ¬∑ typst/typst ¬∑ GitHub</a> that may well be indicating this is a dead-end for now‚Ä¶ there is probably another member that will come up with some fancier solution to make the multi-level work, but so far I haven‚Äôt been able to.</li>\n</ul>\n<p>Edit: I could not come up with something <em>clean</em> with your code, it rendered multiple markers in an array, which was not what you sent screenshots of.</p>",
      "raw": "Hi @magackame, \n\nthis is a beginning...\n\n```typ\n#show list : set par(hanging-indent: -1em) \n- lorem(20)\n\n- lorem(20)\n```\n\n![image|690x123](upload://fXpBKg4x1eO3MjPatRZshEtLhB2.png)\n\n\n- Note the required space between the two items (to make it *not tight*, otherwise it doesn't work). \n- There is an issue still opened on `enum` lists https://github.com/typst/typst/issues/5751 that may well be indicating this is a dead-end for now... there is probably another member that will come up with some fancier solution to make the multi-level work, but so far I haven't been able to.\n\nEdit: I could not come up with something *clean* with your code, it rendered multiple markers in an array, which was not what you sent screenshots of.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 33.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11449,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-22T20:00:32.723Z",
      "updated_at": "2025-04-22T20:00:53.545Z",
      "cooked": "<p>Hi. I also need this, which is why I had to implement it, but now I checked it again, and it didn‚Äôt work correctly, so I fixed it:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let correctly-indent-list-and-enum-items(doc) = {\n  let first-line-indent() = if type(par.first-line-indent) == dictionary {\n    par.first-line-indent.amount\n  } else {\n    par.first-line-indent\n  }\n\n  show list: li =&gt; {\n    for (i, it) in li.children.enumerate() {\n      let nesting = state(\"list-nesting\", 0)\n      let indent = context h((nesting.get() + 1) * li.indent)\n      let marker = context {\n        let n = nesting.get()\n        if type(li.marker) == array {\n          li.marker.at(calc.rem-euclid(n, li.marker.len()))\n        } else if type(li.marker) == content {\n          li.marker\n        } else {\n          li.marker(n)\n        }\n      }\n      let body = {\n        nesting.update(x =&gt; x + 1)\n        it.body + parbreak()\n        nesting.update(x =&gt; x - 1)\n      }\n      let content = {\n        marker\n        h(li.body-indent)\n        body\n      }\n      context pad(left: int(nesting.get() != 0) * li.indent, content)\n    }\n  }\n\n  show enum: en =&gt; {\n    let start = if en.start == auto {\n      if en.children.first().has(\"number\") {\n        if en.reversed { en.children.first().number } else { 1 }\n      } else {\n        if en.reversed { en.children.len() } else { 1 }\n      }\n    } else {\n      en.start\n    }\n    let number = start\n    for (i, it) in en.children.enumerate() {\n      number = if it.has(\"number\") { it.number } else { number }\n      if en.reversed { number = start - i }\n      let parents = state(\"enum-parents\", ())\n      let indent = context h((parents.get().len() + 1) * en.indent)\n      let num = if en.full {\n        context numbering(en.numbering, ..parents.get(), number)\n      } else {\n        numbering(en.numbering, number)\n      }\n      let max-num = if en.full {\n        context numbering(en.numbering, ..parents.get(), en.children.len())\n      } else {\n        numbering(en.numbering, en.children.len())\n      }\n      num = context box(\n        width: measure(max-num).width,\n        align(right, text(overhang: false, num)),\n      )\n      let body = {\n        parents.update(arr =&gt; arr + (number,))\n        it.body + parbreak()\n        parents.update(arr =&gt; arr.slice(0, -1))\n      }\n      if not en.reversed { number += 1 }\n      let content = {\n        num\n        h(en.body-indent)\n        body\n      }\n      context pad(left: int(parents.get().len() != 0) * en.indent, content)\n    }\n  }\n  doc\n}\n</code></pre>\n<p>Now it will work like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lorem(20)\n\n- #lorem(20)\n\n  - #lorem(20)\n\n    - #lorem(20)\n\n      #lorem(20)\n- #lorem(20)\n\n- #lorem(20)\n\n#lorem(20)\n\n+ #lorem(20)\n\n  + #lorem(20)\n\n    + #lorem(20)\n\n      #lorem(20)\n+ #lorem(20)\n\n+ #lorem(20)\n</code></pre>\n<p>But you don‚Äôt have to space them:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set list(indent: 1em)\n#set enum(indent: 1em, full: true)\n#set par(justify: true, first-line-indent: (amount: 1em, all: true))\n\n#show: correctly-indent-list-and-enum-items\n\n#lorem(20)\n- #lorem(20)\n  - #lorem(20)\n    - #lorem(20)\n\n      #lorem(20)\n- #lorem(20)\n- #lorem(20)\n#lorem(20)\n+ #lorem(20)\n  + #lorem(20)\n    + #lorem(20)\n\n      #lorem(20)\n+ #lorem(20)\n+ #lorem(20)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/16b85c33154e7d3c0c99d23d042597c80e610dfe.png\" data-download-href=\"https://forum.typst.app/uploads/default/16b85c33154e7d3c0c99d23d042597c80e610dfe\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/16b85c33154e7d3c0c99d23d042597c80e610dfe_2_481x500.png\" alt=\"image\" data-base62-sha1=\"3eZuDxXH5kQinoD7rVnO6jrVsLA\" width=\"481\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/16b85c33154e7d3c0c99d23d042597c80e610dfe_2_481x500.png, https://forum.typst.app/uploads/default/original/2X/1/16b85c33154e7d3c0c99d23d042597c80e610dfe.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/16b85c33154e7d3c0c99d23d042597c80e610dfe.png 2x\" data-dominant-color=\"1F1F1F\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">574√ó596 110 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I think I‚Äôve implemented all the features that list/enums have to offer, with exception for tightness and stuff. I don‚Äôt use terms because it‚Äôs not a thing in documents I make.</p>",
      "raw": "Hi. I also need this, which is why I had to implement it, but now I checked it again, and it didn't work correctly, so I fixed it:\n\n```typ\n#let correctly-indent-list-and-enum-items(doc) = {\n  let first-line-indent() = if type(par.first-line-indent) == dictionary {\n    par.first-line-indent.amount\n  } else {\n    par.first-line-indent\n  }\n\n  show list: li => {\n    for (i, it) in li.children.enumerate() {\n      let nesting = state(\"list-nesting\", 0)\n      let indent = context h((nesting.get() + 1) * li.indent)\n      let marker = context {\n        let n = nesting.get()\n        if type(li.marker) == array {\n          li.marker.at(calc.rem-euclid(n, li.marker.len()))\n        } else if type(li.marker) == content {\n          li.marker\n        } else {\n          li.marker(n)\n        }\n      }\n      let body = {\n        nesting.update(x => x + 1)\n        it.body + parbreak()\n        nesting.update(x => x - 1)\n      }\n      let content = {\n        marker\n        h(li.body-indent)\n        body\n      }\n      context pad(left: int(nesting.get() != 0) * li.indent, content)\n    }\n  }\n\n  show enum: en => {\n    let start = if en.start == auto {\n      if en.children.first().has(\"number\") {\n        if en.reversed { en.children.first().number } else { 1 }\n      } else {\n        if en.reversed { en.children.len() } else { 1 }\n      }\n    } else {\n      en.start\n    }\n    let number = start\n    for (i, it) in en.children.enumerate() {\n      number = if it.has(\"number\") { it.number } else { number }\n      if en.reversed { number = start - i }\n      let parents = state(\"enum-parents\", ())\n      let indent = context h((parents.get().len() + 1) * en.indent)\n      let num = if en.full {\n        context numbering(en.numbering, ..parents.get(), number)\n      } else {\n        numbering(en.numbering, number)\n      }\n      let max-num = if en.full {\n        context numbering(en.numbering, ..parents.get(), en.children.len())\n      } else {\n        numbering(en.numbering, en.children.len())\n      }\n      num = context box(\n        width: measure(max-num).width,\n        align(right, text(overhang: false, num)),\n      )\n      let body = {\n        parents.update(arr => arr + (number,))\n        it.body + parbreak()\n        parents.update(arr => arr.slice(0, -1))\n      }\n      if not en.reversed { number += 1 }\n      let content = {\n        num\n        h(en.body-indent)\n        body\n      }\n      context pad(left: int(parents.get().len() != 0) * en.indent, content)\n    }\n  }\n  doc\n}\n```\n\nNow it will work like\n\n```typ\n#lorem(20)\n\n- #lorem(20)\n\n  - #lorem(20)\n\n    - #lorem(20)\n\n      #lorem(20)\n- #lorem(20)\n\n- #lorem(20)\n\n#lorem(20)\n\n+ #lorem(20)\n\n  + #lorem(20)\n\n    + #lorem(20)\n\n      #lorem(20)\n+ #lorem(20)\n\n+ #lorem(20)\n```\n\nBut you don't have to space them:\n\n```typ\n#set list(indent: 1em)\n#set enum(indent: 1em, full: true)\n#set par(justify: true, first-line-indent: (amount: 1em, all: true))\n\n#show: correctly-indent-list-and-enum-items\n\n#lorem(20)\n- #lorem(20)\n  - #lorem(20)\n    - #lorem(20)\n\n      #lorem(20)\n- #lorem(20)\n- #lorem(20)\n#lorem(20)\n+ #lorem(20)\n  + #lorem(20)\n    + #lorem(20)\n\n      #lorem(20)\n+ #lorem(20)\n+ #lorem(20)\n```\n\n![image|481x500](upload://3eZuDxXH5kQinoD7rVnO6jrVsLA.png)\n\nI think I've implemented all the features that list/enums have to offer, with exception for tightness and stuff. I don't use terms because it's not a thing in documents I make.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 41,
      "score": 328.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11607,
      "post_number": 4,
      "username": "magackame",
      "name": "Andrii Hetman",
      "created_at": "2025-04-25T14:26:38.790Z",
      "updated_at": "2025-04-25T14:26:38.790Z",
      "cooked": "<p>The code <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> gave works nicely.</p>\n<p>Thank you <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a>!</p>",
      "raw": "The code @Andrew gave works nicely.\n\nThank you @Andrew @vmartel08!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 29,
      "score": 45.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 13
    },
    {
      "id": 12847,
      "post_number": 5,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-05-21T09:39:21.039Z",
      "updated_at": "2025-05-21T09:52:49.589Z",
      "cooked": "<p>I just came across this, looking for a solution to the same problem. Many thanks to <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> for this code.</p>\n<p>To the developers: in the future, it would be nice if the first-line indent and the hanging indent could both be settable parameters of the list and enum functions, so as to not require this work around and impact upon other paragraphs.</p>",
      "raw": "I just came across this, looking for a solution to the same problem. Many thanks to @Andrew for this code.\n\nTo the developers: in the future, it would be nice if the first-line indent and the hanging indent could both be settable parameters of the list and enum functions, so as to not require this work around and impact upon other paragraphs.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    }
  ],
  "scraped_at": "2025-06-10T09:48:50.226679"
}
{
  "topic_metadata": {
    "id": 3769,
    "title": "How to set different spacing for multi-line equations?",
    "slug": "how-to-set-different-spacing-for-multi-line-equations",
    "posts_count": 9,
    "created_at": "2025-04-23T08:51:20.049Z",
    "last_posted_at": "2025-04-23T10:59:10.044Z",
    "views": 77,
    "like_count": 7,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "aarnent",
    "tags": [
      "layout",
      "math",
      "spacing"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 497
  },
  "posts": [
    {
      "id": 11473,
      "post_number": 1,
      "username": "joffdd",
      "name": "Joff",
      "created_at": "2025-04-23T08:51:20.236Z",
      "updated_at": "2025-04-26T20:00:35.310Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true): set block(spacing: 1.3em)\n\n$\nx=y\n$&lt;eq:somemath&gt;\n</code></pre>\n<p>I currently use the line above to adjust spacing around equation blocks.<br>\nHowever, I would like to differentiate between equation blocks with one line vs. more than one line of formulas, where also the set up subnumbering with <code>equate</code> looks entirely different. In the multi-line case, I would like to increase the spacing to 2em.</p>\n<p>I‚Äôm trying to understand how to use a <code>where</code> query or a selector to apply something similar to the following rule only for multi-line equations:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true, ...?): set block(spacing: 2em)\n\n$\nx &amp;= y \\\ny &amp;= z \\\n$&lt;eq:someothermath&gt;\n</code></pre>\n<p>I feel like I cannot use a label such as <code>&lt;multiline-eq&gt;</code> since I need unique labels for document referencing. I would like to avoid wrapping multiline formulas inside a function in the markup.</p>",
      "raw": "```typ\n#show math.equation.where(block: true): set block(spacing: 1.3em)\n\n$\nx=y\n$<eq:somemath>\n```\n\nI currently use the line above to adjust spacing around equation blocks.\nHowever, I would like to differentiate between equation blocks with one line vs. more than one line of formulas, where also the set up subnumbering with `equate` looks entirely different. In the multi-line case, I would like to increase the spacing to 2em.\n\nI'm trying to understand how to use a `where` query or a selector to apply something similar to the following rule only for multi-line equations:\n\n```typ\n#show math.equation.where(block: true, ...?): set block(spacing: 2em)\n\n$\nx &= y \\\ny &= z \\\n$<eq:someothermath>\n```\n\nI feel like I cannot use a label such as `<multiline-eq>` since I need unique labels for document referencing. I would like to avoid wrapping multiline formulas inside a function in the markup.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 130.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1494
    },
    {
      "id": 11475,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-04-23T09:30:40.144Z",
      "updated_at": "2025-04-23T09:30:40.144Z",
      "cooked": "<p>I think that solving this using just queries or selectors is currently not possible, but i‚Äôd love to be proven wrong. The way i‚Äôd solve this instead would be to check if the equation contains a linebreak, like so:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation.where(block: true): it =&gt; {\n  if linebreak() in it.body.children {\n    set block(spacing: 2em)\n    it\n  }\n  else {\n    set block(spacing: 1.3em)\n    it\n  }\n}\n</code></pre>",
      "raw": "I think that solving this using just queries or selectors is currently not possible, but i'd love to be proven wrong. The way i'd solve this instead would be to check if the equation contains a linebreak, like so:\n\n```typst\n#show math.equation.where(block: true): it => {\n  if linebreak() in it.body.children {\n    set block(spacing: 2em)\n    it\n  }\n  else {\n    set block(spacing: 1.3em)\n    it\n  }\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 11478,
      "post_number": 3,
      "username": "joffdd",
      "name": "Joff",
      "created_at": "2025-04-23T10:33:06.483Z",
      "updated_at": "2025-04-23T10:41:46.961Z",
      "cooked": "<p>Thanks <a class=\"mention\" href=\"/u/aarnent\">@aarnent</a>, that approach seems to work!</p>\n<p>Strangely, when using <code>equate</code> and the document contains at least one equation that uses <code>{}</code>, it breaks.</p>\n<p>In my case I get the following error messages:</p>\n<pre><code class=\"lang-auto\">symbol does not have field \"children\"\nstretch does not have field \"children\"\nlr does not have field \"children\"\nfigure does not have field \"children\"\n</code></pre>\n<p><a href=\"https://typst.app/project/rFDy8ACmoenAc1kl8gcUp6\">typst example</a></p>\n<p>I noticed that I can make it work when using escaped <code>\\{\\}</code> but I don‚Äôt understand why. Am I missing something regarding the use of  <code>{}</code> or should I report this as a bug? Maybe <a class=\"mention\" href=\"/u/eric\">@Eric</a> can tell.</p>",
      "raw": "Thanks @aarnent, that approach seems to work! \n\nStrangely, when using `equate` and the document contains at least one equation that uses `{}`, it breaks.\n\nIn my case I get the following error messages:\n\n```\nsymbol does not have field \"children\"\nstretch does not have field \"children\"\nlr does not have field \"children\"\nfigure does not have field \"children\"\n```\n\n[typst example](https://typst.app/project/rFDy8ACmoenAc1kl8gcUp6)\n\nI noticed that I can make it work when using escaped `\\{\\}` but I don't understand why. Am I missing something regarding the use of  `{}` or should I report this as a bug? Maybe @Eric can tell.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1494
    },
    {
      "id": 11479,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T10:34:01.294Z",
      "updated_at": "2025-04-23T10:34:01.294Z",
      "cooked": "<p>I don‚Äôt think there is a more simple solution. But this one can be simplified like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true): it =&gt; {\n  let is-multiline = linebreak() in it.body.children\n  set block(spacing: 2em) if is-multiline\n  set block(spacing: 1.3em) if not is-multiline\n  it\n}\n</code></pre>",
      "raw": "I don't think there is a more simple solution. But this one can be simplified like this:\n\n```typ\n#show math.equation.where(block: true): it => {\n  let is-multiline = linebreak() in it.body.children\n  set block(spacing: 2em) if is-multiline\n  set block(spacing: 1.3em) if not is-multiline\n  it\n}\n```",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 20,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11480,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T10:35:14.234Z",
      "updated_at": "2025-04-23T10:40:23.873Z",
      "cooked": "<p>Your link is private.</p>\n<p>The package splits the equation element into many parts, so it‚Äôs not straightforward to adapt the show rule to that. At least if you don‚Äôt know how it works under the hood.</p>",
      "raw": "Your link is private.\n\nThe package splits the equation element into many parts, so it's not straightforward to adapt the show rule to that. At least if you don't know how it works under the hood.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11481,
      "post_number": 6,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-23T10:41:33.651Z",
      "updated_at": "2025-04-23T10:41:33.651Z",
      "cooked": "<p>The body of an equation doesn‚Äôt necessarily have to be a sequence, so you should first check that before accessing the <code>children</code> field, as it may not exist.</p>",
      "raw": "The body of an equation doesn't necessarily have to be a sequence, so you should first check that before accessing the `children` field, as it may not exist.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11482,
      "post_number": 7,
      "username": "joffdd",
      "name": "Joff",
      "created_at": "2025-04-23T10:42:27.851Z",
      "updated_at": "2025-04-23T10:42:27.851Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a> thanks for the heads up, link updated</p>",
      "raw": "@Andrew thanks for the heads up, link updated",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1494
    },
    {
      "id": 11483,
      "post_number": 8,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-04-23T10:50:18.462Z",
      "updated_at": "2025-04-23T10:50:18.462Z",
      "cooked": "<p>as <a class=\"mention\" href=\"/u/eric\">@Eric</a> mentioned, the fix is just checking if the equation body is a sequence or not:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation.where(block: true): it =&gt; {\n  if it.body.func() == [].func() and linebreak() in it.body.children {\n    set block(spacing: 5em)\n    it\n  }\n  else {\n    set block(spacing: 1.3em)\n    it\n  }\n}\n</code></pre>",
      "raw": "as @Eric mentioned, the fix is just checking if the equation body is a sequence or not:\n```typst\n#show math.equation.where(block: true): it => {\n  if it.body.func() == [].func() and linebreak() in it.body.children {\n    set block(spacing: 5em)\n    it\n  }\n  else {\n    set block(spacing: 1.3em)\n    it\n  }\n}\n```",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 43.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 11484,
      "post_number": 9,
      "username": "joffdd",
      "name": "Joff",
      "created_at": "2025-04-23T10:59:10.044Z",
      "updated_at": "2025-04-23T10:59:10.044Z",
      "cooked": "<p>Thanks to you all! Works now.</p>",
      "raw": "Thanks to you all! Works now.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1494
    }
  ],
  "scraped_at": "2025-06-10T09:48:49.506478"
}
{
  "topic_metadata": {
    "id": 377,
    "title": "How can the appearance of overline or macron be specified in detail?",
    "slug": "how-can-the-appearance-of-overline-or-macron-be-specified-in-detail",
    "posts_count": 8,
    "created_at": "2024-09-16T19:12:00.284Z",
    "last_posted_at": "2024-09-17T10:11:22.570Z",
    "views": 866,
    "like_count": 1,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "xkevio",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 583
  },
  "posts": [
    {
      "id": 1429,
      "post_number": 1,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-16T19:12:00.372Z",
      "updated_at": "2024-09-19T17:45:38.855Z",
      "cooked": "<p>In math, the overline(U) is frequently used to denote closure, but the Typst-defined function ‚Äòoverline‚Äô doesn‚Äôt have a good appearance for some fonts. Is there a way to specify the height, position, length, and thickness of that ‚Äòbar‚Äô? One of my attempts is the following:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $ \n</code></pre>\n<p>However, it seems to have some problems when adding a subscript, like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ overU_(i) $\n</code></pre>\n<p>Is there a way to fix this?</p>",
      "raw": "In math, the overline(U) is frequently used to denote closure, but the Typst-defined function 'overline' doesn't have a good appearance for some fonts. Is there a way to specify the height, position, length, and thickness of that 'bar'? One of my attempts is the following:\n\n```typ\n#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $ \n```\n\nHowever, it seems to have some problems when adding a subscript, like:\n\n```typ\n$ overU_(i) $\n```\n\nIs there a way to fix this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 70,
      "score": 4409.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1434,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-16T20:03:22.870Z",
      "updated_at": "2024-09-16T20:06:43.131Z",
      "cooked": "<p>Just to be clear as to the question title and as you said, Typst does have <code>overline()</code> and <code>macron()</code> in math mode. Font issues usually stem from non-proper math fonts, though sometimes they can be the fault of Typst.</p>\n<p>It would be good to know what fonts you had issues with or what those were specifically. There might have also been some bug fixes regarding accent placement that will arrive in 0.12. One alternative seems to be: <code>$accent(U, \\u{0305})$</code> which is called <code>dash</code> on main.</p>",
      "raw": "Just to be clear as to the question title and as you said, Typst does have `overline()` and `macron()` in math mode. Font issues usually stem from non-proper math fonts, though sometimes they can be the fault of Typst.\n\nIt would be good to know what fonts you had issues with or what those were specifically. There might have also been some bug fixes regarding accent placement that will arrive in 0.12. One alternative seems to be: `$accent(U, \\u{0305})$` which is called `dash` on main.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 70,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 1436,
      "post_number": 3,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-16T20:16:32.775Z",
      "updated_at": "2024-09-16T20:16:32.775Z",
      "cooked": "<p>Thank you for the reply. I used the font ‚ÄòSTIX Two Math‚Äô with a size of 12pt (as indicated in the first line of the code). I also tried this option, but it seemed too short from my perspective. I would like to have more control over the ‚Äòbar,‚Äô especially since I also need to handle complex conjugates sometimes.</p>",
      "raw": "Thank you for the reply. I used the font 'STIX Two Math' with a size of 12pt (as indicated in the first line of the code). I also tried this option, but it seemed too short from my perspective. I would like to have more control over the 'bar,' especially since I also need to handle complex conjugates sometimes.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 67,
      "score": 48.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1440,
      "post_number": 4,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-16T20:43:40.972Z",
      "updated_at": "2024-09-16T20:43:53.699Z",
      "cooked": "<p>Hmm, I see. I have modified your attempt to make it a little less cluttered:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.overline: it =&gt; $limits(it.body)^#box(baseline: 2pt, line(length: 1em, stroke: 0.7pt))$\n</code></pre>\n<p>There, you can play around with <code>baseline</code> to move it closer to the body, though I don‚Äôt see what‚Äôs wrong with the subscript.</p>",
      "raw": "Hmm, I see. I have modified your attempt to make it a little less cluttered:\n```typ\n#show math.overline: it => $limits(it.body)^#box(baseline: 2pt, line(length: 1em, stroke: 0.7pt))$\n```\n\nThere, you can play around with `baseline` to move it closer to the body, though I don't see what's wrong with the subscript.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 64,
      "score": 67.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 1494,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-17T07:08:10.269Z",
      "updated_at": "2024-09-17T07:18:03.075Z",
      "cooked": "<p>Would you be able to show us what your overline supscript looks like? On my side I cannot see any issues. See below<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/4d4793c6267b8e1faaaebc5451106869c043ee46.png\" alt=\"image\" data-base62-sha1=\"b1E7mvzzZDXkYlsDrhwbNtzeRn0\" width=\"401\" height=\"147\"></p>\n<details>\n<summary>\nCode</summary>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $\n#set page(width: auto, height: auto)\n\n$\n  \"overline(\\\"very long text\\\")\"&amp; : overline(\"very long text\")\\\n  \"overline(x)\"&amp;: overline(x)\\\n  \"overU\"&amp;:overU\\\n  \"macron(x)\"&amp;: macron(x)\\\n$\n</code></pre>\n</details>",
      "raw": "Would you be able to show us what your overline supscript looks like? On my side I cannot see any issues. See below\n![image|401x147](upload://b1E7mvzzZDXkYlsDrhwbNtzeRn0.png)\n\n\n[details=\"Code\"]\n```typst\n#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $\n#set page(width: auto, height: auto)\n\n$\n  \"overline(\\\"very long text\\\")\"& : overline(\"very long text\")\\\n  \"overline(x)\"&: overline(x)\\\n  \"overU\"&:overU\\\n  \"macron(x)\"&: macron(x)\\\n$\n```\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 1527,
      "post_number": 6,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-17T09:30:40.554Z",
      "updated_at": "2024-09-17T09:30:40.554Z",
      "cooked": "<p>Thanks for your reply, I think <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> provides an almost perfect solution.</p>\n<p>My complaint is the overline(U) or macron(U) is either too long or too short, and my previous attempt added a small spacing before the subscript:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/915155b63697d31d2f566350514bc64d768261d0.png\" data-download-href=\"https://forum.typst.app/uploads/default/915155b63697d31d2f566350514bc64d768261d0\" title=\"Screenshot 2024-09-17 at 11.28.51\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_411x375.png\" alt=\"Screenshot 2024-09-17 at 11.28.51\" data-base62-sha1=\"kJxuwbPW9FCHXX4Vb49bmS3tiZW\" width=\"411\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_411x375.png, https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_616x562.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_822x750.png 2x\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2024-09-17 at 11.28.51</span><span class=\"informations\">1000√ó912 109 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> 's solution solves this problem. However, it introduces a new problem when I use the entity as a subscript.<br>\nwhere zb is defined as <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> suggested</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let zb = $limits(z)^(#h(0.7pt)#box(height: -2.1pt, line(length: 0.55em, stroke: 0.7pt)))$\n</code></pre>\n<p>For the moment, I will go with <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>‚Äôs solution, and simply define a new overline where I try to use it in the subscript.</p>",
      "raw": "Thanks for your reply, I think @xkevio provides an almost perfect solution.\n\nMy complaint is the overline(U) or macron(U) is either too long or too short, and my previous attempt added a small spacing before the subscript:\n![Screenshot 2024-09-17 at 11.28.51|548x500, 75%](upload://kJxuwbPW9FCHXX4Vb49bmS3tiZW.png)\n\n\n@xkevio 's solution solves this problem. However, it introduces a new problem when I use the entity as a subscript.\nwhere zb is defined as @xkevio suggested\n```typ\n#let zb = $limits(z)^(#h(0.7pt)#box(height: -2.1pt, line(length: 0.55em, stroke: 0.7pt)))$\n```\nFor the moment, I will go with @xkevio's solution, and simply define a new overline where I try to use it in the subscript.",
      "reply_to_post_number": 5,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 54.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1528,
      "post_number": 7,
      "username": "reknih",
      "name": "Martin Haug",
      "created_at": "2024-09-17T09:35:55.327Z",
      "updated_at": "2024-09-17T09:35:55.327Z",
      "cooked": "<p>I‚Äôm glad you found <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>‚Äòs post helpful!</p>\n<p>Can you mark it as the solution using the <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\"> button to help other users with the same problem?</p>",
      "raw": "I‚Äôm glad you found @xkevio‚Äòs post helpful!\n\nCan you mark it as the solution using the ‚òëÔ∏è button to help other users with the same problem?",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1
    },
    {
      "id": 1534,
      "post_number": 8,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-17T10:11:22.570Z",
      "updated_at": "2024-09-17T10:11:22.570Z",
      "cooked": "<p>Perhaps, writing</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let zb = $limits(z)^(#h(0.7pt)#box(height: -0.15em, line(length: 0.55em, stroke: 0.7pt)))$\n</code></pre>\n<p>would work better for you. I changed the <code>height</code> to <code>-0.15em</code>.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/c55863b984c23a291954b19e8ce4b4a94d8f0598.png\" alt=\"image\" data-base62-sha1=\"s9NqZJzS8xMkwd5lJGKEPomEnyw\" width=\"448\" height=\"243\"></p>",
      "raw": "Perhaps, writing \n```typ\n#let zb = $limits(z)^(#h(0.7pt)#box(height: -0.15em, line(length: 0.55em, stroke: 0.7pt)))$\n```\nwould work better for you. I changed the `height` to `-0.15em`.\n![image|448x243](upload://s9NqZJzS8xMkwd5lJGKEPomEnyw.png)",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 44,
      "score": 33.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:58:50.435831"
}
{
  "topic_metadata": {
    "id": 3773,
    "title": "Why is \"Alphanumeric\" not suitable for bibliographies?",
    "slug": "why-is-alphanumeric-not-suitable-for-bibliographies",
    "posts_count": 3,
    "created_at": "2025-04-23T11:36:10.050Z",
    "last_posted_at": "2025-04-23T13:17:20.217Z",
    "views": 86,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "quachpas",
    "tags": [
      "literature",
      "citation"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 194
  },
  "posts": [
    {
      "id": 11486,
      "post_number": 1,
      "username": "niko",
      "name": "niko",
      "created_at": "2025-04-23T11:36:10.171Z",
      "updated_at": "2025-04-26T20:13:14.870Z",
      "cooked": "<p>Hi everyone, I just found out that the citation style ‚ÄúAlphanumeric‚Äù does not seem to work in the following case:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#bibliography(\"refs.bib\", style: \"alphanumeric\")\n</code></pre>\n<p>But it seems to work for individual citations like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#cite(&lt;some-ref&gt;, style:\"alphanumeric\")\n</code></pre>\n<p>Why does it not work for entire bibliographies but only for individual citations?<br>\nHow can I have a bibliography in ‚Äúalphanumeric‚Äù style?</p>",
      "raw": "Hi everyone, I just found out that the citation style \"Alphanumeric\" does not seem to work in the following case:\n```typ\n#bibliography(\"refs.bib\", style: \"alphanumeric\")\n```\nBut it seems to work for individual citations like this:\n```typ\n#cite(<some-ref>, style:\"alphanumeric\")\n```\nWhy does it not work for entire bibliographies but only for individual citations?\nHow can I have a bibliography in \"alphanumeric\" style?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 130.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1435
    },
    {
      "id": 11488,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-23T11:57:04.233Z",
      "updated_at": "2025-04-23T11:57:39.043Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/niko\">@niko</a>, the ‚Äúalphanumeric‚Äù style is a citation style (CSL file) only (see <a href=\"https://github.com/typst/hayagriva/blob/main/styles/alphanumeric.csl\" class=\"inline-onebox\">hayagriva/styles/alphanumeric.csl at main ¬∑ typst/hayagriva ¬∑ GitHub</a>).</p>\n<p>It is confusing because on the docs because the style parameter uses the same list for both <a href=\"https://typst.app/docs/reference/model/bibliography/\">bibliography</a> and <a href=\"https://typst.app/docs/reference/model/cite/#parameters-style\">cite</a>.</p>\n<p>If you want an alphanumeric citation style, set it using <code>set cite(style: \"alphanumeric\")</code>. However, it is always best practice to use a CSL style that provides both citation and bibliography instructions. The default style for <code>bibliography</code> is <code>ieee</code>.</p>\n<p>This issue is related: <a href=\"https://github.com/typst/typst/issues/2528\" class=\"inline-onebox\">Some CSL styles are not applicable to `bibliography` ¬∑ Issue #2528 ¬∑ typst/typst ¬∑ GitHub</a></p>",
      "raw": "Hello @niko, the \"alphanumeric\" style is a citation style (CSL file) only (see https://github.com/typst/hayagriva/blob/main/styles/alphanumeric.csl). \n\nIt is confusing because on the docs because the style parameter uses the same list for both [bibliography](https://typst.app/docs/reference/model/bibliography/) and [cite](https://typst.app/docs/reference/model/cite/#parameters-style). \n\nIf you want an alphanumeric citation style, set it using `set cite(style: \"alphanumeric\")`. However, it is always best practice to use a CSL style that provides both citation and bibliography instructions. The default style for `bibliography` is `ieee`. \n\nThis issue is related: https://github.com/typst/typst/issues/2528",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 27,
      "score": 55.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11491,
      "post_number": 4,
      "username": "niko",
      "name": "niko",
      "created_at": "2025-04-23T13:17:20.217Z",
      "updated_at": "2025-04-23T13:17:20.217Z",
      "cooked": "<p>Thanks for the information. This actually achieved the output that I was looking for (even though it seems a bit shady).</p>",
      "raw": "Thanks for the information. This actually achieved the output that I was looking for (even though it seems a bit shady).",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1435
    }
  ],
  "scraped_at": "2025-06-10T09:48:48.796208"
}
{
  "topic_metadata": {
    "id": 3775,
    "title": "How to fix modern-technique-report 0.1.0 unexpected argument fill?",
    "slug": "how-to-fix-modern-technique-report-0-1-0-unexpected-argument-fill",
    "posts_count": 3,
    "created_at": "2025-04-23T13:06:01.682Z",
    "last_posted_at": "2025-04-23T13:58:38.040Z",
    "views": 61,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "vmartel08",
    "tags": [
      "layout",
      "packages",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 432
  },
  "posts": [
    {
      "id": 11490,
      "post_number": 1,
      "username": "Jason_Liu",
      "name": "Jason Liu",
      "created_at": "2025-04-23T13:06:01.815Z",
      "updated_at": "2025-04-23T13:06:01.815Z",
      "cooked": "<p>So I was using the modern technique template and I have been using it for a while but recently (couple of months ago) the template stopped working. The error it states, was that there was an unexpected argument fill. I don‚Äôt know how to fix this because I cant see any fill command stated in that specific code block.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: modern-technique-report.with(\n  title: [Project Name \\ Multiline When too Long],\n  subtitle: [\n    *Fourth Edition*, \\ by _H.L. Royden_ and _P.M. Fitzpatrick_\n  ],\n  series: [Mathematics Courses \\ Framework Series],\n  author: grid(\n    align: left + horizon,\n    columns: 3,\n    inset: 7pt,\n    [*Member*], [B. Alice], [qwertyuiop\\@youremail.com],\n    [], [B. Alice], [qwertyuiop\\@youremail.com],\n    [], [B. Alice], [qwertyuiop\\@youremail.com],\n    [*Advisor*], [E. Eric], [qwertyuiop\\@youremail.com],\n  ),\n  date: datetime.today().display(\"[year] -- [month] -- [day]\"),\n  background: image(\"bg.jpg\"),\n  theme_color: rgb(21, 74, 135),\n  font: \"New Computer Modern\",\n  title_font: \"Noto Sans\",\n)\n</code></pre>\n<p>This is the part where the error lies and I don‚Äôt get how to fix this.</p>\n<p>The current fix I currently do is reverting the version to the older working version but this is not an optimal solution and so here I am.</p>\n<p>Also sorry if I didnt choose the right tags, don‚Äôt really know where this question belongs under.</p>",
      "raw": "So I was using the modern technique template and I have been using it for a while but recently (couple of months ago) the template stopped working. The error it states, was that there was an unexpected argument fill. I don't know how to fix this because I cant see any fill command stated in that specific code block. \n\n```typ\n#show: modern-technique-report.with(\n  title: [Project Name \\ Multiline When too Long],\n  subtitle: [\n    *Fourth Edition*, \\ by _H.L. Royden_ and _P.M. Fitzpatrick_\n  ],\n  series: [Mathematics Courses \\ Framework Series],\n  author: grid(\n    align: left + horizon,\n    columns: 3,\n    inset: 7pt,\n    [*Member*], [B. Alice], [qwertyuiop\\@youremail.com],\n    [], [B. Alice], [qwertyuiop\\@youremail.com],\n    [], [B. Alice], [qwertyuiop\\@youremail.com],\n    [*Advisor*], [E. Eric], [qwertyuiop\\@youremail.com],\n  ),\n  date: datetime.today().display(\"[year] -- [month] -- [day]\"),\n  background: image(\"bg.jpg\"),\n  theme_color: rgb(21, 74, 135),\n  font: \"New Computer Modern\",\n  title_font: \"Noto Sans\",\n)\n```\n\nThis is the part where the error lies and I don't get how to fix this.\n\nThe current fix I currently do is reverting the version to the older working version but this is not an optimal solution and so here I am.\n\nAlso sorry if I didnt choose the right tags, don't really know where this question belongs under.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 149.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1498
    },
    {
      "id": 11492,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-23T13:43:50.401Z",
      "updated_at": "2025-04-23T14:19:08.269Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/jason_liu\">@Jason_Liu</a>,</p>\n<p>Seems that the <a href=\"https://typst.app/universe/package/modern-technique-report\" class=\"inline-onebox\">modern-technique-report ‚Äì Typst Universe</a> has not been <a href=\"https://typst.app/blog/2025/typst-0.13/#migrating\">migrated to Typst 0.13</a> yet.</p>\n<p>You get some errors such as:</p>\n<blockquote>\n<p>unexpected argument: fill</p>\n<p>Hint: Typst 0.13 has introduced breaking changes. Try downgrading Tinymist to v0.12 to use a compatible version of Typst, or consider migrating your code according to <a href=\"https://typst.app/blog/2025/typst-0.13/#migrating\">this guide</a>.</p>\n</blockquote>\n<p>You could perhaps:</p>\n<ul>\n<li>modify the template code locally yourself to comply with the breaking changes, if allowed to do so</li>\n<li>contact the package author <a href=\"https://github.com/ay-tony\" rel=\"noopener nofollow ugc\"><code>aytony</code></a> and perhaps create an issue towards the package, or</li>\n<li>downgrade Typst to 0.12 or another version.</li>\n</ul>\n<p>The culprits seems to be the show rules on <code>outline</code> and <code>outline.entry</code> in <code>lib.typ</code>, such as:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">118 outline(\n119    depth: 2,\n120    fill: repeat[#text(fill: gray)[.]]\n121  )\n</code></pre>\n<p>A bit more time necessary to decide if you do need to customize the outline entries, and where to re-insert the code properly.</p>\n<p>One of the related breaking changes to fix for <a href=\"https://typst.app/blog/2025/typst-0.13/#migrating\">migrating</a> to Typst 0.13:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55.png\" data-download-href=\"https://forum.typst.app/uploads/default/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55_2_690x235.png\" alt=\"image\" data-base62-sha1=\"q5GMpn9o8RXGt2HiTgLBcRnbvoh\" width=\"690\" height=\"235\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55_2_690x235.png, https://forum.typst.app/uploads/default/original/2X/b/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55.png 1.5x, https://forum.typst.app/uploads/default/original/2X/b/b6dd2eb3c9f737674a5c42bb4401e1eb8c04aa55.png 2x\" data-dominant-color=\"E2E2E3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">875√ó299 133 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi @Jason_Liu,\n\nSeems that the https://typst.app/universe/package/modern-technique-report has not been [migrated to Typst 0.13](https://typst.app/blog/2025/typst-0.13/#migrating) yet. \n\nYou get some errors such as:\n> unexpected argument: fill\n> \n> Hint: Typst 0.13 has introduced breaking changes. Try downgrading Tinymist to v0.12 to use a compatible version of Typst, or consider migrating your code according to [this guide](https://typst.app/blog/2025/typst-0.13/#migrating).\n\nYou could perhaps: \n- modify the template code locally yourself to comply with the breaking changes, if allowed to do so \n- contact the package author [`aytony`](https://github.com/ay-tony) and perhaps create an issue towards the package, or\n- downgrade Typst to 0.12 or another version.\n\nThe culprits seems to be the show rules on `outline` and `outline.entry` in `lib.typ`, such as:\n```typc\n118 outline(\n119    depth: 2,\n120    fill: repeat[#text(fill: gray)[.]]\n121  )\n```\nA bit more time necessary to decide if you do need to customize the outline entries, and where to re-insert the code properly.\n\nOne of the related breaking changes to fix for [migrating](https://typst.app/blog/2025/typst-0.13/#migrating) to Typst 0.13:\n![image|690x235](upload://q5GMpn9o8RXGt2HiTgLBcRnbvoh.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 28.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11493,
      "post_number": 3,
      "username": "Jason_Liu",
      "name": "Jason Liu",
      "created_at": "2025-04-23T13:58:38.040Z",
      "updated_at": "2025-04-23T13:58:38.040Z",
      "cooked": "<p>Thanks I will for now just downgrade my current document but will do this for the future ones.</p>",
      "raw": "Thanks I will for now just downgrade my current document but will do this for the future ones.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1498
    }
  ],
  "scraped_at": "2025-06-10T09:48:48.086482"
}
{
  "topic_metadata": {
    "id": 3777,
    "title": "How to remove certain level 3 headings from outline?",
    "slug": "how-to-remove-certain-level-3-headings-from-outline",
    "posts_count": 9,
    "created_at": "2025-04-23T14:59:34.116Z",
    "last_posted_at": "2025-04-23T15:14:39.234Z",
    "views": 67,
    "like_count": 11,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 516
  },
  "posts": [
    {
      "id": 11496,
      "post_number": 1,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T14:59:34.443Z",
      "updated_at": "2025-04-26T20:03:48.843Z",
      "cooked": "<p>I‚Äôm having difficulty finding the right syntax for this. I have some sections of my document that I want to suppress certain heading levels from the outline, and I thought the <code>outlined</code> parameter would be the one to use.</p>\n<p>Basically, my intent is something like <code>set heading(outlined: false).where(level: 3)</code>. I know this isn‚Äôt valid, but just an example.</p>\n<p>For example, I have a block that I want everything inside to suppress level 3 heading:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let suppress_lvl_3(doc) = {\n    // Insert suppression logic here\n    doc\n}\n</code></pre>\n<p>I thought this would work:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let suppress_lvl_3(doc) = {\n    show heading.where(level: 3):it =&gt; {\n        set heading(outlined: false)\n        it\n    }\n    doc\n}\n</code></pre>\n<p>But it doesn‚Äôt seem to have an effect.</p>\n<p>I know there is a way to set conditionally using a syntax that looks like <code>#set heading(outlined: false) if CONDITION HERE</code>, but I don‚Äôt know what condition would work for this. Any idea on the simplest way to do this?</p>",
      "raw": "I'm having difficulty finding the right syntax for this. I have some sections of my document that I want to suppress certain heading levels from the outline, and I thought the `outlined` parameter would be the one to use.\n\nBasically, my intent is something like `set heading(outlined: false).where(level: 3)`. I know this isn't valid, but just an example. \n\nFor example, I have a block that I want everything inside to suppress level 3 heading:\n```typst\n#let suppress_lvl_3(doc) = {\n    // Insert suppression logic here\n    doc\n}\n```\n\nI thought this would work:\n```typst\n#let suppress_lvl_3(doc) = {\n    show heading.where(level: 3):it => {\n        set heading(outlined: false)\n        it\n    }\n    doc\n}\n```\nBut it doesn't seem to have an effect.\n\nI know there is a way to set conditionally using a syntax that looks like `#set heading(outlined: false) if CONDITION HERE`, but I don't know what condition would work for this. Any idea on the simplest way to do this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 105.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11497,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-23T15:03:28.812Z",
      "updated_at": "2025-04-23T15:10:45.902Z",
      "cooked": "<p>Hello! I suppose you are using your function like this: <code>show: suppress_lvl_3</code>? or <code>suppress_lvl_3[content]</code>? <s>Without knowing more about your document, it‚Äôs difficult to tell why it‚Äôs not working.</s></p>\n<p>Alternatively, just write a <code>show-set</code> rule!</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show heading.where(level: 3): set heading(outlined: false) // turn it off\n[suppressed section]\nshow heading.where(level: 3): set heading(outlined: true) // turn it on\n</code></pre>",
      "raw": "Hello! I suppose you are using your function like this: `show: suppress_lvl_3`? or `suppress_lvl_3[content]`? ~~Without knowing more about your document, it's difficult to tell why it's not working.~~\n\nAlternatively, just write a `show-set` rule! \n```typc\nshow heading.where(level: 3): set heading(outlined: false) // turn it off\n[suppressed section]\nshow heading.where(level: 3): set heading(outlined: true) // turn it on\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 25,
      "score": 50.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11498,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:07:35.918Z",
      "updated_at": "2025-04-23T15:07:35.918Z",
      "cooked": "<p>Depending on your structure, you might want to select the headings that should be excluded:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show &lt;not-outlined&gt;: set heading(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n=== Level 3 &lt;not-outlined&gt;\n= Level 1\n== Level 2\n=== Level 3 &lt;not-outlined&gt;\n</code></pre>",
      "raw": "Depending on your structure, you might want to select the headings that should be excluded:\n\n```typ\n#show <not-outlined>: set heading(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n=== Level 3 <not-outlined>\n= Level 1\n== Level 2\n=== Level 3 <not-outlined>\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 24,
      "score": 54.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11499,
      "post_number": 4,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:07:36.763Z",
      "updated_at": "2025-04-23T15:07:36.763Z",
      "cooked": "<p>Wow, I can‚Äôt believe it was that simple! Thanks a lot!</p>\n<p>But why wasn‚Äôt this working:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show heading.where(level: 3):it =&gt; {\n        set heading(outlined: false)\n        it\n}\n</code></pre>\n<p>Your solution looks quite similar, so I‚Äôm struggling to see how they differ at a fundamental level, but I‚Äôm not fully familiar with the syntax. Could you explain a bit of the differences between this and your solution in terms on why mine was not working?</p>",
      "raw": "Wow, I can't believe it was that simple! Thanks a lot!\n\nBut why wasn't this working:\n```typst\n#show heading.where(level: 3):it => {\n        set heading(outlined: false)\n        it\n}\n```\nYour solution looks quite similar, so I'm struggling to see how they differ at a fundamental level, but I'm not fully familiar with the syntax. Could you explain a bit of the differences between this and your solution in terms on why mine was not working?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11500,
      "post_number": 5,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:08:51.688Z",
      "updated_at": "2025-04-23T15:08:51.688Z",
      "cooked": "<p>Ahh interesting! I didn‚Äôt know labels could be used like this. Thanks for the tip!</p>",
      "raw": "Ahh interesting! I didn't know labels could be used like this. Thanks for the tip!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11501,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-23T15:09:57.447Z",
      "updated_at": "2025-04-23T15:09:57.447Z",
      "cooked": "<p>I have to correct myself. The reason why your <code>set</code> instruction is not working is because it is <em>inside</em> your heading already.</p>\n<p>As we cannot modify elements yet, but assume it is possible, the ‚Äúcorrect‚Äù way would be</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 3): it =&gt; {\n    it.outlined = false\n    it\n}\n</code></pre>\n<p>The heading already exists at the point the show rule is in place, so your rule is essentially ignored.</p>",
      "raw": "I have to correct myself. The reason why your `set` instruction is not working is because it is *inside* your heading already. \n\nAs we cannot modify elements yet, but assume it is possible, the \"correct\" way would be \n```typ\n#show heading.where(level: 3): it => {\n    it.outlined = false\n    it\n}\n```\nThe heading already exists at the point the show rule is in place, so your rule is essentially ignored.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11502,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:11:18.774Z",
      "updated_at": "2025-04-23T15:11:18.774Z",
      "cooked": "<p>Or you can just define a custom heading function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let heading3 = heading.with(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n#heading3[Level 3]\n= Level 1\n== Level 2\n#heading3[Level 3]\n</code></pre>",
      "raw": "Or you can just define a custom heading function:\n\n\n```typ\n#let heading3 = heading.with(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n#heading3[Level 3]\n= Level 1\n== Level 2\n#heading3[Level 3]\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 34.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11503,
      "post_number": 8,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:11:40.790Z",
      "updated_at": "2025-04-23T15:11:40.790Z",
      "cooked": "<p>You say ‚Äúyet‚Äù, does it mean that this is in the pipeline to be implemented in the future?</p>",
      "raw": "You say \"yet\", does it mean that this is in the pipeline to be implemented in the future?",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11504,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:14:39.234Z",
      "updated_at": "2025-04-23T15:14:39.234Z",
      "cooked": "<p>A lot of stuff now is immutable. I don‚Äôt know if there will be a possibility to edit elements in-place, but there are a ton of things to do now, so maybe one day, but not anywhere soon.</p>",
      "raw": "A lot of stuff now is immutable. I don't know if there will be a possibility to edit elements in-place, but there are a ton of things to do now, so maybe one day, but not anywhere soon.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 39.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:47.376542"
}
{
  "topic_metadata": {
    "id": 3786,
    "title": "How to calculate \"6 enters/newlines\"",
    "slug": "how-to-calculate-6-enters-newlines",
    "posts_count": 2,
    "created_at": "2025-04-23T21:49:46.097Z",
    "last_posted_at": "2025-04-24T06:36:47.464Z",
    "views": 57,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 232
  },
  "posts": [
    {
      "id": 11539,
      "post_number": 1,
      "username": "alex01",
      "name": "alex",
      "created_at": "2025-04-23T21:49:46.219Z",
      "updated_at": "2025-04-24T06:57:07.024Z",
      "cooked": "<p>Hi.</p>\n<p>I have a text with that structure.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#align(center+top)[\nAuthors Name\n]\n\n// 12 * 6 \"enter\"\n// here should be 6 times newlines\n#v(72pt)\n\n#align(center+horizon)[\n  #text(size: 22pt)[\n    *Title*\\\n  ]\n  #v(12pt) // one new line\n  #text(size: 18pt)[\n    Sub-Title\n  ]\n]\n\n// 12 * 6 \"enter\"\n// here should be 6 times newlines\n#v(72pt)\n\nText\n</code></pre>\n<p>I hpe that this could be done easily with <a href=\"https://typst.app/docs/reference/layout/relative/\" class=\"inline-onebox\">Relative Length Type ‚Äì Typst Documentation</a> or <a href=\"https://typst.app/docs/reference/layout/fraction/\" class=\"inline-onebox\">Fraction Type ‚Äì Typst Documentation</a> but I haven‚Äôt fully understood which one is here the best.</p>\n<p>Maybe this function <a href=\"https://typst.app/docs/reference/layout/measure/\" class=\"inline-onebox\">Measure Function ‚Äì Typst Documentation</a> is the right solution but I‚Äôm not sure how to use it.</p>\n<p>Is there a function which can be use in <code>v</code> like the following?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#v(linebreak()*6)\n</code></pre>",
      "raw": "Hi.\n\nI have a text with that structure.\n```typ\n#align(center+top)[\nAuthors Name\n]\n\n// 12 * 6 \"enter\"\n// here should be 6 times newlines\n#v(72pt)\n\n#align(center+horizon)[\n  #text(size: 22pt)[\n    *Title*\\\n  ]\n  #v(12pt) // one new line\n  #text(size: 18pt)[\n    Sub-Title\n  ]\n]\n\n// 12 * 6 \"enter\"\n// here should be 6 times newlines\n#v(72pt)\n\nText\n```\n\nI hpe that this could be done easily with https://typst.app/docs/reference/layout/relative/ or https://typst.app/docs/reference/layout/fraction/ but I haven't fully understood which one is here the best.\n\nMaybe this function https://typst.app/docs/reference/layout/measure/ is the right solution but I'm not sure how to use it.\n\nIs there a function which can be use in `v` like the following?\n```typ\n#v(linebreak()*6)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1296
    },
    {
      "id": 11549,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-24T06:36:47.464Z",
      "updated_at": "2025-04-24T06:36:47.464Z",
      "cooked": "<p>Hello!</p>\n<p>In Typst, there are two distinct ‚Äúnewlines‚Äù: <a href=\"https://typst.app/docs/reference/text/linebreak/\"><code>linebreak</code></a> and <a href=\"https://typst.app/docs/reference/model/parbreak/\"><code>parbreak</code></a>.</p>\n<p>The linebreak occurs in a paragraph. The parbreak starts a new paragraph.</p>\n<p>In markup, it would look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lorem(10)\\ // linebreak\n#lorem(5)\n\n#lorem(10) // parbreak just before! Notice the empty line\n</code></pre>\n<p>If you are trying to get that space between paragraphs, then just create a new empty paragraph 6 times! Calling parbreak multiple times would not work, because consecutive parbreaks are internally collapsed into a single one.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#for i in range(6) { par[] }\n</code></pre>",
      "raw": "Hello! \n\nIn Typst, there are two distinct \"newlines\": [`linebreak`](https://typst.app/docs/reference/text/linebreak/) and [`parbreak`](https://typst.app/docs/reference/model/parbreak/).\n\nThe linebreak occurs in a paragraph. The parbreak starts a new paragraph.\n\nIn markup, it would look like this:\n```typ\n#lorem(10)\\ // linebreak\n#lorem(5)\n\n#lorem(10) // parbreak just before! Notice the empty line\n```\n\nIf you are trying to get that space between paragraphs, then just create a new empty paragraph 6 times! Calling parbreak multiple times would not work, because consecutive parbreaks are internally collapsed into a single one.\n\n```typ\n#for i in range(6) { par[] }\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:48:46.655955"
}
{
  "topic_metadata": {
    "id": 3788,
    "title": "How to place a symbol under or over another symbol in an equation?",
    "slug": "how-to-place-a-symbol-under-or-over-another-symbol-in-an-equation",
    "posts_count": 2,
    "created_at": "2025-04-24T02:53:33.575Z",
    "last_posted_at": "2025-04-24T06:29:23.318Z",
    "views": 49,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 72
  },
  "posts": [
    {
      "id": 11542,
      "post_number": 1,
      "username": "nhanncv",
      "name": "Nhan",
      "created_at": "2025-04-24T02:53:33.735Z",
      "updated_at": "2025-04-24T06:27:41.686Z",
      "cooked": "<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/892928064bc5eff398fcfb4728917a4cec47e5ca.png\" alt=\"image\" data-base62-sha1=\"jznABWzl0ftAu30OSDcVwGRwb8u\" width=\"362\" height=\"96\"><br>\nI want to place <code>d in D</code> under <code>max</code> like in the picture</p>",
      "raw": "![image|362x96](upload://jznABWzl0ftAu30OSDcVwGRwb8u.png)\n I want to place `d in D` under `max` like in the picture",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 99.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1502
    },
    {
      "id": 11548,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-24T06:29:23.318Z",
      "updated_at": "2025-04-24T06:29:23.318Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/nhanncv\">@nhanncv</a>! Don‚Äôt hesitate to take a look at the maths documentation at <a href=\"https://typst.app/docs/reference/math/\" class=\"inline-onebox\">Math ‚Äì Typst Documentation</a>.</p>\n<p>Are you having a particular issue? It would help if you share your current code.</p>\n<p>I can reproduce your picture below</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\nmax_(d in D) min_(s in S(d)) f(d, s)\n$\n</code></pre>",
      "raw": "Hello @nhanncv! Don't hesitate to take a look at the maths documentation at https://typst.app/docs/reference/math/.\n\nAre you having a particular issue? It would help if you share your current code.\n\nI can reproduce your picture below\n```typ\n$\nmax_(d in D) min_(s in S(d)) f(d, s)\n$\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:48:45.916416"
}
{
  "topic_metadata": {
    "id": 3791,
    "title": "How to continue balanced column layout on the last page?",
    "slug": "how-to-continue-balanced-column-layout-on-the-last-page",
    "posts_count": 3,
    "created_at": "2025-04-24T05:21:58.919Z",
    "last_posted_at": "2025-04-25T01:24:15.884Z",
    "views": 87,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "layout-containers"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 362
  },
  "posts": [
    {
      "id": 11546,
      "post_number": 1,
      "username": "AndreKR",
      "name": "",
      "created_at": "2025-04-24T05:21:59.141Z",
      "updated_at": "2025-04-26T20:15:45.034Z",
      "cooked": "<p>I want to fill two columns with blocks (in my case tables with a heading) but I want them to use two columns also on the last page. Here‚Äôs an example:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(\"a4\")\n#columns(2)[\n  #for b in range(17) [\n    #block(breakable: false)[\n      #grid(columns: (1fr, 5em), row-gutter: 0.6em,\n        grid.cell(colspan: 2, [#text(fill: rgb(\"#666\"), ligatures: false, tracking: .12em, \"Header\")]),\n        ..for _ in range(5 + calc.rem(b,3)) {\n          ([Foo],[sdfsdf])\n        }\n      )\n    ]\n  ]\n]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6a417366d5eb3b0f6313e0b9053966b5a8a5d80d.png\" alt=\"image\" data-base62-sha1=\"f9YQ3arFtjdgSOfzjA4c1IYsUeF\" width=\"538\" height=\"373\"></p>\n<p>As you can see the columns are built from contents like this:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e284bc1925f425860e200731d96db521d8fcb616.png\" alt=\"\" data-base62-sha1=\"wjSi3unRbIJpx3gaatFtLwYGito\" role=\"presentation\" width=\"232\" height=\"164\"><br>\nBut I would rather have them built like this:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2427710c21c4fbbc4263141188d7a9154f4d9d22.png\" alt=\"\" data-base62-sha1=\"59PGUE8QDebbjnkjSifDZFIIN9M\" role=\"presentation\" width=\"232\" height=\"163\"></p>",
      "raw": "I want to fill two columns with blocks (in my case tables with a heading) but I want them to use two columns also on the last page. Here's an example:\n\n```typst\n#set page(\"a4\")\n#columns(2)[\n  #for b in range(17) [\n    #block(breakable: false)[\n      #grid(columns: (1fr, 5em), row-gutter: 0.6em,\n        grid.cell(colspan: 2, [#text(fill: rgb(\"#666\"), ligatures: false, tracking: .12em, \"Header\")]),\n        ..for _ in range(5 + calc.rem(b,3)) {\n          ([Foo],[sdfsdf])\n        }\n      )\n    ]\n  ]\n]\n```\n\n![image|538x373](upload://f9YQ3arFtjdgSOfzjA4c1IYsUeF.png)\n\nAs you can see the columns are built from contents like this:\n\n![](upload://wjSi3unRbIJpx3gaatFtLwYGito.png)\nBut I would rather have them built like this:\n\n![](upload://59PGUE8QDebbjnkjSifDZFIIN9M.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 71.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1504
    },
    {
      "id": 11547,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-24T06:26:32.324Z",
      "updated_at": "2025-04-24T06:26:32.324Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/andrekr\">@AndreKR</a>! Since this is the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, it‚Äôs best if your topic title is a question. I can suggest ‚ÄúHow do I balance content in columns?‚Äù</p>\n<p>Your issue here is that the column on the last page is not fully completed, hence your content is not split into two columns.</p>\n<p>Searching for relevant topics, you can read the solution at <a href=\"https://forum.typst.app/t/is-there-a-way-to-automatically-determine-the-page-height-for-balanced-two-column-page/3195\" class=\"inline-onebox-loading\">https://forum.typst.app/t/is-there-a-way-to-automatically-determine-the-page-height-for-balanced-two-column-page/3195</a>, which suggests to use <code>eqcolumns</code>.</p>\n<p>It‚Äôs not working out of the box, but you can simply change the height of the box to compensate for errors, more or less 10%.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\"a4\")\n#let eqcolumns(n, gutter: 4%, content) = {\n  layout(size =&gt; [\n    #let (height,) = measure(\n      block(\n        width: (1/n) * size.width * (1 - float(gutter)*n), \n        content\n      )\n    )\n    #block(\n      height: height / n + 10%,\n      columns(n, gutter: gutter, content)\n    )\n  ])\n}\n#eqcolumns(2)[\n  #for b in range(17) [\n    #block(breakable: false)[\n      #grid(columns: (1fr, 5em), row-gutter: 0.6em,\n        grid.cell(colspan: 2, [#text(fill: rgb(\"#666\"), ligatures: false, tracking: .12em, \"Header\")]),\n        ..for _ in range(5 + calc.rem(b,3)) {\n          ([Foo],[sdfsdf])\n        }\n      )\n    ]\n  ]\n]\n</code></pre>\n<p><img src=\"/uploads/default/original/2X/1/14d2a797933da8e7f74f33bea63d31672b5bdbed.png\" alt=\"image\" data-base62-sha1=\"2YcSfe8LnpEc89ahfp5crXE2Lmd\" width=\"690\" height=\"490\"></p>",
      "raw": "Hello @AndreKR! Since this is the #questions category, it's best if your topic title is a question. I can suggest \"How do I balance content in columns?\"\n\nYour issue here is that the column on the last page is not fully completed, hence your content is not split into two columns.\n\nSearching for relevant topics, you can read the solution at https://forum.typst.app/t/is-there-a-way-to-automatically-determine-the-page-height-for-balanced-two-column-page/3195, which suggests to use `eqcolumns`.\n\nIt's not working out of the box, but you can simply change the height of the box to compensate for errors, more or less 10%.\n\n```typ\n#set page(\"a4\")\n#let eqcolumns(n, gutter: 4%, content) = {\n  layout(size => [\n    #let (height,) = measure(\n      block(\n        width: (1/n) * size.width * (1 - float(gutter)*n), \n        content\n      )\n    )\n    #block(\n      height: height / n + 10%,\n      columns(n, gutter: gutter, content)\n    )\n  ])\n}\n#eqcolumns(2)[\n  #for b in range(17) [\n    #block(breakable: false)[\n      #grid(columns: (1fr, 5em), row-gutter: 0.6em,\n        grid.cell(colspan: 2, [#text(fill: rgb(\"#666\"), ligatures: false, tracking: .12em, \"Header\")]),\n        ..for _ in range(5 + calc.rem(b,3)) {\n          ([Foo],[sdfsdf])\n        }\n      )\n    ]\n  ]\n]\n```\n\n![image|690x490](upload://2YcSfe8LnpEc89ahfp5crXE2Lmd.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 31,
      "score": 56.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11593,
      "post_number": 3,
      "username": "AndreKR",
      "name": "",
      "created_at": "2025-04-25T01:24:15.884Z",
      "updated_at": "2025-04-25T01:24:15.884Z",
      "cooked": "<p>Thanks for the solution.</p>\n<p>I didn‚Äôt know that this is called ‚Äúbalancing columns‚Äù, if I had known that, I probably would have found the existing discussions. That‚Äôs why I also avoided the term when changing the title, I wanted to make this more discoverable for people who don‚Äôt know the term either.</p>",
      "raw": "Thanks for the solution.\n\nI didn't know that this is called \"balancing columns\", if I had known that, I probably would have found the existing discussions. That's why I also avoided the term when changing the title, I wanted to make this more discoverable for people who don't know the term either.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1504
    }
  ],
  "scraped_at": "2025-06-10T09:48:45.205888"
}
{
  "topic_metadata": {
    "id": 3793,
    "title": "How to have a number with blue circle background in text?",
    "slug": "how-to-have-a-number-with-blue-circle-background-in-text",
    "posts_count": 23,
    "created_at": "2025-04-24T12:41:40.193Z",
    "last_posted_at": "2025-04-25T04:16:45.300Z",
    "views": 129,
    "like_count": 6,
    "reply_count": 20,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "vmartel08",
    "tags": [
      "text-formatting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1113
  },
  "posts": [
    {
      "id": 11552,
      "post_number": 1,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T12:41:40.331Z",
      "updated_at": "2025-04-26T20:16:15.465Z",
      "cooked": "<p>I tried this</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let bluenum(num) = {\n    highlight(fill: blue, radius: 9pt, extent: 7pt,)[#num]\n}\n\n#let bnum1 = { bluenum(1) }\n\nThis is very interesting #bnum1\n</code></pre>\n<p>But this isn‚Äôt exactly a circle. <img src=\"https://forum.typst.app/images/emoji/apple/grin.png?v=12\" title=\":grin:\" class=\"emoji\" alt=\":grin:\" loading=\"lazy\" width=\"20\" height=\"20\"> What‚Äôs the best way to have this with a real circle?</p>",
      "raw": "I tried this\n\n```typst\n#let bluenum(num) = {\n    highlight(fill: blue, radius: 9pt, extent: 7pt,)[#num]\n}\n\n#let bnum1 = { bluenum(1) }\n\nThis is very interesting #bnum1\n```\n\nBut this isn't exactly a circle. üòÅ What's the best way to have this with a real circle?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 173.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11553,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-24T13:01:00.425Z",
      "updated_at": "2025-04-24T13:01:00.425Z",
      "cooked": "<p>Hi there, something like this?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">This is more #box(circle(fill: blue, \"1\"))\n</code></pre>",
      "raw": "Hi there, something like this?\n\n```typ \nThis is more #box(circle(fill: blue, \"1\"))\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 18.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11554,
      "post_number": 3,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T13:17:50.028Z",
      "updated_at": "2025-04-24T13:17:50.028Z",
      "cooked": "<p>Thanks a lot. I tried <code>#circle</code> but missed <code>#box</code>.</p>\n<p>So this looks now quite ok</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let cnum(num) = {\n  box(height: 0.9em, circle(fill: blue, [#set align(center + horizon)\n      #num]))\n}\n\n#let cnum1 = { cnum(1) }\n\nThis is very interesting #cnum1\n</code></pre>",
      "raw": "Thanks a lot. I tried `#circle` but missed `#box`.\n\nSo this looks now quite ok\n\n```typst\n#let cnum(num) = {\n  box(height: 0.9em, circle(fill: blue, [#set align(center + horizon)\n      #num]))\n}\n\n#let cnum1 = { cnum(1) }\n\nThis is very interesting #cnum1\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11555,
      "post_number": 4,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T14:07:38.433Z",
      "updated_at": "2025-04-24T14:07:50.758Z",
      "cooked": "<p>Using unicode characters also seem to be a possibility</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let nnum1 = { strong(text(fill:blue, [‚ù∂])) }\n\nThis is very interesting #nnum1\n</code></pre>",
      "raw": "Using unicode characters also seem to be a possibility\n\n```typst\n#let nnum1 = { strong(text(fill:blue, [‚ù∂])) }\n\nThis is very interesting #nnum1\n```",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 23.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11557,
      "post_number": 5,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-04-24T14:26:40.690Z",
      "updated_at": "2025-04-25T06:09:29.464Z",
      "cooked": "<p>I got curious if it was possible to generalize using Unicode characters and turns out it is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let nnum(num) = {\n  if num &lt; 1 or num &gt; 10 { panic(\"Given number must be between 1 and 10 (inclusive)\") }\n  let numId = \"‚ù∂\".to-unicode() + (num - 1)\n  strong(text(fill:blue, str.from-unicode(numId)))\n}\n</code></pre>\n<p><strong>Edit</strong>: <a href=\"https://forum.typst.app/u/vmartel08\">vmartel08</a> pointed out that <a href=\"https://typst.app/docs/reference/model/numbering/\"><code>numbering</code></a> already has the capability to display numbers this way, so this function is unnecessary.</p>",
      "raw": "I got curious if it was possible to generalize using Unicode characters and turns out it is:\n```typ\n#let nnum(num) = {\n  if num < 1 or num > 10 { panic(\"Given number must be between 1 and 10 (inclusive)\") }\n  let numId = \"‚ù∂\".to-unicode() + (num - 1)\n  strong(text(fill:blue, str.from-unicode(numId)))\n}\n```\n\n**Edit**: [vmartel08](https://forum.typst.app/u/vmartel08) pointed out that [`numbering`](https://typst.app/docs/reference/model/numbering/) already has the capability to display numbers this way, so this function is unnecessary.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 11559,
      "post_number": 6,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-24T14:36:50.031Z",
      "updated_at": "2025-04-24T14:36:50.031Z",
      "cooked": "<p>Lots of symbols are actually available for automatic numbering. <a href=\"https://typst.app/docs/reference/model/numbering/#parameters-numbering\" class=\"inline-onebox\">Numbering Function ‚Äì Typst Documentation</a></p>\n<blockquote>\n<p><strong>Counting symbols</strong> are <code>1</code>, <code>a</code>, <code>A</code>, <code>i</code>, <code>I</code>, <code>Œ±</code>, <code>Œë</code>, <code>‰∏Ä</code>, <code>Â£π</code>, <code>„ÅÇ</code>, <code>„ÅÑ</code>, <code>„Ç¢</code>, <code>„Ç§</code>, <code>◊ê</code>, <code>Í∞Ä</code>, <code>„Ñ±</code>, <code>*</code>, <code>Ÿ°</code>, <code>€±</code>, <code>‡•ß</code>, <code>‡ßß</code>, <code>‡¶ï</code>, <code>‚ë†</code>, and <code>‚ìµ</code>. They are replaced by the number in the sequence, preserving the original case.</p>\n</blockquote>",
      "raw": "Lots of symbols are actually available for automatic numbering. https://typst.app/docs/reference/model/numbering/#parameters-numbering\n>**Counting symbols** are `1`, `a`, `A`, `i`, `I`, `Œ±`, `Œë`, `‰∏Ä`, `Â£π`, `„ÅÇ`, `„ÅÑ`, `„Ç¢`, `„Ç§`, `◊ê`, `Í∞Ä`, `„Ñ±`, `*`, `Ÿ°`, `€±`, `‡•ß`, `‡ßß`, `‡¶ï`, `‚ë†`, and `‚ìµ`. They are replaced by the number in the sequence, preserving the original case.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 39,
      "score": 42.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11567,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T17:39:30.304Z",
      "updated_at": "2025-04-24T17:39:30.304Z",
      "cooked": "<p>You don‚Äôt need curly braces in let assignment. <code>text.fill</code> and <code>text.size</code> can be passed without name.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let nnum1 = text(blue)[*‚ù∂*]\n#let nnum1 = strong(text(blue)[‚ù∂])\n\nThis is very interesting #nnum1\n</code></pre>",
      "raw": "You don't need curly braces in let assignment. `text.fill` and `text.size` can be passed without name.\n\n```typ\n#let nnum1 = text(blue)[*‚ù∂*]\n#let nnum1 = strong(text(blue)[‚ù∂])\n\nThis is very interesting #nnum1\n```",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11568,
      "post_number": 8,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T17:44:26.575Z",
      "updated_at": "2025-04-24T17:44:26.575Z",
      "cooked": "<p>Ah, thanks. Didn‚Äôt know. Is this specifically when I call built in functions?</p>",
      "raw": "Ah, thanks. Didn't know. Is this specifically when I call built in functions?",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11570,
      "post_number": 9,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T17:45:25.538Z",
      "updated_at": "2025-04-24T17:45:25.538Z",
      "cooked": "<p>Thanks for this functions.</p>",
      "raw": "Thanks for this functions.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 6.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11571,
      "post_number": 10,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T17:47:36.378Z",
      "updated_at": "2025-04-24T17:49:53.751Z",
      "cooked": "<p><code>numbering</code> is indeed interesting.</p>\n<p>I am thinking if it would be possible to combine numbering with the function <a class=\"mention\" href=\"/u/gezepi\">@gezepi</a> gave.  Then one could invoke that function without a parameter and<br>\n‚Äú‚ù∂‚Äù would get incremented automatically when that function would be called again.</p>",
      "raw": "`numbering` is indeed interesting. \n\nI am thinking if it would be possible to combine numbering with the function @gezepi gave.  Then one could invoke that function without a parameter and\n\"‚ù∂\" would get incremented automatically when that function would be called again.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11572,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T18:04:32.157Z",
      "updated_at": "2025-04-24T18:04:32.157Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ë†\", num)))\n  strong(text(blue, numbering(\"‚ìµ\", num)))\n}\n\n#range(51).map(i =&gt; nnum(i + 1)).map(list.item).join()\n</code></pre>\n<p>Automatic counting:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto)\n\n#let nnum() = {\n  let counter = counter(\"blue-number\")\n  counter.step()\n  context {\n    strong(text(blue, counter.display(\"‚ë†\")))\n    strong(text(blue, counter.display(\"‚ìµ\")))\n  }\n}\n\n#for _ in range(51) [- #nnum()]\n</code></pre>\n<details><summary>output</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/28ba2e47bf683c3617ca3f588e76f0d17ff90a34.png\" data-download-href=\"https://forum.typst.app/uploads/default/28ba2e47bf683c3617ca3f588e76f0d17ff90a34\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/28ba2e47bf683c3617ca3f588e76f0d17ff90a34_2_32x500.png\" alt=\"image\" data-base62-sha1=\"5OhZkSVkwkggjwlAPZeBT3HGpiQ\" width=\"32\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/28ba2e47bf683c3617ca3f588e76f0d17ff90a34_2_32x500.png, https://forum.typst.app/uploads/default/optimized/2X/2/28ba2e47bf683c3617ca3f588e76f0d17ff90a34_2_48x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/2/28ba2e47bf683c3617ca3f588e76f0d17ff90a34_2_64x1000.png 2x\" data-dominant-color=\"18232B\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">65√ó1012 20.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "```typ\n#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ë†\", num)))\n  strong(text(blue, numbering(\"‚ìµ\", num)))\n}\n\n#range(51).map(i => nnum(i + 1)).map(list.item).join()\n```\n\nAutomatic counting:\n\n```typ\n#set page(height: auto)\n\n#let nnum() = {\n  let counter = counter(\"blue-number\")\n  counter.step()\n  context {\n    strong(text(blue, counter.display(\"‚ë†\")))\n    strong(text(blue, counter.display(\"‚ìµ\")))\n  }\n}\n\n#for _ in range(51) [- #nnum()]\n```\n\n<details><summary>output</summary>\n\n![image|32x500](upload://5OhZkSVkwkggjwlAPZeBT3HGpiQ.png)\n\n</details>",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 30,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11573,
      "post_number": 12,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T18:05:29.953Z",
      "updated_at": "2025-04-24T18:05:29.953Z",
      "cooked": "<p>What exactly do you refer to?</p>",
      "raw": "What exactly do you refer to?",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 15.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11574,
      "post_number": 13,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T18:16:36.755Z",
      "updated_at": "2025-04-24T18:17:55.085Z",
      "cooked": "<p>Actually I want to have some text organized like this</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/a9d250f171b94ae179b2b18e03e7512cdee41deb.png\" alt=\"image\" data-base62-sha1=\"oeji9ITEqFhv8qJtjA2SdRev7hF\" width=\"406\" height=\"112\"></p>\n<p>where I can add additional information to 1 and 2. below the given text.</p>\n<p>Here it would perhaps be best if I call a function with a number parameter like for example <code>#cnum(1)</code> and <code>#cnum(2)</code></p>\n<p>But then I got curious (due to <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a> reference to counting) how to be able to do automatical counting.</p>",
      "raw": "Actually I want to have some text organized like this\n\n![image|406x112](upload://oeji9ITEqFhv8qJtjA2SdRev7hF.png)\n\nwhere I can add additional information to 1 and 2. below the given text.\n\nHere it would perhaps be best if I call a function with a number parameter like for example `#cnum(1)` and `#cnum(2)` \n\nBut then I got curious (due to @vmartel08 reference to counting) how to be able to do automatical counting.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 26.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11575,
      "post_number": 14,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T18:34:52.550Z",
      "updated_at": "2025-04-24T18:36:52.977Z",
      "cooked": "<p>Or perhaps in better words: I like to have a verbatim block where I can include such numbers. Later I want to refer to those numbers</p>",
      "raw": "Or perhaps in better words: I like to have a verbatim block where I can include such numbers. Later I want to refer to those numbers",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11576,
      "post_number": 15,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T18:45:15.946Z",
      "updated_at": "2025-04-24T18:45:15.946Z",
      "cooked": "<p>How do you want to refer to them later?</p>\n<p>Maybe you should create a new general question for that.</p>",
      "raw": "How do you want to refer to them later?\n\nMaybe you should create a new general question for that.",
      "reply_to_post_number": 14,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11577,
      "post_number": 16,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T18:57:50.575Z",
      "updated_at": "2025-04-24T18:59:10.856Z",
      "cooked": "<p>When I use <code>#nnum(1)</code> aso (from your first example)  I later can refer to them again with <code>#nnum(1)</code> aso.</p>\n<p>Somehow like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#text(font: \"FiraCode Nerd Font\")[\nNAME    TYPE       SIZE USED PRIO\\\n/dev/zram0#nnum(1) partition 30,6G 4,2G  100#nnum(2)\n]\n\n/ #nnum(1): name of the swap device\n/ #nnum(2): swap priority\n</code></pre>",
      "raw": "When I use `#nnum(1)` aso (from your first example)  I later can refer to them again with `#nnum(1)` aso.\n\nSomehow like this:\n\n```typst\n#text(font: \"FiraCode Nerd Font\")[\nNAME    TYPE       SIZE USED PRIO\\\n/dev/zram0#nnum(1) partition 30,6G 4,2G  100#nnum(2)\n]\n\n/ #nnum(1): name of the swap device\n/ #nnum(2): swap priority\n```",
      "reply_to_post_number": 15,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11578,
      "post_number": 17,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T18:59:37.861Z",
      "updated_at": "2025-04-24T19:22:40.173Z",
      "cooked": "<p>What if you have 2 code blocks with blue circles?</p>\n<details><summary>Codly highlights + auto counter solution</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n\n#set page(height: auto)\n\n#let ncounter = counter(\"blue-number\")\n#let nnum() = {\n  ncounter.step()\n  context strong(text(blue, ncounter.display(\"‚ë†\")))\n}\n#show raw.where(block: true): it =&gt; it + ncounter.update(0)\n\n#codly(\n  highlight-fill: _ =&gt; none,\n  highlight-stroke: _ =&gt; none,\n  highlights: (\n    (line: 2, tag: nnum(), label: &lt;a&gt;),\n    (line: 4, tag: nnum(), label: &lt;b&gt;),\n  ),\n)\n\n#figure(```\nciea\nastehasi\n\nstehasi\nieasti\n```) &lt;code&gt;\n\n@code:2 &amp; @code:4\n\nor\n\n@a &amp; @b\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/ce14cf932e0a02f1111badd7398ef639d720177e.png\" data-download-href=\"https://forum.typst.app/uploads/default/ce14cf932e0a02f1111badd7398ef639d720177e\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/ce14cf932e0a02f1111badd7398ef639d720177e_2_690x239.png\" alt=\"image\" data-base62-sha1=\"tp4WE9K3fczjl3h9Rngju3jUPaS\" width=\"690\" height=\"239\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/ce14cf932e0a02f1111badd7398ef639d720177e_2_690x239.png, https://forum.typst.app/uploads/default/original/2X/c/ce14cf932e0a02f1111badd7398ef639d720177e.png 1.5x, https://forum.typst.app/uploads/default/original/2X/c/ce14cf932e0a02f1111badd7398ef639d720177e.png 2x\" data-dominant-color=\"161716\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">764√ó265 14.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<details><summary>For multiple numbers per line with latest version</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#codly(\n  highlight-fill: _ =&gt; none,\n  highlight-stroke: _ =&gt; none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n  highlights: (\n    (line: 2, start: 4, end: 4, tag: nnum(), label: &lt;a&gt;),\n    (line: 2, start: 8, tag: nnum(), label: &lt;b&gt;),\n  ),\n)\n\n#figure(```\ncode\nthis that\n```) &lt;code&gt;\n\n@a, @b\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0.png\" data-download-href=\"https://forum.typst.app/uploads/default/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0_2_690x129.png\" alt=\"image\" data-base62-sha1=\"8mc1ceOSb0Lc4SRCk8fPVzQeYI8\" width=\"690\" height=\"129\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0_2_690x129.png, https://forum.typst.app/uploads/default/original/2X/3/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/3a93a4e3c8f844dd9b3f9a9382a7b50be94dd7d0.png 2x\" data-dominant-color=\"131413\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">780√ó146 7.07 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "What if you have 2 code blocks with blue circles?\n\n<details><summary>Codly highlights + auto counter solution</summary>\n\n````typ\n#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n\n#set page(height: auto)\n\n#let ncounter = counter(\"blue-number\")\n#let nnum() = {\n  ncounter.step()\n  context strong(text(blue, ncounter.display(\"‚ë†\")))\n}\n#show raw.where(block: true): it => it + ncounter.update(0)\n\n#codly(\n  highlight-fill: _ => none,\n  highlight-stroke: _ => none,\n  highlights: (\n    (line: 2, tag: nnum(), label: <a>),\n    (line: 4, tag: nnum(), label: <b>),\n  ),\n)\n\n#figure(```\nciea\nastehasi\n\nstehasi\nieasti\n```) <code>\n\n@code:2 & @code:4\n\nor\n\n@a & @b\n````\n\n![image|690x239](upload://tp4WE9K3fczjl3h9Rngju3jUPaS.png)\n\n</details>\n\n<details><summary>For multiple numbers per line with latest version</summary>\n\n````typ\n#codly(\n  highlight-fill: _ => none,\n  highlight-stroke: _ => none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n  highlights: (\n    (line: 2, start: 4, end: 4, tag: nnum(), label: <a>),\n    (line: 2, start: 8, tag: nnum(), label: <b>),\n  ),\n)\n\n#figure(```\ncode\nthis that\n```) <code>\n\n@a, @b\n````\n\n![image|690x129](upload://8mc1ceOSb0Lc4SRCk8fPVzQeYI8.png)\n\n</details>",
      "reply_to_post_number": 16,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11579,
      "post_number": 18,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T19:18:06.373Z",
      "updated_at": "2025-04-24T19:20:25.536Z",
      "cooked": "<p><code>codly</code> is interesting. Thanks.</p>\n<p>When having more than one code block one could use</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ìµ\", num)))\n}\n</code></pre>\n<p>which you gave previously.</p>",
      "raw": "`codly` is interesting. Thanks.\n\nWhen having more than one code block one could use \n\n```typst\n#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ìµ\", num)))\n}\n```\nwhich you gave previously.",
      "reply_to_post_number": 17,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11581,
      "post_number": 19,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T19:25:25.511Z",
      "updated_at": "2025-04-24T19:25:25.511Z",
      "cooked": "<p>So you expect <code>nnum(1)</code> to refer to different code block (lines) depending on location of the reference (with respect to code blocks)?</p>",
      "raw": "So you expect `nnum(1)` to refer to different code block (lines) depending on location of the reference (with respect to code blocks)?",
      "reply_to_post_number": 18,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11582,
      "post_number": 20,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T19:27:01.966Z",
      "updated_at": "2025-04-24T19:27:01.966Z",
      "cooked": "<p>Yes, as I reference to <code>nnum(...)</code> directly after the code block.</p>",
      "raw": "Yes, as I reference to `nnum(...)` directly after the code block.",
      "reply_to_post_number": 19,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11584,
      "post_number": 21,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-24T20:02:14.733Z",
      "updated_at": "2025-04-24T20:02:14.733Z",
      "cooked": "<p>Something like this would be fine for me</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ë†\", num)))\n}\n\n#codly(\n  highlight-fill: _ =&gt; none,\n  highlight-stroke: _ =&gt; none,\n    number-format: none,\n  highlights: (\n    (line: 1, tag: nnum(1)),\n    (line: 3, tag: nnum(2)),\n  ),\n)\n\n\n#figure(```\n something\n   more\n what is that?\n```)\n\n/ #nnum(1): something can be important\n/ #nnum(2): this is a question\n</code></pre>",
      "raw": "Something like this would be fine for me\n\n```typst\n#let nnum(num) = {\n  strong(text(blue, numbering(\"‚ë†\", num)))\n}\n\n#codly(\n  highlight-fill: _ => none,\n  highlight-stroke: _ => none,\n    number-format: none,\n  highlights: (\n    (line: 1, tag: nnum(1)),\n    (line: 3, tag: nnum(2)),\n  ),\n)\n\n\n#figure(```\n something\n   more\n what is that?\n```)\n\n/ #nnum(1): something can be important\n/ #nnum(2): this is a question\n```",
      "reply_to_post_number": 20,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11586,
      "post_number": 22,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T20:18:31.998Z",
      "updated_at": "2025-04-24T20:18:31.998Z",
      "cooked": "<p>So when you say ‚Äúreference‚Äù you just mean display the same number without creating a link like <code>ref</code> function does?</p>\n<p>Anyway, here is the proper reference solution:</p>\n<details><summary>Solution</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n#codly(\n  highlight-fill: _ =&gt; none,\n  highlight-stroke: _ =&gt; none,\n  number-format: none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n)\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n\n#add-markers((line: 2, start: 4, end: 4, nnum: 1), (line: 2, start: 8, nnum: 2))\n#unique-code-block(```\ncode\nthis that\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n\n#add-markers((line: 1, nnum: 1), (line: 2, nnum: 2), (line: 3, nnum: 3))\n#unique-code-block(```\ncode\nwiedahie\ndorfkie\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n/ #nnum(3): third\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0.png\" data-download-href=\"https://forum.typst.app/uploads/default/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0_2_690x271.png\" alt=\"image\" data-base62-sha1=\"sfxhDRD4hDX2cCP1CUjZ6qAlFII\" width=\"690\" height=\"271\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0_2_690x271.png, https://forum.typst.app/uploads/default/original/2X/c/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0.png 1.5x, https://forum.typst.app/uploads/default/original/2X/c/c5fe7b1e77a44b78c380c6a5bf94723393eecdd0.png 2x\" data-dominant-color=\"151615\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">787√ó310 15.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "So when you say \"reference\" you just mean display the same number without creating a link like `ref` function does?\n\nAnyway, here is the proper reference solution:\n\n<details><summary>Solution</summary>\n\n```typ\n#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n#codly(\n  highlight-fill: _ => none,\n  highlight-stroke: _ => none,\n  number-format: none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n)\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n\n#add-markers((line: 2, start: 4, end: 4, nnum: 1), (line: 2, start: 8, nnum: 2))\n#unique-code-block(```\ncode\nthis that\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n\n#add-markers((line: 1, nnum: 1), (line: 2, nnum: 2), (line: 3, nnum: 3))\n#unique-code-block(```\ncode\nwiedahie\ndorfkie\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n/ #nnum(3): third\n```\n\n![image|690x271](upload://sfxhDRD4hDX2cCP1CUjZ6qAlFII.png)\n\n</details>",
      "reply_to_post_number": 21,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11594,
      "post_number": 23,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-25T04:16:45.300Z",
      "updated_at": "2025-04-25T04:16:45.300Z",
      "cooked": "<p>Yes, this is exactly what I want. Thanks a lot.</p>",
      "raw": "Yes, this is exactly what I want. Thanks a lot.",
      "reply_to_post_number": 22,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 4.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    }
  ],
  "scraped_at": "2025-06-10T09:48:44.487931"
}
{
  "topic_metadata": {
    "id": 3799,
    "title": "How to compile locally with imports?",
    "slug": "how-to-compile-locally-with-imports",
    "posts_count": 5,
    "created_at": "2025-04-24T19:38:38.873Z",
    "last_posted_at": "2025-04-24T22:42:05.289Z",
    "views": 195,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [
      "packages",
      "tooling"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 266
  },
  "posts": [
    {
      "id": 11583,
      "post_number": 1,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T19:38:38.991Z",
      "updated_at": "2025-04-26T20:14:41.107Z",
      "cooked": "<p>I am using Typst again, have not for a while. Importing packages used to work.</p>\n<p>I have Typst 0.13.1 installed.<br>\nCompiling works with <code>tinymist compile main.typ</code>, but not with <code>typst compile main.typ</code>. I also tried to set the root directory to the home directory, but that did not work.<br>\nThe tinymist version I use also has Typst version 0.13.1.<br>\nThe error message is</p>\n<pre><code class=\"lang-auto\">typst compile main.typ\nerror: failed to load file (access denied)\n  ‚îå‚îÄ main.typ:1:8\n  ‚îÇ\n1 ‚îÇ #import \"@preview/touying:0.6.1\": *\n  ‚îÇ         ^^^^^^^^^^^^^^^^^^^^^^^^\n  ‚îÇ\n  = hint: cannot read file outside of project root\n  = hint: you can adjust the project root with the --root argument\n</code></pre>\n<p>I have verified that the package is correctly downloaded to<br>\n<code>/home/asmund/.cache/typst/packages/preview/touying/0.6.1</code>.<br>\nI am on Ubuntu 24.04.2 LTS if that is relevant.</p>",
      "raw": "I am using Typst again, have not for a while. Importing packages used to work.\n\nI have Typst 0.13.1 installed.\nCompiling works with `tinymist compile main.typ`, but not with `typst compile main.typ`. I also tried to set the root directory to the home directory, but that did not work.\nThe tinymist version I use also has Typst version 0.13.1.\nThe error message is\n```\ntypst compile main.typ\nerror: failed to load file (access denied)\n  ‚îå‚îÄ main.typ:1:8\n  ‚îÇ\n1 ‚îÇ #import \"@preview/touying:0.6.1\": *\n  ‚îÇ         ^^^^^^^^^^^^^^^^^^^^^^^^\n  ‚îÇ\n  = hint: cannot read file outside of project root\n  = hint: you can adjust the project root with the --root argument\n```\n\nI have verified that the package is correctly downloaded to\n `/home/asmund/.cache/typst/packages/preview/touying/0.6.1`.\nI am on Ubuntu 24.04.2 LTS if that is relevant.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 588.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    },
    {
      "id": 11588,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T20:22:27.231Z",
      "updated_at": "2025-04-24T20:22:27.231Z",
      "cooked": "<p>Hello. What is the code that does not compile? How many Typst files in the project?</p>",
      "raw": "Hello. What is the code that does not compile? How many Typst files in the project?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11589,
      "post_number": 3,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T21:51:40.117Z",
      "updated_at": "2025-04-24T21:51:40.117Z",
      "cooked": "<p>Just the one file. It fails on line one.<br>\nMaking a new file with only the one following line:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/touying:0.6.1\"\n</code></pre>\n<p>Fails with the same error message.</p>\n<p>Importing some other package does not work either, for example</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/js:0.1.3\"\n</code></pre>\n<p>also fails the same way.</p>",
      "raw": "Just the one file. It fails on line one.\nMaking a new file with only the one following line:\n```typst\n#import \"@preview/touying:0.6.1\"\n```\nFails with the same error message.\n\nImporting some other package does not work either, for example\n```typst\n#import \"@preview/js:0.1.3\"\n```\n\nalso fails the same way.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    },
    {
      "id": 11590,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-24T22:20:42.993Z",
      "updated_at": "2025-04-24T22:20:42.993Z",
      "cooked": "<p>Did you by any chance install Typst via snap? The Typst snap package currently can‚Äôt access the directories where local or cached packages are stored, so that might be the issue.</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst-snap/issues/2\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst-snap/issues/2\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst-snap</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst-snap/issues/2\" target=\"_blank\" rel=\"noopener nofollow ugc\">Typst Snap package can't access local packages</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-08-17\" data-time=\"14:18:50\" data-timezone=\"UTC\">02:18PM - 17 Aug 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Unaimend\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Unaimend\" src=\"https://forum.typst.app/uploads/default/original/2X/6/64f283c2c25befffc87a0bf1befd79f1faa3636c.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"E7E9C8\">\n          Unaimend\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nI tried installing the package [2] on my system via cloning the<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\"> repo into the following path\n`~/.local/share/typst/packages/local/petri/0.1.0` by following the approach described in [3]\nThe typst compiler nonetheless gives the following error \n\n```\nerror: package not found (searched for @local/petri:0.1.0)\n  ‚îå‚îÄ ProjectPlan.typ:5:8\n  ‚îÇ\n5 ‚îÇ #import \"@local/petri:0.1.0\": *\n  ‚îÇ         ^^^^^^^^^^^^^^^^^^^^\n\n```\nSystem information can be found in the following screenshot\n![image](https://github.com/user-attachments/assets/e0ac374e-3a41-4a77-b480-cf1e006387f5)\n\nSome more things were tried below the following question on the discord but nothing worked\nhttps://discord.com/channels/1054443721975922748/1088371919725793360/1274364908187942924\n\nThank you very much for typst and your help \n\n\n[2] https://github.com/augustebaum/petri\n[3]  https://github.com/typst/packages</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Did you by any chance install Typst via snap? The Typst snap package currently can't access the directories where local or cached packages are stored, so that might be the issue.\n\nhttps://github.com/typst/typst-snap/issues/2",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 34,
      "score": 66.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11591,
      "post_number": 5,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T22:42:05.289Z",
      "updated_at": "2025-04-24T22:42:05.289Z",
      "cooked": "<p>Thanks, I did install via snap.<br>\nI will try installing from another source tomorrow.</p>",
      "raw": "Thanks, I did install via snap.\nI will try installing from another source tomorrow.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    }
  ],
  "scraped_at": "2025-06-10T09:48:43.172939"
}
{
  "topic_metadata": {
    "id": 3800,
    "title": "How to create an adaptive vertical line that dynamically spans the height of its containing box/block",
    "slug": "how-to-create-an-adaptive-vertical-line-that-dynamically-spans-the-height-of-its-containing-box-block",
    "posts_count": 13,
    "created_at": "2025-04-25T01:06:15.810Z",
    "last_posted_at": "2025-04-27T11:12:08.135Z",
    "views": 188,
    "like_count": 15,
    "reply_count": 9,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 7,
    "accepted_answer_username": "bluss",
    "tags": [
      "layout",
      "context",
      "layout-containers"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 1901
  },
  "posts": [
    {
      "id": 11592,
      "post_number": 1,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-25T01:06:15.932Z",
      "updated_at": "2025-04-25T17:36:32.351Z",
      "cooked": "<p>Hello everyone!</p>\n<p>I am trying to create a vertical line that serves as a running rule along the content of a box/block. I am using <code>place()</code> to attach it to the box, but I can‚Äôt get the automatic height adjusting for the line.</p>\n<p>My first attempt was</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: 8cm, width: 8cm, margin: 1em)\n\n#box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #place(\n        horizon + left,\n        dx: -0.4em,\n        // failed vertical line\n        line(\n          angle: 90deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach, same result\n          // end:(0%,100%)\n          )\n        )\n      #lorem(15)\n      ]\n</code></pre>\n<p>Which has output (1) in the photo:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/85d5ce0427fba4b20b1961150b37acf0fb7f33ff.png\" data-download-href=\"https://forum.typst.app/uploads/default/85d5ce0427fba4b20b1961150b37acf0fb7f33ff\" title=\"New Project\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/85d5ce0427fba4b20b1961150b37acf0fb7f33ff_2_517x255.png\" alt=\"New Project\" data-base62-sha1=\"j5XzQlZ2wXJnZn8wHlVT6G75U0n\" width=\"517\" height=\"255\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/85d5ce0427fba4b20b1961150b37acf0fb7f33ff_2_517x255.png, https://forum.typst.app/uploads/default/optimized/2X/8/85d5ce0427fba4b20b1961150b37acf0fb7f33ff_2_775x382.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/8/85d5ce0427fba4b20b1961150b37acf0fb7f33ff_2_1034x510.png 2x\" data-dominant-color=\"D4D5DA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">New Project</span><span class=\"informations\">1280√ó631 251 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I thought it was easily achievable via relative lengths for example (like <code>1fr</code> or <code>100%</code>), thinking that these lengths adapt as the content is within a container and not simply in the page.</p>\n<p>Which they partially do, only adapting to horizontal width of a container, but not vertical. As I tested the dynamic horizontal length by placing another horizontal line as evident from (2) in the picture above.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// added the following to the content of the box\n// to test horizontal dynamic length\n#place(\n        bottom + center,\n        dy: 0.4em,\n        // successful horizontal line\n        line(\n          angle: 0deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach\n          // end:(100%,0%)\n          )\n        )\n</code></pre>\n<hr>\n<p>My next attempt was  to attempt utilizing either <code>measure()</code> or <code>layout()</code> but I can‚Äôt seem to get what I am doing wrong, maybe implementing <code>context</code> related ideas is a bit tricky for me.</p>\n<p>My last attempt was to try the create everything in a context block and make a measuring function that I can access from withing the box/block but ended up failing.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let mes(body) = context{\n  let bsize = measure(body)\n  [#bsize #body]\n}\n</code></pre>\n<p>trying to access the value of <code>bsize.height</code> from within the box as it is wrapped in <code>mes()</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#mes[\n  #box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #place(\n        horizon + left,\n        dx: -0.4em,\n        // failed vertical line\n        line(\n          angle: 90deg,\n          length: 100%, // cannot use `#bsize.height`\n          // start:(0%,0%), // similar approach\n          // end:(0%,100%)\n          )\n        )\n      #place(\n        bottom + center,\n        dy: 0.4em,\n        // successful horizontal line\n        line(\n          angle: 0deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach\n          // end:(100%,0%)\n          )\n        )\n      #lorem(15)\n      ]\n]\n</code></pre>\n<p>Which gave:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/7bde040876051951e923c669e1da04bd1f75d591.png\" data-download-href=\"https://forum.typst.app/uploads/default/7bde040876051951e923c669e1da04bd1f75d591\" title=\"vh+mes\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/7bde040876051951e923c669e1da04bd1f75d591_2_374x375.png\" alt=\"vh+mes\" data-base62-sha1=\"hFMow0LwKe8ZAL6WuxKNu8ie4QV\" width=\"374\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/7bde040876051951e923c669e1da04bd1f75d591_2_374x375.png, https://forum.typst.app/uploads/default/optimized/2X/7/7bde040876051951e923c669e1da04bd1f75d591_2_561x562.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/7bde040876051951e923c669e1da04bd1f75d591.png 2x\" data-dominant-color=\"D2D4D9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">vh+mes</span><span class=\"informations\">632√ó633 213 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I would like a way to make the vertical line adapt to the size of the container.</p>\n<p>I apologize in advance if I am missing something obvious.</p>",
      "raw": "Hello everyone!\n\nI am trying to create a vertical line that serves as a running rule along the content of a box/block. I am using `place()` to attach it to the box, but I can't get the automatic height adjusting for the line.\n\nMy first attempt was\n```typ\n#set page(height: 8cm, width: 8cm, margin: 1em)\n\n#box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #place(\n        horizon + left,\n        dx: -0.4em,\n        // failed vertical line\n        line(\n          angle: 90deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach, same result\n          // end:(0%,100%)\n          )\n        )\n      #lorem(15)\n      ]\n```\nWhich has output (1) in the photo:\n\n![New Project|690x340, 75%](upload://j5XzQlZ2wXJnZn8wHlVT6G75U0n.png)\n\n\nI thought it was easily achievable via relative lengths for example (like `1fr` or `100%`), thinking that these lengths adapt as the content is within a container and not simply in the page.\n\nWhich they partially do, only adapting to horizontal width of a container, but not vertical. As I tested the dynamic horizontal length by placing another horizontal line as evident from (2) in the picture above.\n\n```typ\n// added the following to the content of the box\n// to test horizontal dynamic length\n#place(\n        bottom + center,\n        dy: 0.4em,\n        // successful horizontal line\n        line(\n          angle: 0deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach\n          // end:(100%,0%)\n          )\n        )\n``` \n\n---\nMy next attempt was  to attempt utilizing either `measure()` or `layout()` but I can't seem to get what I am doing wrong, maybe implementing `context` related ideas is a bit tricky for me.\n\nMy last attempt was to try the create everything in a context block and make a measuring function that I can access from withing the box/block but ended up failing.\n\n```typ\n#let mes(body) = context{\n  let bsize = measure(body)\n  [#bsize #body]\n}\n```\ntrying to access the value of `bsize.height` from within the box as it is wrapped in `mes()`\n\n```typ\n#mes[\n  #box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #place(\n        horizon + left,\n        dx: -0.4em,\n        // failed vertical line\n        line(\n          angle: 90deg,\n          length: 100%, // cannot use `#bsize.height`\n          // start:(0%,0%), // similar approach\n          // end:(0%,100%)\n          )\n        )\n      #place(\n        bottom + center,\n        dy: 0.4em,\n        // successful horizontal line\n        line(\n          angle: 0deg,\n          length: 100%,\n          // start:(0%,0%), // similar approach\n          // end:(100%,0%)\n          )\n        )\n      #lorem(15)\n      ]\n]\n```\nWhich gave:\n\n![vh+mes|499x500, 75%](upload://hFMow0LwKe8ZAL6WuxKNu8ie4QV.png)\n\n\nI would like a way to make the vertical line adapt to the size of the container.\n\nI apologize in advance if I am missing something obvious.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 263.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11598,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-04-25T05:54:11.205Z",
      "updated_at": "2025-04-25T05:54:11.205Z",
      "cooked": "<p>Should the line extend to the edges of the blue box?  If it‚Äôs ok to only follow the content itself, this is an option:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let distanceToLine = 0.2em\n\n#box(\n  width: 4cm,\n  inset: (left: 1.4em - distanceToLine, bottom: 1.4em, rest: 1em),\n  radius: 0.4em,\n  fill: blue.lighten(85%),\n\n  box(\n    inset: (left: distanceToLine, rest: 0pt),\n    stroke: (left: 1pt),\n    lorem(15)\n  )\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/ff97cb5202861a682e9ec6283e24fa6c0600557e.png\" alt=\"image\" data-base62-sha1=\"At4YiBl30KoAK8BKL4B1ar62n94\" width=\"203\" height=\"219\"></p>",
      "raw": "Should the line extend to the edges of the blue box?  If it's ok to only follow the content itself, this is an option:\n\n```typ\n#let distanceToLine = 0.2em\n\n#box(\n  width: 4cm,\n  inset: (left: 1.4em - distanceToLine, bottom: 1.4em, rest: 1em),\n  radius: 0.4em,\n  fill: blue.lighten(85%),\n\n  box(\n    inset: (left: distanceToLine, rest: 0pt),\n    stroke: (left: 1pt),\n    lorem(15)\n  )\n)\n```\n![image|203x219](upload://At4YiBl30KoAK8BKL4B1ar62n94.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 32.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 11603,
      "post_number": 3,
      "username": "wisperwind",
      "name": "",
      "created_at": "2025-04-25T09:57:44.735Z",
      "updated_at": "2025-04-25T09:57:44.735Z",
      "cooked": "<p>I just played around with this a bit, and it seems that your original example does work when you explicitly specify the <code>height</code> of the box.</p>\n<p>So maybe this is actually a bug where typst does not correctly resolve the box height and falls back to the height of the outer container (the page in this case)?</p>",
      "raw": "I just played around with this a bit, and it seems that your original example does work when you explicitly specify the `height` of the box.\n\nSo maybe this is actually a bug where typst does not correctly resolve the box height and falls back to the height of the outer container (the page in this case)?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 35,
      "score": 42.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 750
    },
    {
      "id": 11613,
      "post_number": 4,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-25T17:35:05.340Z",
      "updated_at": "2025-04-25T17:35:05.340Z",
      "cooked": "<p>Thanks for your input, it is effective and less cluttery, and avoids the current possible blind spot of Typst‚Äôs automatic height resizing.</p>\n<p>but as I played around with the proposed solution‚Ä¶</p>\n<ul>\n<li>I found that adjusting the spacing/padding between the line and and the text is tricky.  I figured out how to change it in hacky way, by changing the <code>outset: (left: length)</code> of the most inner box, which works, but feels inconvenient modifying the in(out)sets of nested boxes.</li>\n<li>I was looking for an extendable solution to tackle sizing the height of lines (as in <code>#line()</code>), or potentially any similar object I can attach to a container, as actual lines or shapes can be combined and be more customizable.<br>\nFor example I was actually working towards something like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/b/bab8d6bef811fd412e030bcca14125ac361f59ac.png\" alt=\"pic\" data-base62-sha1=\"qDOP8YFnAVC6SgMlzcGpsLajLyc\" width=\"443\" height=\"214\"><br>\n(achieved similar results using LaTeX, using concepts like <code>frame.northwest</code> for top left coordinate)</li>\n</ul>\n<p>best I could achieve in Typst so far was:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/f/fbba9112dceba6f6589f7b35837e5acdabb6d8dd.png\" alt=\"Typst_best\" data-base62-sha1=\"zUTyRNcXrqw3xUHURgvFyUrWNdj\" width=\"204\" height=\"193\"></p>\n<p>using the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set  page(width: 10cm, height: 10cm)\n#set text(size:13pt)\n\n#let distanceToLine = 0.2em\n#box(\n  width: 4cm,\n  inset: (left: 1.4em - distanceToLine, bottom: 1.4em, rest: 1em),\n  radius: 0.4em,\n  fill: blue.lighten(85%),\n\n  box(\n    inset: (left: distanceToLine, rest: 0pt),\n    outset: (left:0.5em),  // to nudge the line \n    stroke: (left: (\n            thickness: 0.3em,\n            paint: blue,\n            cap: \"round\",  // not applying? \n            )\n            ),\n    lorem(10)\n  )\n)\n\n</code></pre>\n<p>I am trying to learn the software, and such cases push me to try understand how to implement a solution using the native tools.</p>\n<p>It is weird that auto-adjust v-length doesn‚Äôt work consistently as auto-adjusting h-length inside containers. But if it boils down to a hack or a package (maybe there is a packages that tackles this technicality?) that‚Äôs still a win.</p>",
      "raw": "Thanks for your input, it is effective and less cluttery, and avoids the current possible blind spot of Typst's automatic height resizing.\n\nbut as I played around with the proposed solution...\n\n- I found that adjusting the spacing/padding between the line and and the text is tricky.  I figured out how to change it in hacky way, by changing the `outset: (left: length)` of the most inner box, which works, but feels inconvenient modifying the in(out)sets of nested boxes.\n- I was looking for an extendable solution to tackle sizing the height of lines (as in `#line()`), or potentially any similar object I can attach to a container, as actual lines or shapes can be combined and be more customizable.\nFor example I was actually working towards something like this:\n![pic|591x286, 75%](upload://qDOP8YFnAVC6SgMlzcGpsLajLyc.png)\n(achieved similar results using LaTeX, using concepts like `frame.northwest` for top left coordinate)\n\nbest I could achieve in Typst so far was:\n![Typst_best|272x258, 75%](upload://zUTyRNcXrqw3xUHURgvFyUrWNdj.png)\n\n\nusing the following code:\n```typ\n#set  page(width: 10cm, height: 10cm)\n#set text(size:13pt)\n\n#let distanceToLine = 0.2em\n#box(\n  width: 4cm,\n  inset: (left: 1.4em - distanceToLine, bottom: 1.4em, rest: 1em),\n  radius: 0.4em,\n  fill: blue.lighten(85%),\n\n  box(\n    inset: (left: distanceToLine, rest: 0pt),\n    outset: (left:0.5em),  // to nudge the line \n    stroke: (left: (\n            thickness: 0.3em,\n            paint: blue,\n            cap: \"round\",  // not applying? \n            )\n            ),\n    lorem(10)\n  )\n)\n\n``` \n\nI am trying to learn the software, and such cases push me to try understand how to implement a solution using the native tools.\n\nIt is weird that auto-adjust v-length doesn't work consistently as auto-adjusting h-length inside containers. But if it boils down to a hack or a package (maybe there is a packages that tackles this technicality?) that's still a win.",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 36.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11614,
      "post_number": 5,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-25T17:53:00.537Z",
      "updated_at": "2025-04-25T17:53:00.537Z",
      "cooked": "<p>Oh good find!, I confirmed it,</p>\n<p>and it seems like the height (unless specified) is treated like an open-ended quantity; as you can always add/remove more text, hence changing the height constantly, unlike the width which is either page‚Äôs width or specified explicitly.</p>\n<p>whether this is intentional or not, we‚Äôd love to have a way to choose one behavior over the other.</p>\n<p>One way this can be bypassed, is to add an option to functions like <code>#line()</code> to explicitly calculate the height of its container rather than falling back to the page‚Äôs height.</p>\n<p>Or introduce more location tools like a way to query for <code>frame.topleft</code>.</p>",
      "raw": "Oh good find!, I confirmed it,\n\nand it seems like the height (unless specified) is treated like an open-ended quantity; as you can always add/remove more text, hence changing the height constantly, unlike the width which is either page's width or specified explicitly.\n\nwhether this is intentional or not, we'd love to have a way to choose one behavior over the other.\n\nOne way this can be bypassed, is to add an option to functions like `#line()` to explicitly calculate the height of its container rather than falling back to the page's height.\n\nOr introduce more location tools like a way to query for `frame.topleft`.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 6.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11622,
      "post_number": 6,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-26T14:31:23.929Z",
      "updated_at": "2025-04-26T14:31:23.929Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"MJ.0\" data-post=\"4\" data-topic=\"3800\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mj.0/48/2506_2.png\" class=\"avatar\"> MJ.0:</div>\n<blockquote>\n<p>It is weird that auto-adjust v-length doesn‚Äôt work consistently as auto-adjusting h-length inside containers.</p>\n</blockquote>\n</aside>\n<p>There is no difference between height and width I don‚Äôt think. Your original box - in the first post has a fixed width of 4cm, and that‚Äôs why the sizing was ok for the horizontal line and not the vertical line. In the same circumstances (no fixed width/height) horizontal and vertical lines of 100% length behave the same way, which is, filling to page size minus margins.</p>",
      "raw": "[quote=\"MJ.0, post:4, topic:3800\"]\nIt is weird that auto-adjust v-length doesn‚Äôt work consistently as auto-adjusting h-length inside containers.\n[/quote]\n\nThere is no difference between height and width I don't think. Your original box - in the first post has a fixed width of 4cm, and that's why the sizing was ok for the horizontal line and not the vertical line. In the same circumstances (no fixed width/height) horizontal and vertical lines of 100% length behave the same way, which is, filling to page size minus margins.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11623,
      "post_number": 7,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-26T14:42:15.730Z",
      "updated_at": "2025-04-26T14:50:49.557Z",
      "cooked": "<p>Here‚Äôs a demo of <code>layout</code> + <code>measure</code> which can sometimes be used to measure size of a part of the document and adapt size of things - like the length of the line. I think it works well in this case. In this case though I would prefer to use block border because it‚Äôs a simpler solution. But there are other examples where one has to use layout/measure.</p>\n<p>This takes the code from the first post and adapts it to use layout/measure</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: 8cm, width: 8cm, margin: 1em)\n\n/// Call with content to be laid out and a function that will draw the line and the content\n/// the function receives a (width, height) dictionary from layout as its only argument\n#let size-my-line(content, line-func) = {\n  layout(layout-size =&gt; {\n    let laid-out-size = measure(content, ..layout-size)\n    line-func(laid-out-size)\n  })\n}\n\n#box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #let the-text = lorem(15)\n      #size-my-line(the-text, size =&gt; {\n        place(\n          horizon + left,\n          dx: -0.4em,\n          line(\n            angle: 90deg,\n            length: size.height,\n            )\n          )\n        the-text\n        // alternate way (with slightly different spacing by default)\n        /*stack(dir: ltr, spacing: 0.4em)[\n          #line(angle: 90deg, length: size.height)\n        ][#the-text]*/\n      })\n    ]\n\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/366743930505087fe3f6059db0cf7c8a15938f49.png\" alt=\"bild\" data-base62-sha1=\"7Lh1zIVWtTrRHxxx90eWfyHHqFr\" width=\"207\" height=\"218\"></p>\n<p>And yes - this solution is still not something that measures the box itself. It just measures the text we want to layout inside the current layout context - remember that‚Äôs a box with fixed width 4cm. The layout computation produces a real height as a product of the context with fixed width. Then we size the line according to the text.</p>\n<p>Typst app hover picture: this is the input to the layout, the space <em>available</em>. Note how all the page height minus margin is available more or less.</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/138cc717229becf9d89a7c27e248b868d11853ec.png\" alt=\"bild\" data-base62-sha1=\"2MWGzUO9JlVMXvEonz9cXKEICG8\" width=\"515\" height=\"195\"></p>",
      "raw": "Here's a demo of `layout` + `measure` which can sometimes be used to measure size of a part of the document and adapt size of things - like the length of the line. I think it works well in this case. In this case though I would prefer to use block border because it's a simpler solution. But there are other examples where one has to use layout/measure.\n\nThis takes the code from the first post and adapts it to use layout/measure\n\n```typst\n#set page(height: 8cm, width: 8cm, margin: 1em)\n\n/// Call with content to be laid out and a function that will draw the line and the content\n/// the function receives a (width, height) dictionary from layout as its only argument\n#let size-my-line(content, line-func) = {\n  layout(layout-size => {\n    let laid-out-size = measure(content, ..layout-size)\n    line-func(laid-out-size)\n  })\n}\n\n#box(\n    width: 4cm,\n    inset: (left: 1.4em, bottom: 1.4em, rest: 1em),\n    radius: 0.4em,\n    fill: blue.lighten(85%)\n    )[\n      #let the-text = lorem(15)\n      #size-my-line(the-text, size => {\n        place(\n          horizon + left,\n          dx: -0.4em,\n          line(\n            angle: 90deg,\n            length: size.height,\n            )\n          )\n        the-text\n        // alternate way (with slightly different spacing by default)\n        /*stack(dir: ltr, spacing: 0.4em)[\n          #line(angle: 90deg, length: size.height)\n        ][#the-text]*/\n      })\n    ]\n\n```\n\n![bild|207x218](upload://7Lh1zIVWtTrRHxxx90eWfyHHqFr.png)\n\nAnd yes - this solution is still not something that measures the box itself. It just measures the text we want to layout inside the current layout context - remember that's a box with fixed width 4cm. The layout computation produces a real height as a product of the context with fixed width. Then we size the line according to the text.\n\nTypst app hover picture: this is the input to the layout, the space *available*. Note how all the page height minus margin is available more or less.\n\n![bild|515x195](upload://2MWGzUO9JlVMXvEonz9cXKEICG8.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 55.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11625,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-26T22:07:34.735Z",
      "updated_at": "2025-04-26T22:13:23.354Z",
      "cooked": "<p>Here is the styling:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let custom-line(stroke) = line(length: 100%, angle: 90deg, stroke: stroke)\n#let custom-block = block.with(\n  width: 8cm,\n  height: 5.1cm,\n  inset: (left: 2.5em, rest: 1em),\n  radius: 1em,\n  fill: blue.transparentize(70%),\n)\n\n#let block1(body) = custom-block({\n  let line-blue = custom-line((cap: \"round\", thickness: 5pt, paint: blue))\n  place(dx: -1.25em, line-blue)\n  body\n})\n\n#let block2(body) = custom-block({\n  let stroke = (cap: \"round\", thickness: 5pt, paint: red)\n  let line-red-with-square = grid(\n    rows: (1fr, auto, 1fr),\n    row-gutter: 10pt,\n    align: center,\n    custom-line(stroke),\n    square(size: 5pt, stroke: stroke, radius: 3pt),\n    custom-line(stroke),\n  )\n  place(dx: -1.25em - 2.5pt, line-red-with-square)\n  body\n})\n\n#set par(justify: true)\n\n#block1[\n  #lorem(52)\n]\n\n#block2[\n  #lorem(52)\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0686e5ae870bfc75e73a172f006a1378bc699f38.png\" data-download-href=\"https://forum.typst.app/uploads/default/0686e5ae870bfc75e73a172f006a1378bc699f38\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0686e5ae870bfc75e73a172f006a1378bc699f38_2_379x500.png\" alt=\"image\" data-base62-sha1=\"VJSBwhXGKEMpbqUYoun2AyHleU\" width=\"379\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/0686e5ae870bfc75e73a172f006a1378bc699f38_2_379x500.png, https://forum.typst.app/uploads/default/original/2X/0/0686e5ae870bfc75e73a172f006a1378bc699f38.png 1.5x, https://forum.typst.app/uploads/default/original/2X/0/0686e5ae870bfc75e73a172f006a1378bc699f38.png 2x\" data-dominant-color=\"1F3B54\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">465√ó612 114 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/5741\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/5741\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/5741\" target=\"_blank\" rel=\"noopener nofollow ugc\">Add support for inside/center/outside strokes (change stroke bounding box)</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2025-01-23\" data-time=\"12:32:56\" data-timezone=\"UTC\">12:32PM - 23 Jan 25 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Andrew15-5\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Andrew15-5\" src=\"https://forum.typst.app/uploads/default/original/1X/8c66fc8b1c207ba90488266df18b206a61b1fc49.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"707C3A\">\n          Andrew15-5\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          visualize\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nCurrently, removing page margin while drawing thicc stroke on i<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">ts border results in a cut-off line. As a result, when you want to leave just the actual content, you must either deal with some blank padding around your figure or whatever, or you must pixel peep the perfect amount of margin to completely remove the emptiness around.\n\n```typ\n#set page(width: auto, height: auto)\n#table(stroke: 5pt, rows: 1cm, columns: 1cm)[][][][][][]\n```\n\n![Image](https://github.com/user-attachments/assets/7bf0f96c-5cc2-4109-82d4-11c2218ed6bb)\n\n```typ\n#set page(width: auto, height: auto, margin: 0pt)\n#table(stroke: 5pt, rows: 1cm, columns: 1cm)[][][][][][]\n```\n\n![Image](https://github.com/user-attachments/assets/aa877962-c2c2-4b9c-b367-abce1c14cc12)\n\nFor a simple example like this, you can just do `margin: 5pt / 2` and be done with it, but it's not always that obvious (maybe).\n\nMaybe this should be a bug report, IDK.\n\n### Use Case\n\nPrimarily when dealing with figures or anything that has a line on the page border, and you want to remove any unnecessary spacing.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Here is the styling:\n\n```typ\n#let custom-line(stroke) = line(length: 100%, angle: 90deg, stroke: stroke)\n#let custom-block = block.with(\n  width: 8cm,\n  height: 5.1cm,\n  inset: (left: 2.5em, rest: 1em),\n  radius: 1em,\n  fill: blue.transparentize(70%),\n)\n\n#let block1(body) = custom-block({\n  let line-blue = custom-line((cap: \"round\", thickness: 5pt, paint: blue))\n  place(dx: -1.25em, line-blue)\n  body\n})\n\n#let block2(body) = custom-block({\n  let stroke = (cap: \"round\", thickness: 5pt, paint: red)\n  let line-red-with-square = grid(\n    rows: (1fr, auto, 1fr),\n    row-gutter: 10pt,\n    align: center,\n    custom-line(stroke),\n    square(size: 5pt, stroke: stroke, radius: 3pt),\n    custom-line(stroke),\n  )\n  place(dx: -1.25em - 2.5pt, line-red-with-square)\n  body\n})\n\n#set par(justify: true)\n\n#block1[\n  #lorem(52)\n]\n\n#block2[\n  #lorem(52)\n]\n```\n\n![image|379x500](upload://VJSBwhXGKEMpbqUYoun2AyHleU.png)\n\nhttps://github.com/typst/typst/issues/5741",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 5,
      "reads": 26,
      "score": 85.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11627,
      "post_number": 9,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-26T23:59:28.932Z",
      "updated_at": "2025-04-26T23:59:28.932Z",
      "cooked": "<p>Thank you for the insight, you are right, I stand corrected.</p>\n<p>Playing with containers that have an automatic width yields the same result when creating a <code>100%</code> long line within them!</p>\n<p>I admit that, the correct statement was not that it was inconsistent, but rather, it felt unnatural albeit fair and consistent.</p>",
      "raw": "Thank you for the insight, you are right, I stand corrected.\n\nPlaying with containers that have an automatic width yields the same result when creating a `100%` long line within them!\n\nI admit that, the correct statement was not that it was inconsistent, but rather, it felt unnatural albeit fair and consistent.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11629,
      "post_number": 10,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-27T00:16:15.006Z",
      "updated_at": "2025-04-27T00:16:15.006Z",
      "cooked": "<p>Brilliant solution, thank you so much. for your time and effort.</p>\n<p>I was fixated on solving things in terms of the box, and not the height of its content.</p>\n<p>just to make sure I benefited from your answer‚Ä¶<br>\nIf I understand correctly, the <code>line-func</code> is a place holder for a function-type input (to abstract the object that will benefit from the size measurement?) for when we called the <code>#size-my-line</code> actually inside the box?</p>",
      "raw": "Brilliant solution, thank you so much. for your time and effort. \n\nI was fixated on solving things in terms of the box, and not the height of its content.\n\njust to make sure I benefited from your answer...\nIf I understand correctly, the `line-func` is a place holder for a function-type input (to abstract the object that will benefit from the size measurement?) for when we called the `#size-my-line` actually inside the box?",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11630,
      "post_number": 11,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-27T00:24:02.871Z",
      "updated_at": "2025-04-27T00:24:02.871Z",
      "cooked": "<p>Beautiful work, thanks a lot. I managed to cobble something for the first style, but didn‚Äôt know whether to use stack or grid for the compound red line.</p>\n<p>I didn‚Äôt know about the stroke issue you pointed out on GitHub. thank you for your efforts.</p>",
      "raw": "Beautiful work, thanks a lot. I managed to cobble something for the first style, but didn't know whether to use stack or grid for the compound red line.\n \nI didn't know about the stroke issue you pointed out on GitHub. thank you for your efforts.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11656,
      "post_number": 12,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-27T09:23:55.203Z",
      "updated_at": "2025-04-27T09:23:55.203Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"MJ.0\" data-post=\"10\" data-topic=\"3800\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mj.0/48/2506_2.png\" class=\"avatar\"> MJ.0:</div>\n<blockquote>\n<p>If I understand correctly, the <code>line-func</code> is a place holder</p>\n</blockquote>\n</aside>\n<p>Not sure how to explain this best, but line-func is a callback to get the computed size value. We can‚Äôt extract this value any other way, can‚Äôt return it out of the layout function, so we use a callback. So anything that uses the size value needs to be drawn inside the callback I think.</p>",
      "raw": "[quote=\"MJ.0, post:10, topic:3800\"]\nIf I understand correctly, the `line-func` is a place holder\n[/quote]\n\nNot sure how to explain this best, but line-func is a callback to get the computed size value. We can't extract this value any other way, can't return it out of the layout function, so we use a callback. So anything that uses the size value needs to be drawn inside the callback I think.",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11661,
      "post_number": 13,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T11:12:08.135Z",
      "updated_at": "2025-04-27T11:14:35.153Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"MJ.0\" data-post=\"11\" data-topic=\"3800\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mj.0/48/2506_2.png\" class=\"avatar\"> MJ.0:</div>\n<blockquote>\n<p>didn‚Äôt know whether to use stack or grid for the compound red line.</p>\n</blockquote>\n</aside>\n<p>You can use whatever, just need to weigh all pros and cons. I started with <code>stack</code>, because it looks like the perfect contender, and the default <code>dir</code> is already correct, but when I realized the alignment problem (and also the 100% x2), I switched to <code>grid</code>. And because of the stroke not being counted into any bounding box, you need to compensate for half of its thickness in <code>place()</code>. You can automate a lot of it, so you don‚Äôt have to manually calculate everything.</p>\n<p>Also, a good tool for working with stroke is</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/t4t:0.4.2\": get\n#get.stroke-dict(red + 5pt)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2a2c895c38449395a756734e6a9d7215cd171fa7.png\" alt=\"image\" data-base62-sha1=\"615tjQIw8uLcIbvMRz7b6oDt7x5\" width=\"222\" height=\"156\"></p>\n<p>But since you‚Äôve mentioned a native way, I didn‚Äôt use it.</p>",
      "raw": "[quote=\"MJ.0, post:11, topic:3800\"]\ndidn‚Äôt know whether to use stack or grid for the compound red line.\n[/quote]\n\nYou can use whatever, just need to weigh all pros and cons. I started with `stack`, because it looks like the perfect contender, and the default `dir` is already correct, but when I realized the alignment problem (and also the 100% x2), I switched to `grid`. And because of the stroke not being counted into any bounding box, you need to compensate for half of its thickness in `place()`. You can automate a lot of it, so you don't have to manually calculate everything.\n\nAlso, a good tool for working with stroke is\n\n```typ\n#import \"@preview/t4t:0.4.2\": get\n#get.stroke-dict(red + 5pt)\n```\n\n![image|444x313, 50%](upload://615tjQIw8uLcIbvMRz7b6oDt7x5.png)\n\nBut since you've mentioned a native way, I didn't use it.",
      "reply_to_post_number": 11,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:42.407028"
}
{
  "topic_metadata": {
    "id": 3805,
    "title": "How to put stuff in its own package?",
    "slug": "how-to-put-stuff-in-its-own-package",
    "posts_count": 3,
    "created_at": "2025-04-25T09:49:56.305Z",
    "last_posted_at": "2025-04-25T11:31:57.755Z",
    "views": 54,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "package-authoring"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 486
  },
  "posts": [
    {
      "id": 11601,
      "post_number": 1,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-25T09:49:56.423Z",
      "updated_at": "2025-04-26T20:17:37.261Z",
      "cooked": "<p>In this thread <a href=\"https://forum.typst.app/t/how-to-have-a-number-with-blue-circle-background-in-text/3793/22\" class=\"inline-onebox\">How to have a number with blue circle background in text? - #22 by Andrew</a>, <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> gave me a piece of code which is working nicely.</p>\n<p>When I put this code</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n#codly(\n  highlight-fill: _ =&gt; none,\n  highlight-stroke: _ =&gt; none,\n  number-format: none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n)\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n</code></pre>\n<p>into a separate file and create an example where I simply import it</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@local/raw-text:0.1.0\": *\n\n#add-markers((line: 2, start: 4, end: 4, nnum: 1), (line: 2, start: 8, nnum: 2))\n#unique-code-block(```\n something\n   more of this is great\n what is that?\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n</code></pre>\n<p>and compile I get</p>\n<pre><code class=\"lang-auto\">error: label `&lt;1-1&gt;` does not exist in the document\n   ‚îå‚îÄ @local/raw-text:0.1.0/raw-text.typ:16:2\n   ‚îÇ\n16 ‚îÇ   link(label, body)\n   ‚îÇ   ^^^^^^^^^^^^^^^^^\n\nerror: label `&lt;1-2&gt;` does not exist in the document\n   ‚îå‚îÄ @local/raw-text:0.1.0/raw-text.typ:16:2\n   ‚îÇ\n16 ‚îÇ   link(label, body)\n   ‚îÇ   ^^^^^^^^^^^^^^^^^\n</code></pre>\n<p>As a newbie I didn‚Äôt find the cause.</p>",
      "raw": "In this thread https://forum.typst.app/t/how-to-have-a-number-with-blue-circle-background-in-text/3793/22, @Andrew gave me a piece of code which is working nicely.\n\nWhen I put this code\n\n```typst\n#import \"@preview/codly:1.3.0\": *\n#show: codly-init\n#codly(\n  highlight-fill: _ => none,\n  highlight-stroke: _ => none,\n  number-format: none,\n  highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n)\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n``` \ninto a separate file and create an example where I simply import it \n\n```typst\n#import \"@local/raw-text:0.1.0\": *\n\n#add-markers((line: 2, start: 4, end: 4, nnum: 1), (line: 2, start: 8, nnum: 2))\n#unique-code-block(```\n something\n   more of this is great\n what is that?\n```)\n\n/ #nnum(1): first\n/ #nnum(2): second\n```\n\nand compile I get\n\n```\nerror: label `<1-1>` does not exist in the document\n   ‚îå‚îÄ @local/raw-text:0.1.0/raw-text.typ:16:2\n   ‚îÇ\n16 ‚îÇ   link(label, body)\n   ‚îÇ   ^^^^^^^^^^^^^^^^^\n\nerror: label `<1-2>` does not exist in the document\n   ‚îå‚îÄ @local/raw-text:0.1.0/raw-text.typ:16:2\n   ‚îÇ\n16 ‚îÇ   link(label, body)\n   ‚îÇ   ^^^^^^^^^^^^^^^^^\n```\n\nAs a newbie I didn't find the cause.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    },
    {
      "id": 11604,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-25T11:02:14.990Z",
      "updated_at": "2025-04-25T11:02:14.990Z",
      "cooked": "<p>If you import from a package, it will only return symbols, but not any of the content. So, the codly-init is missing.</p>\n<p>You need to move codly‚Äôs initialization to your main file, or import it like a template (<code>show: it =&gt; {...; it}</code>).</p>",
      "raw": "If you import from a package, it will only return symbols, but not any of the content. So, the codly-init is missing.\n\nYou need to move codly's initialization to your main file, or import it like a template (`show: it => {...; it}`).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 27,
      "score": 40.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11605,
      "post_number": 3,
      "username": "Manfred_Lotz",
      "name": "Manfred Lotz",
      "created_at": "2025-04-25T11:31:57.755Z",
      "updated_at": "2025-04-25T11:31:57.755Z",
      "cooked": "<p>Thanks a lot <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a></p>\n<p>Changing it like this</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.3.0\": *\n\n#let raw-text-init(body) = {\n  show: codly-init\n  codly(\n    highlight-fill: _ =&gt; none,\n    highlight-stroke: _ =&gt; none,\n    number-format: none,\n    highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n  )\n  body\n}\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n</code></pre>\n<p>and adding</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show: raw-text-init\n</code></pre>\n<p>to my test file makes it work.</p>",
      "raw": "Thanks a lot @quachpas \n\nChanging it like this \n\n```typst\n#import \"@preview/codly:1.3.0\": *\n\n#let raw-text-init(body) = {\n  show: codly-init\n  codly(\n    highlight-fill: _ => none,\n    highlight-stroke: _ => none,\n    number-format: none,\n    highlight-inset: 0pt, // https://github.com/Dherse/codly/issues/81\n  )\n  body\n}\n\n#let raw-count() = counter(figure.where(kind: raw)).get().first()\n#let nnum-label(raw-num, n) = label(str(raw-num) + \"-\" + str(n))\n\n#let nnum(n) = context {\n  let label = nnum-label(raw-count(), n)\n  let body = strong(text(0.8em, baseline: 0.1em, blue, numbering(\"‚ìµ\", n)))\n  link(label, body)\n}\n\n#let add-markers(..markers) = context {\n  let raw-num = raw-count() + 1\n  let markers = for marker in markers.pos() {\n    let n = marker.remove(\"nnum\")\n    ((..marker, tag: nnum(n), label: nnum-label(raw-num, n)),)\n  }\n  codly(highlights: markers)\n}\n\n#let unique-code-block(body) = context {\n  [#figure(body)#label(\"code\" + str(raw-count() + 1))]\n}\n```\n\nand adding \n\n```typst\n#show: raw-text-init\n``` \n\nto my test file makes it work.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 50.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 638
    }
  ],
  "scraped_at": "2025-06-10T09:48:41.626338"
}
{
  "topic_metadata": {
    "id": 3811,
    "title": "Why does a line break inside math mode result in superscripts appearing at the wrong height?",
    "slug": "why-does-a-line-break-inside-math-mode-result-in-superscripts-appearing-at-the-wrong-height",
    "posts_count": 5,
    "created_at": "2025-04-25T18:00:22.778Z",
    "last_posted_at": "2025-04-29T03:57:40.008Z",
    "views": 98,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 441
  },
  "posts": [
    {
      "id": 11615,
      "post_number": 1,
      "username": "Danil",
      "name": "Danil",
      "created_at": "2025-04-25T18:00:22.960Z",
      "updated_at": "2025-04-26T20:28:21.973Z",
      "cooked": "<p>Hi everyone,</p>\n<p>I‚Äôve encountered a strange behavior when typesetting long math expressions in Typst, particularly when the line breaks across operators. It seems that when I break a line inside a math expression, superscripts (and subscripts too) don‚Äôt render properly.</p>\n<p>Here‚Äôs a minimal example:</p>\n<pre><code class=\"lang-auto\">$\ny = (a x^2 + \\\n+ b x + c)^2\n$\n</code></pre>\n<p>and this is what I get:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/4/4cc35cb3f1b81dd28ec2c357c9509116c8e65d48.png\" alt=\"typst_example\" data-base62-sha1=\"aX4QEcmXwnPHvCjrFBzWm7bje5y\" width=\"405\" height=\"201\"></p>\n<p>Is this expected behavior? Or am I missing a better way to break long equations over multiple lines while preserving correct math formatting?</p>\n<p>Thanks in advance!</p>",
      "raw": "Hi everyone,\n\nI‚Äôve encountered a strange behavior when typesetting long math expressions in Typst, particularly when the line breaks across operators. It seems that when I break a line inside a math expression, superscripts (and subscripts too) don‚Äôt render properly.\n\nHere‚Äôs a minimal example:\n\n```typ... \n$\ny = (a x^2 + \\\n+ b x + c)^2\n$\n```\n and this is what I get: \n![typst_example|405x201](upload://aX4QEcmXwnPHvCjrFBzWm7bje5y.png)\n\nIs this expected behavior? Or am I missing a better way to break long equations over multiple lines while preserving correct math formatting?\n\nThanks in advance!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 80.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1511
    },
    {
      "id": 11618,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-26T10:38:27.794Z",
      "updated_at": "2025-04-26T12:04:12.576Z",
      "cooked": "<p>Hello, there. You provided screenshot from different code, there is no plus sign to the left of the <code>b</code>. And with cutting like this, it changes from addition to signed value:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/268a928ee18f985d9bbc21cd1c7b5f8d09961997.png\" alt=\"image\" data-base62-sha1=\"5uX26YEe2NFKwD8p43MndjBCsrt\" width=\"133\" height=\"76\"></p>\n<p>You need to add <code>med</code> or something to make it readable.</p>\n<p>Looks like <a href=\"https://typst.app/docs/reference/math/lr#functions-lr\"><code>lr</code></a> creates a new scope. I don‚Äôt know how practical it is to break a parenthesized expression, but you can cancel the automatic sizing:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  y = \\(a x^2 + \\\n  + b x + c)^2\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/a415165b7650d7011a12f9bb382aa85f684ce7cc.png\" alt=\"image\" data-base62-sha1=\"npxu2DmVf20rj1pPjLqS3CUXDas\" width=\"117\" height=\"74\"></p>\n<p>If you need it back, then you would probably have to recreate it manually:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let big(p) = $lr(size: #200%, #p)$\n\n$\n  y = big(\\()1 / a x^2 + \\\n  + med b x + c big(\\))^2\n$\n\n$\n  y = \\(1 / a x^2 + \\\n  + med b x + c \\)^2\n$\n\n$\n  y = (1 / a x^2 + b x + c)^2\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/35d72258cb79209798db30ee70cbc5231ac7281c.png\" alt=\"image\" data-base62-sha1=\"7GiebmjNJu0Rtx2nP4f9GOWkEUI\" width=\"186\" height=\"265\"></p>\n<hr>\n<aside class=\"quote no-group quote-modified\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p>If your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ‚Ä¶ ````. It will then look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n</code></pre>\n<p>If you need to highlight a code or math mode snippet instead, the language tags <code>typc</code> and <code>typm</code> do that, respectively.</p>\n</blockquote>\n</aside>",
      "raw": "Hello, there. You provided screenshot from different code, there is no plus sign to the left of the `b`. And with cutting like this, it changes from addition to signed value:\n\n![image|133x76](upload://5uX26YEe2NFKwD8p43MndjBCsrt.png)\n\nYou need to add `med` or something to make it readable.\n\nLooks like [`lr`](https://typst.app/docs/reference/math/lr#functions-lr) creates a new scope. I don't know how practical it is to break a parenthesized expression, but you can cancel the automatic sizing:\n\n```typ\n$\n  y = \\(a x^2 + \\\n  + b x + c)^2\n$\n```\n\n![image|117x74](upload://npxu2DmVf20rj1pPjLqS3CUXDas.png)\n\nIf you need it back, then you would probably have to recreate it manually:\n\n```typ\n#let big(p) = $lr(size: #200%, #p)$\n\n$\n  y = big(\\()1 / a x^2 + \\\n  + med b x + c big(\\))^2\n$\n\n$\n  y = \\(1 / a x^2 + \\\n  + med b x + c \\)^2\n$\n\n$\n  y = (1 / a x^2 + b x + c)^2\n$\n```\n\n![image|186x265](upload://7GiebmjNJu0Rtx2nP4f9GOWkEUI.png)\n\n---\n\n[quote=\"reknih, post:1, topic:11\"]\nIf your question pertains to a bit of Typst markup you have problems with, put it in the question body! You can syntax-highlight Typst code by wrapping it in ` ```typ ... ````. It will then look like this:\n\n```typ\n#set font(size: 12pt)\n\nHello from *Typst* at $ pi.var + 1 $ o'clock!\n```\n\nIf you need to highlight a code or math mode snippet instead, the language tags `typc` and `typm` do that, respectively.\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11619,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-26T11:03:06.491Z",
      "updated_at": "2025-04-26T11:03:06.491Z",
      "cooked": "<p>This problem sounds like something that should be reported as a bug, so that it can be discussed if it‚Äôs a bug to be fixed or not.</p>",
      "raw": "This problem sounds like something that should be reported as a bug, so that it can be discussed if it's a bug to be fixed or not.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11620,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-26T12:43:51.407Z",
      "updated_at": "2025-04-26T12:43:51.407Z",
      "cooked": "<p>This issue has been known for a while, you can follow it on GitHub for any updates:</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/3704\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/3704\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/3704\" target=\"_blank\" rel=\"noopener nofollow ugc\">Misplaced exponents in multi-line math environment</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-03-17\" data-time=\"09:59:51\" data-timezone=\"UTC\">09:59AM - 17 Mar 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/ralphmb\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"ralphmb\" src=\"https://forum.typst.app/uploads/default/original/2X/5/533e13620d5f1446e0e4fcadf45ca5aae4a3542a.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"CDD5EA\">\n          ralphmb\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          bug\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          math\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nUsing Typst 0.11.0 but first found this behaviour in 0.10.0\n<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">‚Ä¶</a></span><span class=\"excerpt hidden\">\nExponents placed after a multi-line aligned expression in a math block appear at the end of the first line, rather than after the expression ends on the bottom line.\nMinimal working example:\n```typst\n#lorem(20)\n$ (&amp;x \\\n   &amp;+y)^(2) = 1 $\n#lorem(20)\n```\nCalling `typst compile main.typ` on the previous code leads to the following being rendered:\n![Screenshot 2024-03-17 at 09 38 23](https://github.com/typst/typst/assets/18724395/21e772c5-0660-46bf-9377-e83d3b955049)\nThe exponent 2 should, I think, be placed after \"+y)\" on the second line. I ran into this first on a much more complex expression but it appears to happen for many different examples.\nAdding/removing parentheses around the exponent 2 doesn't change the output.\n\nPlacing an ampersand before the exponent, like `&amp;+y)&amp;^(2) = 1 $`,  seems to place the two correctly. This seems to be an easy workaround, but (imho) doesn't seem like an obvious thing to try. It was pointed out to me on [this reddit post](https://old.reddit.com/r/typst/comments/1bghapk/multiline_math_rendering_is_this_a_bug_i_should/).\nAdding the extra ampersand gives the following:\n![Screenshot 2024-03-17 at 09 56 37](https://github.com/typst/typst/assets/18724395/0e0cf15e-29a9-4988-8963-f32ef875b89b).\n\nI couldn't see any similar issues raised here so apologies if this is a duplicate/mistake on my end. I don't have discord or I would have posted this there first. Apologies in advance if I don't respond too quickly, still have to finish my dissertation :)\n\n### Reproduction URL\n\n_No response_\n\n### Operating system\n\nmacOS\n\n### Typst version\n\n- [X] I am using the latest version of Typst</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "This issue has been known for a while, you can follow it on GitHub for any updates:\n\nhttps://github.com/typst/typst/issues/3704",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 49.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11762,
      "post_number": 5,
      "username": "ian",
      "name": "Ian",
      "created_at": "2025-04-29T03:57:40.008Z",
      "updated_at": "2025-04-29T03:57:40.008Z",
      "cooked": "<p><a href=\"https://github.com/typst/typst/issues/3704#issuecomment-2837374053\" rel=\"noopener nofollow ugc\">I added a comment</a> to the github issue, but this is definitely a bug in the math layout code. Want to echo that the general solution is to escape the parentheses with backslashes: <code>$ y = \\(a x^2 + \\ + b x + c\\)^2 $</code> which will avoid creating the LR element that causes the grouping behavior.</p>",
      "raw": "[I added a comment](https://github.com/typst/typst/issues/3704#issuecomment-2837374053) to the github issue, but this is definitely a bug in the math layout code. Want to echo that the general solution is to escape the parentheses with backslashes: `$ y = \\(a x^2 + \\ + b x + c\\)^2 $` which will avoid creating the LR element that causes the grouping behavior.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 25
    }
  ],
  "scraped_at": "2025-06-10T09:48:40.536331"
}
{
  "topic_metadata": {
    "id": 3812,
    "title": "How to add a custom array-like field to a custom theorion box?",
    "slug": "how-to-add-a-custom-array-like-field-to-a-custom-theorion-box",
    "posts_count": 5,
    "created_at": "2025-04-26T23:52:03.693Z",
    "last_posted_at": "2025-04-27T17:59:22.044Z",
    "views": 64,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "packages"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1146
  },
  "posts": [
    {
      "id": 11626,
      "post_number": 1,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-26T23:52:03.876Z",
      "updated_at": "2025-04-26T23:52:03.876Z",
      "cooked": "<p>Hello there everyone, I‚Äôm trying to learn the software and  explore making &amp; customizing things to learn, and I came across this use case:</p>\n<p>I made a simple custom theorem from the provided template from <code>theorion</code> package.</p>\n<p>I wanted to add some sort of marker I called it <code>suffix</code> (an optional tag for the theorem). Ideally expecting it to have a flexibility when dealing with specifying the arguments like in <code>stroke</code>, or <code>radius</code> for example.</p>\n<p>The goal was to achieve the look in the attached photo.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/50b0701c90dae7d09ef18443e4834eeb964cff32.png\" data-download-href=\"https://forum.typst.app/uploads/default/50b0701c90dae7d09ef18443e4834eeb964cff32\" title=\"thm_suffix\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/50b0701c90dae7d09ef18443e4834eeb964cff32_2_517x149.png\" alt=\"thm_suffix\" data-base62-sha1=\"bvOdhgK9Arb6rUYbk1BtZzV9KbE\" width=\"517\" height=\"149\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/50b0701c90dae7d09ef18443e4834eeb964cff32_2_517x149.png, https://forum.typst.app/uploads/default/optimized/2X/5/50b0701c90dae7d09ef18443e4834eeb964cff32_2_775x223.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/5/50b0701c90dae7d09ef18443e4834eeb964cff32_2_1034x298.png 2x\" data-dominant-color=\"EAF0F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">thm_suffix</span><span class=\"informations\">1185√ó343 23 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>which I did using the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">/// page setup\n#set page(height: auto, width: 10cm)\n\n#import \"@preview/theorion:0.3.3\": *\n#import cosmos.clouds: *\n\n// tag fnc to define the style\n#let tag(fill: blue, body) = box(\n            radius:0.20em,\n            fill: fill.lighten(80%),\n            inset: (x:0.25em),\n            outset: (y:0.15em)\n            )[\n              #text(size:0.6em)[#body]\n              ]\n\n#show: show-theorion\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: (\n    prefix: auto,\n    title: \"\",\n    full-title: auto,\n    suffix: (text:auto,fill: blue), /* // need it to behave like `stroke`  or `radius` */\n    body) =&gt; [\n    #block(\n      fill:blue.lighten(85%),\n      inset: 0.5em,\n      radius: 0.4em,\n      )[\n        *#full-title*\n        #h(1fr)\n        #{  \n          if suffix.text != auto {\n            tag(fill: suffix.fill)[#suffix.text]\n            }\n        }\n        #linebreak()\n        #body\n      ]\n    ]\n)\n\n#show: show-mytheo\n    #mytheo(\n      suffix:(text:\"important\", fill:red) //  both specified, works fine\n      )[\n      #lorem(5)\n      ]\n</code></pre>\n<p>My attempt at implementing <code>suffix</code> was bad but I don‚Äôt know how to fix it, it worked in the example above but only because both <code>suffix.text</code> and <code>suffix.fill</code> are explicitly specified.</p>\n<p>But whenever I attempt not specifying at least one of the keys, it no longer renders, and gives the following error as shown below:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#mytheo(\n      suffix:(text:\"important\") //  error: \"dictionary does not contain key \"fill\"\"\n      )[\n      #lorem(5)\n      ]\n</code></pre>\n<ol>\n<li>When I don‚Äôt specify the fill arg, I need it to fall back to the default.<br>\nI expect <code>suffix</code> to handle its arguments/parameters with flexibility,  like <code>stroke</code> for example, specifying <code>stroke: 2pt + red</code> is equivalent to <code>stroke: (paint: red, thickness: 2pt)</code>. Any parameter (from the rest) that is not specified, doesn‚Äôt fail to return a value, it gives the defaults.</li>\n</ol>\n<p>It doesn‚Äôt need to be the same level of flexibility, as this may be reserved to Typst‚Äôs native types, but any correction to my current understanding to how to implement this is most welcome.</p>",
      "raw": "Hello there everyone, I'm trying to learn the software and  explore making & customizing things to learn, and I came across this use case:\n\nI made a simple custom theorem from the provided template from `theorion` package.\n\nI wanted to add some sort of marker I called it `suffix` (an optional tag for the theorem). Ideally expecting it to have a flexibility when dealing with specifying the arguments like in `stroke`, or `radius` for example.\n\nThe goal was to achieve the look in the attached photo.\n\n![thm_suffix|690x199, 75%](upload://bvOdhgK9Arb6rUYbk1BtZzV9KbE.png)\n\n\nwhich I did using the following code:\n\n```typ\n/// page setup\n#set page(height: auto, width: 10cm)\n\n#import \"@preview/theorion:0.3.3\": *\n#import cosmos.clouds: *\n\n// tag fnc to define the style\n#let tag(fill: blue, body) = box(\n            radius:0.20em,\n            fill: fill.lighten(80%),\n            inset: (x:0.25em),\n            outset: (y:0.15em)\n            )[\n              #text(size:0.6em)[#body]\n              ]\n\n#show: show-theorion\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: (\n    prefix: auto,\n    title: \"\",\n    full-title: auto,\n    suffix: (text:auto,fill: blue), /* // need it to behave like `stroke`  or `radius` */\n    body) => [\n    #block(\n      fill:blue.lighten(85%),\n      inset: 0.5em,\n      radius: 0.4em,\n      )[\n        *#full-title*\n        #h(1fr)\n        #{  \n          if suffix.text != auto {\n            tag(fill: suffix.fill)[#suffix.text]\n            }\n        }\n        #linebreak()\n        #body\n      ]\n    ]\n)\n\n#show: show-mytheo\n    #mytheo(\n      suffix:(text:\"important\", fill:red) //  both specified, works fine\n      )[\n      #lorem(5)\n      ]\n```\nMy attempt at implementing `suffix` was bad but I don't know how to fix it, it worked in the example above but only because both `suffix.text` and `suffix.fill` are explicitly specified.\n\nBut whenever I attempt not specifying at least one of the keys, it no longer renders, and gives the following error as shown below:\n\n```typ\n#mytheo(\n      suffix:(text:\"important\") //  error: \"dictionary does not contain key \"fill\"\"\n      )[\n      #lorem(5)\n      ]\n```\n\n1. When I don't specify the fill arg, I need it to fall back to the default.\n    I expect `suffix` to handle its arguments/parameters with flexibility,  like `stroke` for example, specifying `stroke: 2pt + red` is equivalent to `stroke: (paint: red, thickness: 2pt)`. Any parameter (from the rest) that is not specified, doesn't fail to return a value, it gives the defaults.\n\nIt doesn't need to be the same level of flexibility, as this may be reserved to Typst's native types, but any correction to my current understanding to how to implement this is most welcome.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 99.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11628,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T00:03:13.828Z",
      "updated_at": "2025-04-27T00:03:13.828Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mj.0\">@MJ.0</a>, try using an argument sink: <a href=\"https://typst.app/docs/reference/foundations/arguments/\" class=\"inline-onebox\">Arguments Type ‚Äì Typst Documentation</a></p>",
      "raw": "Hi @MJ.0, try using an argument sink: https://typst.app/docs/reference/foundations/arguments/",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11632,
      "post_number": 3,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-27T01:49:07.084Z",
      "updated_at": "2025-04-27T01:49:07.084Z",
      "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a> for the nudge in the right direction, I knew of sink arguments but couldn‚Äôt get it right the first time, so I did give it a second more careful try and ended up with a better result!</p>\n<p>I replaced the <code>suffix: (text:auto,fill: blue)</code> with <code>...suffix</code> I knew that from previous attempts,</p>\n<p>yet I didn‚Äôt know how to set the defaults for the keys so I assumed I needed a lower level approach. But thanks to your insight, I realized that I missed the option <code>default</code> in definitions/methods like <code>at()</code> which allowed me to set keys with defaults, and now works as expected.</p>\n<p>my latest attempt:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: (\n    prefix: auto,\n    title: \"\",\n    full-title: auto,\n    ..suffix,\n    body) =&gt; [\n    #block(\n      fill:blue.lighten(85%),\n      inset: 0.5em,\n      radius: 0.4em,\n      )[\n        *#full-title*\n        #h(1fr)\n        #{  \n          if suffix.at(\"suffix\", default: \"\") != \"\" {\n            tag(fill: suffix.at(\"suffill\", default: blue))[#suffix.at(\"suffix\", default: \"\")]\n            }\n        }\n        #linebreak()\n        #body\n      ]\n    ]\n)\n\n#show: show-mytheo\n    #mytheo(\n      suffix:\"important\",\n      suffill:red, //works as expected\n      )[\n      #lorem(5)\n      ]\n</code></pre>\n<p>This for is more than acceptable, both the text are independent and fall back to defaults. But If you don‚Äôt mind me asking, what else do I need to utilize to approach the form <code>suffix:(text:\"important\",)</code> without triggering errors for not specifying the other key?</p>",
      "raw": "Thank you @vmartel08 for the nudge in the right direction, I knew of sink arguments but couldn't get it right the first time, so I did give it a second more careful try and ended up with a better result!\n\nI replaced the `suffix: (text:auto,fill: blue)` with `...suffix` I knew that from previous attempts,\n\nyet I didn't know how to set the defaults for the keys so I assumed I needed a lower level approach. But thanks to your insight, I realized that I missed the option `default` in definitions/methods like `at()` which allowed me to set keys with defaults, and now works as expected.\n\nmy latest attempt:\n```typ\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: (\n    prefix: auto,\n    title: \"\",\n    full-title: auto,\n    ..suffix,\n    body) => [\n    #block(\n      fill:blue.lighten(85%),\n      inset: 0.5em,\n      radius: 0.4em,\n      )[\n        *#full-title*\n        #h(1fr)\n        #{  \n          if suffix.at(\"suffix\", default: \"\") != \"\" {\n            tag(fill: suffix.at(\"suffill\", default: blue))[#suffix.at(\"suffix\", default: \"\")]\n            }\n        }\n        #linebreak()\n        #body\n      ]\n    ]\n)\n\n#show: show-mytheo\n    #mytheo(\n      suffix:\"important\",\n      suffill:red, //works as expected\n      )[\n      #lorem(5)\n      ]\n```\n\nThis for is more than acceptable, both the text are independent and fall back to defaults. But If you don't mind me asking, what else do I need to utilize to approach the form `suffix:(text:\"important\",)` without triggering errors for not specifying the other key?",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    },
    {
      "id": 11660,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T11:04:10.775Z",
      "updated_at": "2025-04-27T22:25:12.861Z",
      "cooked": "<p>I don‚Äôt understand where the source of truth is for default values ‚Äî in <code>tag()</code> or in <code>render: () =&gt; {}</code>. You can define default values inside the closure.</p>\n<p>You can‚Äôt get default value automatically by not specifying arguments, because <code>suffix</code> is a named argument. The only way is to provide named arguments separately, like Codly does with <code>codly()</code>.</p>\n<details><summary>Separate arguments approach</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/theorion:0.3.3\": make-frame, theorem-counter\n\n/// Tag function to define the style.\n#let tag(fill: blue, body, ..args) = box(\n  radius: 0.20em,\n  fill: fill.lighten(80%),\n  inset: (x: 0.25em),\n  outset: (y: 0.15em),\n  text(size: 0.6em)[#body],\n  ..args,\n)\n\n/// Tag function to define the style.\n#let render(\n  prefix: auto,\n  title: \"\",\n  full-title: auto,\n  suffix-text: none,\n  suffix-fill: blue,\n  suffix-stroke: 2pt + red,\n  suffix-radius: 0.2em,\n  body,\n) = {\n  let content = {\n    strong(full-title)\n    h(1fr)\n    if suffix-text != none {\n      tag(\n        fill: suffix-fill,\n        stroke: suffix-stroke,\n        radius: suffix-radius,\n      )[#suffix-text]\n    }\n    linebreak()\n    body\n  }\n  block(fill: blue.lighten(85%), inset: 0.5em, radius: 0.4em, content)\n}\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: render,\n)\n\n#set page(height: auto, width: 10cm)\n#show: show-mytheo\n\n#mytheo(\n  suffix-text: \"important\",\n  // suffix-fill: red,\n)[\n  #lorem(5)\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/8a889db2f2f52d85149e39c3561a415cda58d628.png\" data-download-href=\"https://forum.typst.app/uploads/default/8a889db2f2f52d85149e39c3561a415cda58d628\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/8a889db2f2f52d85149e39c3561a415cda58d628_2_690x117.png\" alt=\"image\" data-base62-sha1=\"jLwAxz7tuCrGKU2KtrstUkhNaXK\" width=\"690\" height=\"117\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/8a889db2f2f52d85149e39c3561a415cda58d628_2_690x117.png, https://forum.typst.app/uploads/default/original/2X/8/8a889db2f2f52d85149e39c3561a415cda58d628.png 1.5x, https://forum.typst.app/uploads/default/original/2X/8/8a889db2f2f52d85149e39c3561a415cda58d628.png 2x\" data-dominant-color=\"2C3E4D\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">759√ó129 15.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p>A less elegant way it to use <code>dictionary</code> (or <code>arguments</code>/<code>sink</code>) and probe for passed argument or specify the default value, which is what you do in <a href=\"https://forum.typst.app/t/how-to-add-a-custom-array-like-field-to-a-custom-theorion-box/3812/3\" class=\"inline-onebox\">How to add a custom array-like field to a custom theorion box? - #3 by MJ.0</a>.</p>\n<details><summary>Dictionary approach</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/theorion:0.3.3\": make-frame, theorem-counter\n\n/// Tag function to define the style.\n#let tag(fill: blue, body, ..args) = box(\n  radius: 0.20em,\n  fill: fill.lighten(80%),\n  inset: (x: 0.25em),\n  outset: (y: 0.15em),\n  text(size: 0.6em)[#body],\n  ..args,\n)\n\n/// Tag function to define the style.\n#let render(prefix: auto, title: \"\", full-title: auto, suffix: none, body) = {\n  let content = {\n    strong(full-title)\n    h(1fr)\n    if type(suffix) == dictionary and suffix.at(\"text\", default: none) != none {\n      let fill = suffix.at(\"fill\", default: blue)\n      let stroke = suffix.at(\"stroke\", default: 2pt + red)\n      let radius = suffix.at(\"radius\", default: 0.2em)\n      tag(fill: fill, stroke: stroke, radius: radius, suffix.text)\n    }\n    linebreak()\n    body\n  }\n  block(fill: blue.lighten(85%), inset: 0.5em, radius: 0.4em, content)\n}\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: render,\n)\n\n#set page(height: auto, width: 10cm)\n#show: show-mytheo\n\n#mytheo(suffix: (text: \"important\"))[\n  #lorem(5)\n]\n</code></pre>\n</details>",
      "raw": "I don't understand where the source of truth is for default values ‚Äî in `tag()` or in `render: () => {}`. You can define default values inside the closure.\n\nYou can't get default value automatically by not specifying arguments, because `suffix` is a named argument. The only way is to provide named arguments separately, like Codly does with `codly()`.\n\n<details><summary>Separate arguments approach</summary>\n\n```typ\n#import \"@preview/theorion:0.3.3\": make-frame, theorem-counter\n\n/// Tag function to define the style.\n#let tag(fill: blue, body, ..args) = box(\n  radius: 0.20em,\n  fill: fill.lighten(80%),\n  inset: (x: 0.25em),\n  outset: (y: 0.15em),\n  text(size: 0.6em)[#body],\n  ..args,\n)\n\n/// Tag function to define the style.\n#let render(\n  prefix: auto,\n  title: \"\",\n  full-title: auto,\n  suffix-text: none,\n  suffix-fill: blue,\n  suffix-stroke: 2pt + red,\n  suffix-radius: 0.2em,\n  body,\n) = {\n  let content = {\n    strong(full-title)\n    h(1fr)\n    if suffix-text != none {\n      tag(\n        fill: suffix-fill,\n        stroke: suffix-stroke,\n        radius: suffix-radius,\n      )[#suffix-text]\n    }\n    linebreak()\n    body\n  }\n  block(fill: blue.lighten(85%), inset: 0.5em, radius: 0.4em, content)\n}\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: render,\n)\n\n#set page(height: auto, width: 10cm)\n#show: show-mytheo\n\n#mytheo(\n  suffix-text: \"important\",\n  // suffix-fill: red,\n)[\n  #lorem(5)\n]\n```\n\n![image|690x117](upload://jLwAxz7tuCrGKU2KtrstUkhNaXK.png)\n\n</details>\n\nA less elegant way it to use `dictionary` (or `arguments`/`sink`) and probe for passed argument or specify the default value, which is what you do in https://forum.typst.app/t/how-to-add-a-custom-array-like-field-to-a-custom-theorion-box/3812/3?u=andrew.\n\n<details><summary>Dictionary approach</summary>\n\n```typ\n#import \"@preview/theorion:0.3.3\": make-frame, theorem-counter\n\n/// Tag function to define the style.\n#let tag(fill: blue, body, ..args) = box(\n  radius: 0.20em,\n  fill: fill.lighten(80%),\n  inset: (x: 0.25em),\n  outset: (y: 0.15em),\n  text(size: 0.6em)[#body],\n  ..args,\n)\n\n/// Tag function to define the style.\n#let render(prefix: auto, title: \"\", full-title: auto, suffix: none, body) = {\n  let content = {\n    strong(full-title)\n    h(1fr)\n    if type(suffix) == dictionary and suffix.at(\"text\", default: none) != none {\n      let fill = suffix.at(\"fill\", default: blue)\n      let stroke = suffix.at(\"stroke\", default: 2pt + red)\n      let radius = suffix.at(\"radius\", default: 0.2em)\n      tag(fill: fill, stroke: stroke, radius: radius, suffix.text)\n    }\n    linebreak()\n    body\n  }\n  block(fill: blue.lighten(85%), inset: 0.5em, radius: 0.4em, content)\n}\n\n#let (mytheo-counter, mytheo-box, mytheo, show-mytheo) = make-frame(\n  \"theorem\",\n  \"Theorem\",\n  counter: theorem-counter,\n  inherited-levels: 2,\n  inherited-from: heading,\n  render: render,\n)\n\n#set page(height: auto, width: 10cm)\n#show: show-mytheo\n\n#mytheo(suffix: (text: \"important\"))[\n  #lorem(5)\n]\n```\n\n</details>",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 16,
      "score": 38.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11685,
      "post_number": 5,
      "username": "MJ.0",
      "name": "MJ",
      "created_at": "2025-04-27T17:59:22.044Z",
      "updated_at": "2025-04-27T17:59:22.044Z",
      "cooked": "<p>This was the comprehensive answer I was looking for. Thanks for sharing.<br>\nEspecially the following approach is insightful to me:</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"4\" data-topic=\"3812\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p><code>if type(suffix) == dictionary</code></p>\n</blockquote>\n</aside>\n<p>Whether I opt for either method, I managed to learn to ways to do it.</p>",
      "raw": "This was the comprehensive answer I was looking for. Thanks for sharing.\nEspecially the following approach is insightful to me:\n[quote=\"Andrew, post:4, topic:3812\"]\n`if type(suffix) == dictionary`\n[/quote]\n\nWhether I opt for either method, I managed to learn to ways to do it.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 12,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1455
    }
  ],
  "scraped_at": "2025-06-10T09:48:39.596255"
}
{
  "topic_metadata": {
    "id": 3818,
    "title": "How to repeat content on exactly one page?",
    "slug": "how-to-repeat-content-on-exactly-one-page",
    "posts_count": 10,
    "created_at": "2025-04-27T10:06:51.187Z",
    "last_posted_at": "2025-04-27T17:00:43.337Z",
    "views": 100,
    "like_count": 8,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 978
  },
  "posts": [
    {
      "id": 11658,
      "post_number": 1,
      "username": "KillTheMule",
      "name": "Philipp Frank",
      "created_at": "2025-04-27T10:06:51.312Z",
      "updated_at": "2025-04-28T09:06:03.826Z",
      "cooked": "<p>I‚Äôm programmatically generating documents with typst, and I have a special requirement for one that I don‚Äôt know how to handle.</p>\n<p>I have a certain content (a table) which should be repeated as often as possible on one page, but only one page (ok, finally that might become 2 pages, not sure yet :)). I don‚Äôt know how big that content is beforehand, the only assumption I can really make is that it fits on the page at least once.</p>\n<p>Do I need to look into fiddling with sizes manually somehow? Or is there a convenient way? Thanks for any pointers!</p>",
      "raw": "I'm programmatically generating documents with typst, and I have a special requirement for one that I don't know how to handle.\n\nI have a certain content (a table) which should be repeated as often as possible on one page, but only one page (ok, finally that might become 2 pages, not sure yet :)). I don't know how big that content is beforehand, the only assumption I can really make is that it fits on the page at least once.\n\nDo I need to look into fiddling with sizes manually somehow? Or is there a convenient way? Thanks for any pointers!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 251.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1515
    },
    {
      "id": 11659,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T10:43:58.176Z",
      "updated_at": "2025-04-27T10:52:23.014Z",
      "cooked": "<p>Hi there <a class=\"mention\" href=\"/u/killthemule\">@KillTheMule</a>, you may want to have a look at the <a href=\"https://typst.app/docs/reference/layout/repeat/\" class=\"inline-onebox\">Repeat Function ‚Äì Typst Documentation</a>, perhaps mixed with a <a href=\"https://typst.app/docs/reference/layout/measure/\" class=\"inline-onebox\">Measure Function ‚Äì Typst Documentation</a>.</p>\n<p>EDIT: some packages like <a href=\"https://typst.app/universe/package/etykett\" class=\"inline-onebox\">etykett ‚Äì Typst Universe</a> may also give you some hints.</p>",
      "raw": "Hi there @KillTheMule, you may want to have a look at the https://typst.app/docs/reference/layout/repeat/, perhaps mixed with a https://typst.app/docs/reference/layout/measure/.\n\nEDIT: some packages like https://typst.app/universe/package/etykett may also give you some hints.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11662,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T11:23:03.330Z",
      "updated_at": "2025-04-27T11:23:03.330Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"KillTheMule\" data-post=\"1\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/k/2DAB7D/48.png\" class=\"avatar\"> KillTheMule:</div>\n<blockquote>\n<p>I have a certain content (a table) which should be repeated as often as possible on one page</p>\n</blockquote>\n</aside>\n<p>As often as possible? What is considered often? You can repeat it so often that your whole page is just a black rectangle across the whole height. One under another, or randomly all over the page? Why do you need to repeat the same thing multiple times? Is this some title page or something?</p>",
      "raw": "[quote=\"KillTheMule, post:1, topic:3818\"]\nI have a certain content (a table) which should be repeated as often as possible on one page\n[/quote]\n\nAs often as possible? What is considered often? You can repeat it so often that your whole page is just a black rectangle across the whole height. One under another, or randomly all over the page? Why do you need to repeat the same thing multiple times? Is this some title page or something?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11666,
      "post_number": 4,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T11:39:08.278Z",
      "updated_at": "2025-04-27T12:48:44.888Z",
      "cooked": "<p>I take it <a class=\"mention\" href=\"/u/killthemule\">@KillTheMule</a> wants something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(paper: \"a6\")\n\n#let tab = table(\n  columns: 3,\n  [A], [B], [C],\n ..range(1,16).map(str),\n)\n\n#let gap = 1em\n// Need to measure table height to decide how many times to repeat\n// This is a hardcoded version to generate example\n#repeat(tab, gap:gap)\n#repeat(tab, gap:gap)\n</code></pre>\n<p>Example: the table repeats as much as possible to fill one page only (or perhaps the # of pages could be passed as a parameter):</p>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>A6 Paper</th>\n<th>A4 Paper</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><img src=\"https://forum.typst.app/uploads/default/original/2X/4/49465ba67ebfe0a06537ba0ca060b05bbb5175cf.png\" alt=\"image\" data-base62-sha1=\"asdAZE7SxavrNSjNo2wYSGh1Nfx\" width=\"163\" height=\"248\"></td>\n<td><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/8f9429ab71ee87b94530c9c04b2d3da37d7b3653.png\" data-download-href=\"https://forum.typst.app/uploads/default/8f9429ab71ee87b94530c9c04b2d3da37d7b3653\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/8f9429ab71ee87b94530c9c04b2d3da37d7b3653_2_164x249.png\" alt=\"image\" data-base62-sha1=\"ku9ImzyZBvKwhssSGIF0g5PrFcf\" width=\"164\" height=\"249\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/8f9429ab71ee87b94530c9c04b2d3da37d7b3653_2_164x249.png, https://forum.typst.app/uploads/default/optimized/2X/8/8f9429ab71ee87b94530c9c04b2d3da37d7b3653_2_246x373.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/8/8f9429ab71ee87b94530c9c04b2d3da37d7b3653_2_328x498.png 2x\" data-dominant-color=\"313333\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">386√ó588 130 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></td>\n</tr>\n</tbody>\n</table>\n</div><p>EDIT: What would be great is a function that does the same as the <code>repeat</code> function but vertically.</p>",
      "raw": "I take it @KillTheMule wants something like this:\n\n```typ\n#set page(paper: \"a6\")\n\n#let tab = table(\n  columns: 3,\n  [A], [B], [C],\n ..range(1,16).map(str),\n)\n\n#let gap = 1em\n// Need to measure table height to decide how many times to repeat\n// This is a hardcoded version to generate example\n#repeat(tab, gap:gap)\n#repeat(tab, gap:gap)\n```\n\nExample: the table repeats as much as possible to fill one page only (or perhaps the # of pages could be passed as a parameter):\nA6 Paper|A4 Paper\n --- | --- \n![image\\|326x497, 50%](upload://asdAZE7SxavrNSjNo2wYSGh1Nfx.png) |![image\\|328x499, 50%](upload://ku9ImzyZBvKwhssSGIF0g5PrFcf.png) \n\nEDIT: What would be great is a function that does the same as the `repeat` function but vertically.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 20.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11670,
      "post_number": 5,
      "username": "KillTheMule",
      "name": "Philipp Frank",
      "created_at": "2025-04-27T13:28:35.081Z",
      "updated_at": "2025-04-27T13:28:35.081Z",
      "cooked": "<p>Thanks for your answers!</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"3\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>As often as possible? What is considered often? You can repeat it so often that your whole page is just a black rectangle across the whole height. One under another, or randomly all over the page? Why do you need to repeat the same thing multiple times? Is this some title page or something?</p>\n</blockquote>\n</aside>\n<p>Sorry if I was unclear. One item should be under the other (they pretty much fill the page horizontally), and then as many as may fit on that page. They‚Äôre grade sheets for teachers to use, and they need one for each pupil, but the more I can get on one page, the less printing is needed.</p>\n<p><a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a> Thanks for suggesting repeat, I was under the impression that I could use that only to fill space horizontally, not vertically. Hardcoding is a no-go, so thanks for suggesting the <code>measure</code> function, that might just help me over that hill <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>(e) Just seeing your EDIT, I‚Äôd indeed like a vertical repeat function for that exact use case.</p>",
      "raw": "Thanks for your answers!\n\n[quote=\"Andrew, post:3, topic:3818\"]\nAs often as possible? What is considered often? You can repeat it so often that your whole page is just a black rectangle across the whole height. One under another, or randomly all over the page? Why do you need to repeat the same thing multiple times? Is this some title page or something?\n[/quote]\n\nSorry if I was unclear. One item should be under the other (they pretty much fill the page horizontally), and then as many as may fit on that page. They're grade sheets for teachers to use, and they need one for each pupil, but the more I can get on one page, the less printing is needed.\n\n@vmartel08 Thanks for suggesting repeat, I was under the impression that I could use that only to fill space horizontally, not vertically. Hardcoding is a no-go, so thanks for suggesting the `measure` function, that might just help me over that hill :slight_smile:\n\n(e) Just seeing your EDIT, I'd indeed like a vertical repeat function for that exact use case.",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 0,
      "reads": 24,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1515
    },
    {
      "id": 11671,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T14:40:07.534Z",
      "updated_at": "2025-04-27T14:40:07.534Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"KillTheMule\" data-post=\"5\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/k/2DAB7D/48.png\" class=\"avatar\"> KillTheMule:</div>\n<blockquote>\n<p>One item should be under the other (they pretty much fill the page horizontally), and then as many as may fit on that page. They‚Äôre grade sheets for teachers to use, and they need one for each pupil, but the more I can get on one page, the less printing is needed.</p>\n</blockquote>\n</aside>\n<p>So zero space between them? For printing, I think most printers won‚Äôt print more than a few millimeters near the paper sides.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fill-first-page(body) = {\n  set page(margin: 5mm)\n  set par(spacing: 0pt)\n  layout(size =&gt; {\n    let table-size = measure(body, ..size)\n    let count = int(size.height / table-size.height)\n    for _ in range(count) {\n      body\n    }\n  })\n  pagebreak(weak: true)\n}\n\n#let the-table = {\n  set text(9pt)\n  show table.cell.where(y: 0): strong\n  let rows = 10\n  let header = (\n    [Date],\n    [Assignment Name],\n    [Points Earned],\n    [Points Possible],\n    [Total Earned],\n    [Total Possible],\n    [Current overall %],\n    [Current Letter Grade],\n  )\n  table(\n    columns: (15mm, 1fr) + (15mm,) * (header.len() - 2),\n    align: center + horizon,\n    table.header(..header),\n    ..range(header.len() * rows).map(_ =&gt; [~]),\n  )\n}\n\n#fill-first-page(the-table)\n\nSecond page\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23.png\" data-download-href=\"https://forum.typst.app/uploads/default/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23_2_353x500.png\" alt=\"image\" data-base62-sha1=\"aMJCJn4OLnED3TquggYKCW2e5ph\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23_2_353x500.png, https://forum.typst.app/uploads/default/optimized/2X/4/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23_2_529x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/4/4b9812a18a1e6a8b81cd230cdbd4cddb589f0a23_2_706x1000.png 2x\" data-dominant-color=\"4C4C49\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">737√ó1043 52.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<aside class=\"quote no-group\" data-username=\"KillTheMule\" data-post=\"5\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/k/2DAB7D/48.png\" class=\"avatar\"> KillTheMule:</div>\n<blockquote>\n<p>I was under the impression that I could use that only to fill space horizontally, not vertically.</p>\n</blockquote>\n</aside>\n<p>I haven‚Äôt seen a single example where <code>repeat</code> is used vertically. Maybe when CJK vertical layout will come. <a href=\"https://github.com/typst/typst/issues/5908\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">RFC: Vertical Writing Mode ¬∑ Issue #5908 ¬∑ typst/typst ¬∑ GitHub</a></p>",
      "raw": "[quote=\"KillTheMule, post:5, topic:3818\"]\nOne item should be under the other (they pretty much fill the page horizontally), and then as many as may fit on that page. They‚Äôre grade sheets for teachers to use, and they need one for each pupil, but the more I can get on one page, the less printing is needed.\n[/quote]\n\nSo zero space between them? For printing, I think most printers won't print more than a few millimeters near the paper sides.\n\n```typ\n#let fill-first-page(body) = {\n  set page(margin: 5mm)\n  set par(spacing: 0pt)\n  layout(size => {\n    let table-size = measure(body, ..size)\n    let count = int(size.height / table-size.height)\n    for _ in range(count) {\n      body\n    }\n  })\n  pagebreak(weak: true)\n}\n\n#let the-table = {\n  set text(9pt)\n  show table.cell.where(y: 0): strong\n  let rows = 10\n  let header = (\n    [Date],\n    [Assignment Name],\n    [Points Earned],\n    [Points Possible],\n    [Total Earned],\n    [Total Possible],\n    [Current overall %],\n    [Current Letter Grade],\n  )\n  table(\n    columns: (15mm, 1fr) + (15mm,) * (header.len() - 2),\n    align: center + horizon,\n    table.header(..header),\n    ..range(header.len() * rows).map(_ => [~]),\n  )\n}\n\n#fill-first-page(the-table)\n\nSecond page\n```\n\n![image|353x500](upload://aMJCJn4OLnED3TquggYKCW2e5ph.png)\n\n[quote=\"KillTheMule, post:5, topic:3818\"]\nI was under the impression that I could use that only to fill space horizontally, not vertically.\n[/quote]\n\nI haven't seen a single example where `repeat` is used vertically. Maybe when CJK vertical layout will come. https://github.com/typst/typst/issues/5908",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 3,
      "reads": 23,
      "score": 59.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11673,
      "post_number": 7,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T15:14:25.377Z",
      "updated_at": "2025-04-27T15:27:03.605Z",
      "cooked": "<p>This is a great solution for when the table takes the whole width of the page.</p>\n<p>A slight variation, merging both solutions (repeat both horizontally and vertically) would be:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fill-first-page(body) = {\n  set page(margin: 5mm)\n  set par(spacing: 0.5em)\n  layout(size =&gt; {\n    let table-size = measure(body, ..size)\n    let count = int(size.height / table-size.height)\n    for _ in range(count) {\n      repeat(body, gap: 0.5em)\n    }\n  })\n  pagebreak(weak: true)\n}\n\n#let the-table = table(\n  columns: 3,\n  [A], [B], [C],\n  ..range(1, 16).map(str),\n)\n\n#fill-first-page(the-table)\n\nSecond page\n</code></pre>\n<p>I did include a gap between the tables, which should be adjusted as needed.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/631f5d0c28f0ae26e2fc69306c4afa65dccb707b.png\" data-download-href=\"https://forum.typst.app/uploads/default/631f5d0c28f0ae26e2fc69306c4afa65dccb707b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/631f5d0c28f0ae26e2fc69306c4afa65dccb707b_2_174x250.png\" alt=\"image\" data-base62-sha1=\"e8SsRlOAqjBWhLsRHMWjmu06AfV\" width=\"174\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/631f5d0c28f0ae26e2fc69306c4afa65dccb707b_2_174x250.png, https://forum.typst.app/uploads/default/optimized/2X/6/631f5d0c28f0ae26e2fc69306c4afa65dccb707b_2_261x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/6/631f5d0c28f0ae26e2fc69306c4afa65dccb707b_2_348x500.png 2x\" data-dominant-color=\"2C2E2E\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">535√ó768 181 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "This is a great solution for when the table takes the whole width of the page. \n\nA slight variation, merging both solutions (repeat both horizontally and vertically) would be: \n\n```typ\n#let fill-first-page(body) = {\n  set page(margin: 5mm)\n  set par(spacing: 0.5em)\n  layout(size => {\n    let table-size = measure(body, ..size)\n    let count = int(size.height / table-size.height)\n    for _ in range(count) {\n      repeat(body, gap: 0.5em)\n    }\n  })\n  pagebreak(weak: true)\n}\n\n#let the-table = table(\n  columns: 3,\n  [A], [B], [C],\n  ..range(1, 16).map(str),\n)\n\n#fill-first-page(the-table)\n\nSecond page\n```\n\nI did include a gap between the tables, which should be adjusted as needed. \n![image|348x500, 50%](upload://e8SsRlOAqjBWhLsRHMWjmu06AfV.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 23,
      "score": 54.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11675,
      "post_number": 8,
      "username": "KillTheMule",
      "name": "Philipp Frank",
      "created_at": "2025-04-27T15:52:11.386Z",
      "updated_at": "2025-04-27T15:52:11.386Z",
      "cooked": "<p>Thanks both of you, that works nicely!</p>",
      "raw": "Thanks both of you, that works nicely!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1515
    },
    {
      "id": 11677,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T16:38:46.853Z",
      "updated_at": "2025-04-27T16:38:46.853Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"vmartel08\" data-post=\"7\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/vmartel08/48/1586_2.png\" class=\"avatar\"> vmartel08:</div>\n<blockquote>\n<p>This is a great solution for when the table takes the whole width of the page.</p>\n</blockquote>\n</aside>\n<p>If you mean that it‚Äôs an oversight, then it‚Äôs not:</p>\n<aside class=\"quote no-group\" data-username=\"KillTheMule\" data-post=\"5\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/k/2DAB7D/48.png\" class=\"avatar\"> KillTheMule:</div>\n<blockquote>\n<p>One item should be under the other (they pretty much fill the page horizontally)</p>\n</blockquote>\n</aside>",
      "raw": "[quote=\"vmartel08, post:7, topic:3818\"]\nThis is a great solution for when the table takes the whole width of the page.\n[/quote]\n\nIf you mean that it's an oversight, then it's not:\n\n[quote=\"KillTheMule, post:5, topic:3818\"]\nOne item should be under the other (they pretty much fill the page horizontally)\n[/quote]",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 2,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11678,
      "post_number": 10,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T17:00:43.337Z",
      "updated_at": "2025-04-27T17:00:43.337Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"9\" data-topic=\"3818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>If you mean that it‚Äôs an oversight, then it‚Äôs not:</p>\n</blockquote>\n</aside>\n<p>I didn‚Äôt think or implied it was an oversight (I had read the reply as well).</p>",
      "raw": "[quote=\"Andrew, post:9, topic:3818\"]\nIf you mean that it‚Äôs an oversight, then it‚Äôs not:\n[/quote]\n\nI didn't think or implied it was an oversight (I had read the reply as well).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    }
  ],
  "scraped_at": "2025-06-10T09:48:38.866409"
}
{
  "topic_metadata": {
    "id": 3826,
    "title": "How to vertically align corresponding factors in the Wallis product fraction",
    "slug": "how-to-vertically-align-corresponding-factors-in-the-wallis-product-fraction",
    "posts_count": 6,
    "created_at": "2025-04-27T16:27:59.967Z",
    "last_posted_at": "2025-04-29T18:28:15.263Z",
    "views": 76,
    "like_count": 11,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "math",
      "spacing"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 907
  },
  "posts": [
    {
      "id": 11676,
      "post_number": 1,
      "username": "Roberto",
      "name": "Roberto Giacomelli",
      "created_at": "2025-04-27T16:28:00.225Z",
      "updated_at": "2025-04-27T17:01:59.668Z",
      "cooked": "<p>Hi all,<br>\nthe following image represents the Wallis product:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/4/40a93f6ebed0037115e1478d2bcdaffc0a781561.png\" alt=\"immagine\" data-base62-sha1=\"9e1awL80SmVzf63yp28rWUnJvbP\" width=\"464\" height=\"83\"></p>\n<p>following the code in a math object I wrote to build the formula without typing manually each factor. It‚Äôs not a so annoying job anyway is interesting the proof of concept on Typst way to do so with its internal scripting language.</p>\n<details>\n<summary>\nSummary</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ pi/2 = #{\n  let num = () // numerator start\n  let den = () // denumerator start\n  // filling\n  for n in range(2, 12, step:2) {\n    num.push(str(n))\n    num.push(str(n))\n    den.push(str(n - 1))\n    den.push(str(n + 1))\n  }\n  // ending\n  num.push(\" dots.c\")\n  den.push(\" dots.c\")\n  // fraction output\n  eval(\n      \"(\" +\n      num.join(\" dot \") +\n      \")/(\"\n      + den.join(\" dot \") +\n      \")\",\n    mode: \"math\")\n} $\n</code></pre>\n</details>\n<p>Each factors of numerator and denominator is not vertically aligned one to one.<br>\nIs there a way to write a better code in order to generate series similar to the Wallis product?<br>\nWhich is the best way to align vertically factors?</p>\n<p>Thank you.<br>\nR.</p>",
      "raw": "Hi all,\nthe following image represents the Wallis product:\n![immagine|619x111, 75%](upload://9e1awL80SmVzf63yp28rWUnJvbP.png)\n\nfollowing the code in a math object I wrote to build the formula without typing manually each factor. It's not a so annoying job anyway is interesting the proof of concept on Typst way to do so with its internal scripting language.\n[details=\"Summary\"]\n```typ\n$ pi/2 = #{\n  let num = () // numerator start\n  let den = () // denumerator start\n  // filling\n  for n in range(2, 12, step:2) {\n    num.push(str(n))\n    num.push(str(n))\n    den.push(str(n - 1))\n    den.push(str(n + 1))\n  }\n  // ending\n  num.push(\" dots.c\")\n  den.push(\" dots.c\")\n  // fraction output\n  eval(\n      \"(\" +\n      num.join(\" dot \") +\n      \")/(\"\n      + den.join(\" dot \") +\n      \")\",\n    mode: \"math\")\n} $\n```\n[/details]\n\nEach factors of numerator and denominator is not vertically aligned one to one.\nIs there a way to write a better code in order to generate series similar to the Wallis product?\nWhich is the best way to align vertically factors?\n\nThank you.\nR.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 54.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1471
    },
    {
      "id": 11679,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-04-27T17:21:13.638Z",
      "updated_at": "2025-04-27T17:23:43.176Z",
      "cooked": "<p>You can use <a href=\"https://typst.app/docs/reference/layout/measure/\" class=\"inline-onebox\">Measure Function ‚Äì Typst Documentation</a> to figure out the (maximum) width of each pair of factors and then use <a href=\"https://typst.app/docs/reference/layout/box/\" class=\"inline-onebox\">Box Function ‚Äì Typst Documentation</a> to ‚Äúmanually‚Äù align the factors.</p>\n<p>With the show-set rule for the box alignment you can choose the relative alignment of the individual factors.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wallis-product(max) = context {\n  show box: set align(right)\n  \n  let num = ()\n  let den = ()\n  for n in range(1, max) {\n    let c = $#n$\n    let c-next = $#(n + 1)$\n    let width = calc.max(measure(c).width, measure(c-next).width)\n    if calc.even(n) {\n      num.push(box(width: width, c))\n      den.push(box(width: width, c-next))\n    } else {\n      den.push(box(width: width, c))\n      num.push(box(width: width, c-next))\n    }\n  }\n  num.push($...$)\n  den.push($...$)\n\n  $ pi / 2 = #num.join(math.dot) / #den.join(math.dot) $\n}\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334.png\" data-download-href=\"https://forum.typst.app/uploads/default/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334\" title=\"forum_3826_wallis-product\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334_2_690x105.png\" alt=\"forum_3826_wallis-product\" data-base62-sha1=\"6znU5dO3jkql89oVDK4kokVRK8A\" width=\"690\" height=\"105\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334_2_690x105.png, https://forum.typst.app/uploads/default/optimized/2X/2/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334_2_1035x157.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/2/2e0d0a954f9d8dd9ddcb77f063ebcbdf77bcd334_2_1380x210.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">forum_3826_wallis-product</span><span class=\"informations\">2301√ó353 112 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You can use https://typst.app/docs/reference/layout/measure/ to figure out the (maximum) width of each pair of factors and then use https://typst.app/docs/reference/layout/box/ to \"manually\" align the factors.\n\nWith the show-set rule for the box alignment you can choose the relative alignment of the individual factors.\n\n```typ\n#let wallis-product(max) = context {\n  show box: set align(right)\n  \n  let num = ()\n  let den = ()\n  for n in range(1, max) {\n    let c = $#n$\n    let c-next = $#(n + 1)$\n    let width = calc.max(measure(c).width, measure(c-next).width)\n    if calc.even(n) {\n      num.push(box(width: width, c))\n      den.push(box(width: width, c-next))\n    } else {\n      den.push(box(width: width, c))\n      num.push(box(width: width, c-next))\n    }\n  }\n  num.push($...$)\n  den.push($...$)\n\n  $ pi / 2 = #num.join(math.dot) / #den.join(math.dot) $\n}\n```\n\n![forum_3826_wallis-product|690x105](upload://6znU5dO3jkql89oVDK4kokVRK8A.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 22,
      "score": 59.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 11680,
      "post_number": 3,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-27T17:25:43.336Z",
      "updated_at": "2025-04-27T22:42:34.004Z",
      "cooked": "<p>Hi again <a class=\"mention\" href=\"/u/roberto\">@Roberto</a>,</p>\n<p>Here‚Äôs another way to do it without too much refactoring:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  pi / 2 = ( #{\n  let div = ()\n  // filling\n  for n in range(2, 12, step:2) {\n    div.push(str(n)+\"/\"+str(n - 1))\n    div.push(str(n)+\"/\"+str(n + 1))\n  }\n  // ending\n  div.push(\" dots.c\") //(\" dots.c / dots.c\")\n  // fraction output\n  eval(\n      div.join(\" dot \"),\n    mode: \"math\")\n} )\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e347b6632792e74b9b43fda7a0b8c9264090ddb7.png\" alt=\"image\" data-base62-sha1=\"wqC1Nvxd8u6Fsc5DVITHmeZTJDV\" width=\"466\" height=\"74\"></p>\n<p>EDIT: <a class=\"mention\" href=\"/u/janekfleper\">@janekfleper</a> sent their answer while I was still typing. A more elegant solution, which led me to streamline the code to something simpler and removing the <code>eval</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wallis-product(nb: 6) = {\n  let div = ()\n  for n in range(1, nb) {\n    div.push($( #(2*n) / #(2*n - 1) dot #(2*n) / #(2*n + 1) )$)\n  }\n  div.push($dots.c$)\n  div.join($dot$)\n}\n\n$ pi / 2 = #wallis-product() $\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a.png\" data-download-href=\"https://forum.typst.app/uploads/default/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a_2_690x143.png\" alt=\"image\" data-base62-sha1=\"t740aoJd5pfa7L7uLD3dGEBoUgG\" width=\"690\" height=\"143\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a_2_690x143.png, https://forum.typst.app/uploads/default/optimized/2X/c/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a_2_1035x214.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/c/cc0b7b3b6d232dbad4f3113b393dd1342b156e7a_2_1380x286.png 2x\" data-dominant-color=\"080808\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1510√ó313 44.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi again @Roberto, \n\nHere's another way to do it without too much refactoring: \n\n```typ\n$\n  pi / 2 = ( #{\n  let div = ()\n  // filling\n  for n in range(2, 12, step:2) {\n    div.push(str(n)+\"/\"+str(n - 1))\n    div.push(str(n)+\"/\"+str(n + 1))\n  }\n  // ending\n  div.push(\" dots.c\") //(\" dots.c / dots.c\")\n  // fraction output\n  eval(\n      div.join(\" dot \"),\n    mode: \"math\")\n} )\n$\n```\n\n![image|466x74](upload://wqC1Nvxd8u6Fsc5DVITHmeZTJDV.png)\n\nEDIT: @janekfleper sent their answer while I was still typing. A more elegant solution, which led me to streamline the code to something simpler and removing the `eval`:\n\n```typ\n#let wallis-product(nb: 6) = {\n  let div = ()\n  for n in range(1, nb) {\n    div.push($( #(2*n) / #(2*n - 1) dot #(2*n) / #(2*n + 1) )$)\n  }\n  div.push($dots.c$)\n  div.join($dot$)\n}\n\n$ pi / 2 = #wallis-product() $\n```\n![image|690x143](upload://t740aoJd5pfa7L7uLD3dGEBoUgG.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 34.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11698,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-27T22:17:51.567Z",
      "updated_at": "2025-04-27T22:17:51.567Z",
      "cooked": "<p>I think the product should only produce the product, and repeating the same thing 4 times is unnecessarily excessive:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wallis-product(max) = context {\n  show box: set align(center)\n\n  let num = ()\n  let den = ()\n  for n in range(1, max) {\n    let factors = ($#n$, $#(n + 1)$)\n    let width = calc.max(..factors.map(x =&gt; measure(x).width))\n    let (c, c-next) = factors.map(box.with(width: width))\n    if calc.odd(n) {\n      den.push(c)\n      num.push(c-next)\n    } else {\n      num.push(c)\n      den.push(c-next)\n    }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n\n  $num.join(dot) / den.join(dot)$\n}\n\n$ pi / 2 = #wallis-product(11) $\n</code></pre>\n<p>Though following the same principle show-set rule is not needed either:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wallis-product(max) = context {\n  let (num, den) = ((), ())\n  for n in range(1, max) {\n    let factors = ($#n$, $#(n + 1)$)\n    let width = calc.max(..factors.map(x =&gt; measure(x).width))\n    let (c, c-next) = factors.map(x =&gt; box(width: width, align(center, x)))\n    if calc.odd(n) {\n      den.push(c)\n      num.push(c-next)\n    } else {\n      num.push(c)\n      den.push(c-next)\n    }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n  $num.join(dot) / den.join(dot)$\n}\n\n$ pi / 2 = #wallis-product(11) $\n</code></pre>",
      "raw": "I think the product should only produce the product, and repeating the same thing 4 times is unnecessarily excessive:\n\n```typ\n#let wallis-product(max) = context {\n  show box: set align(center)\n\n  let num = ()\n  let den = ()\n  for n in range(1, max) {\n    let factors = ($#n$, $#(n + 1)$)\n    let width = calc.max(..factors.map(x => measure(x).width))\n    let (c, c-next) = factors.map(box.with(width: width))\n    if calc.odd(n) {\n      den.push(c)\n      num.push(c-next)\n    } else {\n      num.push(c)\n      den.push(c-next)\n    }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n\n  $num.join(dot) / den.join(dot)$\n}\n\n$ pi / 2 = #wallis-product(11) $\n```\n\nThough following the same principle show-set rule is not needed either:\n\n```typ\n#let wallis-product(max) = context {\n  let (num, den) = ((), ())\n  for n in range(1, max) {\n    let factors = ($#n$, $#(n + 1)$)\n    let width = calc.max(..factors.map(x => measure(x).width))\n    let (c, c-next) = factors.map(x => box(width: width, align(center, x)))\n    if calc.odd(n) {\n      den.push(c)\n      num.push(c-next)\n    } else {\n      num.push(c)\n      den.push(c-next)\n    }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n  $num.join(dot) / den.join(dot)$\n}\n\n$ pi / 2 = #wallis-product(11) $\n```",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11748,
      "post_number": 5,
      "username": "Roberto",
      "name": "Roberto Giacomelli",
      "created_at": "2025-04-28T18:10:12.093Z",
      "updated_at": "2025-04-28T18:10:12.093Z",
      "cooked": "<p>I really appreciate everyone‚Äôs code in the answers to the question. I‚Äôm learning something new from every bit of code you‚Äôve shared.<br>\nTypst‚Äôs scripting language is intuitive and funny to work with, if one have in mind the syntax of modern programming languages.<br>\nThank you <a class=\"mention\" href=\"/u/andrew\">@Andrew</a> <a class=\"mention\" href=\"/u/janekfleper\">@janekfleper</a> <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a><br>\nR.</p>",
      "raw": "I really appreciate everyone's code in the answers to the question. I'm learning something new from every bit of code you've shared.\nTypst's scripting language is intuitive and funny to work with, if one have in mind the syntax of modern programming languages.\nThank you @Andrew @janekfleper @vmartel08 \nR.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 14,
      "score": 32.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1471
    },
    {
      "id": 11806,
      "post_number": 6,
      "username": "Roberto",
      "name": "Roberto Giacomelli",
      "created_at": "2025-04-29T18:28:15.263Z",
      "updated_at": "2025-04-29T18:28:15.263Z",
      "cooked": "<p>Hey everyone,<br>\nSharing a second go at the Wallis product, and this one‚Äôs inspired by <a class=\"mention\" href=\"/u/janekfleper\">@janekfleper</a>‚Äôs work. The really interesting thing about this v2 is that it only puts a box around one integer ‚Äì the one that happens to be the narrowest. And get this, the box isn‚Äôt aligned with anything on purpose.<br>\nI was under the impression that stuff in math formulas was automatically centered. Guess I was wrong!<br>\nThis new version also has a different way to create the sequences of integers. It uses two starting integers and then increases them by 2, but it alternates between the two.<br>\nThanks!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wallis_v2(num_of_frac: 6) = context {\n  assert(num_of_frac &gt; 0, message : \"Insert a value greater than 0 for 'num_of_frac'\")\n  let n = 2\n  let d = 1\n  let num = ()\n  let den = ()\n  for _ in range(num_of_frac) {\n    // insert the current fraction n/d\n    let n1 = $#n$\n    let d1 = $#d$\n    let n1_len = measure(n1).width\n    let d1_len = measure(d1).width\n    if n1_len &gt; d1_len {\n      num.push(n1)\n      den.push(box(d1, width:n1_len))\n    } else {\n      num.push(box(n1, width:d1_len))\n      den.push(d1)\n    }\n    // prepare the next fraction\n    if n &lt; d { n += 2 } else { d += 2 }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n  // output\n  $ pi/2 = #num.join($dot$) / #den.join($dot$) $\n}\n\n#wallis_v2(num_of_frac: 14)\n</code></pre>",
      "raw": "Hey everyone,\nSharing a second go at the Wallis product, and this one's inspired by @janekfleper's work. The really interesting thing about this v2 is that it only puts a box around one integer ‚Äì the one that happens to be the narrowest. And get this, the box isn't aligned with anything on purpose.\nI was under the impression that stuff in math formulas was automatically centered. Guess I was wrong!\nThis new version also has a different way to create the sequences of integers. It uses two starting integers and then increases them by 2, but it alternates between the two.\nThanks!\n```typ\n#let wallis_v2(num_of_frac: 6) = context {\n  assert(num_of_frac > 0, message : \"Insert a value greater than 0 for 'num_of_frac'\")\n  let n = 2\n  let d = 1\n  let num = ()\n  let den = ()\n  for _ in range(num_of_frac) {\n    // insert the current fraction n/d\n    let n1 = $#n$\n    let d1 = $#d$\n    let n1_len = measure(n1).width\n    let d1_len = measure(d1).width\n    if n1_len > d1_len {\n      num.push(n1)\n      den.push(box(d1, width:n1_len))\n    } else {\n      num.push(box(n1, width:d1_len))\n      den.push(d1)\n    }\n    // prepare the next fraction\n    if n < d { n += 2 } else { d += 2 }\n  }\n  num.push($dots.c$)\n  den.push($dots.c$)\n  // output\n  $ pi/2 = #num.join($dot$) / #den.join($dot$) $\n}\n\n#wallis_v2(num_of_frac: 14)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 12,
      "score": 37.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1471
    }
  ],
  "scraped_at": "2025-06-10T09:48:38.136435"
}
{
  "topic_metadata": {
    "id": 3830,
    "title": "How can I create two differently formatted, reusable types of table?",
    "slug": "how-can-i-create-two-differently-formatted-reusable-types-of-table",
    "posts_count": 3,
    "created_at": "2025-04-27T18:01:06.827Z",
    "last_posted_at": "2025-05-04T11:30:22.564Z",
    "views": 80,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bluss",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 353
  },
  "posts": [
    {
      "id": 11686,
      "post_number": 1,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-04-27T18:01:06.993Z",
      "updated_at": "2025-04-27T21:42:22.842Z",
      "cooked": "<p>Hi, I am currently trying to create two different specially styled tables. One with e.g. all text in bold for all cells and one with e.g. no visible strokes.<br>\nThroughout the document I want to reuse these styles for some tables.<br>\nHow could I implement this?<br>\nKind regards,<br>\nKapati</p>",
      "raw": "Hi, I am currently trying to create two different specially styled tables. One with e.g. all text in bold for all cells and one with e.g. no visible strokes.\nThroughout the document I want to reuse these styles for some tables.\nHow could I implement this?\nKind regards,\nKapati",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 100.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    },
    {
      "id": 11687,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-27T18:50:50.761Z",
      "updated_at": "2025-04-27T18:50:50.761Z",
      "cooked": "<p>Here are two different ways to do it. We can define functions - <code>#bold-table()</code> and <code>#no-stroke-table()</code>  that are wrappers for <code>table</code>.</p>\n<p>You can also style tables without wrapping them in functions and marking them by labels instead. The same label can be applied to one or more tables.</p>\n<p>The two tables in the example look like this:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/34e44be9c4df3d4be4eb4a80458a09a8ce42649c.png\" alt=\"bild\" data-base62-sha1=\"7xTWZHxzjvpP7SHNbsMpV1Z7Bs8\" width=\"94\" height=\"218\"></p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">These are prototypes - first implement the styles you want\n\n#let headers = ([A], [B])\n#let data = range(4).map(str)\n#let hrule = table.hline(stroke: 0.08em)\n\n#{\nshow table: set text(weight: \"bold\")\ntable(\n  columns: 2,\n  stroke: (x, y) =&gt; if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none },\n  table.header(..headers),\n  ..data,\n  hrule\n)\n}\n\n#table(\n  columns: 2,\n  stroke: none,\n  table.header(..headers),\n  ..data,\n)\n\n---\n\nFinished versions: using functions - translate the style into functions\n\n#let bold-table(..args) = {\n  show table: set text(weight: \"bold\")\n  table(\n    stroke: (x, y) =&gt; if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none },\n    ..args\n  )\n}\n#let no-stroke-table = table.with(stroke: none)\n\n#bold-table(\n  columns: 2,\n  table.header(..headers),\n  ..data,\n  hrule\n)\n\n#no-stroke-table(\n  columns: 2,\n  table.header(..headers),\n  ..data\n)\n\n---\n\nFinished versions - using labels to set style\n\n#show &lt;bold-table&gt;: set text(weight: \"bold\")\n#show &lt;bold-table&gt;: set table(stroke: (x, y) =&gt; if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none })\n\n#show &lt;no-stroke-table&gt;: set table(stroke: none)\n\n#table(\n  columns: 2,\n  table.header(..headers),\n  ..data,\n  hrule\n)&lt;bold-table&gt;\n\n\n#table(\n  columns: 2,\n  table.header(..headers),\n  ..data\n)&lt;no-stroke-table&gt;\n</code></pre>",
      "raw": "Here are two different ways to do it. We can define functions - `#bold-table()` and `#no-stroke-table()`  that are wrappers for `table`.\n\nYou can also style tables without wrapping them in functions and marking them by labels instead. The same label can be applied to one or more tables.\n\nThe two tables in the example look like this:\n\n![bild|94x218](upload://7xTWZHxzjvpP7SHNbsMpV1Z7Bs8.png)\n\n\n\n```typst\nThese are prototypes - first implement the styles you want\n\n#let headers = ([A], [B])\n#let data = range(4).map(str)\n#let hrule = table.hline(stroke: 0.08em)\n\n#{\nshow table: set text(weight: \"bold\")\ntable(\n  columns: 2,\n  stroke: (x, y) => if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none },\n  table.header(..headers),\n  ..data,\n  hrule\n)\n}\n\n#table(\n  columns: 2,\n  stroke: none,\n  table.header(..headers),\n  ..data,\n)\n\n---\n\nFinished versions: using functions - translate the style into functions\n\n#let bold-table(..args) = {\n  show table: set text(weight: \"bold\")\n  table(\n    stroke: (x, y) => if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none },\n    ..args\n  )\n}\n#let no-stroke-table = table.with(stroke: none)\n\n#bold-table(\n  columns: 2,\n  table.header(..headers),\n  ..data,\n  hrule\n)\n\n#no-stroke-table(\n  columns: 2,\n  table.header(..headers),\n  ..data\n)\n\n---\n\nFinished versions - using labels to set style\n\n#show <bold-table>: set text(weight: \"bold\")\n#show <bold-table>: set table(stroke: (x, y) => if y == 0 { (top: 0.08em, bottom: 0.04em) } else { none })\n\n#show <no-stroke-table>: set table(stroke: none)\n\n#table(\n  columns: 2,\n  table.header(..headers),\n  ..data,\n  hrule\n)<bold-table>\n\n\n#table(\n  columns: 2,\n  table.header(..headers),\n  ..data\n)<no-stroke-table>\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 29.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11950,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-04T11:30:22.564Z",
      "updated_at": "2025-05-04T11:30:22.564Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/kapati\">@Kapati</a>, thanks for your question! If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\">. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!</p>",
      "raw": "Hi @Kapati, thanks for your question! If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark :ballot_box_with_check:. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:48:37.415716"
}
{
  "topic_metadata": {
    "id": 3834,
    "title": "How to override paragraph settings inside \"Gentle Clues\" tips",
    "slug": "how-to-override-paragraph-settings-inside-gentle-clues-tips",
    "posts_count": 4,
    "created_at": "2025-04-27T20:36:43.624Z",
    "last_posted_at": "2025-05-04T15:47:12.662Z",
    "views": 69,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "bluss",
    "tags": [
      "scripting",
      "layout",
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 375
  },
  "posts": [
    {
      "id": 11692,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-27T20:36:43.766Z",
      "updated_at": "2025-04-27T20:36:43.766Z",
      "cooked": "<p>I have my paragraphs in the main text set with:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(\n  first-line-indent: 1em,\n  spacing: 0.65em,\n  justify: true,\n)\n</code></pre>\n<p>But I am also using the ‚ÄúGentle Clues‚Äù package, and I would like to remove the <code>first-line-indent</code> and <code>spacing</code> settings within the ‚Äútips‚Äù, so that any paragraphs within the tips will have no indent and have an empty line between them (like the default without those set).</p>\n<p>The docs for the ‚ÄúGentle Clues‚Äù package gives no indication how to go about it. Could someone please help? Currently, my only solution is to use a list, but I don‚Äôt really want list-formatting,</p>\n<p>Many thanks.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "I have my paragraphs in the main text set with:\n\n``` typ\n#set par(\n  first-line-indent: 1em,\n  spacing: 0.65em,\n  justify: true,\n)\n```\nBut I am also using the \"Gentle Clues\" package, and I would like to remove the `first-line-indent` and `spacing` settings within the \"tips\", so that any paragraphs within the tips will have no indent and have an empty line between them (like the default without those set).\n\nThe docs for the \"Gentle Clues\" package gives no indication how to go about it. Could someone please help? Currently, my only solution is to use a list, but I don‚Äôt really want list-formatting,\n\nMany thanks.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 15.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11693,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-27T21:14:05.695Z",
      "updated_at": "2025-04-27T21:14:05.695Z",
      "cooked": "<p>Is it just the <code>tip</code> clue you want to change? Then I think this is the way to go about it, you wrap that function with your modification.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/gentle-clues:1.2.0\" as gentle-clues-pkg: *\n#let tip(..args, body) = gentle-clues-pkg.tip(..args, {\n  set par(first-line-indent: 0pt)\n  body\n})\n</code></pre>\n<p>I think a preferred solution would be something that more straightforwardly let you set this up using just regular <code>show</code> and/or <code>set</code> rules, but that might have to wait for future typst versions with some kind of custom tags, classes or types that packages could use.</p>",
      "raw": "Is it just the `tip` clue you want to change? Then I think this is the way to go about it, you wrap that function with your modification.\n\n```typst\n#import \"@preview/gentle-clues:1.2.0\" as gentle-clues-pkg: *\n#let tip(..args, body) = gentle-clues-pkg.tip(..args, {\n  set par(first-line-indent: 0pt)\n  body\n})\n```\n\nI think a preferred solution would be something that more straightforwardly let you set this up using just regular `show` and/or `set` rules, but that might have to wait for future typst versions with some kind of custom tags, classes or types that packages could use.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11751,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-28T20:27:53.747Z",
      "updated_at": "2025-04-28T20:27:53.747Z",
      "cooked": "<p>Thanks <a class=\"mention\" href=\"/u/bluss\">@bluss</a>. At the moment, I‚Äôm using ‚Äútip‚Äù, though I‚Äôm defining a custom title and using <code>icon: none</code>; if I decide to change, I‚Äôll probably use ‚Äúexample‚Äù, it‚Äôs simply a matter of the colour, so it will be easy to make the changes.</p>\n<p>I think your solution might work well. I‚Äôll give it a try and report back. I am away at the moment, so it‚Äôll have to wait a day or so.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks @bluss. At the moment, I‚Äôm using \"tip\", though I‚Äôm defining a custom title and using `icon: none`; if I decide to change, I‚Äôll probably use \"example\", it‚Äôs simply a matter of the colour, so it will be easy to make the changes.\n\nI think your solution might work well. I‚Äôll give it a try and report back. I am away at the moment, so it‚Äôll have to wait a day or so.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11972,
      "post_number": 4,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-05-04T15:47:12.662Z",
      "updated_at": "2025-05-04T15:51:40.207Z",
      "cooked": "<p>Back at  my computer now. The solution <a class=\"mention\" href=\"/u/bluss\">@bluss</a> gave works well, I merely had to modify it slightly;</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/gentle-clues:1.2.0\" as gentle-clues-pkg: *\n#let tip(..args, body) = gentle-clues-pkg.tip(..args, {\n  set par(first-line-indent: 0pt,\n  spacing: 1em,\n )\n  body\n})\n</code></pre>\n<p>to ensure a blank line between paragraphs. So thanks very much for that. I do have another question in relation to ‚ÄúGentle Clues‚Äù, but I‚Äôll start a new topic.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Back at  my computer now. The solution @bluss gave works well, I merely had to modify it slightly;\n\n``` typ\n#import \"@preview/gentle-clues:1.2.0\" as gentle-clues-pkg: *\n#let tip(..args, body) = gentle-clues-pkg.tip(..args, {\n  set par(first-line-indent: 0pt,\n  spacing: 1em,\n )\n  body\n})\n```\nto ensure a blank line between paragraphs. So thanks very much for that. I do have another question in relation to \"Gentle Clues\", but I'll start a new topic.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    }
  ],
  "scraped_at": "2025-06-10T09:48:36.680108"
}
{
  "topic_metadata": {
    "id": 3838,
    "title": "How do I underline URLs with display texts containing more than one character?",
    "slug": "how-do-i-underline-urls-with-display-texts-containing-more-than-one-character",
    "posts_count": 6,
    "created_at": "2025-04-27T23:26:20.973Z",
    "last_posted_at": "2025-05-02T20:15:44.743Z",
    "views": 99,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "bluss",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 378
  },
  "posts": [
    {
      "id": 11700,
      "post_number": 1,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-04-27T23:26:21.204Z",
      "updated_at": "2025-04-29T09:40:36.210Z",
      "cooked": "<p>I use following code to automatically underline all my URLs:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: underline\n</code></pre>\n<p>How can I prevent a single link like</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#link(&lt;K-1&gt;)[1]\n</code></pre>\n<p>from being underlined?</p>",
      "raw": "I use following code to automatically underline all my URLs:\n```typst\n#show link: underline\n```\n\nHow can I prevent a single link like\n```typst\n#link(<K-1>)[1]\n```\nfrom being underlined?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 205.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    },
    {
      "id": 11702,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-04-28T01:22:40.208Z",
      "updated_at": "2025-04-29T09:47:29.954Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/kapati\">@Kapati</a></p>\n<p>I‚Äôve renamed your title to keep it consistent with the forum guidelines for questions. For the future, pose your questions like how you would ask a friend.</p>\n<p>Although I don‚Äôt have access to my computer (am traveling now and don‚Äôt have anything better to do than answer some questions on this forum), I hope I can help you in some way.</p>\n<p>An option would be to check the length of the display text by converting it somehow to a string and retrieving the length. If it‚Äôs length 1, then display the link without underline (through <code>#show</code>) and else just display it as it is.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: it =&gt; {\n  // check for length of the display text and change the display accordingly (#show link: set underline(none) or something, I don't know the syntax from memory...\n\n  if length == 1 {\n    it\n  } else {\n    underline(it)\n  }\n}\n</code></pre>\n<p><code>length</code> would be assigned somewhere before the if statement by you ;)</p>\n<p><strong>NOTE</strong> changed pseudo code to reflect Typst default of not underlining URLs</p>",
      "raw": "Hi @Kapati \n\nI've renamed your title to keep it consistent with the forum guidelines for questions. For the future, pose your questions like how you would ask a friend.\n\nAlthough I don't have access to my computer (am traveling now and don't have anything better to do than answer some questions on this forum), I hope I can help you in some way.\n\nAn option would be to check the length of the display text by converting it somehow to a string and retrieving the length. If it's length 1, then display the link without underline (through `#show`) and else just display it as it is.\n\n```typst\n#show link: it => {\n  // check for length of the display text and change the display accordingly (#show link: set underline(none) or something, I don't know the syntax from memory...\n\n  if length == 1 {\n    it\n  } else {\n    underline(it)\n  }\n}\n```\n\n`length` would be assigned somewhere before the if statement by you ;)\n\n**NOTE** changed pseudo code to reflect Typst default of not underlining URLs",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 11711,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-28T08:37:36.666Z",
      "updated_at": "2025-04-28T08:37:36.666Z",
      "cooked": "<p>If the question is, for any particular link, how do I ‚Äúcancel‚Äù that general show rule? It‚Äôs not always so easy, but for this underline rule it should be fine. Like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: underline\nLink target&lt;K-1&gt;\n\n#link(&lt;K-1&gt;)[1]\n\n#let nounderline(body) = {\n  show underline: it =&gt; it.body\n  body\n}\n#nounderline(link(&lt;K-1&gt;)[1])\n</code></pre>\n<p>So you can wrap anywhere you want to disable underline in your <code>nounderline</code> function.</p>",
      "raw": "If the question is, for any particular link, how do I \"cancel\" that general show rule? It's not always so easy, but for this underline rule it should be fine. Like this:\n\n\n```typst\n#show link: underline\nLink target<K-1>\n\n#link(<K-1>)[1]\n\n#let nounderline(body) = {\n  show underline: it => it.body\n  body\n}\n#nounderline(link(<K-1>)[1])\n```\n\nSo you can wrap anywhere you want to disable underline in your `nounderline` function.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11714,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-28T10:35:30.037Z",
      "updated_at": "2025-04-28T10:35:30.037Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/t4t:0.4.2\": get\n\n#show link: it =&gt; {\n  let text = get.text(it.body)\n  if text != none and text.clusters().len() == 1 { return it }\n  underline(it)\n}\n\n#link(\"link\")[#text(green)[1]]\n\n#link(\"link\")[12]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6d051c9aa5756b0afe4a8520632b219cf0680010.png\" alt=\"image\" data-base62-sha1=\"fyqZL5iMJI3USgCoi45q8Lbq73W\" width=\"46\" height=\"74\"></p>",
      "raw": "```typ\n#import \"@preview/t4t:0.4.2\": get\n\n#show link: it => {\n  let text = get.text(it.body)\n  if text != none and text.clusters().len() == 1 { return it }\n  underline(it)\n}\n\n#link(\"link\")[#text(green)[1]]\n\n#link(\"link\")[12]\n```\n\n![image|46x74](upload://fyqZL5iMJI3USgCoi45q8Lbq73W.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 39.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11774,
      "post_number": 5,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-04-29T09:45:31.811Z",
      "updated_at": "2025-04-29T09:45:31.811Z",
      "cooked": "<p>I adjusted the title to better reflect the Typst default of not underlining URLs.</p>\n<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a> got a good solution on how to solve this. As by default the URLs are not underlined, we simply look for the correct condition (length &gt; 2 characters) and apply the underline under said condition.</p>",
      "raw": "I adjusted the title to better reflect the Typst default of not underlining URLs.\n\n@Andrew got a good solution on how to solve this. As by default the URLs are not underlined, we simply look for the correct condition (length > 2 characters) and apply the underline under said condition.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 11905,
      "post_number": 6,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-05-02T20:15:44.743Z",
      "updated_at": "2025-05-02T20:15:44.743Z",
      "cooked": "<p>Thank you all! I think I found a good solution with bluss answer.</p>",
      "raw": "Thank you all! I think I found a good solution with bluss answer.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    }
  ],
  "scraped_at": "2025-06-10T09:48:35.581217"
}
{
  "topic_metadata": {
    "id": 3839,
    "title": "How to load variable with links to a table?",
    "slug": "how-to-load-variable-with-links-to-a-table",
    "posts_count": 4,
    "created_at": "2025-04-27T23:37:46.644Z",
    "last_posted_at": "2025-05-04T11:36:17.708Z",
    "views": 61,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "scripting",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 455
  },
  "posts": [
    {
      "id": 11701,
      "post_number": 1,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-04-27T23:37:46.737Z",
      "updated_at": "2025-04-28T04:17:33.926Z",
      "cooked": "<p>I have the following typst table code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    [#link(&lt;K-1&gt;)[1]], [Title1], [Book1],\n  [#link(&lt;K-2&gt;)[2]], [Title2], [Book2],\n), caption: [Books]\n)\n</code></pre>\n<p>When I move the two book entries to a variable and use ‚Ä¶data the links are not working anymore.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">\n\n#let data = (\"#link(&lt;K-1&gt;)[1]]\", \"Title1\", \"Book1\", \"#link(&lt;K-2&gt;)[2]]\", \"Title2\", \"Book2\")\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n</code></pre>\n<p>Is it possible to get the links working?</p>",
      "raw": "I have the following typst table code:\n```typst \n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    [#link(<K-1>)[1]], [Title1], [Book1],\n  [#link(<K-2>)[2]], [Title2], [Book2],\n), caption: [Books]\n)\n```\n\nWhen I move the two book entries to a variable and use ..data the links are not working anymore.\n\n\n\n```typst\n\n\n#let data = (\"#link(<K-1>)[1]]\", \"Title1\", \"Book1\", \"#link(<K-2>)[2]]\", \"Title2\", \"Book2\")\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n```\n\nIs it possible to get the links working?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 59.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    },
    {
      "id": 11705,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-04-28T04:18:42.108Z",
      "updated_at": "2025-04-28T04:18:42.108Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/kapati\">@Kapati</a>, welcome to the forum! I‚Äôve moved your question to the dedicated <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category. In addition, I‚Äôve changed your question post‚Äôs title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you‚Äôd ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Kapati, welcome to the forum! I've moved your question to the dedicated #questions category. In addition, I‚Äôve changed your question post‚Äôs title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you‚Äôd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 11706,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-04-28T04:24:52.196Z",
      "updated_at": "2025-04-28T04:25:18.594Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Kapati\" data-post=\"1\" data-topic=\"3839\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/k/43062F/48.png\" class=\"avatar\"> Kapati:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let data = (\"#link(&lt;K-1&gt;)[1]]\", \"Title1\", \"Book1\", \"#link(&lt;K-2&gt;)[2]]\", \"Title2\", \"Book2\")\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n</code></pre>\n</blockquote>\n</aside>\n<p>In the process of moving the data to a separate variable, it seems you accidentally changed the <code>[markup blocks]</code> into <code>\"strings\"</code>. <code>\"strings\"</code> have no formatting, such as links or bold text, at all. Rather, you should remain using <code>[markup blocks]</code>, which support all of Typst‚Äôs markup syntax:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let data = ([#link(&lt;K-1&gt;)[1]]], [Title1], [Book1], [#link(&lt;K-2&gt;)[2]]], [Title2], [Book2])\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n</code></pre>\n<p>Now, your example is very small, and, in particular, you didn‚Äôt mention <em>why</em> you moved the data to a separate variable. This is a crucial bit of information. Therefore, I am going to infer that you might be loading this data from an external non-Typst file, such as a CSV file, which of course only contains strings since it‚Äôs not a Typst file. <strong>If that is the case,</strong> you can use <code>eval(data, mode: markup)</code> to ask Typst to interpret each string as if it were Typst markup code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let data = csv(\"file.csv\").flatten() // flatten arrays of arrays into a single array of cells\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data.map(cell =&gt; eval(cell, mode: markup))\n    // NOTE: equivalent to\n    // ..data.map(eval.with(mode: markup))\n), caption: [Books]\n)\n</code></pre>",
      "raw": "[quote=\"Kapati, post:1, topic:3839\"]\n```typ\n#let data = (\"#link(<K-1>)[1]]\", \"Title1\", \"Book1\", \"#link(<K-2>)[2]]\", \"Title2\", \"Book2\")\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n```\n[/quote]\n\nIn the process of moving the data to a separate variable, it seems you accidentally changed the `[markup blocks]` into `\"strings\"`. `\"strings\"` have no formatting, such as links or bold text, at all. Rather, you should remain using `[markup blocks]`, which support all of Typst's markup syntax:\n\n```typ\n#let data = ([#link(<K-1>)[1]]], [Title1], [Book1], [#link(<K-2>)[2]]], [Title2], [Book2])\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data\n), caption: [Books]\n)\n```\n\nNow, your example is very small, and, in particular, you didn't mention _why_ you moved the data to a separate variable. This is a crucial bit of information. Therefore, I am going to infer that you might be loading this data from an external non-Typst file, such as a CSV file, which of course only contains strings since it's not a Typst file. **If that is the case,** you can use `eval(data, mode: markup)` to ask Typst to interpret each string as if it were Typst markup code:\n\n```typ\n#let data = csv(\"file.csv\").flatten() // flatten arrays of arrays into a single array of cells\n\n#figure(\ntable(\n  columns: (auto, 1fr, auto),\n  align: left,\n  [ID], [Title], [Book],\n    ..data.map(cell => eval(cell, mode: markup))\n    // NOTE: equivalent to\n    // ..data.map(eval.with(mode: markup))\n), caption: [Books]\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 2,
      "reads": 22,
      "score": 69.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 11951,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-04T11:36:17.708Z",
      "updated_at": "2025-05-04T11:36:17.708Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/kapati\">@Kapati</a>, thanks for your question! If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\">. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!</p>",
      "raw": "Hi @Kapati, thanks for your question! If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark :ballot_box_with_check:. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:48:34.805851"
}
