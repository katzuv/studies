{
  "topic_metadata": {
    "id": 2686,
    "title": "Figure outline customization (number+caption) in Typst 0.13",
    "slug": "figure-outline-customization-number-caption-in-typst-0-13",
    "posts_count": 12,
    "created_at": "2025-02-05T20:13:49.524Z",
    "last_posted_at": "2025-02-07T12:08:01.837Z",
    "views": 445,
    "like_count": 1,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 12,
    "accepted_answer_username": "tcfx",
    "tags": [
      "outline",
      "v0-13"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 907
  },
  "posts": [
    {
      "id": 8246,
      "post_number": 1,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-05T20:13:49.709Z",
      "updated_at": "2025-02-05T21:35:43.477Z",
      "cooked": "<p>Now that the first RC for 0.13 is out, I thought I‚Äôd try to adapt my template. I‚Äôve been trying to fix some outline show rules by reading the preview docs, yet there‚Äôs still a problematic part in my code that I don‚Äôt know how to fix:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">  // Make the Lists of Figures/Tables/... more concise and easier to read, like in the LaTeX templates\n  show outline.entry: it =&gt; context {\n    if it.element.has(\"kind\") {\n      let loc = it.element.location()\n\n      if counter(figure.where(kind: it.element.kind)).at(loc).first() == 1 {\n        v(1em)\n      }\n\n      show link: set text(rgb(\"000000\"))\n      link(loc,\n        box(it.body.children.at(2), width: 2.6em) // figure number\n        + it.body.children.slice(4).join()        // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page\n      )\n    } else {\n      it\n    }\n  }\n</code></pre>\n<p>This code serves to visually simplify figure outlines, by using <code>show</code> rules to, among other things, hide the supplements. The problematic part is here:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">      link(loc,\n        box(it.body.children.at(2), width: 2.6em) // figure number\n        + it.body.children.slice(4).join()        // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page\n      )\n</code></pre>\n<p>While I understood <s>that <code>it.body</code> is now <code>it.element.body</code> and</s> that <code>it.page</code> is now <code>it.page()</code>, I have no idea of where the numbers and captions of the figure went. How can I replicate those?</p>",
      "raw": "Now that the first RC for 0.13 is out, I thought I'd try to adapt my template. I've been trying to fix some outline show rules by reading the preview docs, yet there's still a problematic part in my code that I don't know how to fix:\n\n```typc\n  // Make the Lists of Figures/Tables/... more concise and easier to read, like in the LaTeX templates\n  show outline.entry: it => context {\n    if it.element.has(\"kind\") {\n      let loc = it.element.location()\n\n      if counter(figure.where(kind: it.element.kind)).at(loc).first() == 1 {\n        v(1em)\n      }\n\n      show link: set text(rgb(\"000000\"))\n      link(loc,\n        box(it.body.children.at(2), width: 2.6em) // figure number\n        + it.body.children.slice(4).join()        // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page\n      )\n    } else {\n      it\n    }\n  }\n```\n\nThis code serves to visually simplify figure outlines, by using `show` rules to, among other things, hide the supplements. The problematic part is here:\n\n```typc\n      link(loc,\n        box(it.body.children.at(2), width: 2.6em) // figure number\n        + it.body.children.slice(4).join()        // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page\n      )\n```\n\nWhile I understood ~~that `it.body` is now `it.element.body` and~~ that `it.page` is now `it.page()`, I have no idea of where the numbers and captions of the figure went. How can I replicate those?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 65,
      "score": 1292.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 515
    },
    {
      "id": 8248,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-05T20:46:54.811Z",
      "updated_at": "2025-02-05T21:07:57.317Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/tcfx\">@tcfx</a>,<br>\nif you use the web app or the Tinymist extension, you can hover with your mouse pointer over code, for example <code>it.element</code> and see all the internal fields of the element.<br>\nTo get the caption you need to use <s><code>it.element.caption.body</code></s> Edit: see laurmaedje‚Äôs answer</p>\n<p>The correct figure number is a bit more complicated, you need: <code>numbering(it.element.numbering, ..it.element.counter.at(it.element.location()))</code></p>",
      "raw": "Hi @tcfx,\nif you use the web app or the Tinymist extension, you can hover with your mouse pointer over code, for example `it.element` and see all the internal fields of the element. \nTo get the caption you need to use ~~`it.element.caption.body`~~ Edit: see laurmaedje's answer\n\nThe correct figure number is a bit more complicated, you need: `numbering(it.element.numbering, ..it.element.counter.at(it.element.location()))`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 62,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8249,
      "post_number": 3,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2025-02-05T20:54:26.123Z",
      "updated_at": "2025-02-05T20:54:26.123Z",
      "cooked": "<p>To replace <code>it.body</code>, you should be using <code>it.body()</code> rather than <code>it.element.body</code>. The numbering is now separate and accessible via <code>it.prefix()</code>, so you don‚Äôt have to go through the whole ordeal with <code>numbering(..)</code> etc.</p>\n<p>The preview outline entry docs are a bit messed up because the docs generator choked on methods in a sub-element. We need to fix that before the proper release.</p>",
      "raw": "To replace `it.body`, you should be using `it.body()` rather than `it.element.body`. The numbering is now separate and accessible via `it.prefix()`, so you don't have to go through the whole ordeal with `numbering(..)` etc.\n\nThe preview outline entry docs are a bit messed up because the docs generator choked on methods in a sub-element. We need to fix that before the proper release.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 60,
      "score": 82.0,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 8250,
      "post_number": 4,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-05T21:11:07.752Z",
      "updated_at": "2025-02-05T21:11:33.914Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a> uhh I was confused because the functions did not show up in autocomplete.<br>\nIf no supplement should be displayed I guess the whole  <code>numbering(...)</code> is needed, or is there a better way?</p>",
      "raw": "@laurmaedje uhh I was confused because the functions did not show up in autocomplete.\nIf no supplement should be displayed I guess the whole  `numbering(...)` is needed, or is there a better way?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 16.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8251,
      "post_number": 5,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2025-02-05T21:40:17.214Z",
      "updated_at": "2025-02-05T21:40:17.214Z",
      "cooked": "<p>For headings, no supplement will be added, but for figures it is indeed added and if you don‚Äôt want that the <code>numbering</code> stuff is neccessary. Will check about the autocomplete not working.</p>",
      "raw": "For headings, no supplement will be added, but for figures it is indeed added and if you don't want that the `numbering` stuff is neccessary. Will check about the autocomplete not working.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 16.0,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 8252,
      "post_number": 6,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-05T21:52:32.966Z",
      "updated_at": "2025-02-05T21:52:32.966Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a> <a class=\"mention\" href=\"/u/flokl\">@flokl</a> I now have this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">      link(loc,\n        box(numbering(it.element.numbering, ..it.element.counter.at(it.element.location())), width: 2.6em)  // figure number\n        + it.body()                     // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page()\n      )\n</code></pre>\n<p>And the output is this:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/ed388baca79c131bd5c43f53a61412b0071d6d37.png\" alt=\"Screenshot_20250205_214426\" data-base62-sha1=\"xQyj9nLLLY0w16NwZ6BCk8GvWDR\" width=\"651\" height=\"203\"></p>\n<p>When it should be this:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/5f843a007c5ab3801b59c8c8fd762613f7d467df.png\" data-download-href=\"https://forum.typst.app/uploads/default/5f843a007c5ab3801b59c8c8fd762613f7d467df\" title=\"Screenshot_20250205_214646\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/5f843a007c5ab3801b59c8c8fd762613f7d467df_2_690x339.png\" alt=\"Screenshot_20250205_214646\" data-base62-sha1=\"dCYExfK86SRy1zY7iyAso21D2WP\" width=\"690\" height=\"339\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/5f843a007c5ab3801b59c8c8fd762613f7d467df_2_690x339.png, https://forum.typst.app/uploads/default/original/2X/5/5f843a007c5ab3801b59c8c8fd762613f7d467df.png 1.5x, https://forum.typst.app/uploads/default/original/2X/5/5f843a007c5ab3801b59c8c8fd762613f7d467df.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot_20250205_214646</span><span class=\"informations\">832√ó409 39.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>(ignore 1.3/1.4/B.2, since those three are commented out in 0.13 for now due to an issue I‚Äôll post about later)</p>",
      "raw": "@laurmaedje @flokl I now have this:\n\n```typ\n      link(loc,\n        box(numbering(it.element.numbering, ..it.element.counter.at(it.element.location())), width: 2.6em)  // figure number\n        + it.body()                     // figure caption\n        + box(it.fill, width: 1fr)\n        + it.page()\n      )\n```\n\nAnd the output is this:\n\n![Screenshot_20250205_214426|651x203](upload://xQyj9nLLLY0w16NwZ6BCk8GvWDR.png)\n\nWhen it should be this:\n\n![Screenshot_20250205_214646|690x339](upload://dCYExfK86SRy1zY7iyAso21D2WP.png)\n\n(ignore 1.3/1.4/B.2, since those three are commented out in 0.13 for now due to an issue I'll post about later)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 16.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 515
    },
    {
      "id": 8256,
      "post_number": 7,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2025-02-06T07:16:22.161Z",
      "updated_at": "2025-02-06T07:16:22.161Z",
      "cooked": "<p>You should use a block instead a box. The old outline used line breaks between entries whereas the new one expects them to be blocks (as that makes much more sense semantically and means we can use show-set rules for block spacing).</p>",
      "raw": "You should use a block instead a box. The old outline used line breaks between entries whereas the new one expects them to be blocks (as that makes much more sense semantically and means we can use show-set rules for block spacing).",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 8264,
      "post_number": 8,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-06T11:40:07.621Z",
      "updated_at": "2025-02-06T15:16:21.400Z",
      "cooked": "<p>I was initially gonna use a grid as a workaround, but that makes sense, and it may explain a spacing issue I am having with the main outline.</p>\n<p>That being said, the main problem remains: I‚Äôm still unable to correctly fetch the numbers of the figures, which are chapter-relative, with ‚Äú1.1‚Äù numbering for normal chapters and ‚ÄúA.1‚Äù numbering for appendices. Currently 1.1 becomes 0.1, B.1 becomes -.1, etc.</p>",
      "raw": "I was initially gonna use a grid as a workaround, but that makes sense, and it may explain a spacing issue I am having with the main outline.\n\nThat being said, the main problem remains: I'm still unable to correctly fetch the numbers of the figures, which are chapter-relative, with \"1.1\" numbering for normal chapters and \"A.1\" numbering for appendices. Currently 1.1 becomes 0.1, B.1 becomes -.1, etc.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 515
    },
    {
      "id": 8321,
      "post_number": 9,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-07T10:18:46.800Z",
      "updated_at": "2025-02-07T10:18:46.800Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a> So, is it still possible to fetch the full chapter-relative numbers in 0.13?</p>\n<p>This is the current code and output:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">      block(\n        link(loc,\n          box(numbering(it.element.numbering, ..it.element.counter.at(it.element.location())), width: 2.6em)  // figure number\n          + it.body()                     // figure caption\n          + box(it.fill, width: 1fr)\n          + it.page()\n        )\n      )\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/0/006dea51450b466a877148efce38d9544826fc20.png\" alt=\"Screenshot_20250207_101517\" data-base62-sha1=\"3NuwYy7brk3thQYOVOfHP4gbq8\" width=\"670\" height=\"242\"></p>",
      "raw": "@laurmaedje So, is it still possible to fetch the full chapter-relative numbers in 0.13?\n\nThis is the current code and output:\n\n```typ\n      block(\n        link(loc,\n          box(numbering(it.element.numbering, ..it.element.counter.at(it.element.location())), width: 2.6em)  // figure number\n          + it.body()                     // figure caption\n          + box(it.fill, width: 1fr)\n          + it.page()\n        )\n      )\n```\n\n![Screenshot_20250207_101517|670x242](upload://3NuwYy7brk3thQYOVOfHP4gbq8.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 37.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 515
    },
    {
      "id": 8322,
      "post_number": 10,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2025-02-07T10:24:46.605Z",
      "updated_at": "2025-02-07T10:24:46.605Z",
      "cooked": "<p>Typst doesn‚Äôt and didn‚Äôt natively support chapter-relative numbers, so nothing has really changed in that regard. Maybe you loaded some package that implemented this?</p>",
      "raw": "Typst doesn't and didn't natively support chapter-relative numbers, so nothing has really changed in that regard. Maybe you loaded some package that implemented this?",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 17.6,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 8324,
      "post_number": 11,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-07T11:25:38.266Z",
      "updated_at": "2025-02-07T11:25:38.266Z",
      "cooked": "<p>I implemented it manually, <a href=\"https://github.com/tfachada/thesist/blob/main/src/figure-numbering.typ\" rel=\"noopener nofollow ugc\">here</a>. Can‚Äôt this still be considered a regression, though? I honestly think it would make sense to have a way to call <code>it.prefix()</code> without the supplement. This way, my template would still replicate the LaTeX one rather than losing functionality relative to 0.12. For comparison with an already existing functionality, it would be something like how calling a labeled figure like <code>@this[]</code> removes the supplement in the reference.</p>",
      "raw": "I implemented it manually, [here](https://github.com/tfachada/thesist/blob/main/src/figure-numbering.typ). Can't this still be considered a regression, though? I honestly think it would make sense to have a way to call `it.prefix()` without the supplement. This way, my template would still replicate the LaTeX one rather than losing functionality relative to 0.12. For comparison with an already existing functionality, it would be something like how calling a labeled figure like `@this[]` removes the supplement in the reference.",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 515
    },
    {
      "id": 8328,
      "post_number": 12,
      "username": "tcfx",
      "name": "Tom√°s Fachada",
      "created_at": "2025-02-07T12:08:01.837Z",
      "updated_at": "2025-02-07T12:08:01.837Z",
      "cooked": "<p>Update: I figured it out myself. It‚Äôs <code>it.prefix().children.at(2)</code>.</p>\n<p>The final code thus becomes:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">  // Make the Lists of Figures/Tables/... more concise and easier to read, like in the LaTeX templates\n  show outline.entry: it =&gt; context {\n    if it.element.has(\"kind\") {\n      let loc = it.element.location()\n\n      if counter(figure.where(kind: it.element.kind)).at(loc).first() == 1 {\n        v(1em)\n      }\n\n      show link: set text(rgb(\"000000\"))\n      block(\n        link(loc,\n          box(it.prefix().children.at(2), width: 2.6em)  // figure number\n          + it.body()                     // figure caption\n          + box(it.fill, width: 1fr)\n          + it.page()\n        )\n      )\n    } else {\n      it\n    }\n  }\n</code></pre>",
      "raw": "Update: I figured it out myself. It's `it.prefix().children.at(2)`.\n\nThe final code thus becomes:\n\n```typ\n  // Make the Lists of Figures/Tables/... more concise and easier to read, like in the LaTeX templates\n  show outline.entry: it => context {\n    if it.element.has(\"kind\") {\n      let loc = it.element.location()\n\n      if counter(figure.where(kind: it.element.kind)).at(loc).first() == 1 {\n        v(1em)\n      }\n\n      show link: set text(rgb(\"000000\"))\n      block(\n        link(loc,\n          box(it.prefix().children.at(2), width: 2.6em)  // figure number\n          + it.body()                     // figure caption\n          + box(it.fill, width: 1fr)\n          + it.page()\n        )\n      )\n    } else {\n      it\n    }\n  }\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 72.0,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 515
    }
  ],
  "scraped_at": "2025-06-10T09:52:00.420245"
}
{
  "topic_metadata": {
    "id": 2696,
    "title": "How can I create a outline with custom heading numbering?",
    "slug": "how-can-i-create-a-outline-with-custom-heading-numbering",
    "posts_count": 4,
    "created_at": "2025-02-06T17:02:49.455Z",
    "last_posted_at": "2025-02-06T23:35:03.131Z",
    "views": 204,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 490
  },
  "posts": [
    {
      "id": 8271,
      "post_number": 1,
      "username": "G0ST",
      "name": "Nico Haring",
      "created_at": "2025-02-06T17:02:49.577Z",
      "updated_at": "2025-02-21T21:38:08.844Z",
      "cooked": "<p>Hey there <img src=\"https://forum.typst.app/images/emoji/apple/wave.png?v=12\" title=\":wave:\" class=\"emoji\" alt=\":wave:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>I‚Äôm a newcomer to Typst and wanted to ask how to create such a outline with ‚Äúcustom numbering‚Äù:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e14dc7904512fd5fdafd2e01650385b4c942045b.png\" data-download-href=\"https://forum.typst.app/uploads/default/e14dc7904512fd5fdafd2e01650385b4c942045b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/e14dc7904512fd5fdafd2e01650385b4c942045b_2_618x499.png\" alt=\"image\" data-base62-sha1=\"w984vGfLh0AFaBVzZppb6HDWvrl\" width=\"618\" height=\"499\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/e14dc7904512fd5fdafd2e01650385b4c942045b_2_618x499.png, https://forum.typst.app/uploads/default/optimized/2X/e/e14dc7904512fd5fdafd2e01650385b4c942045b_2_927x748.png 1.5x, https://forum.typst.app/uploads/default/original/2X/e/e14dc7904512fd5fdafd2e01650385b4c942045b.png 2x\" data-dominant-color=\"EEEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1198√ó968 147 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>My layout is as following:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">= Grundprinzipien\n\n== Staatsaufbau und -form\n\n== Judikativ-Recht\n=== Gewaltenteilung\n=== Gewaltentrennung\n\n== Rechtsstaatlichkeit und Gleichheit vor dem Gesetz\n...\n</code></pre>\n<p>So Level 1 is Roman, Level 2 is ‚ÄúArt. [Arabic]‚Äù and Level 3 is the letter.<br>\nI also tried packages like outrageous but it doesn‚Äôt seem to meet my criteria‚Ä¶</p>",
      "raw": "Hey there üëã\n\nI'm a newcomer to Typst and wanted to ask how to create such a outline with \"custom numbering\":\n\n![image|618x499](upload://w984vGfLh0AFaBVzZppb6HDWvrl.png)\n\nMy layout is as following:\n```typst\n= Grundprinzipien\n\n== Staatsaufbau und -form\n\n== Judikativ-Recht\n=== Gewaltenteilung\n=== Gewaltentrennung\n\n== Rechtsstaatlichkeit und Gleichheit vor dem Gesetz\n...\n```\nSo Level 1 is Roman, Level 2 is \"Art. [Arabic]\" and Level 3 is the letter.\nI also tried packages like outrageous but it doesn't seem to meet my criteria...",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 756.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1147
    },
    {
      "id": 8280,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2025-02-06T22:46:29.349Z",
      "updated_at": "2025-02-06T22:50:46.032Z",
      "cooked": "<p>Hi there! This is relatively easy to achieve with the new <a href=\"https://staging.typst.app/docs/reference/model/outline\"><code>outline</code></a> styling capabilities of v0.13 so I used those already for you even if it is not officially released yet as of <span class=\"discourse-local-date\" data-date=\"2025-02-06\" data-email-preview=\"2025-02-05T23:00:00Z UTC\" data-timezone=\"Europe/Berlin\">2025-02-05T23:00:00Z</span>.</p>\n<p>I also used <a href=\"https://typst.app/universe/package/numbly\"><code>numbly</code></a> to quickly insert the appropriate numbering but you can do that without it as well, their documentation shows that it is just a shorthand for a slightly longer numbering function. What‚Äôs a bit more tricky is the requirement to have the counter for the articles (<code>\"Art.\"</code>) <strong>not</strong> reset after each level 1 heading; there I used a custom counter.</p>\n<p>This is the code I came up with:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/numbly:0.1.0\": numbly\n\n#let article-counter = counter(\"article\")\n#set text(lang: \"de\", font: \"DM Sans\")\n#set heading(numbering: numbly(\"{1:I.}\", \"Art. {2}\", \"{3:a}\"))\n\n#set outline(indent: 0em)\n#set outline.entry(fill: none)\n\n// Make it bold and have more space above it.\n#show outline.entry.where(level: 1): set block(above: 2em)\n#show outline.entry.where(level: 1): it =&gt; link(it.element.location(), strong(it.indented(it.prefix(), it.body())))\n\n#show heading.where(level: 2): it =&gt; block({\n  article-counter.step() \n  context \"Art. \" + article-counter.display() + h(0.3em, weak: true) + it.body\n})\n\n// Split entry into prefix \"Art.\" or equivalent empty space, its number and its body.\n#show outline.entry.where(level: 2).or(outline.entry.where(level: 3)): entry =&gt; {\n  let (art-prefix, number) = if entry.level == 2 {\n    numbering(\n      entry.element.numbering, 1, \n      ..article-counter.at(entry.element.location()).map(x =&gt; x + 1)\n    ).split(\" \")\n  } else {\n    (hide(\"Art.\"), entry.prefix())  \n  }\n\n  link(\n    entry.element.location(),\n    box(grid(columns: (auto, 1em, auto), column-gutter: 1.25em, align: (left, center, left),\n      art-prefix, number, entry.inner(),\n    ))\n  )\n}\n</code></pre>\n<p>See result.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/eb32ad9410ac94d9f793ec033ef96c3f330cbee1.png\" data-download-href=\"https://forum.typst.app/uploads/default/eb32ad9410ac94d9f793ec033ef96c3f330cbee1\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/eb32ad9410ac94d9f793ec033ef96c3f330cbee1_2_690x294.png\" alt=\"image\" data-base62-sha1=\"xyEMwUP8RAhnOlb7tq4Hg7OOYQF\" width=\"690\" height=\"294\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/eb32ad9410ac94d9f793ec033ef96c3f330cbee1_2_690x294.png, https://forum.typst.app/uploads/default/original/2X/e/eb32ad9410ac94d9f793ec033ef96c3f330cbee1.png 1.5x, https://forum.typst.app/uploads/default/original/2X/e/eb32ad9410ac94d9f793ec033ef96c3f330cbee1.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">756√ó323 37.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi there! This is relatively easy to achieve with the new [`outline`](https://staging.typst.app/docs/reference/model/outline) styling capabilities of v0.13 so I used those already for you even if it is not officially released yet as of [date=2025-02-06 timezone=\"Europe/Berlin\"].\n\nI also used [`numbly`](https://typst.app/universe/package/numbly) to quickly insert the appropriate numbering but you can do that without it as well, their documentation shows that it is just a shorthand for a slightly longer numbering function. What's a bit more tricky is the requirement to have the counter for the articles (`\"Art.\"`) **not** reset after each level 1 heading; there I used a custom counter.\n\nThis is the code I came up with:\n```typ\n#import \"@preview/numbly:0.1.0\": numbly\n\n#let article-counter = counter(\"article\")\n#set text(lang: \"de\", font: \"DM Sans\")\n#set heading(numbering: numbly(\"{1:I.}\", \"Art. {2}\", \"{3:a}\"))\n\n#set outline(indent: 0em)\n#set outline.entry(fill: none)\n\n// Make it bold and have more space above it.\n#show outline.entry.where(level: 1): set block(above: 2em)\n#show outline.entry.where(level: 1): it => link(it.element.location(), strong(it.indented(it.prefix(), it.body())))\n\n#show heading.where(level: 2): it => block({\n  article-counter.step() \n  context \"Art. \" + article-counter.display() + h(0.3em, weak: true) + it.body\n})\n\n// Split entry into prefix \"Art.\" or equivalent empty space, its number and its body.\n#show outline.entry.where(level: 2).or(outline.entry.where(level: 3)): entry => {\n  let (art-prefix, number) = if entry.level == 2 {\n    numbering(\n      entry.element.numbering, 1, \n      ..article-counter.at(entry.element.location()).map(x => x + 1)\n    ).split(\" \")\n  } else {\n    (hide(\"Art.\"), entry.prefix())  \n  }\n\n  link(\n    entry.element.location(),\n    box(grid(columns: (auto, 1em, auto), column-gutter: 1.25em, align: (left, center, left),\n      art-prefix, number, entry.inner(),\n    ))\n  )\n}\n```\n\nSee result.\n![image|690x294](upload://xyEMwUP8RAhnOlb7tq4Hg7OOYQF.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 106.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 8283,
      "post_number": 3,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-06T23:28:57.127Z",
      "updated_at": "2025-02-06T23:45:50.349Z",
      "cooked": "<p><s>I just have a small thing to add. For the show rule of the level 2 headings you should use <code>block(sticky: true){}</code> to correctly replicate the default heading behavior.</s><br>\nI was wrong about this one, see the reply by Eric for the explanation.</p>",
      "raw": "~~I just have a small thing to add. For the show rule of the level 2 headings you should use `block(sticky: true){}` to correctly replicate the default heading behavior.~~\nI was wrong about this one, see the reply by Eric for the explanation.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8285,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-02-06T23:35:03.131Z",
      "updated_at": "2025-02-06T23:35:11.529Z",
      "cooked": "<p>That should not be necessary, as Typst internally already applies the show-set rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: set block(sticky: true)\n</code></pre>\n<p>to all headings, so adding the block in the show rule should be enough. There is an <a href=\"https://github.com/typst/typst/issues/5792\" rel=\"noopener nofollow ugc\">open issue</a> about that, though I don‚Äôt think there is anything wrong.</p>",
      "raw": "That should not be necessary, as Typst internally already applies the show-set rule\n```typ\n#show heading: set block(sticky: true)\n```\nto all headings, so adding the block in the show rule should be enough. There is an [open issue](https://github.com/typst/typst/issues/5792) about that, though I don't think there is anything wrong.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 20.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    }
  ],
  "scraped_at": "2025-06-10T09:51:59.659134"
}
{
  "topic_metadata": {
    "id": 2702,
    "title": "How to create dynamic reference and label?",
    "slug": "how-to-create-dynamic-reference-and-label",
    "posts_count": 2,
    "created_at": "2025-02-06T20:46:43.856Z",
    "last_posted_at": "2025-02-06T21:47:33.191Z",
    "views": 193,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "referencing"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 227
  },
  "posts": [
    {
      "id": 8277,
      "post_number": 1,
      "username": "yss2611",
      "name": "ƒ∞smail",
      "created_at": "2025-02-06T20:46:43.968Z",
      "updated_at": "2025-02-06T21:47:46.822Z",
      "cooked": "<p>Hi,</p>\n<p>When I try to reference a label using <code>@test</code>, it‚Äôs not working properly. Here‚Äôs my code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: \"1.\")\n#outline(\n  indent: auto\n)\n#show link: underline\n#show ref: it =&gt; {\n  let el = it.element\n  if el != none and el.func() == heading {\n    let nums = counter(heading).at(el.label)\n    link(el.location(), numbering(el.numbering, ..nums) + el.body)\n  }\n}\n= T1\n== T2\n#let name = \"Test\"\n#let labelName = lower(name).replace(\" \",\":\")\n=== #name #label(labelName)\n#lorem(10)\n\\\n#name \\\n#labelName\n=== Test 2 &lt;test2&gt;\nThis is reference for @test . Missing!!!\n\\\n#lorem(10)\n</code></pre>\n<p>In my code, I‚Äôm trying to create a dynamic label using a variable <code>name</code> and then reference it with <code>@test</code>, but I get none in reference function. I have defined the label using <code>#label(labelName)</code> where <code>labelName</code> is created from the <code>name</code> variable.</p>\n<p>I‚Äôve tried:</p>\n<ol>\n<li>Using <code>#ref(\"test\")</code> instead of <code>@test</code></li>\n<li>Checking if the label is properly created with <code>labelName</code></li>\n<li>Using an explicit label with <code>&lt;test&gt;</code></li>\n</ol>\n<p>But none of these approaches worked. What am I doing wrong? How can I make the reference work correctly?</p>",
      "raw": "Hi,\n\nWhen I try to reference a label using `@test`, it's not working properly. Here's my code:\n\n```typ\n#set heading(numbering: \"1.\")\n#outline(\n  indent: auto\n)\n#show link: underline\n#show ref: it => {\n  let el = it.element\n  if el != none and el.func() == heading {\n    let nums = counter(heading).at(el.label)\n    link(el.location(), numbering(el.numbering, ..nums) + el.body)\n  }\n}\n= T1\n== T2\n#let name = \"Test\"\n#let labelName = lower(name).replace(\" \",\":\")\n=== #name #label(labelName)\n#lorem(10)\n\\\n#name \\\n#labelName\n=== Test 2 <test2>\nThis is reference for @test . Missing!!!\n\\\n#lorem(10)\n```\n\nIn my code, I'm trying to create a dynamic label using a variable `name` and then reference it with `@test`, but I get none in reference function. I have defined the label using `#label(labelName)` where `labelName` is created from the `name` variable.\n\nI've tried:\n\n1. Using `#ref(\"test\")` instead of `@test`\n2. Checking if the label is properly created with `labelName`\n3. Using an explicit label with `<test>`\n\nBut none of these approaches worked. What am I doing wrong? How can I make the reference work correctly?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 801.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1148
    },
    {
      "id": 8278,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-06T21:47:33.191Z",
      "updated_at": "2025-02-06T21:47:33.191Z",
      "cooked": "<p>This is an unfortunate instance of the wrong precedence being used here. The fix:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#[=== #name] #label(labelName)\n</code></pre>\n<p>Although I have to say, I‚Äôm a bit unsure why (without the show rule) the error you get is ‚Äúlabel <code>&lt;test2&gt;</code> occurs multiple times in the document‚Äù ‚Äì that <em>is</em> misleading.</p>",
      "raw": "This is an unfortunate instance of the wrong precedence being used here. The fix:\n```typ\n#[=== #name] #label(labelName)\n```\nAlthough I have to say, I'm a bit unsure why (without the show rule) the error you get is \"label `<test2>` occurs multiple times in the document\" -- that _is_ misleading.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 50.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:51:58.951280"
}
{
  "topic_metadata": {
    "id": 2704,
    "title": "How to create show rule in which the selector rule combines regex and style",
    "slug": "how-to-create-show-rule-in-which-the-selector-rule-combines-regex-and-style",
    "posts_count": 4,
    "created_at": "2025-02-06T22:55:26.952Z",
    "last_posted_at": "2025-02-08T19:52:48.488Z",
    "views": 154,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "styling"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 439
  },
  "posts": [
    {
      "id": 8281,
      "post_number": 1,
      "username": "AJ_Rush",
      "name": "AJ Rush",
      "created_at": "2025-02-06T22:55:27.119Z",
      "updated_at": "2025-02-06T22:55:27.119Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"2\" data-topic=\"952\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-can-i-create-show-rules-in-a-loop/952/2\">How can I create show rules in a loop?</a></div>\n<blockquote>\n<p>Regexes and strings can not be combined using <code>selector.or()</code>, so if you want to apply a rule to, say <code>(\"foo\", emph)</code>, you‚Äôll need to write two show rules; one with all the strings and regexes, the other with all the other targets.</p>\n</blockquote>\n</aside>\n<p>If I wanted to apply a particular show rule to every ‚Äúfoo‚Äù and to every time there‚Äôs <em>emph</em> text then I‚Äôd just make two separate rules in which the selectors are different but the <em>set</em> function‚Äôs the same.</p>\n<p>However, how do I do it if I want to apply a show rule only to instances of ‚Äúfoo‚Äù which are <em>emph</em>? In other words, if there‚Äôs a ‚Äúfoo‚Äù which is just roman or bold then the show rule doesn‚Äôt apply?</p>\n<p>Say, for example, I want any <em>foo</em> to become <strong>foo</strong>:</p>\n<p>foo ‚Üí foo</p>\n<p><em>foo</em> ‚Üí <strong>foo</strong></p>\n<p><em>any emph text that isn‚Äôt foo</em> ‚Üí <em>any emph text that isn‚Äôt foo</em></p>",
      "raw": "[quote=\"SillyFreak, post:2, topic:952\"]\nRegexes and strings can not be combined using `selector.or()`, so if you want to apply a rule to, say `(\"foo\", emph)`, you‚Äôll need to write two show rules; one with all the strings and regexes, the other with all the other targets.\n[/quote]\n\nIf I wanted to apply a particular show rule to every \"foo\" and to every time there's *emph* text then I'd just make two separate rules in which the selectors are different but the *set* function's the same.\n\nHowever, how do I do it if I want to apply a show rule only to instances of \"foo\" which are *emph*? In other words, if there's a \"foo\" which is just roman or bold then the show rule doesn't apply?\n\nSay, for example, I want any *foo* to become **foo**:\n\nfoo --> foo\n\n*foo* --> **foo**\n\n*any emph text that isn't foo* --> *any emph text that isn't foo*",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 397.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 873
    },
    {
      "id": 8287,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-06T23:59:48.068Z",
      "updated_at": "2025-02-07T11:33:28.359Z",
      "cooked": "<p>If the text is something specific, you can use <code>where</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show emph.where(body: [foo]): strong\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal\n</code></pre>\n<p>Note that the reason this is so different and so much shorter than what is shown in the linked question is that you want to find <code>emph</code> <em>and</em> ‚Äúfoo‚Äù, not <code>emph</code> <em>or</em> ‚Äúfoo‚Äù.</p>\n<hr>\n<p>Since you mention regex in your title: you can‚Äôt do that inside <code>where</code>, but you can just use an <code>if</code> in a simpler show rule:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show emph: it =&gt; {\n  // I prefer writing this as a \"early return\",\n  // in case the actual show rule becomes longer\n  // in this `if`, you can also have regex and other complex stuff\n  if it.body != [foo] {\n    return it\n  }\n\n  strong(it)\n}\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal\n</code></pre>\n<hr>\n<p>Just in case you or someone looking for this question wants</p>\n<p><em>any emph text that isn‚Äôt foo</em> ‚Üí <em>any emph text that isn‚Äôt <strong>foo</strong></em></p>\n<p>That would look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show emph: it =&gt; {\n  show \"foo\": strong\n  it  \n}\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal  \n</code></pre>",
      "raw": "If the text is something specific, you can use `where`:\n```typ\n#show emph.where(body: [foo]): strong\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal\n```\nNote that the reason this is so different and so much shorter than what is shown in the linked question is that you want to find `emph` _and_ \"foo\", not `emph` _or_ \"foo\".\n\n---\n\nSince you mention regex in your title: you can't do that inside `where`, but you can just use an `if` in a simpler show rule:\n```typ\n#show emph: it => {\n  // I prefer writing this as a \"early return\",\n  // in case the actual show rule becomes longer\n  // in this `if`, you can also have regex and other complex stuff\n  if it.body != [foo] {\n    return it\n  }\n\n  strong(it)\n}\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal\n```\n\n---\n\nJust in case you or someone looking for this question wants\n\n*any emph text that isn‚Äôt foo* ‚Üí *any emph text that isn‚Äôt **foo***\n\nThat would look like this:\n```typ\n#show emph: it => {\n  show \"foo\": strong\n  it  \n}\n\n_this contains foo_\n\nthis _foo_ is on its own\n\nthis foo is normal  \n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 47.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8354,
      "post_number": 3,
      "username": "AJ_Rush",
      "name": "AJ Rush",
      "created_at": "2025-02-08T18:43:04.128Z",
      "updated_at": "2025-02-08T18:43:04.128Z",
      "cooked": "<p>Your answer was extremely helpful. Thank you!</p>\n<p>By the way, are you just a really helpful individual, or is writing the next version of the Typst documentation your job?</p>",
      "raw": "Your answer was extremely helpful. Thank you!\n\nBy the way, are you just a really helpful individual, or is writing the next version of the Typst documentation your job?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 873
    },
    {
      "id": 8355,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-08T19:52:48.488Z",
      "updated_at": "2025-02-20T14:01:38.263Z",
      "cooked": "<p>Just helpful <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> and I‚Äôm a teacher and currently there‚Äôs a school break, so that means I have a bit more time rn and also an ‚Äúexplain stuff to people‚Äù deficit <img src=\"https://forum.typst.app/images/emoji/apple/stuck_out_tongue.png?v=12\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>Putting on my mod hat again: if your question is completely answered, don‚Äôt forget to add the <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> checkmark!</p>",
      "raw": "Just helpful :slight_smile: and I'm a teacher and currently there's a school break, so that means I have a bit more time rn and also an \"explain stuff to people\" deficit :stuck_out_tongue:\n\nPutting on my mod hat again: if your question is completely answered, don't forget to add the :white_check_mark: checkmark!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:51:58.249259"
}
{
  "topic_metadata": {
    "id": 2716,
    "title": "How do you determine the type of a variable?",
    "slug": "how-do-you-determine-the-type-of-a-variable",
    "posts_count": 2,
    "created_at": "2025-02-07T12:17:16.286Z",
    "last_posted_at": "2025-02-07T12:49:06.580Z",
    "views": 167,
    "like_count": 5,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "v0-13"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 82
  },
  "posts": [
    {
      "id": 8329,
      "post_number": 1,
      "username": "Jihan",
      "name": "Jihan",
      "created_at": "2025-02-07T12:17:16.410Z",
      "updated_at": "2025-02-07T12:49:51.552Z",
      "cooked": "<pre><code class=\"lang-auto\">#let arr = (\"abc\", \"def\", \"ghi\")\n#let dict = (\"a\": \"c\")\n\n= Before 0.13.0\n#str(if type(arr) == \"array\" { \"true\" } else { \"false\" })\n#str(if type(arr) == \"dictionary\" { \"true\" } else { \"false\" })\n\n= After 0.13.0\n// what should i do?\n\n// dict\n#str(if type(dict) == type((:)) { \"true\" } else { \"false\" })\n\n// array\n// ??\n</code></pre>",
      "raw": "```\n#let arr = (\"abc\", \"def\", \"ghi\")\n#let dict = (\"a\": \"c\")\n\n= Before 0.13.0\n#str(if type(arr) == \"array\" { \"true\" } else { \"false\" })\n#str(if type(arr) == \"dictionary\" { \"true\" } else { \"false\" })\n\n= After 0.13.0\n// what should i do?\n\n// dict\n#str(if type(dict) == type((:)) { \"true\" } else { \"false\" })\n\n// array\n// ??\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 442.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 316
    },
    {
      "id": 8330,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-07T12:49:06.580Z",
      "updated_at": "2025-02-07T12:49:06.580Z",
      "cooked": "<p>Type to string comparisons were already <a href=\"https://typst.app/docs/reference/foundations/type#compatibility\">deprecated</a> and are now removed. You have to use the type directly (not the string), e.g. <code>if type(arr) == array {...</code></p>",
      "raw": "Type to string comparisons were already [deprecated](https://typst.app/docs/reference/foundations/type#compatibility) and are now removed. You have to use the type directly (not the string), e.g. `if type(arr) == array {...`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 5,
      "reads": 40,
      "score": 92.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:51:56.788868"
}
{
  "topic_metadata": {
    "id": 2717,
    "title": "How to Fix Broken Hyperlinks in Typst Bibliography When Links Break Across Lines?",
    "slug": "how-to-fix-broken-hyperlinks-in-typst-bibliography-when-links-break-across-lines",
    "posts_count": 2,
    "created_at": "2025-02-07T13:52:58.716Z",
    "last_posted_at": "2025-02-07T13:58:12.972Z",
    "views": 83,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 125
  },
  "posts": [
    {
      "id": 8331,
      "post_number": 1,
      "username": "Daniel1",
      "name": "Daniel",
      "created_at": "2025-02-07T13:52:58.843Z",
      "updated_at": "2025-02-07T13:52:58.843Z",
      "cooked": "<p>I‚Äôm encountering an issue with my Typst bibliography where hyperlinks (or DOIs) that break across multiple lines aren‚Äôt functioning properly. Sometimes, when a link spans multiple lines, only part of it remains clickable, breaking the hyperlink functionality.</p>\n<p>Does anyone know:</p>\n<ol>\n<li>Is this a known issue in Typst?</li>\n<li>Are there any workarounds or solutions to ensure hyperlinks remain intact even when they break across lines?</li>\n<li>Are there any specific bibliography settings or configurations that might help resolve this?</li>\n</ol>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e779e911c027c8e4f306609d04860113675f1cc8.png\" alt=\"image\" data-base62-sha1=\"x1Jueb0tWl3ohFe4ov6MHpJvble\" width=\"556\" height=\"222\"><br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/d/d396025dd209772e10e570289981b732261dd056.png\" alt=\"image\" data-base62-sha1=\"ubM8EzIwZQk3mDIn5VicdnLyonA\" width=\"565\" height=\"192\"></p>",
      "raw": "I'm encountering an issue with my Typst bibliography where hyperlinks (or DOIs) that break across multiple lines aren't functioning properly. Sometimes, when a link spans multiple lines, only part of it remains clickable, breaking the hyperlink functionality.\n\nDoes anyone know:\n\n1. Is this a known issue in Typst?\n2. Are there any workarounds or solutions to ensure hyperlinks remain intact even when they break across lines?\n3. Are there any specific bibliography settings or configurations that might help resolve this?\n\n![image|556x222](upload://x1Jueb0tWl3ohFe4ov6MHpJvble.png)\n![image|565x192](upload://ubM8EzIwZQk3mDIn5VicdnLyonA.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 274.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 440
    },
    {
      "id": 8334,
      "post_number": 2,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2025-02-07T13:58:12.972Z",
      "updated_at": "2025-02-07T13:58:12.972Z",
      "cooked": "<p>This is a problem with PDF viewers (that try detect links automatically), but possibly we can work around it. There is an issue for it here: <a href=\"https://github.com/typst/typst/issues/3620\" class=\"inline-onebox\">Bibliography URL flakyness ¬∑ Issue #3620 ¬∑ typst/typst ¬∑ GitHub</a></p>",
      "raw": "This is a problem with PDF viewers (that try detect links automatically), but possibly we can work around it. There is an issue for it here: https://github.com/typst/typst/issues/3620",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 34.2,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    }
  ],
  "scraped_at": "2025-06-10T09:51:56.098895"
}
{
  "topic_metadata": {
    "id": 2718,
    "title": "Can contextual math attachments be properly aligned?",
    "slug": "can-contextual-math-attachments-be-properly-aligned",
    "posts_count": 6,
    "created_at": "2025-02-07T11:11:18.719Z",
    "last_posted_at": "2025-02-09T16:18:00.254Z",
    "views": 140,
    "like_count": 1,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "math",
      "context"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 592
  },
  "posts": [
    {
      "id": 8323,
      "post_number": 1,
      "username": "Denys",
      "name": "Denys",
      "created_at": "2025-02-07T11:11:18.719Z",
      "updated_at": "2025-02-07T13:55:31.600Z",
      "cooked": "<p>If I have this code (the final version)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-counter = counter(\"my-counter\")\n\n#let alternate(it) = {\n  context {\n    let value = my-counter.get().first()\n    if calc.even(value) {\n      it\n     }\n  }\n  my-counter.step()\n}\n\n\n\n$\n  alternate(integral)_1^2 \\\n  integral_1^2 \\\n  alternate(integral)_1^2 \n$\n</code></pre>\n<p>the function alternate doesn‚Äôt properly alternate the integral, if you will (in typst 12 and 13).<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/5/5e30b96332f77056563beb749eeb8a3c52a59533.png\" alt=\"{E915078B-53A2-4A1E-A911-C93697A2EC5A}\" data-base62-sha1=\"drfgWt29tT8UpDEAXQHus7wqByj\" width=\"276\" height=\"372\"></p>\n<p>I was told this due to the fact that typst no longer knows how to attach the accents because of the context. But maybe there‚Äôs a way to take this into account for this function?</p>",
      "raw": "If I have this code (the final version) \n```typ\n#let my-counter = counter(\"my-counter\")\n\n#let alternate(it) = {\n  context {\n    let value = my-counter.get().first()\n    if calc.even(value) {\n      it\n     }\n  }\n  my-counter.step()\n}\n\n\n\n$\n  alternate(integral)_1^2 \\\n  integral_1^2 \\\n  alternate(integral)_1^2 \n$\n```\n\nthe function alternate doesn't properly alternate the integral, if you will (in typst 12 and 13). \n![{E915078B-53A2-4A1E-A911-C93697A2EC5A}|276x372](upload://drfgWt29tT8UpDEAXQHus7wqByj.png)\n\nI was told this due to the fact that typst no longer knows how to attach the accents because of the context. But maybe there's a way to take this into account for this function?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 107.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 123
    },
    {
      "id": 8349,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-08T13:45:28.613Z",
      "updated_at": "2025-02-08T13:45:28.613Z",
      "cooked": "<p>You can pass the entire integral with the attachments to the function <code>alternate()</code> and then disable the <code>integral</code> symbol with a conditional show rule. This will correctly align the attachments relative to the integral symbol.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-counter = counter(\"my-counter\")\n\n#let alternate(it) = {\n  context {\n    let value = my-counter.get().first()\n    show sym.integral: if calc.odd(value) { none } else { it =&gt; it }\n    it\n  }\n  my-counter.step()\n}\n\n$\n  alternate(integral_1^2) \\\n  integral_1^2 \\\n  alternate(integral_1^2)\n$\n</code></pre>",
      "raw": "You can pass the entire integral with the attachments to the function `alternate()` and then disable the `integral` symbol with a conditional show rule. This will correctly align the attachments relative to the integral symbol.\n\n```typ\n#let my-counter = counter(\"my-counter\")\n\n#let alternate(it) = {\n  context {\n    let value = my-counter.get().first()\n    show sym.integral: if calc.odd(value) { none } else { it => it }\n    it\n  }\n  my-counter.step()\n}\n\n$\n  alternate(integral_1^2) \\\n  integral_1^2 \\\n  alternate(integral_1^2)\n$\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8358,
      "post_number": 3,
      "username": "Denys",
      "name": "Denys",
      "created_at": "2025-02-08T21:03:33.588Z",
      "updated_at": "2025-02-08T21:03:33.588Z",
      "cooked": "<p>I find this solution very specific and not extensible, yet it achieves the goal in this very specific case.</p>\n<p>For instance, to include the sum symbol I‚Äôd have to manually add it as well as any other new symbol. And what about alternating just content without the math mode, how would I know which part to keep (i.e. what would be the attachment)?</p>",
      "raw": "I find this solution very specific and not extensible, yet it achieves the goal in this very specific case.\n\nFor instance, to include the sum symbol I'd have to manually add it as well as any other new symbol. And what about alternating just content without the math mode, how would I know which part to keep (i.e. what would be the attachment)?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 123
    },
    {
      "id": 8361,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-09T00:08:46.892Z",
      "updated_at": "2025-02-09T00:08:46.892Z",
      "cooked": "<p>I would argue that my solution just matches the specificity of your question. <img src=\"https://forum.typst.app/images/emoji/apple/grinning.png?v=12\" title=\":grinning:\" class=\"emoji\" alt=\":grinning:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>If you want to adapt the solution to other (math) symbols, you can use the following show rule</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show it.base.text: if calc.odd(value) { none } else { it =&gt; it }\n</code></pre>\n<p>Note that this requires the input to have at least one attachment. Otherwise <code>it.base</code> is not available and you would have to use <code>it.text</code> directly. You could parse the function parameter <code>it</code> to figure out what you need to extract to further generalize your show rule.</p>\n<p>Do you have an example what you would want to alternate without math mode? Maybe the counter + context approach is not even necessary and there is an easier solution available.</p>",
      "raw": "I would argue that my solution just matches the specificity of your question. :grinning:\n\nIf you want to adapt the solution to other (math) symbols, you can use the following show rule\n\n```typc\nshow it.base.text: if calc.odd(value) { none } else { it => it }\n```\n\nNote that this requires the input to have at least one attachment. Otherwise `it.base` is not available and you would have to use `it.text` directly. You could parse the function parameter `it` to figure out what you need to extract to further generalize your show rule.\n\nDo you have an example what you would want to alternate without math mode? Maybe the counter + context approach is not even necessary and there is an easier solution available.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8366,
      "post_number": 5,
      "username": "Denys",
      "name": "Denys",
      "created_at": "2025-02-09T08:43:11.464Z",
      "updated_at": "2025-02-09T08:43:11.464Z",
      "cooked": "<p>I guess you‚Äôre right. It‚Äôs just this particular function is of low interest to me I picked it because of <a href=\"https://forum.typst.app/t/why-is-the-value-i-receive-from-context-always-content/164\">this post</a> thinking it‚Äôs of some importance since it‚Äôs been discussed before. My very initial motivation was <a href=\"https://discord.com/channels/1054443721975922748/1335252524755845120\" rel=\"noopener nofollow ugc\">this usage</a> and there my first design was very similar to the alternate function</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-counter = counter(\"my-counter\")\n#let k = 1\n#let group(it) = {\n  context {\n    let value = my-counter.get().first()\n    if value==k{\n      hide(it)\n     }\n   else{\n      it   \n     }\n  }\n  my-counter.step()\n}\n</code></pre>\n<p>This function suffers from that same problem with attachments. This particular usage with manim gives natural examples of the use outside of math context e.g.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#group[= Introduction]\n... \n</code></pre>\n<p>But maybe if I combined these two approaches making 2 functions and using this one only if there‚Äôs an attachment it would make more sense than trying to write one huge function for each edge case.</p>",
      "raw": "I guess you're right. It's just this particular function is of low interest to me I picked it because of [this post](https://forum.typst.app/t/why-is-the-value-i-receive-from-context-always-content/164) thinking it's of some importance since it's been discussed before. My very initial motivation was [this usage](https://discord.com/channels/1054443721975922748/1335252524755845120) and there my first design was very similar to the alternate function\n\n```typ\n#let my-counter = counter(\"my-counter\")\n#let k = 1\n#let group(it) = {\n  context {\n    let value = my-counter.get().first()\n    if value==k{\n      hide(it)\n     }\n   else{\n      it   \n     }\n  }\n  my-counter.step()\n}\n```\n\nThis function suffers from that same problem with attachments. This particular usage with manim gives natural examples of the use outside of math context e.g. \n```typ \n#group[= Introduction]\n... \n```\nBut maybe if I combined these two approaches making 2 functions and using this one only if there's an attachment it would make more sense than trying to write one huge function for each edge case.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 123
    },
    {
      "id": 8392,
      "post_number": 6,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-09T16:18:00.254Z",
      "updated_at": "2025-02-09T16:18:00.254Z",
      "cooked": "<p>If I understand it correctly that you would like to selectively hide elements to build animations, it could be worth it to take a look at the source code of the <a href=\"https://typst.app/universe/package/touying/\">Touying</a> package? They have implemented functions to hide content based on the current slide.</p>",
      "raw": "If I understand it correctly that you would like to selectively hide elements to build animations, it could be worth it to take a look at the source code of the [Touying](https://typst.app/universe/package/touying/) package? They have implemented functions to hide content based on the current slide.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:51:57.526455"
}
{
  "topic_metadata": {
    "id": 2725,
    "title": "How can I install a Typst package from a Github repo?",
    "slug": "how-can-i-install-a-typst-package-from-a-github-repo",
    "posts_count": 4,
    "created_at": "2025-02-08T12:55:46.593Z",
    "last_posted_at": "2025-02-09T09:43:20.205Z",
    "views": 767,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ssotoen",
    "tags": [
      "packages"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 290
  },
  "posts": [
    {
      "id": 8345,
      "post_number": 1,
      "username": "fc1",
      "name": "fc_",
      "created_at": "2025-02-08T12:55:46.730Z",
      "updated_at": "2025-02-21T21:49:54.235Z",
      "cooked": "<p>Hello,<br>\nI‚Äôm trying to use Gihub repo of what seems to be a Typst ‚Äúpackage‚Äù</p><aside class=\"onebox githubrepo\" data-onebox-src=\"https://github.com/npujol/chuli-cv\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/npujol/chuli-cv\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\" data-github-private-repo=\"false\">\n  <img width=\"690\" height=\"344\" src=\"https://forum.typst.app/uploads/default/optimized/2X/1/1ce68c30a66069454311af1d9e599098a206e743_2_690x344.png\" class=\"thumbnail\" data-dominant-color=\"EAEDEE\">\n\n  <h3><a href=\"https://github.com/npujol/chuli-cv\" target=\"_blank\" rel=\"noopener nofollow ugc\">GitHub - npujol/chuli-cv: These are my CV and cover letter templates written...</a></h3>\n\n    <p><span class=\"github-repo-description\">These are my CV and cover letter templates written in Typst.</span></p>\n</div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>It has a ‚Äútypst.toml‚Äù file at the root, and folders for modules, template and fonts.</p>\n<p>In the ‚Äúmain‚Äù file, cv.typ, there‚Äôs an import <code>\"#import \"@local/typcv:0.1.0\": *\"</code></p>\n<p>When I try to compile this package or watch it, I get an error:</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-sh\">typst watch --root . --font-path ./src/fonts/ ./template/cv.typ ./output/cv.pdf\ntypst compile --root .   ./template/cv.typ ./output/cv.pdf --font-path ./src/fonts/\n</code></pre>\n<pre><code class=\"lang-auto\">watching ./template/cv.typ\nwriting to ./output/cv.pdf\n\n[12:45:26] compiled with errors\n\nerror: package not found (searched for @local/typcv:0.1.0)\n  ‚îå‚îÄ template/cv.typ:1:8\n  ‚îÇ\n1 ‚îÇ #import \"@local/typcv:0.1.0\": *\n  ‚îÇ         ^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n<p>I replaced the import with</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"../lib.typ\"\n</code></pre>\n<p>And that part seems to work, but then I get another error:</p>\n<pre><code class=\"lang-auto\">$ typst compile --root .   ./template/cv.typ ./output/cv.pdf --font-path ./src/fonts/\nerror: unknown variable: cv\n  ‚îå‚îÄ template/cv.typ:5:7\n  ‚îÇ\n5 ‚îÇ #show: cv\n  ‚îÇ   \n</code></pre>\n<p>The cs variable is defined in the lib.typ file.<br>\nI‚Äôm really at a loss here.<br>\nHow is this supposed to work?</p>",
      "raw": "Hello,\nI'm trying to use Gihub repo of what seems to be a Typst \"package\"\nhttps://github.com/npujol/chuli-cv\n\nIt has a \"typst.toml\" file at the root, and folders for modules, template and fonts.\n\nIn the \"main\" file, cv.typ, there's an import `\"#import \"@local/typcv:0.1.0\": *\"`\n\nWhen I try to compile this package or watch it, I get an error:\n```sh\ntypst watch --root . --font-path ./src/fonts/ ./template/cv.typ ./output/cv.pdf\ntypst compile --root .   ./template/cv.typ ./output/cv.pdf --font-path ./src/fonts/\n```\n\n```\nwatching ./template/cv.typ\nwriting to ./output/cv.pdf\n\n[12:45:26] compiled with errors\n\nerror: package not found (searched for @local/typcv:0.1.0)\n  ‚îå‚îÄ template/cv.typ:1:8\n  ‚îÇ\n1 ‚îÇ #import \"@local/typcv:0.1.0\": *\n  ‚îÇ         ^^^^^^^^^^^^^^^^^^^^\n```\n\nI replaced the import with\n```typ\n#import \"../lib.typ\"\n```\nAnd that part seems to work, but then I get another error:\n\n```\n$ typst compile --root .   ./template/cv.typ ./output/cv.pdf --font-path ./src/fonts/\nerror: unknown variable: cv\n  ‚îå‚îÄ template/cv.typ:5:7\n  ‚îÇ\n5 ‚îÇ #show: cv\n  ‚îÇ   \n```\n\nThe cs variable is defined in the lib.typ file. \nI'm really at a loss here. \nHow is this supposed to work?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 59,
      "score": 3661.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1156
    },
    {
      "id": 8346,
      "post_number": 2,
      "username": "ssotoen",
      "name": "",
      "created_at": "2025-02-08T13:20:21.588Z",
      "updated_at": "2025-02-08T13:21:04.540Z",
      "cooked": "<p>Is your import statement missing the asterisk? The full line should be</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"../lib.typ\": *\n</code></pre>",
      "raw": "Is your import statement missing the asterisk? The full line should be\n```typ\n#import \"../lib.typ\": *\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 54,
      "score": 170.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 331
    },
    {
      "id": 8348,
      "post_number": 3,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-08T13:33:28.627Z",
      "updated_at": "2025-02-08T13:33:28.627Z",
      "cooked": "<p>You need to install the template as a local package in order to use the <code>@local</code> import. The path where to install the package depends on your OS, see <a href=\"https://github.com/typst/packages?tab=readme-ov-file#local-packages\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - typst/packages: Packages for Typst.</a> for the instructions.</p>",
      "raw": "You need to install the template as a local package in order to use the `@local` import. The path where to install the package depends on your OS, see https://github.com/typst/packages?tab=readme-ov-file#local-packages for the instructions.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 54,
      "score": 35.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8367,
      "post_number": 4,
      "username": "fc1",
      "name": "fc_",
      "created_at": "2025-02-09T09:43:20.205Z",
      "updated_at": "2025-02-09T09:45:52.135Z",
      "cooked": "<p>Thanks so much! Both answers were on point! And so quick!<br>\nI can‚Äôt tell you how much time I spent fiddling with this.<br>\nAll working now!<br>\nThanks again!</p>",
      "raw": "Thanks so much! Both answers were on point! And so quick!\nI can't tell you how much time I spent fiddling with this.\nAll working now!\nThanks again!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1156
    }
  ],
  "scraped_at": "2025-06-10T09:51:55.399116"
}
{
  "topic_metadata": {
    "id": 2733,
    "title": "How to typeset the Newton-Leibnitz formula?",
    "slug": "how-to-typeset-the-newton-leibnitz-formula",
    "posts_count": 2,
    "created_at": "2025-02-09T04:34:51.680Z",
    "last_posted_at": "2025-02-09T08:04:15.179Z",
    "views": 116,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 189
  },
  "posts": [
    {
      "id": 8363,
      "post_number": 1,
      "username": "thornoar",
      "name": "Roman Maksimovich",
      "created_at": "2025-02-09T04:34:51.915Z",
      "updated_at": "2025-02-09T04:34:51.915Z",
      "cooked": "<p>I have a formula such as this one:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42.png\" data-download-href=\"https://forum.typst.app/uploads/default/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42_2_690x86.png\" alt=\"image\" data-base62-sha1=\"smP3MBqoiCF5X0cnsJo4G66gaXM\" width=\"690\" height=\"86\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42_2_690x86.png, https://forum.typst.app/uploads/default/optimized/2X/c/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42_2_1035x129.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/c/c6d15897ea3ab69d2c0d9ad2a3fb1cfc205dba42_2_1380x172.png 2x\" data-dominant-color=\"F3F3F3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1890√ó238 27.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nhere is the code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  \"Area\"(G_([-1,1])(f)) = F(x) \\|_(x = -1)^(x = 1) = (x - 1/3 x^3 )|_(x = -1)^(x = 1) = (x - 1/3 x^3 )lr(|, size: #{220%})_(x = -1)^(x = 1)\n$\n</code></pre>\n<p>I would like a way to typeset the vertical lines that indicate integration bounds such that they</p>\n<ol>\n<li>Have the same height as the preceding formula;</li>\n<li>Have the subscript and the superscript attached at the ends (like the one after F(x)), not in the middle.</li>\n</ol>\n<p>I would appreciate any help :)</p>",
      "raw": "I have a formula such as this one:\n![image|690x86](upload://smP3MBqoiCF5X0cnsJo4G66gaXM.png)\nhere is the code:\n```typ\n$\n  \"Area\"(G_([-1,1])(f)) = F(x) \\|_(x = -1)^(x = 1) = (x - 1/3 x^3 )|_(x = -1)^(x = 1) = (x - 1/3 x^3 )lr(|, size: #{220%})_(x = -1)^(x = 1)\n$\n```\nI would like a way to typeset the vertical lines that indicate integration bounds such that they\n1. Have the same height as the preceding formula;\n2. Have the subscript and the superscript attached at the ends (like the one after F(x)), not in the middle.\n\nI would appreciate any help :)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 182.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1159
    },
    {
      "id": 8365,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-09T08:04:15.179Z",
      "updated_at": "2025-02-09T08:07:49.891Z",
      "cooked": "<p>Welcome <a class=\"mention\" href=\"/u/thornoar\">@thornoar</a>!<br>\nYou were on the right track, <code>lr</code> is the function you need, but to auto-scale vertical line <code>|</code> it needs to be used like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\n  lr((x - 1/3 x^3 )|)_(x = -1)^(x = 1)\n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/eb0407c5e291571891aa0d6a0d1dd57bf9c9fec4.png\" alt=\"test\" data-base62-sha1=\"xx2Q7971YlMzhWfqds5aGLJqqfq\" width=\"271\" height=\"178\"></p>\n<p>For your second question, with <code>lr</code> the sub/superscripts should by default be on the ends, but there is currently a <a href=\"https://github.com/typst/typst/issues/2342\">bug</a> when using explicit scaling that will be fixed in v0.13.</p>",
      "raw": "Welcome @thornoar!\nYou were on the right track, `lr` is the function you need, but to auto-scale vertical line `|` it needs to be used like this:\n```typ\n$\n  lr((x - 1/3 x^3 )|)_(x = -1)^(x = 1)\n$\n```\n![test|271x178](upload://xx2Q7971YlMzhWfqds5aGLJqqfq.png)\n\nFor your second question, with `lr` the sub/superscripts should by default be on the ends, but there is currently a [bug](https://github.com/typst/typst/issues/2342) when using explicit scaling that will be fixed in v0.13.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 36,
      "score": 52.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:51:54.669030"
}
{
  "topic_metadata": {
    "id": 2735,
    "title": "How can I set the text size of footnotes?",
    "slug": "how-can-i-set-the-text-size-of-footnotes",
    "posts_count": 4,
    "created_at": "2025-02-09T10:38:57.638Z",
    "last_posted_at": "2025-02-10T09:31:06.288Z",
    "views": 141,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "text-formatting",
      "footnotes"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 59
  },
  "posts": [
    {
      "id": 8368,
      "post_number": 1,
      "username": "Alberto1",
      "name": "",
      "created_at": "2025-02-09T10:38:57.924Z",
      "updated_at": "2025-02-09T16:32:24.572Z",
      "cooked": "<p>Good morning to everyone. I‚Äôm new to Typst and I need to set footnotes size to 10ot, how can I do it? Thanks to everyone.</p>",
      "raw": "Good morning to everyone. I'm new to Typst and I need to set footnotes size to 10ot, how can I do it? Thanks to everyone.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 346.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 990
    },
    {
      "id": 8389,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-09T11:29:57.500Z",
      "updated_at": "2025-02-09T11:30:14.093Z",
      "cooked": "<p>Hi, you can set the size with <code>#show footnote.entry: set text(size: 10pt)</code></p>",
      "raw": "Hi, you can set the size with `#show footnote.entry: set text(size: 10pt)`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 26.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8396,
      "post_number": 3,
      "username": "Alberto1",
      "name": "",
      "created_at": "2025-02-09T18:01:58.809Z",
      "updated_at": "2025-02-09T18:01:58.809Z",
      "cooked": "<p>It works, thank you very much!</p>",
      "raw": "It works, thank you very much!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 20.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 990
    },
    {
      "id": 8419,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-10T09:31:06.288Z",
      "updated_at": "2025-02-10T09:31:06.288Z",
      "cooked": "<p>Don‚Äôt forget to tick his post as the solution, click the checkmark!</p>",
      "raw": "Don't forget to tick his post as the solution, click the checkmark!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 55.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:51:53.959549"
}
{
  "topic_metadata": {
    "id": 2737,
    "title": "Why does the SVG in my document look blurry?",
    "slug": "why-does-the-svg-in-my-document-look-blurry",
    "posts_count": 6,
    "created_at": "2025-02-09T14:58:47.165Z",
    "last_posted_at": "2025-02-10T01:45:54.865Z",
    "views": 252,
    "like_count": 4,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [
      "graphics"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 503
  },
  "posts": [
    {
      "id": 8390,
      "post_number": 1,
      "username": "ndg2kb",
      "name": "Frank L",
      "created_at": "2025-02-09T14:58:47.327Z",
      "updated_at": "2025-02-21T21:54:41.390Z",
      "cooked": "<p>Hello, before I open a another (possibly duplicate) issue, I want to try the forum. I have a <a href=\"https://typst.app/project/rrny2aC0g4jmd5Oo0R0WyZ\">MRE</a> that may illustrate my point: SVG comes out to ‚Äúfat‚Äù and blurry. Chrome renders same SVG without problems and very readable. Inserting same SVG into Word and exporting that to PDF also results in a very readable PDF. So I suspect, it‚Äôs Typst.</p>\n<p>Is there something in the SVG, that creates problems, like some filter?</p>",
      "raw": "Hello, before I open a another (possibly duplicate) issue, I want to try the forum. I have a [MRE](https://typst.app/project/rrny2aC0g4jmd5Oo0R0WyZ) that may illustrate my point: SVG comes out to \"fat\" and blurry. Chrome renders same SVG without problems and very readable. Inserting same SVG into Word and exporting that to PDF also results in a very readable PDF. So I suspect, it's Typst.\n\nIs there something in the SVG, that creates problems, like some filter?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 830.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 364
    },
    {
      "id": 8391,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-09T16:16:58.794Z",
      "updated_at": "2025-02-09T16:16:58.794Z",
      "cooked": "<p>I can‚Äôt comment on the issue, but are you talking about an SVG output by Typst, or the PDF output Typst produces when putting an SVG in your document? The title sounds more like the former, but the body more like the latter. Maybe you could edit that a bit.</p>",
      "raw": "I can't comment on the issue, but are you talking about an SVG output by Typst, or the PDF output Typst produces when putting an SVG in your document? The title sounds more like the former, but the body more like the latter. Maybe you could edit that a bit.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8398,
      "post_number": 3,
      "username": "sChris",
      "name": "Chris",
      "created_at": "2025-02-09T18:16:36.091Z",
      "updated_at": "2025-02-09T18:29:35.268Z",
      "cooked": "<p>I suspect it is the font substitution that causes this issue. On your OS, where you generated the svg, you have likely all the fonts installed that are used in the svg. However, the typst app online does not have all the fonts, so you either can use fonts that are available both on your system and inside typst, use typst on the command line on your computer where the fonts are available, or convert the text inside the svg to paths before uploading it.</p>\n<p><strong>Edit:</strong> Some more detail.</p>\n<p>Your svg uses the calibri font, which is not available in the typst online app. Technically, you could likely upload the font into your project folder to use it, but as this is a font that comes with microsoft windows, I am not sure if its license permits this.</p>\n<p>Svg files typically do not embed the fonts that are used in the file, as it e.g. is the case in pdf.</p>\n<p><strong>Edit 2:</strong> You can get a list of available fonts in the typst online app by clicking the leftmost icon with the letters ‚ÄúAg‚Äù here:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a6e541006f9b615fe1779f744baad5fa3294276b.png\" data-download-href=\"https://forum.typst.app/uploads/default/a6e541006f9b615fe1779f744baad5fa3294276b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a6e541006f9b615fe1779f744baad5fa3294276b_2_517x103.png\" alt=\"image\" data-base62-sha1=\"nOqqVAPgKsLFwkdh6Wjtdq5coHN\" width=\"517\" height=\"103\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a6e541006f9b615fe1779f744baad5fa3294276b_2_517x103.png, https://forum.typst.app/uploads/default/optimized/2X/a/a6e541006f9b615fe1779f744baad5fa3294276b_2_775x154.png 1.5x, https://forum.typst.app/uploads/default/original/2X/a/a6e541006f9b615fe1779f744baad5fa3294276b.png 2x\" data-dominant-color=\"ECEDEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">885√ó178 15 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "I suspect it is the font substitution that causes this issue. On your OS, where you generated the svg, you have likely all the fonts installed that are used in the svg. However, the typst app online does not have all the fonts, so you either can use fonts that are available both on your system and inside typst, use typst on the command line on your computer where the fonts are available, or convert the text inside the svg to paths before uploading it.\n\n**Edit:** Some more detail.\n\nYour svg uses the calibri font, which is not available in the typst online app. Technically, you could likely upload the font into your project folder to use it, but as this is a font that comes with microsoft windows, I am not sure if its license permits this.\n\nSvg files typically do not embed the fonts that are used in the file, as it e.g. is the case in pdf.\n\n**Edit 2:** You can get a list of available fonts in the typst online app by clicking the leftmost icon with the letters ‚ÄúAg‚Äù here: \n![image|690x138, 75%](upload://nOqqVAPgKsLFwkdh6Wjtdq5coHN.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 324
    },
    {
      "id": 8401,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-02-09T19:06:46.263Z",
      "updated_at": "2025-02-09T19:06:46.263Z",
      "cooked": "<p>I think the real problem here is that there are errors in the SVG file. The style attributes of all <code>&lt;text&gt;</code> nodes contain</p>\n<pre><code class=\"lang-auto\">stroke:#000000; stroke-opacity:0.00 stroke-width:0\n</code></pre>\n<p>where there is a semicolon missing between the <code>0.00</code> and the <code>stroke-width</code>. This makes Typst not recognize that the stroke should be invisible, but instead makes all text be outlined with a black stroke. I suppose that Chrome and Word are more lenient in parsing, and just pretend that there is a semicolon there.</p>\n<p>To fix this, you can just add the missing semicolons, or remove all stroke related fields from the text nodes entirely.</p>\n<details>\n<summary>\nFixed version of the SVG</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/369d7945aae606a60950a95de0b254145fead418.svg\" alt=\"dev_temp\" data-base62-sha1=\"7N9auKYUzY8j8gxMbn2c7SrN0Ni\" width=\"341\" height=\"235\"></p>\n</details>",
      "raw": "I think the real problem here is that there are errors in the SVG file. The style attributes of all `<text>` nodes contain\n```\nstroke:#000000; stroke-opacity:0.00 stroke-width:0\n```\nwhere there is a semicolon missing between the `0.00` and the `stroke-width`. This makes Typst not recognize that the stroke should be invisible, but instead makes all text be outlined with a black stroke. I suppose that Chrome and Word are more lenient in parsing, and just pretend that there is a semicolon there.\n\nTo fix this, you can just add the missing semicolons, or remove all stroke related fields from the text nodes entirely.\n\n[details=\"Fixed version of the SVG\"]\n![dev_temp](upload://7N9auKYUzY8j8gxMbn2c7SrN0Ni.svg)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 44,
      "score": 73.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 8404,
      "post_number": 5,
      "username": "ndg2kb",
      "name": "Frank L",
      "created_at": "2025-02-10T01:43:30.967Z",
      "updated_at": "2025-02-10T01:43:30.967Z",
      "cooked": "<p>It‚Äôs the latter: the PDF output Typst produces when incorporating an SVG image.</p>",
      "raw": "It's the latter: the PDF output Typst produces when incorporating an SVG image.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 364
    },
    {
      "id": 8405,
      "post_number": 6,
      "username": "ndg2kb",
      "name": "Frank L",
      "created_at": "2025-02-10T01:45:54.865Z",
      "updated_at": "2025-02-10T01:45:54.865Z",
      "cooked": "<p>Thanks a lot! But this means, that the SVG exporter of the tool I‚Äôm using (Enterprise Architect) has a bug. Sparx Inc. isn‚Äôt known for being too quick with fixes <img src=\"https://forum.typst.app/images/emoji/apple/frowning.png?v=12\" title=\":frowning:\" class=\"emoji\" alt=\":frowning:\" loading=\"lazy\" width=\"20\" height=\"20\"> But maybe I can post/preprocess the exported SVGs a bit before usage.</p>",
      "raw": "Thanks a lot! But this means, that the SVG exporter of the tool I'm using (Enterprise Architect) has a bug. Sparx Inc. isn't known for being too quick with fixes :frowning: But maybe I can post/preprocess the exported SVGs a bit before usage.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 12.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 364
    }
  ],
  "scraped_at": "2025-06-10T09:51:53.248621"
}
{
  "topic_metadata": {
    "id": 2744,
    "title": "How Can I Create Image Examples Like In The Documentation Within a Typst Document?",
    "slug": "how-can-i-create-image-examples-like-in-the-documentation-within-a-typst-document",
    "posts_count": 8,
    "created_at": "2025-02-10T05:05:55.802Z",
    "last_posted_at": "2025-02-11T13:15:48.279Z",
    "views": 165,
    "like_count": 1,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "Alan",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 805
  },
  "posts": [
    {
      "id": 8409,
      "post_number": 1,
      "username": "Alan",
      "name": "Alan",
      "created_at": "2025-02-10T05:05:55.971Z",
      "updated_at": "2025-02-10T15:02:32.863Z",
      "cooked": "<p>I‚Äôm making my own collection of typst samples in a document. I‚Äôd like to generate images to show with the samples the same way the documentation does. I saw a post from 2023 in the discord that sounded like the code to do that was closed source. Is that still the case?</p>\n<p>(I‚Äôve also seen the tidy package but that has a lot more output than I‚Äôm looking for. I‚Äôd like to have what amounts to an image of a single page with the output from the example source)</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/c2e9ce504948c31751d559c8c203d6d4863bed6d.png\" data-download-href=\"https://forum.typst.app/uploads/default/c2e9ce504948c31751d559c8c203d6d4863bed6d\" title=\"Screenshot 2025-02-09 at 11.54.44 PM\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/c2e9ce504948c31751d559c8c203d6d4863bed6d_2_522x499.png\" alt=\"Screenshot 2025-02-09 at 11.54.44 PM\" data-base62-sha1=\"rOhytK3d6LOPMAnQqi4CkLravil\" width=\"522\" height=\"499\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/c2e9ce504948c31751d559c8c203d6d4863bed6d_2_522x499.png, https://forum.typst.app/uploads/default/optimized/2X/c/c2e9ce504948c31751d559c8c203d6d4863bed6d_2_783x748.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/c/c2e9ce504948c31751d559c8c203d6d4863bed6d_2_1044x998.png 2x\" data-dominant-color=\"EFEFF1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-02-09 at 11.54.44 PM</span><span class=\"informations\">1184√ó1132 224 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "I'm making my own collection of typst samples in a document. I'd like to generate images to show with the samples the same way the documentation does. I saw a post from 2023 in the discord that sounded like the code to do that was closed source. Is that still the case?\n\n(I've also seen the tidy package but that has a lot more output than I'm looking for. I'd like to have what amounts to an image of a single page with the output from the example source)\n\n![Screenshot 2025-02-09 at 11.54.44 PM|522x499](upload://rOhytK3d6LOPMAnQqi4CkLravil.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 327.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1164
    },
    {
      "id": 8420,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-10T09:37:21.533Z",
      "updated_at": "2025-02-10T09:37:21.533Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/alan\">@Alan</a> and welcome!<br>\nI have changed your post to <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a>, don‚Äôt hesitate to also add relevant tags!</p>\n<p>For the image, it is more or less reproducible like this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 8cm, height: auto, margin: .5cm)\n#set heading(numbering: \"I.\")\n#set text(font: \"New Computer Modern\")\n\n= Introduction\nWith set rules, you can style your document.\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/328be274297389c96c7d4c5714784b3b84d09b25.png\" alt=\"image\" data-base62-sha1=\"7d9zDM5vsCMq6hKXblr3RrAigEB\" width=\"452\" height=\"140\"></p>",
      "raw": "Hello @Alan and welcome!\nI have changed your post to #questions, don't hesitate to also add relevant tags!\n\nFor the image, it is more or less reproducible like this\n\n```typ\n#set page(width: 8cm, height: auto, margin: .5cm)\n#set heading(numbering: \"I.\")\n#set text(font: \"New Computer Modern\")\n\n= Introduction\nWith set rules, you can style your document.\n```\n![image|452x140](upload://7d9zDM5vsCMq6hKXblr3RrAigEB.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 7.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 8426,
      "post_number": 3,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-10T11:18:16.618Z",
      "updated_at": "2025-02-10T11:18:16.618Z",
      "cooked": "<p>If you‚Äôre looking for a way to show both the code and the output automatically within a typst document, you can do so like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">\n#let makedocs(dic) = context [\n  #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n    #dic\n  ]  \n  #let b2 = block(stroke: 5pt + luma(220), outset: 5pt)[\n    #eval(dic.text, mode: \"markup\")\n  ]\n  #let s1 = measure(b1).width\n  #let s2 = measure(b2).width\n\n  #set block(width: calc.max(s1, s2))\n  \n  #b1\n  #b2\n]\n\n\n\n#makedocs(```typst\n#set text(fill: blue)\nI am blue!\n```)\n\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/a13eaccceea3bb556a0b0e88741d0d77f761b04b.png\" alt=\"image\" data-base62-sha1=\"n0r9vldlvil9ROM5W8vX4kjJDwD\" width=\"216\" height=\"112\"></p>",
      "raw": "If you're looking for a way to show both the code and the output automatically within a typst document, you can do so like this:\n\n```typst\n\n#let makedocs(dic) = context [\n  #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n    #dic\n  ]  \n  #let b2 = block(stroke: 5pt + luma(220), outset: 5pt)[\n    #eval(dic.text, mode: \"markup\")\n  ]\n  #let s1 = measure(b1).width\n  #let s2 = measure(b2).width\n\n  #set block(width: calc.max(s1, s2))\n  \n  #b1\n  #b2\n]\n\n\n\n#makedocs(```typst\n#set text(fill: blue)\nI am blue!\n```)\n\n```\n\n\n![image|216x112](upload://n0r9vldlvil9ROM5W8vX4kjJDwD.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 27.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8431,
      "post_number": 4,
      "username": "Alan",
      "name": "Alan",
      "created_at": "2025-02-10T13:57:47.634Z",
      "updated_at": "2025-02-21T22:07:16.807Z",
      "cooked": "<p>This is great!</p>\n<p>Can this also do things like show examples of adding page headers. (For example, like the ‚ÄúAdd headers and footers‚Äù of <a href=\"https://typst.app/docs/guides/page-setup-guide/\">the page setup guide</a>)</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0cf52fc40aba5fb307958b5c1df8f01ca31915e8.png\" data-download-href=\"https://forum.typst.app/uploads/default/0cf52fc40aba5fb307958b5c1df8f01ca31915e8\" title=\"Screenshot 2025-02-10 at 8.57.22 AM\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cf52fc40aba5fb307958b5c1df8f01ca31915e8_2_529x500.png\" alt=\"Screenshot 2025-02-10 at 8.57.22 AM\" data-base62-sha1=\"1QD2rLuMuIkoQZ7zEawtC8pj3AI\" width=\"529\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cf52fc40aba5fb307958b5c1df8f01ca31915e8_2_529x500.png, https://forum.typst.app/uploads/default/optimized/2X/0/0cf52fc40aba5fb307958b5c1df8f01ca31915e8_2_793x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/0/0cf52fc40aba5fb307958b5c1df8f01ca31915e8_2_1058x1000.png 2x\" data-dominant-color=\"5F6060\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-02-10 at 8.57.22 AM</span><span class=\"informations\">1290√ó1218 294 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I currently get a page configuration is not allowed inside containers error if I try that. For example, this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#makedocs(```typst\n#set page(header: [Here i am])\n#set text(fill: blue)\n= DO I SHOW UP IN THE OUTLINE\nI am blue!\n```)\n</code></pre>\n<p>Results in this:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/7450f4edebb6361eabb905a65ec4165c06026685.png\" data-download-href=\"https://forum.typst.app/uploads/default/7450f4edebb6361eabb905a65ec4165c06026685\" title=\"Screenshot 2025-02-10 at 9.04.14 AM\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/7450f4edebb6361eabb905a65ec4165c06026685_2_690x298.png\" alt=\"Screenshot 2025-02-10 at 9.04.14 AM\" data-base62-sha1=\"gAYPO7M8Ywgk2pEnrPPPaQChlbL\" width=\"690\" height=\"298\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/7450f4edebb6361eabb905a65ec4165c06026685_2_690x298.png, https://forum.typst.app/uploads/default/optimized/2X/7/7450f4edebb6361eabb905a65ec4165c06026685_2_1035x447.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/7450f4edebb6361eabb905a65ec4165c06026685.png 2x\" data-dominant-color=\"201F20\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-02-10 at 9.04.14 AM</span><span class=\"informations\">1318√ó570 313 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "This is great!\n\nCan this also do things like show examples of adding page headers. (For example, like the \"Add headers and footers\" of [the page setup guide](https://typst.app/docs/guides/page-setup-guide/))\n\n![Screenshot 2025-02-10 at 8.57.22 AM|529x500](upload://1QD2rLuMuIkoQZ7zEawtC8pj3AI.png)\n\nI currently get a page configuration is not allowed inside containers error if I try that. For example, this\n\n````typ\n#makedocs(```typst\n#set page(header: [Here i am])\n#set text(fill: blue)\n= DO I SHOW UP IN THE OUTLINE\nI am blue!\n```)\n````\nResults in this:\n\n![Screenshot 2025-02-10 at 9.04.14 AM|690x298](upload://gAYPO7M8Ywgk2pEnrPPPaQChlbL.png)",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1164
    },
    {
      "id": 8432,
      "post_number": 5,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-10T14:59:00.790Z",
      "updated_at": "2025-02-10T14:59:00.790Z",
      "cooked": "<p>Yeah this is a bit trickier. AFAIK, Typst doesn‚Äôt really support nesting pages inside a document, so the only way to display the entire page is to render it in a new page.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let makedocs(dic) = context [\n  #if \"#set page\" in dic.text [\n    #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n      #dic\n    ]\n    #let b2 = eval(dic.text, mode: \"markup\")\n    #b1\n    #set page(paper: \"a5\") // comment out if you want\n    #b2\n    #return\n  ]\n  // else\n  #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n    #dic\n  ]  \n  \n  #let b2 = block(stroke: 5pt + luma(220), outset: 5pt)[\n    #eval(dic.text, mode: \"markup\")\n  ]\n  #let s1 = measure(b1).width\n  #let s2 = measure(b2).width\n\n  #set block(width: calc.max(s1, s2))\n  \n  #b1\n  #b2\n  \n]\n\n#makedocs(```typst\n#set page(header: [Here i am])\n#set text(fill: blue)\n= DO I SHOW UP IN THE OUTLINE\nI am blue!\n```)\n\n\n#makedocs(```typst\n#set text(fill: blue)\nI am blue!\n```)\n```\n\nMaybe someone else can come up with a more elegant solution</code></pre>",
      "raw": "Yeah this is a bit trickier. AFAIK, Typst doesn't really support nesting pages inside a document, so the only way to display the entire page is to render it in a new page. \n\n````typst\n#let makedocs(dic) = context [\n  #if \"#set page\" in dic.text [\n    #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n      #dic\n    ]\n    #let b2 = eval(dic.text, mode: \"markup\")\n    #b1\n    #set page(paper: \"a5\") // comment out if you want\n    #b2\n    #return\n  ]\n  // else\n  #let b1 = block(stroke: 1pt + luma(220), outset: 3pt, radius: 5pt)[\n    #dic\n  ]  \n  \n  #let b2 = block(stroke: 5pt + luma(220), outset: 5pt)[\n    #eval(dic.text, mode: \"markup\")\n  ]\n  #let s1 = measure(b1).width\n  #let s2 = measure(b2).width\n\n  #set block(width: calc.max(s1, s2))\n  \n  #b1\n  #b2\n  \n]\n\n#makedocs(```typst\n#set page(header: [Here i am])\n#set text(fill: blue)\n= DO I SHOW UP IN THE OUTLINE\nI am blue!\n```)\n\n\n#makedocs(```typst\n#set text(fill: blue)\nI am blue!\n```)\n```\n\nMaybe someone else can come up with a more elegant solution",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 16.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8438,
      "post_number": 6,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-10T15:40:06.881Z",
      "updated_at": "2025-02-10T15:40:06.881Z",
      "cooked": "<p>There are two projects I know of that allow compiling Typst inside Typst. They are not available on Typst Universe due to their size. Unfortunately, I don‚Äôt know how easy they are to use or their current state.</p>\n<p>One project by <a class=\"mention\" href=\"/u/myriad-dreamin\">@Myriad-Dreamin</a> was showcased on Discord <a href=\"https://discord.com/channels/1054443721975922748/1202501035592261632\">here</a> and is used to write a <a href=\"https://github.com/typst-doc-cn/tutorial/tree/main\">Chinese Typst tutorial</a>. There are <a href=\"https://github.com/typst-doc-cn/tutorial-artifacts/tree/v0.1.0\">precompiled files</a> available, as well as the <a href=\"https://github.com/typst-doc-cn/tutorial/tree/main/crates/embedded-typst\">source</a>.</p>\n<p>The other project is <a href=\"https://github.com/freundTech/typst-matryoshka\">typst-matryoshka</a> which was also showcased on Discord <a href=\"https://discord.com/channels/1054443721975922748/1257747003111379034\">here</a>.</p>",
      "raw": "There are two projects I know of that allow compiling Typst inside Typst. They are not available on Typst Universe due to their size. Unfortunately, I don't know how easy they are to use or their current state.\n\nOne project by @Myriad-Dreamin was showcased on Discord [here](https://discord.com/channels/1054443721975922748/1202501035592261632) and is used to write a [Chinese Typst tutorial](https://github.com/typst-doc-cn/tutorial/tree/main). There are [precompiled files](https://github.com/typst-doc-cn/tutorial-artifacts/tree/v0.1.0) available, as well as the [source](https://github.com/typst-doc-cn/tutorial/tree/main/crates/embedded-typst). \n\nThe other project is [typst-matryoshka](https://github.com/freundTech/typst-matryoshka) which was also showcased on Discord [here](https://discord.com/channels/1054443721975922748/1257747003111379034).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 16.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8443,
      "post_number": 7,
      "username": "Alan",
      "name": "Alan",
      "created_at": "2025-02-10T18:05:19.186Z",
      "updated_at": "2025-02-10T18:05:19.186Z",
      "cooked": "<p>right on. I‚Äôll check those out.</p>\n<p>thanks!</p>",
      "raw": "right on. I'll check those out. \n\nthanks!",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 6.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1164
    },
    {
      "id": 8467,
      "post_number": 8,
      "username": "Alan",
      "name": "Alan",
      "created_at": "2025-02-11T13:15:48.279Z",
      "updated_at": "2025-02-11T13:15:48.279Z",
      "cooked": "<p>As a follow up, the approach I‚Äôm moving to looks like this:</p>\n<ul>\n<li>write the snippets I‚Äôd like to show in their own files</li>\n<li>set up an external process to watch those files and output them to png whenever the change</li>\n<li>write a typst function that lets me include the original text and the png in my main document with a single call</li>\n</ul>\n<p>for the process that outputs the pngs I expect I‚Äôll end up adding a way to apply some styling to the snippet that isn‚Äôt displayed in the text output in the main file. I‚Äôll do this by adding a comment line that let‚Äôs me split the text so I can put any formatting above it and then only show what‚Äôs below it in the output.</p>",
      "raw": "As a follow up, the approach I'm moving to looks like this:\n\n- write the snippets I'd like to show in their own files\n- set up an external process to watch those files and output them to png whenever the change\n- write a typst function that lets me include the original text and the png in my main document with a single call\n\nfor the process that outputs the pngs I expect I'll end up adding a way to apply some styling to the snippet that isn't displayed in the text output in the main file. I'll do this by adding a comment line that let's me split the text so I can put any formatting above it and then only show what's below it in the output.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1164
    }
  ],
  "scraped_at": "2025-06-10T09:51:52.518966"
}
{
  "topic_metadata": {
    "id": 2747,
    "title": "Is there a way to replace Hexo/other CMS's formula system with typst's formula?",
    "slug": "is-there-a-way-to-replace-hexo-other-cmss-formula-system-with-typsts-formula",
    "posts_count": 2,
    "created_at": "2025-02-10T06:20:32.560Z",
    "last_posted_at": "2025-02-10T09:51:02.829Z",
    "views": 60,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "math",
      "tooling",
      "latex-migration"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 91
  },
  "posts": [
    {
      "id": 8413,
      "post_number": 1,
      "username": "Dexter_Chen",
      "name": "Dexter Chen",
      "created_at": "2025-02-10T06:20:32.727Z",
      "updated_at": "2025-02-10T06:20:32.727Z",
      "cooked": "<p>I‚Äôve been using typst for nearly 8 months and I now found it har to use the LaTeX formula in my hexo blog. Is it possible to replace it with typst‚Äôs formula system? Or is there a a way to output typst‚Äôs formula as an svg file and insert it manually as a temporary solution? Thx.</p>",
      "raw": "I've been using typst for nearly 8 months and I now found it har to use the LaTeX formula in my hexo blog. Is it possible to replace it with typst's formula system? Or is there a a way to output typst's formula as an svg file and insert it manually as a temporary solution? Thx.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 110.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1166
    },
    {
      "id": 8421,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-10T09:51:02.829Z",
      "updated_at": "2025-02-10T09:51:02.829Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/dexter_chen\">@Dexter_Chen</a>, you can take a look at this blog which explains how to do this using <a href=\"https://myriad-dreamin.github.io/typst.ts/\">typst.ts</a>.</p>\n<p><a href=\"https://hanwen.io/en/posts/use_typst_for_math_in_blog/\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://hanwen.io/en/posts/use_typst_for_math_in_blog/</a></p>",
      "raw": "Hello @Dexter_Chen, you can take a look at this blog which explains how to do this using [typst.ts](https://myriad-dreamin.github.io/typst.ts/).\n\nhttps://hanwen.io/en/posts/use_typst_for_math_in_blog/",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 23,
      "score": 84.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:51:51.780188"
}
{
  "topic_metadata": {
    "id": 2750,
    "title": "How to make captions italic?",
    "slug": "how-to-make-captions-italic",
    "posts_count": 3,
    "created_at": "2025-02-10T08:34:18.481Z",
    "last_posted_at": "2025-02-10T09:54:12.500Z",
    "views": 127,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Electron_Wizard",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 195
  },
  "posts": [
    {
      "id": 8417,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2025-02-10T08:34:18.642Z",
      "updated_at": "2025-02-10T08:34:18.642Z",
      "cooked": "<p>Could someone explain how to make captions italic, for both images and tables?</p>\n<p>I tried</p>\n<pre><code class=\"lang-auto\">#show caption: set text(style: \"italic\")\n</code></pre>\n<p>but this produces an error.</p>\n<p>I also tried</p>\n<pre><code class=\"lang-auto\">#show figure: set text(style: \"italic\")\n</code></pre>\n<p>but the second solution affects the tables themselves, not just their captions.</p>",
      "raw": "Could someone explain how to make captions italic, for both images and tables?\n\nI tried \n\n```\n#show caption: set text(style: \"italic\")\n```\n\nbut this produces an error.\n\nI also tried \n\n```\n#show figure: set text(style: \"italic\")\n```\n\nbut the second solution affects the tables themselves, not just their captions.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 401.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 8418,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-02-10T08:59:26.196Z",
      "updated_at": "2025-02-10T08:59:26.196Z",
      "cooked": "<p>Hello,</p>\n<p>You can configure the <code>caption</code> component of the <code>figure</code> component to your liking using <code>#show</code>. This affects of course only the captions!</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure( // Typst default\n  image(\"cat.png\"),\n  caption: [This is a cat!]\n)\n\n#show figure.caption: set text(style: \"italic\")\n\n#figure( // Typst default with italic caption\n  image(\"cat.png\"),\n  caption: [This is a cat!]\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c_2_336x499.jpeg\" alt=\"image\" data-base62-sha1=\"sW5aLfcA8NKIrrWra3oRu1ZeGCg\" width=\"336\" height=\"499\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c_2_336x499.jpeg, https://forum.typst.app/uploads/default/original/2X/c/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c.jpeg 1.5x, https://forum.typst.app/uploads/default/original/2X/c/cacdb4e99f0fc40a25ed7ad1d082c2edd509b82c.jpeg 2x\" data-dominant-color=\"6E6158\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">469√ó696 81.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The same applies to the tables!</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show figure.caption: set text(style: \"italic\")\n\n#figure(\n  table(columns: (8%,) * 10,\n  ..range(100).map(x =&gt; ([#(x+1)],)).flatten(),\n  ),\n  caption: [This is a table!],\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/fa43d70172c3b39c5f06c4544d3cd0128b8394a9.png\" alt=\"image\" data-base62-sha1=\"zHWIg3wb2viqcO0QecwJIj1OhIt\" width=\"380\" height=\"278\"></p>\n<p>This is probably one of many solutions, so more compact solutions might exist. But I hope this helps you!</p>",
      "raw": "Hello,\n\nYou can configure the `caption` component of the `figure` component to your liking using `#show`. This affects of course only the captions!\n\n```typst\n#figure( // Typst default\n  image(\"cat.png\"),\n  caption: [This is a cat!]\n)\n\n#show figure.caption: set text(style: \"italic\")\n\n#figure( // Typst default with italic caption\n  image(\"cat.png\"),\n  caption: [This is a cat!]\n)\n```\n\n![image|336x499](upload://sW5aLfcA8NKIrrWra3oRu1ZeGCg.jpeg)\n\nThe same applies to the tables!\n\n```typst\n#show figure.caption: set text(style: \"italic\")\n\n#figure(\n  table(columns: (8%,) * 10,\n  ..range(100).map(x => ([#(x+1)],)).flatten(),\n  ),\n  caption: [This is a table!],\n)\n```\n\n![image|380x278](upload://zHWIg3wb2viqcO0QecwJIj1OhIt.png)\n\n\n\nThis is probably one of many solutions, so more compact solutions might exist. But I hope this helps you!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 8422,
      "post_number": 3,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-02-10T09:54:12.500Z",
      "updated_at": "2025-02-10T09:54:12.500Z",
      "cooked": "<p>And to create some custom captions, following for example only emphasizes the label:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show figure.caption: it =&gt; {\n  [#emph[#it.supplement #it.numbering]#it.separator#it.body]\n}\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/29e78163899f521f11a54ab59d18237289e7e7ba.png\" alt=\"image\" data-base62-sha1=\"5YHzBTqRrs4EwvoecBtjV8HBp4m\" width=\"205\" height=\"36\"></p>",
      "raw": "And to create some custom captions, following for example only emphasizes the label:\n\n```typst\n#show figure.caption: it => {\n  [#emph[#it.supplement #it.numbering]#it.separator#it.body]\n}\n```\n\n![image|205x36](upload://5YHzBTqRrs4EwvoecBtjV8HBp4m.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 40.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    }
  ],
  "scraped_at": "2025-06-10T09:51:51.069023"
}
{
  "topic_metadata": {
    "id": 2760,
    "title": "Integral with overline",
    "slug": "integral-with-overline",
    "posts_count": 6,
    "created_at": "2025-02-10T15:22:30.041Z",
    "last_posted_at": "2025-02-11T13:23:06.946Z",
    "views": 368,
    "like_count": 7,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 7,
    "accepted_answer_username": "sijo",
    "tags": [
      "layout",
      "math",
      "graphics"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 576
  },
  "posts": [
    {
      "id": 8436,
      "post_number": 1,
      "username": "Pablo_Padilla",
      "name": "Pablo Padilla",
      "created_at": "2025-02-10T15:22:30.334Z",
      "updated_at": "2025-02-10T18:37:33.355Z",
      "cooked": "<p>Hi I need to use a symbol to represent the upper integral, which in LaTeX is \\upint, but I can‚Äôt seem to find a way to type this. I tried using overline(integral) but the top bar is too big. Does somebody know a way around this?<br>\nEdit: I would like to also be able to type the following<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/8/831af7d04231af295b94a731dbd3e67a47b4d9b3.png\" alt=\"Erw4K\" data-base62-sha1=\"iHOkikiWI61mwLxbBc7KvqToRI7\" width=\"114\" height=\"132\"></p>",
      "raw": "Hi I need to use a symbol to represent the upper integral, which in LaTeX is \\upint, but I can't seem to find a way to type this. I tried using overline(integral) but the top bar is too big. Does somebody know a way around this?\nEdit: I would like to also be able to type the following \n![Erw4K|114x132](upload://iHOkikiWI61mwLxbBc7KvqToRI7.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 1546.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1172
    },
    {
      "id": 8437,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-02-10T15:32:56.498Z",
      "updated_at": "2025-02-10T15:32:56.498Z",
      "cooked": "<p>I don‚Äôt know the symbol so I can‚Äôt give a specific answer, but here are some resources you could try:</p>\n<ul>\n<li><a href=\"https://typst.app/docs/reference/symbols/sym/\" class=\"inline-onebox\">General Symbols ‚Äì Typst Documentation</a><br>\nOfficial Typst documentation that should include all built-in symbols</li>\n<li><a href=\"https://detypify.quarticcat.com/\" rel=\"noopener nofollow ugc\">https://detypify.quarticcat.com/</a><br>\nProject where you draw the symbol you are looking for and it suggests built-in symbols that match.  I have not had too much luck with the web version (seems to have been updated 10 months ago), but the version included in Tinymist performs better for me.</li>\n</ul>",
      "raw": "I don't know the symbol so I can't give a specific answer, but here are some resources you could try:\n- https://typst.app/docs/reference/symbols/sym/\nOfficial Typst documentation that should include all built-in symbols\n- https://detypify.quarticcat.com/\n  Project where you draw the symbol you are looking for and it suggests built-in symbols that match.  I have not had too much luck with the web version (seems to have been updated 10 months ago), but the version included in Tinymist performs better for me.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 16.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 8439,
      "post_number": 3,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2025-02-10T16:26:56.212Z",
      "updated_at": "2025-02-10T16:26:56.212Z",
      "cooked": "<p>You probably want <code>$dash(integral)$</code>.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/9/90dadd4c5e7ea2bfefa58a148a1c1cf52a10da18.png\" alt=\"image\" data-base62-sha1=\"kFrFA0LydIfxzMTWULEyrWSnmvm\" width=\"132\" height=\"338\"></p>",
      "raw": "You probably want `$dash(integral)$`.\n![image|132x338](upload://kFrFA0LydIfxzMTWULEyrWSnmvm.png)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 30,
      "score": 41.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 8441,
      "post_number": 4,
      "username": "Pablo_Padilla",
      "name": "Pablo Padilla",
      "created_at": "2025-02-10T16:41:33.661Z",
      "updated_at": "2025-02-10T16:41:33.661Z",
      "cooked": "<p>Yes, Thank you so much. Do you know a way to type the same but with the dash below the integral?</p>",
      "raw": "Yes, Thank you so much. Do you know a way to type the same but with the dash below the integral?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1172
    },
    {
      "id": 8460,
      "post_number": 5,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-11T10:56:36.765Z",
      "updated_at": "2025-02-11T10:56:36.765Z",
      "cooked": "<p>this isn‚Äôt a very elegant solution, but it allows for a lot of customisation. For the integral symbols, I would define new glyphs:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let oscore = place(dy: -6pt, dx: -2.5pt)[*#sym.dash.en*]\n#let uscore = place(dy: -0.5pt, dx: -1.5pt)[*#sym.dash.en*]\n\n#let ulint = $limits(integral)_(oscore)^()$\n#let olint = $limits(integral)_()^(uscore)$\n\n\n$ ulint $\n$ olint $\n\n$ulint$\n$olint$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/d/d23fd8b76f465b4f958da3d3a164d7d4ebda88e7.png\" alt=\"image\" data-base62-sha1=\"tZX3Gjpc8Y6vK7piBVRBKHhOjuT\" width=\"281\" height=\"363\"></p>\n<p>Problem with this is that the bases get attached in weird spots:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$ ulint_a^b $\n$ olint_a^b $\n\n$ulint_a^b$\n$olint_a^b$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/4acf6a668c7cd411b0c26554053ad836ff5101fb.png\" alt=\"image\" data-base62-sha1=\"aFNIyR68qVxJs63KCitrj0JfYTx\" width=\"294\" height=\"436\"></p>\n<p>To get around this, you can use a <code>show</code> rule to adjust the spacing to your liking:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation: eq =&gt; {\n  show math.attach.where(base: ulint).or(math.attach.where(base: olint)): it =&gt; {\n    if it.b.func() == place {\n      // hacky workaround\n      return it\n    }\n    let dx = if eq.block {-4pt} else {-1pt}\n    math.attach(\n      it.base,\n      b: place(dx: dx, dy: -8pt)[#it.b],\n      t: it.t,\n      tl: it.tl,\n      tr: it.tr,\n      bl: it.bl,\n      br: it.br,\n    )\n  }\n  eq\n}\n\n$ ulint_a^b $\n$ olint_a^b $\n\n\n$ulint_a^b$\n$olint_a^b$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/3d62b3d1ec79281916fd79d0e021814ec6326e95.png\" alt=\"image\" data-base62-sha1=\"8L2ARSoaEdb27LPWwrWCIKTmku1\" width=\"289\" height=\"406\"></p>\n<p>I didn‚Äôt test everything rigorously, so you might need to adjust the placements</p>",
      "raw": "this isn't a very elegant solution, but it allows for a lot of customisation. For the integral symbols, I would define new glyphs:\n\n```typst\n#let oscore = place(dy: -6pt, dx: -2.5pt)[*#sym.dash.en*]\n#let uscore = place(dy: -0.5pt, dx: -1.5pt)[*#sym.dash.en*]\n\n#let ulint = $limits(integral)_(oscore)^()$\n#let olint = $limits(integral)_()^(uscore)$\n\n\n$ ulint $\n$ olint $\n\n$ulint$\n$olint$\n```\n\n![image|281x363](upload://tZX3Gjpc8Y6vK7piBVRBKHhOjuT.png)\n\n\nProblem with this is that the bases get attached in weird spots:\n\n```typst\n$ ulint_a^b $\n$ olint_a^b $\n\n$ulint_a^b$\n$olint_a^b$\n```\n![image|294x436](upload://aFNIyR68qVxJs63KCitrj0JfYTx.png)\n\n\nTo get around this, you can use a `show` rule to adjust the spacing to your liking:\n```typst\n#show math.equation: eq => {\n  show math.attach.where(base: ulint).or(math.attach.where(base: olint)): it => {\n    if it.b.func() == place {\n      // hacky workaround\n      return it\n    }\n    let dx = if eq.block {-4pt} else {-1pt}\n    math.attach(\n      it.base,\n      b: place(dx: dx, dy: -8pt)[#it.b],\n      t: it.t,\n      tl: it.tl,\n      tr: it.tr,\n      bl: it.bl,\n      br: it.br,\n    )\n  }\n  eq\n}\n\n$ ulint_a^b $\n$ olint_a^b $\n\n\n$ulint_a^b$\n$olint_a^b$\n```\n\n![image|289x406](upload://8L2ARSoaEdb27LPWwrWCIKTmku1.png)\n\nI didn't test everything rigorously, so you might need to adjust the placements",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 14.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8468,
      "post_number": 7,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-11T13:23:06.946Z",
      "updated_at": "2025-02-11T13:24:11.894Z",
      "cooked": "<p>These are Unicode symbols U+2A1B ‚®ú and U+2A1C ‚®õ. Currently Typst has no name defined for them (but they are listed in the <a href=\"https://typst.app/project/pHN_iIPjeuCyI_N2JZB84o\">Symbols Proposal Document</a>. So for now you need to use the Unicode codepoints or copy-paste the symbols in your Typst document, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let int-bar-above = symbol(\"‚®õ\")\n#let int-bar-below = symbol(\"‚®ú\")\n\n$\n  integral_a^b wide\n  ‚®õ_a^b \"or\" #(int-bar-above)_a^b wide\n  ‚®ú_a^b \"or\" #(int-bar-below)_a^b \n$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/b/bbc48540aa0398348e6c9bc547e0290672f3cdb1.png\" alt=\"image\" data-base62-sha1=\"qN4ktrSpJ1DLLo9HeUWoM1FY5xf\" width=\"207\" height=\"53\"></p>\n<p>The position of the ‚Äúa‚Äù subscript in the upper sum is a bit off, but that‚Äôs probably a bug in the math font.</p>\n<p>In the next release (Typst 0.13) it will be fairly easy to ‚Äúextend‚Äù  the <code>integral</code> symbol yourself (but this will only work when you write <code>integral</code> in the scope of your redefinition):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Requires Typst 0.13\n#let integral = {\n  let args = eval(repr(sym.integral).replace(\"symbol\", \"arguments\", count: 1))\n  symbol(..args, (\"bar.above\", \"‚®õ\"), (\"bar.below\", \"‚®ú\"))\n}\n\n$\n  integral_a^b wide\n  ‚®õ_a^b \"or\" integral.bar.above_a^b wide\n  ‚®ú_a^b \"or\" integral.bar.below_a^b \n$</code></pre>",
      "raw": "These are Unicode symbols U+2A1B ‚®ú and U+2A1C ‚®õ. Currently Typst has no name defined for them (but they are listed in the [Symbols Proposal Document](https://typst.app/project/pHN_iIPjeuCyI_N2JZB84o). So for now you need to use the Unicode codepoints or copy-paste the symbols in your Typst document, for example:\n\n```typ\n#let int-bar-above = symbol(\"‚®õ\")\n#let int-bar-below = symbol(\"‚®ú\")\n\n$\n  integral_a^b wide\n  ‚®õ_a^b \"or\" #(int-bar-above)_a^b wide\n  ‚®ú_a^b \"or\" #(int-bar-below)_a^b \n$\n```\n![image|414x106, 50%](upload://qN4ktrSpJ1DLLo9HeUWoM1FY5xf.png)\n\nThe position of the \"a\" subscript in the upper sum is a bit off, but that's probably a bug in the math font.\n\nIn the next release (Typst 0.13) it will be fairly easy to \"extend\"  the `integral` symbol yourself (but this will only work when you write `integral` in the scope of your redefinition):\n\n```typ\n// Requires Typst 0.13\n#let integral = {\n  let args = eval(repr(sym.integral).replace(\"symbol\", \"arguments\", count: 1))\n  symbol(..args, (\"bar.above\", \"‚®õ\"), (\"bar.below\", \"‚®ú\"))\n}\n\n$\n  integral_a^b wide\n  ‚®õ_a^b \"or\" integral.bar.above_a^b wide\n  ‚®ú_a^b \"or\" integral.bar.below_a^b \n$",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 19,
      "score": 203.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:51:50.349080"
}
{
  "topic_metadata": {
    "id": 2764,
    "title": "Is it possible to remove indent for next lines in enum?",
    "slug": "is-it-possible-to-remove-indent-for-next-lines-in-enum",
    "posts_count": 2,
    "created_at": "2025-02-10T22:50:21.637Z",
    "last_posted_at": "2025-02-10T23:07:06.182Z",
    "views": 63,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ra4ina",
    "tags": [
      "lists"
    ],
    "category_id": 5,
    "participant_count": 1,
    "word_count": 22
  },
  "posts": [
    {
      "id": 8446,
      "post_number": 1,
      "username": "ra4ina",
      "name": "ra4ina",
      "created_at": "2025-02-10T22:50:21.740Z",
      "updated_at": "2025-02-11T08:51:24.843Z",
      "cooked": "<p><img src=\"https://forum.typst.app/uploads/default/original/2X/9/9abe14c32e5011aeccc53a5cad7a37338f0c1dc7.png\" alt=\"image\" data-base62-sha1=\"m4UMc4BnsLbmA2G9NM2C6ejdNLp\" width=\"599\" height=\"492\"></p>",
      "raw": "![image|599x492](upload://m4UMc4BnsLbmA2G9NM2C6ejdNLp.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 105.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1175
    },
    {
      "id": 8447,
      "post_number": 2,
      "username": "ra4ina",
      "name": "ra4ina",
      "created_at": "2025-02-10T23:07:06.182Z",
      "updated_at": "2025-02-10T23:07:06.182Z",
      "cooked": "<p>Found a workaround of this</p>\n<pre><code class=\"lang-auto\">#set enum(body-indent: -1.11cm)\n+ #h(1.25cm) something #lorem(25)\n</code></pre>",
      "raw": "Found a workaround of this\n```\n#set enum(body-indent: -1.11cm)\n+ #h(1.25cm) something #lorem(25)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1175
    }
  ],
  "scraped_at": "2025-06-10T09:51:49.639153"
}
{
  "topic_metadata": {
    "id": 2774,
    "title": "How can one substitute variables in raw blocks?",
    "slug": "how-can-one-substitute-variables-in-raw-blocks",
    "posts_count": 4,
    "created_at": "2025-02-11T14:28:50.592Z",
    "last_posted_at": "2025-02-11T15:41:24.897Z",
    "views": 167,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Electron_Wizard",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 360
  },
  "posts": [
    {
      "id": 8471,
      "post_number": 1,
      "username": "Cass",
      "name": "Cass",
      "created_at": "2025-02-11T14:28:51.000Z",
      "updated_at": "2025-02-11T16:58:44.533Z",
      "cooked": "<p>Hi all,</p>\n<p>New to Typst, so sorry if this is a rather obvious/silly question.<br>\nAs I understand it, is it possible to perform variable substitutions in raw blocks, like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/codly:1.2.0\": *\n#import \"@preview/codly-languages:0.1.1\": *\n#show: codly-init.with()\n\n#let version = \"1.0\"\n\n#codly(enabled: true, number-format: none)\n```bash\n#!/bin/bash\n\n# How could I replace $version?\necho $version\n\n```\n</code></pre>\n<p>Thanks in advance<br>\nBrgds</p>",
      "raw": "\nHi all,\n\nNew to Typst, so sorry if this is a rather obvious/silly question.\nAs I understand it, is it possible to perform variable substitutions in raw blocks, like\n\n````typ\n#import \"@preview/codly:1.2.0\": *\n#import \"@preview/codly-languages:0.1.1\": *\n#show: codly-init.with()\n\n#let version = \"1.0\"\n\n#codly(enabled: true, number-format: none)\n```bash\n#!/bin/bash\n\n# How could I replace $version?\necho $version\n\n```\n````\nThanks in advance \nBrgds",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 329.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1179
    },
    {
      "id": 8472,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-02-11T14:33:27.161Z",
      "updated_at": "2025-02-11T14:36:21.367Z",
      "cooked": "<p>By using the <code>#raw</code> function instead of the <em>shorthand</em> form of it:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">```&lt;lang&gt;\n...\n```\n\nversus\n\n#raw(lang: \"lang\", \"...\")\n</code></pre>\n<p>you can include variables into the text:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.2.0\": *\n#import \"@preview/codly-languages:0.1.1\": *\n#show: codly-init.with()\n\n#let version = \"1.0\"\n\n#codly(enabled: true, number-format: none)\n#raw(block: true,\n     \"#!/bin/bash\necho \" + version, // must be at column 0 (else adds spaces)\n     lang: \"bash\"\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/1f375428219a65ddda746d0c517ce0dcf1c3669d.png\" alt=\"image\" data-base62-sha1=\"4s9lfWqaNM1x5LgxLQB5KT8DIXX\" width=\"479\" height=\"85\"></p>\n<p>Hope that helps :)</p>",
      "raw": "By using the `#raw` function instead of the _shorthand_ form of it:\n````typst\n```<lang>\n...\n```\n\nversus\n\n#raw(lang: \"lang\", \"...\")\n````\nyou can include variables into the text:\n\n````typst\n#import \"@preview/codly:1.2.0\": *\n#import \"@preview/codly-languages:0.1.1\": *\n#show: codly-init.with()\n\n#let version = \"1.0\"\n\n#codly(enabled: true, number-format: none)\n#raw(block: true,\n     \"#!/bin/bash\necho \" + version, // must be at column 0 (else adds spaces)\n     lang: \"bash\"\n)\n````\n\n![image|479x85](upload://4s9lfWqaNM1x5LgxLQB5KT8DIXX.png)\n\nHope that helps :)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 60.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 8473,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-11T15:22:10.100Z",
      "updated_at": "2025-02-11T15:24:36.832Z",
      "cooked": "<p>you can use <a href=\"https://typst.app/universe/package/crudo\">crudo</a> to help yourself with that. An alternative approach that fails here would be using a show rule.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let version = \"1.0\"\n#let code = ```bash\n#!/bin/bash\n\n# How could I replace $version?\necho $version\n\n```\n\n= No substitution\n\n#code\n\n= Substitution (attempt) using `show`\n\n#{\n  show \"$version\": version\n  code\n}\n\n= Substitution using `crudo`\n\n#import \"@preview/crudo:0.1.1\"\n#crudo.map(code, line =&gt; line.replace(\"$version\", version))\n\n= Substitution using `crudo`, ignoring comments\n\n#import \"@preview/crudo:0.1.1\"\n#crudo.map(code, line =&gt; {\n  if line.trim().starts-with(\"#\") { return line }\n  line.replace(\"$version\", version)\n})\n</code></pre>\n<p>The substitution attempt using <code>show</code> only succeeds in the comment because the <code>$version</code> in the actual code is parsed as two separate tokens (for syntax highlighting purposes). Replacing <code>$version</code> with e.g. <code>VERSION</code> should fix that, though.</p>\n<p>Alternatively, Crudo allows you to treat raw blocks more like arrays of strings (lines) that content elements. In particular, <code>crudo.map()</code> will replace each line with the result of the function, which can then replace stuff. Since it‚Äôs line-by-line, you can easily check if you‚Äôre in a comment line, just in case you want to only replace the code occurrences of the version.</p>",
      "raw": "you can use [crudo](https://typst.app/universe/package/crudo) to help yourself with that. An alternative approach that fails here would be using a show rule.\n\n````typ\n#let version = \"1.0\"\n#let code = ```bash\n#!/bin/bash\n\n# How could I replace $version?\necho $version\n\n```\n\n= No substitution\n\n#code\n\n= Substitution (attempt) using `show`\n\n#{\n  show \"$version\": version\n  code\n}\n\n= Substitution using `crudo`\n\n#import \"@preview/crudo:0.1.1\"\n#crudo.map(code, line => line.replace(\"$version\", version))\n\n= Substitution using `crudo`, ignoring comments\n\n#import \"@preview/crudo:0.1.1\"\n#crudo.map(code, line => {\n  if line.trim().starts-with(\"#\") { return line }\n  line.replace(\"$version\", version)\n})\n````\n\nThe substitution attempt using `show` only succeeds in the comment because the `$version` in the actual code is parsed as two separate tokens (for syntax highlighting purposes). Replacing `$version` with e.g. `VERSION` should fix that, though.\n\nAlternatively, Crudo allows you to treat raw blocks more like arrays of strings (lines) that content elements. In particular, `crudo.map()` will replace each line with the result of the function, which can then replace stuff. Since it's line-by-line, you can easily check if you're in a comment line, just in case you want to only replace the code occurrences of the version.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 409.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8474,
      "post_number": 4,
      "username": "Cass",
      "name": "Cass",
      "created_at": "2025-02-11T15:41:24.897Z",
      "updated_at": "2025-02-11T15:41:24.897Z",
      "cooked": "<p>Thank you for your replies. Marked as solved.</p>",
      "raw": "Thank you for your replies. Marked as solved.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1179
    }
  ],
  "scraped_at": "2025-06-10T09:51:48.928887"
}
{
  "topic_metadata": {
    "id": 2775,
    "title": "Is there a way on Linux to set --open to (xdg-)open (or similar)?",
    "slug": "is-there-a-way-on-linux-to-set-open-to-xdg-open-or-similar",
    "posts_count": 5,
    "created_at": "2025-02-11T15:51:24.982Z",
    "last_posted_at": "2025-02-14T12:48:18.358Z",
    "views": 126,
    "like_count": 1,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "ondohotola",
    "tags": [
      "tooling"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 238
  },
  "posts": [
    {
      "id": 8476,
      "post_number": 1,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-02-11T15:51:25.214Z",
      "updated_at": "2025-02-11T15:53:47.056Z",
      "cooked": "<p>I am using <code>typst</code> mainly on the Mac but have also installed it on an Ubuntu 24.04 LTS Desktop.</p>\n<p>On the Mac <code>--open</code> uses <code>open</code> proper on Linux it shows me an <code>Open With...</code> selection (with the <code>Document Viewer</code> and <code>Chromium</code> as options.</p>\n<p>I have set the default viewer to the <code>Document Viewer</code> and double clicking a PDF or using the commands <code>open</code> or <code>xdg-open</code> on the command line or in shell scripts (in a window) both open the PDF as required.</p>",
      "raw": "I am using `typst` mainly on the Mac but have also installed it on an Ubuntu 24.04 LTS Desktop.\n\nOn the Mac `--open` uses `open` proper on Linux it shows me an `Open With...` selection (with the `Document Viewer` and `Chromium` as options.\n\nI have set the default viewer to the `Document Viewer` and double clicking a PDF or using the commands `open` or `xdg-open` on the command line or in shell scripts (in a window) both open the PDF as required.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 523.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 8647,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-14T10:13:53.723Z",
      "updated_at": "2025-02-14T10:13:53.723Z",
      "cooked": "<p>Do you mean that when you do <code>typst compile file.typ --open</code> in the terminal, you get a popup ‚ÄúOpen with‚Äù dialog?</p>\n<p>Does it work if you do <code>typst compile file.typ --open xdg-open</code>?</p>\n<p>What does <code>type xdg-open</code> say?</p>\n<p>To further investigate, you can run <code>strace -f -o strace.log typst compile file.typ --open</code>, and search for ‚Äúxdg-open‚Äù in <code>strace.log</code> and see what‚Äôs there and shortly afterwards.</p>",
      "raw": "Do you mean that when you do `typst compile file.typ --open` in the terminal, you get a popup \"Open with\" dialog?\n\nDoes it work if you do `typst compile file.typ --open xdg-open`?\n\nWhat does `type xdg-open` say?\n\nTo further investigate, you can run `strace -f -o strace.log typst compile file.typ --open`, and search for \"xdg-open\" in `strace.log` and see what's there and shortly afterwards.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8650,
      "post_number": 3,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-02-14T11:14:07.112Z",
      "updated_at": "2025-02-14T11:14:07.112Z",
      "cooked": "<p><code>typst compile test.typ --open xdg-open</code></p>\n<p>results in the</p>\n<p><code>Open With...</code> window</p>\n<p><code>type xdg-open</code></p>\n<p>shows</p>\n<p><code>xdg-open is /usr/bin/xdg-open</code></p>\n<p><code>strace -f -o strace.log typst compile file.typ --open</code></p>\n<p>shows</p>\n<p><code>cannot fstatat canonical snap directory: Permission denied</code></p>\n<p><code>sudo strace -f -o strace.log typst compile file.typ --open</code></p>\n<p>shows</p>\n<p><code>error: Permission denied (os error 13)</code></p>",
      "raw": "`typst compile test.typ --open xdg-open` \n\nresults in the \n\n`Open With...` window\n\n`type xdg-open` \n\nshows \n\n`xdg-open is /usr/bin/xdg-open`\n\n`strace -f -o strace.log typst compile file.typ --open` \n\nshows \n\n`cannot fstatat canonical snap directory: Permission denied`\n\n`sudo strace -f -o strace.log typst compile file.typ --open` \n\nshows \n\n`error: Permission denied (os error 13)`",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 12.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 8651,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-14T11:15:18.048Z",
      "updated_at": "2025-02-14T11:15:18.048Z",
      "cooked": "<p>Did you install Typst with a snap? Maybe that‚Äôs a snap-specific issue‚Ä¶</p>",
      "raw": "Did you install Typst with a snap? Maybe that's a snap-specific issue...",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8662,
      "post_number": 5,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-02-14T12:48:18.358Z",
      "updated_at": "2025-02-14T12:48:18.358Z",
      "cooked": "<p>Pulled the XZ and that works.</p>\n<p>Thanks</p>",
      "raw": "Pulled the XZ and that works.\n\nThanks",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 12,
      "score": 17.4,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 644
    }
  ],
  "scraped_at": "2025-06-10T09:51:48.209127"
}
{
  "topic_metadata": {
    "id": 2776,
    "title": "How to insert quotation marks in math mode?",
    "slug": "how-to-insert-quotation-marks-in-math-mode",
    "posts_count": 2,
    "created_at": "2025-02-11T18:57:34.683Z",
    "last_posted_at": "2025-02-12T07:16:04.850Z",
    "views": 61,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 150
  },
  "posts": [
    {
      "id": 8478,
      "post_number": 1,
      "username": "twihno",
      "name": "Thomas Schuster",
      "created_at": "2025-02-11T18:57:34.817Z",
      "updated_at": "2025-02-11T18:57:34.817Z",
      "cooked": "<p>Hello everyone,</p>\n<p>I tried inserting (printed) quotation marks but couldn‚Äôt find a satisfying solution.<br>\n<code>\"\\\"test\\\"\"</code> ‚Äúworks‚Äù but doesn‚Äôt respect the document‚Äôs locale. E.g. in German the first pair is positioned at the bottom of the line.<br>\nHas anyone faced the same issue or has even found a solution?</p>\n<p>Thank you</p>",
      "raw": "Hello everyone,\n\nI tried inserting (printed) quotation marks but couldn't find a satisfying solution.\n`\"\\\"test\\\"\"` \"works\" but doesn't respect the document's locale. E.g. in German the first pair is positioned at the bottom of the line.\nHas anyone faced the same issue or has even found a solution?\n\nThank you",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 128.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 518
    },
    {
      "id": 8491,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-12T07:16:04.850Z",
      "updated_at": "2025-02-12T07:16:04.850Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/twihno\">@twihno</a>,</p>\n<p>it would help to understand your question if you provide an example of what works/doesn‚Äôt work.</p>\n<p>In math mode, you can go back to code by using <code>#</code>. It‚Äôs tricky to use <code>\"</code> in math mode, so here are a few examples to help you know what‚Äôs possible.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(lang: \"de\")\n\n\"This is a quote\".\n\n#quote($a + h$) // quote equation\n\n$#[\"a + b\"]$ // doesn't work\n\n$#\"a + b\"$ // string variable (no quotes)\n\n$#quote[a + b]$ // quote content in math\n\n$#quote($a + b$)$ // quote math in math\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/9/9ad26c46a6427e188bb44a758092d42634838dc0.png\" alt=\"image\" data-base62-sha1=\"m5Cmi64sheRIaNz5xnTh6jl35As\" width=\"154\" height=\"228\"></p>",
      "raw": "Hello @twihno,\n\nit would help to understand your question if you provide an example of what works/doesn't work.\n\nIn math mode, you can go back to code by using `#`. It's tricky to use `\"` in math mode, so here are a few examples to help you know what's possible.\n\n```typ\n#set text(lang: \"de\")\n\n\"This is a quote\".\n\n#quote($a + h$) // quote equation\n\n$#[\"a + b\"]$ // doesn't work\n\n$#\"a + b\"$ // string variable (no quotes)\n\n$#quote[a + b]$ // quote content in math\n\n$#quote($a + b$)$ // quote math in math\n```\n![image|154x228](upload://m5Cmi64sheRIaNz5xnTh6jl35As.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:51:47.472729"
}
{
  "topic_metadata": {
    "id": 2778,
    "title": "How to prevent recursion on `show`?",
    "slug": "how-to-prevent-recursion-on-show",
    "posts_count": 4,
    "created_at": "2025-02-11T21:03:38.792Z",
    "last_posted_at": "2025-02-12T09:03:16.400Z",
    "views": 96,
    "like_count": 6,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Electron_Wizard",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 573
  },
  "posts": [
    {
      "id": 8480,
      "post_number": 1,
      "username": "wilker",
      "name": "Wilker",
      "created_at": "2025-02-11T21:03:38.931Z",
      "updated_at": "2025-02-11T21:03:38.931Z",
      "cooked": "<p>i have a Word¬π, and every time i write this Word¬π i want a footnote attached to it, displaying its definition</p>\n<hr>\n<h6><a name=\"p-8480-word-_a-wording-word-worded-in-the-wording-world_-1\" class=\"anchor\" href=\"#p-8480-word-_a-wording-word-worded-in-the-wording-world_-1\"></a>¬π<strong>word</strong> <em>a wording word worded in the wording world.</em></h6>\n<hr>\n<p>so what happened is that i gravitated towards using the <code>show</code> keyword like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show \"word\": [*word* #footnote[/ word: a wording word worded in the wording world.]\n</code></pre>\n<p>the problem is that the resulting footnote contains <code>word</code>, which seems to be caught by <code>show</code>, because every time i attempt to write it in, my local compiler hangs, and i also have to reboot my lsp Tinymist. my current workaround is to avoid using the word¬π altogether in the footnote, but that then also means i can‚Äôt place a Definition in the footnote.</p>\n<p>any solutions?</p>\n<h6><a name=\"p-8480-thank-you-for-reading-2\" class=\"anchor\" href=\"#p-8480-thank-you-for-reading-2\"></a>thank you for reading</h6>",
      "raw": "i have a Word¬π, and every time i write this Word¬π i want a footnote attached to it, displaying its definition\n\n---\n\n###### ¬π**word** _a wording word worded in the wording world._\n\n---\nso what happened is that i gravitated towards using the `show` keyword like so:\n\n```typ\n#show \"word\": [*word* #footnote[/ word: a wording word worded in the wording world.]\n```\n\nthe problem is that the resulting footnote contains `word`, which seems to be caught by `show`, because every time i attempt to write it in, my local compiler hangs, and i also have to reboot my lsp Tinymist. my current workaround is to avoid using the word¬π altogether in the footnote, but that then also means i can't place a Definition in the footnote.\n\nany solutions?\n\n###### thank you for reading",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 155.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1180
    },
    {
      "id": 8490,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-12T07:09:54.016Z",
      "updated_at": "2025-02-12T07:09:54.016Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/wilker\">@wilker</a>,</p>\n<p>I do not recommend show rules like that. Instead, use a variable.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let word = [*word* #footnote[/ word: a wording word worded in the wording world]]\n\nThis is a #word.\n</code></pre>",
      "raw": "Hello @wilker,\n\nI do not recommend show rules like that. Instead, use a variable.\n\n```typ\n#let word = [*word* #footnote[/ word: a wording word worded in the wording world]]\n\nThis is a #word.\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 26,
      "score": 35.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 8492,
      "post_number": 3,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-02-12T08:05:52.411Z",
      "updated_at": "2025-02-12T08:05:52.411Z",
      "cooked": "<p>Here‚Äôs a hacky way to get closer to your original idea.  The problem of too many footnotes could be solved with the use of a <code>state</code> variable, but I‚Äôll leave that as an exercise for the reader.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show regex(\"\\b[wW]ord\\b\"): it =&gt; {\n  let newWord = [#it.text.slice(0,2)#[#sym.zwj]#it.text.slice(2)]\n  newWord\n  footnote([/ wo#[#sym.zwj]rd: a wording wo#[#sym.zwj]rd wor#[#sym.zwj]ded in the wording world.])\n}\n\nThis word is important.  Whenever you write this word (or Word, but not WORD), a footnote gets added.\nBut doing it this way results in too many footnotes for the word word.\n</code></pre>\n<details>\n<summary>\nResults</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b2ffd670e950b21da7ade0fe6403fd59b3c66183.png\" data-download-href=\"https://forum.typst.app/uploads/default/b2ffd670e950b21da7ade0fe6403fd59b3c66183\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b2ffd670e950b21da7ade0fe6403fd59b3c66183_2_360x500.png\" alt=\"image\" data-base62-sha1=\"pxv7oYdf8SNYfJLvoFqkQmFk3pV\" width=\"360\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b2ffd670e950b21da7ade0fe6403fd59b3c66183_2_360x500.png, https://forum.typst.app/uploads/default/optimized/2X/b/b2ffd670e950b21da7ade0fe6403fd59b3c66183_2_540x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/b/b2ffd670e950b21da7ade0fe6403fd59b3c66183.png 2x\" data-dominant-color=\"EBEBEB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">637√ó884 52.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Here's a hacky way to get closer to your original idea.  The problem of too many footnotes could be solved with the use of a `state` variable, but I'll leave that as an exercise for the reader.\n```typ\n#show regex(\"\\b[wW]ord\\b\"): it => {\n  let newWord = [#it.text.slice(0,2)#[#sym.zwj]#it.text.slice(2)]\n  newWord\n  footnote([/ wo#[#sym.zwj]rd: a wording wo#[#sym.zwj]rd wor#[#sym.zwj]ded in the wording world.])\n}\n\nThis word is important.  Whenever you write this word (or Word, but not WORD), a footnote gets added.\nBut doing it this way results in too many footnotes for the word word.\n```\n\n[details=\"Results\"]\n![image|360x500](upload://pxv7oYdf8SNYfJLvoFqkQmFk3pV.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 25.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 8494,
      "post_number": 4,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-02-12T09:03:16.400Z",
      "updated_at": "2025-02-12T09:13:29.847Z",
      "cooked": "<p>To spoil the fun a bit for <em>gezepi</em> (I usually dislike having not the solution spoon fed to me), I‚Äôll spoon feed you the solution, which might not be the best, nor might it actually work correctly.</p>\n<p>So here‚Äôs the code. It uses fancy regex (which I assume can turn into a huge resource hog at some point).</p>\n<p>The show rule is contructed by combining all the listed regex‚Äôes together, so only one show rule exists. Then the <code>it</code> is used to acquire the term information from the <code>descriptions</code> dictionary. The <code>state</code> member is used to detect if it is the first occurence of the term (<code>true</code> = not yet detected, <code>false</code> = previously detected).</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let descriptions = (\n  word: (\n    regex: \"\\b[wW]ord\\b\",\n    state: state(\"word\", true),\n    description: \"a wording word worded in the wording world.\"\n  ),\n  footnote: (\n    regex: \"\\b[fF]ootnote\\b\",\n    state: state(\"footnote\", true),\n    description: \"footnote is not noting foots on a note.\"\n  ),\n)\n\n#show regex(descriptions.values().map(x =&gt; x.regex).join(\"|\")): it =&gt; context {   \n  let term = descriptions.at(lower(it.text))\n  if term.state.get() == true {\n    term.state.update(false)\n    underline(it)\n    let tex = (strong(lower(it.text)) + \": \" + term.description)\n    footnote(\"Hello\")// footnote(tex) breaks the online compiler\n  } else {\n    it\n  }\n}\n\nThis word is important.  Whenever you write this word (or Word, but not WORD), a footnote gets added. But doing it this way results in too many footnotes for the word 'word'.\n</code></pre>\n<details>\n<summary>\nResult</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0cc04e08e80145d687638228ac70fb37c2023991.png\" data-download-href=\"https://forum.typst.app/uploads/default/0cc04e08e80145d687638228ac70fb37c2023991\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cc04e08e80145d687638228ac70fb37c2023991_2_358x500.png\" alt=\"image\" data-base62-sha1=\"1ONJVKnknmQLgZo7g0cFvKMGN2x\" width=\"358\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/0cc04e08e80145d687638228ac70fb37c2023991_2_358x500.png, https://forum.typst.app/uploads/default/original/2X/0/0cc04e08e80145d687638228ac70fb37c2023991.png 1.5x, https://forum.typst.app/uploads/default/original/2X/0/0cc04e08e80145d687638228ac70fb37c2023991.png 2x\" data-dominant-color=\"FCFCFC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">471√ó656 19.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p>The biggest issue this solution has, is my instance of the web app just breaks when I insert <code>footnote(tex)</code> and I don‚Äôt know why exactly. The description texts are correctly concated.</p>\n<p>My conclussion would be: use a glossary package, which does this job for you.</p>",
      "raw": "To spoil the fun a bit for _gezepi_ (I usually dislike having not the solution spoon fed to me), I'll spoon feed you the solution, which might not be the best, nor might it actually work correctly.\n\nSo here's the code. It uses fancy regex (which I assume can turn into a huge resource hog at some point).\n\nThe show rule is contructed by combining all the listed regex'es together, so only one show rule exists. Then the `it` is used to acquire the term information from the `descriptions` dictionary. The `state` member is used to detect if it is the first occurence of the term (`true` = not yet detected, `false` = previously detected).\n\n```typst\n#let descriptions = (\n  word: (\n    regex: \"\\b[wW]ord\\b\",\n    state: state(\"word\", true),\n    description: \"a wording word worded in the wording world.\"\n  ),\n  footnote: (\n    regex: \"\\b[fF]ootnote\\b\",\n    state: state(\"footnote\", true),\n    description: \"footnote is not noting foots on a note.\"\n  ),\n)\n\n#show regex(descriptions.values().map(x => x.regex).join(\"|\")): it => context {   \n  let term = descriptions.at(lower(it.text))\n  if term.state.get() == true {\n    term.state.update(false)\n    underline(it)\n    let tex = (strong(lower(it.text)) + \": \" + term.description)\n    footnote(\"Hello\")// footnote(tex) breaks the online compiler\n  } else {\n    it\n  }\n}\n\nThis word is important.  Whenever you write this word (or Word, but not WORD), a footnote gets added. But doing it this way results in too many footnotes for the word 'word'.\n```\n\n[details=\"Result\"]\n![image|358x500](upload://1ONJVKnknmQLgZo7g0cFvKMGN2x.png)\n[/details]\n\nThe biggest issue this solution has, is my instance of the web app just breaks when I insert `footnote(tex)` and I don't know why exactly. The description texts are correctly concated.\n\nMy conclussion would be: use a glossary package, which does this job for you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 21,
      "score": 74.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 997
    }
  ],
  "scraped_at": "2025-06-10T09:51:46.759019"
}
{
  "topic_metadata": {
    "id": 2779,
    "title": "How can I keep annotations (like circles) from being distorted in a plot with different axis scales?",
    "slug": "how-can-i-keep-annotations-like-circles-from-being-distorted-in-a-plot-with-different-axis-scales",
    "posts_count": 2,
    "created_at": "2025-02-11T21:44:38.415Z",
    "last_posted_at": "2025-02-12T09:45:38.704Z",
    "views": 54,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "cetz"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 249
  },
  "posts": [
    {
      "id": 8481,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-02-11T21:44:38.535Z",
      "updated_at": "2025-02-12T07:05:14.557Z",
      "cooked": "<p>Hey everyone,</p>\n<p>I‚Äôm working with plots in Typst and I‚Äôm running into an issue with annotations. When I add shapes like circles or rectangles using plot.annotate(), they get distorted if the x- and y-axes have different scales. This makes sense mathematically, but I‚Äôm wondering if there‚Äôs a way to keep shapes (especially circles) looking correct without manually adjusting their dimensions based on the axis ratio.</p>\n<p>Does anyone have a good approach for this? I‚Äôve put together a small example with code:<br>\n<a href=\"https://typst.app/project/rcrQ4svHRC346ata25RcZk\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rcrQ4svHRC346ata25RcZk</a></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">plot.plot(\n      size: (10, 5),\n      axis-style: \"school-book\",\n      x-tick-step: 1,\n      y-tick-step: 10,\n      x-max: 10,\n      y-max: 100,\n      {\n        plot.add(\n          style: (stroke: blue + 1.5pt),\n          domain: (0, 10),\n          x =&gt; calc.pow(x, 2),\n        )\n        plot.annotate({\n          circle((8, 64), radius: 2, fill: red)\n        })\n      },\n    )\n</code></pre>\n<p>Would love to hear your thoughts!</p>\n<p>Thanks!</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/11c006e39861357ba7bc4d63bff82a2ff74fde14.png\" data-download-href=\"https://forum.typst.app/uploads/default/11c006e39861357ba7bc4d63bff82a2ff74fde14\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/11c006e39861357ba7bc4d63bff82a2ff74fde14_2_690x391.png\" alt=\"image\" data-base62-sha1=\"2x1x1UztUl6sKWEB0FHVwXfSUII\" width=\"690\" height=\"391\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/11c006e39861357ba7bc4d63bff82a2ff74fde14_2_690x391.png, https://forum.typst.app/uploads/default/original/2X/1/11c006e39861357ba7bc4d63bff82a2ff74fde14.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/11c006e39861357ba7bc4d63bff82a2ff74fde14.png 2x\" data-dominant-color=\"F9F9FA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">868√ó492 46.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hey everyone,\n\nI‚Äôm working with plots in Typst and I‚Äôm running into an issue with annotations. When I add shapes like circles or rectangles using plot.annotate(), they get distorted if the x- and y-axes have different scales. This makes sense mathematically, but I‚Äôm wondering if there‚Äôs a way to keep shapes (especially circles) looking correct without manually adjusting their dimensions based on the axis ratio.\n\nDoes anyone have a good approach for this? I‚Äôve put together a small example with code:\nhttps://typst.app/project/rcrQ4svHRC346ata25RcZk\n\n```typ\nplot.plot(\n      size: (10, 5),\n      axis-style: \"school-book\",\n      x-tick-step: 1,\n      y-tick-step: 10,\n      x-max: 10,\n      y-max: 100,\n      {\n        plot.add(\n          style: (stroke: blue + 1.5pt),\n          domain: (0, 10),\n          x => calc.pow(x, 2),\n        )\n        plot.annotate({\n          circle((8, 64), radius: 2, fill: red)\n        })\n      },\n    )\n```\n\nWould love to hear your thoughts!\n\nThanks!\n\n![image|690x391](upload://2x1x1UztUl6sKWEB0FHVwXfSUII.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 54.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 8498,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-12T09:45:38.704Z",
      "updated_at": "2025-02-12T09:45:38.704Z",
      "cooked": "<p>You could use <code>plot.add()</code> to add data points with a specific marker</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">plot.add(\n  mark: \"o\",\n  style: (stroke: none),\n  ((8, 64), (9, 81))\n)\n</code></pre>\n<p>You can use the arguments <code>mark-size</code> and <code>mark-style</code> to adjust the annotations. Setting the stroke style to <code>none</code> is only necessary if you add multiple points with the same function call.</p>\n<p>The available markers are shown in the source code in <a href=\"https://github.com/cetz-package/cetz-plot/blob/master/src/plot/mark.typ\" rel=\"noopener nofollow ugc\">mark.typ</a>. I couldn‚Äôt find a list of all available markers in the manual.</p>",
      "raw": "You could use `plot.add()` to add data points with a specific marker\n\n```typc\nplot.add(\n  mark: \"o\",\n  style: (stroke: none),\n  ((8, 64), (9, 81))\n)\n```\n\nYou can use the arguments `mark-size` and `mark-style` to adjust the annotations. Setting the stroke style to `none` is only necessary if you add multiple points with the same function call.\n\nThe available markers are shown in the source code in [mark.typ](https://github.com/cetz-package/cetz-plot/blob/master/src/plot/mark.typ). I couldn't find a list of all available markers in the manual.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:51:45.998779"
}
{
  "topic_metadata": {
    "id": 2786,
    "title": "How can I list all labels that aren't referenced in the document?",
    "slug": "how-can-i-list-all-labels-that-arent-referenced-in-the-document",
    "posts_count": 6,
    "created_at": "2025-02-12T10:13:13.893Z",
    "last_posted_at": "2025-02-12T13:46:35.169Z",
    "views": 197,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting",
      "referencing",
      "query"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 437
  },
  "posts": [
    {
      "id": 8500,
      "post_number": 1,
      "username": "yochem",
      "name": "Yochem van Rosmalen",
      "created_at": "2025-02-12T10:13:14.072Z",
      "updated_at": "2025-02-22T09:13:37.000Z",
      "cooked": "<p>Is there a way to list all labels without a reference? For example, using <code>typst query</code>? I would like to have a shell script that checks if my document contains figures that are not yet referenced in the text. Otherwise, just some scripting in the text is fine too.</p>\n<p>If you have a list of all labels in the documents, you could probably use parts of  the code example from the <a href=\"https://sitandr.github.io/typst-examples-book/book/snippets/labels.html#allow-missing-references\" rel=\"noopener nofollow ugc\">Typst examples book</a>. So is there a way to list all labels in the document?</p>",
      "raw": "Is there a way to list all labels without a reference? For example, using `typst query`? I would like to have a shell script that checks if my document contains figures that are not yet referenced in the text. Otherwise, just some scripting in the text is fine too.\n\nIf you have a list of all labels in the documents, you could probably use parts of  the code example from the [Typst examples book](https://sitandr.github.io/typst-examples-book/book/snippets/labels.html#allow-missing-references). So is there a way to list all labels in the document?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 792.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1182
    },
    {
      "id": 8506,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-12T11:21:59.221Z",
      "updated_at": "2025-02-12T12:51:37.836Z",
      "cooked": "<p>Hi, welcome to the Typst forum!</p>\n<p>I don‚Äôt think there‚Äôs a way to get all labels, but you can query for all elements of a particular type and see which label they have, so you can do something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"1.\")\n\n#let check-labels() = context {\n  let targets = query(ref).map(x =&gt; x.target)\n  let unreferenced = query(selector.or(\n    figure,\n    math.equation,\n    // ... add other referencable elements here\n  )).map(x =&gt; x.at(\"label\", default: none))\n    .filter(x =&gt; x != none and x not in targets)\n\n  if unreferenced.len() &gt; 0 {\n    set text(red)\n    [\n      Unreferenced labels: #unreferenced.map(str).join(\", \").\n      #metadata(unreferenced)&lt;unreferenced-labels&gt;\n    ]\n  }\n}\n\n#check-labels()\n\n$ x $&lt;eq1&gt;\n$ y $&lt;eq2&gt;\n$ z $&lt;eq3&gt;\n\nSee @eq2.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6f11f855be1d8aa9929035f3599ab03e5969dfd6.png\" data-download-href=\"https://forum.typst.app/uploads/default/6f11f855be1d8aa9929035f3599ab03e5969dfd6\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/6f11f855be1d8aa9929035f3599ab03e5969dfd6_2_690x158.png\" alt=\"image\" data-base62-sha1=\"fQzuZAjRMldtbfJ9Mvpgu7m1cDY\" width=\"690\" height=\"158\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/6f11f855be1d8aa9929035f3599ab03e5969dfd6_2_690x158.png, https://forum.typst.app/uploads/default/original/2X/6/6f11f855be1d8aa9929035f3599ab03e5969dfd6.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/6f11f855be1d8aa9929035f3599ab03e5969dfd6.png 2x\" data-dominant-color=\"FEFEFE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">950√ó218 10.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>And to retrieve the list from the command-line: <code>typst query file.typ '&lt;unreferenced-labels&gt;</code></p>",
      "raw": "Hi, welcome to the Typst forum!\n\nI don't think there's a way to get all labels, but you can query for all elements of a particular type and see which label they have, so you can do something like this:\n\n```typ\n#set math.equation(numbering: \"1.\")\n\n#let check-labels() = context {\n  let targets = query(ref).map(x => x.target)\n  let unreferenced = query(selector.or(\n    figure,\n    math.equation,\n    // ... add other referencable elements here\n  )).map(x => x.at(\"label\", default: none))\n    .filter(x => x != none and x not in targets)\n\n  if unreferenced.len() > 0 {\n    set text(red)\n    [\n      Unreferenced labels: #unreferenced.map(str).join(\", \").\n      #metadata(unreferenced)<unreferenced-labels>\n    ]\n  }\n}\n\n#check-labels()\n\n$ x $<eq1>\n$ y $<eq2>\n$ z $<eq3>\n\nSee @eq2.\n```\n![image|690x158](upload://fQzuZAjRMldtbfJ9Mvpgu7m1cDY.png)\n\nAnd to retrieve the list from the command-line: `typst query file.typ '<unreferenced-labels>`",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 191.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8508,
      "post_number": 3,
      "username": "yochem",
      "name": "Yochem van Rosmalen",
      "created_at": "2025-02-12T12:34:26.091Z",
      "updated_at": "2025-02-12T12:35:41.296Z",
      "cooked": "<p>Woow, that looks awesome! Thanks, it errors for me though, with the error ‚Äúinternal error when accessing field ‚Äúlabel‚Äù in figure ‚Äì this is a bug‚Äù. Full error:</p>\n<pre><code class=\"lang-auto\">error: internal error when accessing field \"label\" in figure ‚Äì this is a bug\n   ‚îå‚îÄ thesis.typ:54:16\n   ‚îÇ\n54 ‚îÇ   )).map(x =&gt; x.label).filter(x =&gt; x != none and x not in targets)\n   ‚îÇ                 ^^^^^\n</code></pre>\n<p>This is also for <code>math.equation</code>, not just <code>figure</code>.</p>\n<p>I‚Äôm using typst 0.12.0. Any clue?</p>",
      "raw": "Woow, that looks awesome! Thanks, it errors for me though, with the error \"internal error when accessing field \"label\" in figure ‚Äì this is a bug\". Full error:\n\n```\nerror: internal error when accessing field \"label\" in figure ‚Äì this is a bug\n   ‚îå‚îÄ thesis.typ:54:16\n   ‚îÇ\n54 ‚îÇ   )).map(x => x.label).filter(x => x != none and x not in targets)\n   ‚îÇ                 ^^^^^\n```\n\nThis is also for `math.equation`, not just `figure`.\n\nI'm using typst 0.12.0. Any clue?",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1182
    },
    {
      "id": 8509,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-12T12:52:34.626Z",
      "updated_at": "2025-02-12T15:27:53.331Z",
      "cooked": "<p><s>It seems that equations have a <code>label</code> field even when no label is defined (so it was working in my example) but figures not.</s> (Edit: ah no I just hadn‚Äôt tested the case without label!)</p>\n<p>I have edited my code to handle this correctly.</p>",
      "raw": "~~It seems that equations have a `label` field even when no label is defined (so it was working in my example) but figures not.~~ (Edit: ah no I just hadn't tested the case without label!)\n\nI have edited my code to handle this correctly.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 34.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8510,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-12T12:54:54.578Z",
      "updated_at": "2025-02-12T12:55:29.018Z",
      "cooked": "<p>Alternatively, if you want to do that it‚Äôs probably more efficient better from outside Typst.</p>\n<p>For people with a Linux environment, it‚Äôs probably doable with</p>\n<pre data-code-wrap=\"shell\"><code class=\"lang-shell\">grep -Eo '&lt;(.*?)&gt;' doc.typ | sed 's/[&lt;&gt;]//g' | xargs -I {} sh -c \"printf {} &amp;&amp; grep -o '@{}' doc.typ | wc -c | grep 0\"\n</code></pre>\n<p>which will give you all labels with 0 references.</p>",
      "raw": "Alternatively, if you want to do that it's probably more efficient better from outside Typst.\n\nFor people with a Linux environment, it's probably doable with\n```shell\ngrep -Eo '<(.*?)>' doc.typ | sed 's/[<>]//g' | xargs -I {} sh -c \"printf {} && grep -o '@{}' doc.typ | wc -c | grep 0\"\n```\nwhich will give you all labels with 0 references.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 8512,
      "post_number": 6,
      "username": "yochem",
      "name": "Yochem van Rosmalen",
      "created_at": "2025-02-12T13:46:35.169Z",
      "updated_at": "2025-02-12T13:46:35.169Z",
      "cooked": "<p>Thanks for your suggestion. I tried that route too, but I have some labels that get generated dynamically, so this wouldn‚Äôt work.</p>",
      "raw": "Thanks for your suggestion. I tried that route too, but I have some labels that get generated dynamically, so this wouldn't work.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 23.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1182
    }
  ],
  "scraped_at": "2025-06-10T09:51:45.291930"
}
