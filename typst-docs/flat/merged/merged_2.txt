{
  "topic_metadata": {
    "id": 1100,
    "title": "How can I keep the indent in a list?",
    "slug": "how-can-i-keep-the-indent-in-a-list",
    "posts_count": 4,
    "created_at": "2024-10-14T14:24:57.031Z",
    "last_posted_at": "2024-10-15T01:54:29.718Z",
    "views": 231,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "SillyFreak",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 178
  },
  "posts": [
    {
      "id": 3897,
      "post_number": 1,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-14T14:24:57.181Z",
      "updated_at": "2024-10-14T14:24:57.181Z",
      "cooked": "<p>When I use displayed equations in a list, the text following the equation will not be indented. For example:</p>\n<pre><code class=\"lang-auto\">- #lorem(10)\n$ x $\n#lorem(10)\n- #lorem(10)\n</code></pre>\n<p>It looks like:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/0a6c18461cc27b0ee0fecd916248b703ed9d73dd.png\" data-download-href=\"https://forum.typst.app/uploads/default/0a6c18461cc27b0ee0fecd916248b703ed9d73dd\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/0a6c18461cc27b0ee0fecd916248b703ed9d73dd_2_690x183.png\" alt=\"image\" data-base62-sha1=\"1ucmJVP0OhiSM2GrtJyipwzA7yR\" width=\"690\" height=\"183\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/0a6c18461cc27b0ee0fecd916248b703ed9d73dd_2_690x183.png, https://forum.typst.app/uploads/default/original/1X/0a6c18461cc27b0ee0fecd916248b703ed9d73dd.png 1.5x, https://forum.typst.app/uploads/default/original/1X/0a6c18461cc27b0ee0fecd916248b703ed9d73dd.png 2x\" data-dominant-color=\"F0EFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">768×204 17.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nHow can I indent the line following the equation?</p>",
      "raw": "When I use displayed equations in a list, the text following the equation will not be indented. For example:\n```\n- #lorem(10)\n$ x $\n#lorem(10)\n- #lorem(10)\n```\nIt looks like:\n![image|690x183](upload://1ucmJVP0OhiSM2GrtJyipwzA7yR.png)\nHow can I indent the line following the equation?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 871.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    },
    {
      "id": 3905,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-14T15:04:05.543Z",
      "updated_at": "2024-10-15T06:26:35.225Z",
      "cooked": "<p>By writing <code>$ x $</code> not indented by two spaces (i.e. the same amount as the <code>- ...</code> starting the list) you’re exiting the list and start a new one. You can easily see that by replacing <code>-</code> by <code>+</code> and looking at the numbers.</p>\n<p>So the fix is to indent the two lines:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">- #lorem(10)\n  $ x $\n  #lorem(10)\n- #lorem(10)\n</code></pre>\n<p>The problem is that the math will now be centered relative to the width of the list item, not of the page, but that can be fixed with a block with <code>width: 100%</code> – see also <a href=\"https://forum.typst.app/t/how-to-make-nested-bulleted-lists-where-content-includes-centered-equations/846/3\">here</a>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">- #lorem(10)\n  #block(width: 100%, $ x $)\n  #lorem(10)\n- #lorem(10)\n</code></pre>",
      "raw": "By writing `$ x $` not indented by two spaces (i.e. the same amount as the `- ...` starting the list) you're exiting the list and start a new one. You can easily see that by replacing `-` by `+` and looking at the numbers.\n\nSo the fix is to indent the two lines:\n```typ\n- #lorem(10)\n  $ x $\n  #lorem(10)\n- #lorem(10)\n```\nThe problem is that the math will now be centered relative to the width of the list item, not of the page, but that can be fixed with a block with `width: 100%` -- see also [here](https://forum.typst.app/t/how-to-make-nested-bulleted-lists-where-content-includes-centered-equations/846/3):\n```typ\n- #lorem(10)\n  #block(width: 100%, $ x $)\n  #lorem(10)\n- #lorem(10)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 50.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3908,
      "post_number": 4,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-14T15:05:51.860Z",
      "updated_at": "2024-10-14T15:05:51.860Z",
      "cooked": "<p>Sorry, I misunderstood your question.</p>",
      "raw": "Sorry, I misunderstood your question.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 5.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 3933,
      "post_number": 5,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-15T01:54:29.718Z",
      "updated_at": "2024-10-15T01:54:29.718Z",
      "cooked": "<p>Thanks! The block is also very useful.</p>",
      "raw": "Thanks! The block is also very useful.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    }
  ],
  "scraped_at": "2025-06-10T09:56:52.823284"
}
{
  "topic_metadata": {
    "id": 1102,
    "title": "How to shrink document to output?",
    "slug": "how-to-shrink-document-to-output",
    "posts_count": 12,
    "created_at": "2024-10-14T15:02:21.192Z",
    "last_posted_at": "2024-10-15T14:56:13.920Z",
    "views": 205,
    "like_count": 12,
    "reply_count": 9,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janro",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 465
  },
  "posts": [
    {
      "id": 3903,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T15:02:21.291Z",
      "updated_at": "2024-10-14T15:02:49.009Z",
      "cooked": "<p>I want to generate an image of a single formula. How do I shrink the document size to just fit that formula?</p>\n<p>Here is my typst code</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/mitex:0.2.4\"\n\n#mitex.mitex(`\\LARGE{g = 1 + \\frac{N}{2} \\left( k - 2 - \\sum_{i=1}^{k}\\frac{1}{n_i}\\right)}`)\n</code></pre>",
      "raw": "I want to generate an image of a single formula. How do I shrink the document size to just fit that formula?\n\nHere is my typst code\n```typst\n#import \"@preview/mitex:0.2.4\"\n\n#mitex.mitex(`\\LARGE{g = 1 + \\frac{N}{2} \\left( k - 2 - \\sum_{i=1}^{k}\\frac{1}{n_i}\\right)}`)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 529.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3909,
      "post_number": 2,
      "username": "janro",
      "name": "Jan Romann",
      "created_at": "2024-10-14T15:07:25.966Z",
      "updated_at": "2024-10-14T16:26:35.544Z",
      "cooked": "<p>You could use <code>auto</code> for the page height and width like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/0e6819f263c3718f4e0aa6897242b782827a8102.png\" data-download-href=\"https://forum.typst.app/uploads/default/0e6819f263c3718f4e0aa6897242b782827a8102\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/0e6819f263c3718f4e0aa6897242b782827a8102_2_690x428.png\" alt=\"image\" data-base62-sha1=\"23rIGpsuWEbqS1RK7QAhuGrq29I\" width=\"690\" height=\"428\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/0e6819f263c3718f4e0aa6897242b782827a8102_2_690x428.png, https://forum.typst.app/uploads/default/original/1X/0e6819f263c3718f4e0aa6897242b782827a8102.png 1.5x, https://forum.typst.app/uploads/default/original/1X/0e6819f263c3718f4e0aa6897242b782827a8102.png 2x\" data-dominant-color=\"FDFDFD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">844×524 22.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Edit: You can get rid of the surrounding whitespace by adjusting the margins like so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto, margin: 0pt)\n</code></pre>\n<p>This yields the following result:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/b8c461123a96a36ce3d59a274468018bd14db6a1.png\" data-download-href=\"https://forum.typst.app/uploads/default/b8c461123a96a36ce3d59a274468018bd14db6a1\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/b8c461123a96a36ce3d59a274468018bd14db6a1_2_345x81.png\" alt=\"image\" data-base62-sha1=\"qmwATh3UZpJkfbj1EVv4d3tjnBT\" width=\"345\" height=\"81\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/b8c461123a96a36ce3d59a274468018bd14db6a1_2_345x81.png, https://forum.typst.app/uploads/default/optimized/1X/b8c461123a96a36ce3d59a274468018bd14db6a1_2_517x121.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/b8c461123a96a36ce3d59a274468018bd14db6a1_2_690x162.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">974×230 29.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You could use `auto` for the page height and width like so:\n\n```typ\n#set page(height: auto, width: auto)\n```\n\n![image|690x428](upload://23rIGpsuWEbqS1RK7QAhuGrq29I.png)\n\nEdit: You can get rid of the surrounding whitespace by adjusting the margins like so:\n\n```typ\n#set page(height: auto, width: auto, margin: 0pt)\n```\n\nThis yields the following result:\n\n![image|690x162, 50%](upload://qmwATh3UZpJkfbj1EVv4d3tjnBT.png)",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 44,
      "score": 38.8,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 129
    },
    {
      "id": 3910,
      "post_number": 3,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T15:09:07.063Z",
      "updated_at": "2024-10-14T17:42:35.053Z",
      "cooked": "<p>Thanks. I sadly just realized that typst cannot (yet) produce png images but only pdf.</p>\n<p>EDIT<br>\nThis is just wrong. Read below to see how to change output format.</p>",
      "raw": "Thanks. I sadly just realized that typst cannot (yet) produce png images but only pdf.\n\nEDIT\nThis is just wrong. Read below to see how to change output format.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 22.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3911,
      "post_number": 4,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T15:11:13.798Z",
      "updated_at": "2024-10-14T15:11:13.798Z",
      "cooked": "<p>Also it still has a huge margin around the formula.</p>",
      "raw": "Also it still has a huge margin around the formula.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3912,
      "post_number": 5,
      "username": "janro",
      "name": "Jan Romann",
      "created_at": "2024-10-14T15:12:27.458Z",
      "updated_at": "2024-10-14T15:12:27.458Z",
      "cooked": "<p>Hmm, I think you can compile to a png using:</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-sh\">typst compile -f png your-file.typ\n</code></pre>\n<p>You also can get rid of the margin using <code>set page(margin: 0pt)</code> :)</p>",
      "raw": "Hmm, I think you can compile to a png using:\n\n```sh\ntypst compile -f png your-file.typ\n```\n\nYou also can get rid of the margin using `set page(margin: 0pt)` :)",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 129
    },
    {
      "id": 3913,
      "post_number": 6,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T15:12:32.187Z",
      "updated_at": "2024-10-14T15:12:32.187Z",
      "cooked": "<p>Ok, easy fix:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: auto, margin: 0cm)\n</code></pre>",
      "raw": "Ok, easy fix:\n\n```typst\n#set page(height: auto, width: auto, margin: 0cm)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 21.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3914,
      "post_number": 7,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T15:14:15.189Z",
      "updated_at": "2024-10-14T15:14:15.189Z",
      "cooked": "<p>oh yeah you are right. Sorry I am a very sporadic user of typst and I tend to forget things. Hopefully this thread will help someone else in the future.</p>",
      "raw": "oh yeah you are right. Sorry I am a very sporadic user of typst and I tend to forget things. Hopefully this thread will help someone else in the future.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 34,
      "score": 36.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3917,
      "post_number": 10,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-14T16:28:05.180Z",
      "updated_at": "2024-10-14T16:34:22.351Z",
      "cooked": "<p>Nice trick to generate multiple formula images from one document. Add a <code>#pagebreak()</code> between each formula.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// example.typ\n\n#set page(height: auto, width: auto, margin: 0cm)\n\n$ f(x) = f(n-1) + f(n-2) $\n\n#pagebreak()\n\n$ v^2 / 2 + g z + p / rho = \"constant\" $\n\n#pagebreak()\n\n$ E = m c^2 $\n</code></pre>\n<p>and then you can generate multiple output pictures with this command:</p>\n<pre data-code-wrap=\"bash\"><code class=\"lang-bash\">typst c example.typ example_{n}.png\n</code></pre>\n<p>Note that you don’t need to specify <code>-f</code> when you explicitly write the name of the output file because you need to specify the file extension anyway.</p>\n<p>Output:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/2d8369779a5e851a879a9666113ec9cf30f37cc1.png\" data-download-href=\"https://forum.typst.app/uploads/default/2d8369779a5e851a879a9666113ec9cf30f37cc1\" title=\"example_1\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/2d8369779a5e851a879a9666113ec9cf30f37cc1_2_345x28.png\" alt=\"example_1\" data-base62-sha1=\"6uD2aHnyXZHYvc0nrbkRRsjxXH3\" width=\"345\" height=\"28\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/2d8369779a5e851a879a9666113ec9cf30f37cc1_2_345x28.png, https://forum.typst.app/uploads/default/optimized/1X/2d8369779a5e851a879a9666113ec9cf30f37cc1_2_517x42.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/2d8369779a5e851a879a9666113ec9cf30f37cc1_2_690x56.png 2x\" data-dominant-color=\"E6E6E6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">example_1</span><span class=\"informations\">1086×91 34.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/37a0953729ed653e8b03453fc1ea3b9ec1d41762.png\" data-download-href=\"https://forum.typst.app/uploads/default/37a0953729ed653e8b03453fc1ea3b9ec1d41762\" title=\"example_2\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/37a0953729ed653e8b03453fc1ea3b9ec1d41762_2_345x81.png\" alt=\"example_2\" data-base62-sha1=\"7W6j6jgCG2XzQU26FCzXDC6UvjI\" width=\"345\" height=\"81\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/37a0953729ed653e8b03453fc1ea3b9ec1d41762_2_345x81.png, https://forum.typst.app/uploads/default/optimized/1X/37a0953729ed653e8b03453fc1ea3b9ec1d41762_2_517x121.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/37a0953729ed653e8b03453fc1ea3b9ec1d41762_2_690x162.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">example_2</span><span class=\"informations\">952×225 39.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nI couldn’t add the third image because I am a new user on the forum but you get the idea.</p>",
      "raw": "Nice trick to generate multiple formula images from one document. Add a `#pagebreak()` between each formula.\n```typst\n// example.typ\n\n#set page(height: auto, width: auto, margin: 0cm)\n\n$ f(x) = f(n-1) + f(n-2) $\n\n#pagebreak()\n\n$ v^2 / 2 + g z + p / rho = \"constant\" $\n\n#pagebreak()\n\n$ E = m c^2 $\n```\nand then you can generate multiple output pictures with this command:\n```bash\ntypst c example.typ example_{n}.png\n```\nNote that you don't need to specify `-f` when you explicitly write the name of the output file because you need to specify the file extension anyway.\n\nOutput:\n![example_1|690x57, 50%](upload://6uD2aHnyXZHYvc0nrbkRRsjxXH3.png)\n\n![example_2|690x163, 50%](upload://7W6j6jgCG2XzQU26FCzXDC6UvjI.png)\nI couldn't add the third image because I am a new user on the forum but you get the idea.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 5,
      "reads": 33,
      "score": 131.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3919,
      "post_number": 11,
      "username": "janro",
      "name": "Jan Romann",
      "created_at": "2024-10-14T16:42:04.716Z",
      "updated_at": "2024-10-14T16:42:04.716Z",
      "cooked": "<p>Very nice! :) Thanks for adding that information to the thread.</p>",
      "raw": "Very nice! :) Thanks for adding that information to the thread.",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 21.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 129
    },
    {
      "id": 3947,
      "post_number": 12,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T14:04:18.006Z",
      "updated_at": "2024-10-15T14:04:18.006Z",
      "cooked": "<p>Instead of manual page breaks, you can also do this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto, margin: 0cm)\n#show math.equation: page\n\n$ f(x) = f(n-1) + f(n-2) $\n\n$ v^2 / 2 + g z + p / rho = \"constant\" $\n\n$ E = m c^2 $\n</code></pre>",
      "raw": "Instead of manual page breaks, you can also do this:\n\n```typ\n#set page(height: auto, width: auto, margin: 0cm)\n#show math.equation: page\n\n$ f(x) = f(n-1) + f(n-2) $\n\n$ v^2 / 2 + g z + p / rho = \"constant\" $\n\n$ E = m c^2 $\n```",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 3955,
      "post_number": 13,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-15T14:45:01.979Z",
      "updated_at": "2024-10-15T14:45:01.979Z",
      "cooked": "<p>Sadly, this doesn’t quite work as intended as this will create an empty page at the end of the file and therefore also an empty image when rendering to svg or png.</p>",
      "raw": "Sadly, this doesn't quite work as intended as this will create an empty page at the end of the file and therefore also an empty image when rendering to svg or png.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3956,
      "post_number": 14,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T14:56:13.920Z",
      "updated_at": "2024-10-15T14:56:23.635Z",
      "cooked": "<p>I think that’s an issue that’s fixed in the next release (0.12), you can give it a try with the release candidate…</p>",
      "raw": "I think that's an issue that's fixed in the next release (0.12), you can give it a try with the release candidate...",
      "reply_to_post_number": 13,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:52.077457"
}
{
  "topic_metadata": {
    "id": 1107,
    "title": "What is the best practice for setting the enum numbering for every level individually?",
    "slug": "what-is-the-best-practice-for-setting-the-enum-numbering-for-every-level-individually",
    "posts_count": 7,
    "created_at": "2024-10-14T20:29:36.004Z",
    "last_posted_at": "2024-11-09T14:44:45.206Z",
    "views": 527,
    "like_count": 4,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting",
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 469
  },
  "posts": [
    {
      "id": 3924,
      "post_number": 1,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-14T20:29:36.173Z",
      "updated_at": "2024-10-14T20:29:36.173Z",
      "cooked": "<p>The normal enum numbering function has the problem, that the suffixes and prefixes are global for all levels of nestedness, but often, I want for example the first level to be <code>1.</code> but the second level <code>a)</code>, one with a dot the other with a parenthesis. My current solution is:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set enum(full: true, numbering: (..nums) =&gt; {\n    let numbers = nums.pos()\n    if numbers.len() == 1 {\n      numbering(\"I.\", ..numbers)\n    } else if numbers.len() == 2 {\n      numbering(\"1.\", numbers.at(1))\n    } else if numbers.len() == 3 {\n      numbering(\"a)\", numbers.at(2))\n    } else if numbers.len() == 4 {\n      numbering(\"(1)\", numbers.at(3))\n    }\n  })\n</code></pre>\n<p>But I feel like there could be a better solution using less ifs, and not the <code>full: true</code>. Is there a better way to do it, a best practice?</p>",
      "raw": "The normal enum numbering function has the problem, that the suffixes and prefixes are global for all levels of nestedness, but often, I want for example the first level to be `1.` but the second level `a)`, one with a dot the other with a parenthesis. My current solution is:\n\n```typst\n#set enum(full: true, numbering: (..nums) => {\n    let numbers = nums.pos()\n    if numbers.len() == 1 {\n      numbering(\"I.\", ..numbers)\n    } else if numbers.len() == 2 {\n      numbering(\"1.\", numbers.at(1))\n    } else if numbers.len() == 3 {\n      numbering(\"a)\", numbers.at(2))\n    } else if numbers.len() == 4 {\n      numbering(\"(1)\", numbers.at(3))\n    }\n  })\n```\n\nBut I feel like there could be a better solution using less ifs, and not the `full: true`. Is there a better way to do it, a best practice?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 56,
      "score": 2316.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 3925,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-14T20:52:47.272Z",
      "updated_at": "2024-10-14T20:53:13.128Z",
      "cooked": "<p>Isn’t using numbly as the solution (combined with <code>full</code>) also the answer here?</p>\n<aside class=\"quote\" data-post=\"3\" data-topic=\"1040\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/paran3xus/48/32_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-can-i-change-the-heading-numbering-for-headings-of-different-levels-differently/1040/3\">How can I change the heading numbering for headings of different levels differently?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Use <a href=\"https://typst.app/universe/package/numbly\">numbly</a>. \n#import \"@preview/numbly:0.1.0\": numbly\n#set heading(\n  numbering: numbly(\n    \"Top {1}:\",\n    \"{1}.{2}.\",\n  ),\n)\n\n= First section\n== Unterpunkt\n== Zweiter Unterpunkt\n\ngives \nTop 1: First section\n1.1. Unterpunkt\n1.2. Zweiter Unterpunkt\n  </blockquote>\n</aside>\n",
      "raw": "Isn't using numbly as the solution (combined with `full`) also the answer here?\n\nhttps://forum.typst.app/t/how-can-i-change-the-heading-numbering-for-headings-of-different-levels-differently/1040/3?u=sillyfreak",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 54,
      "score": 60.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3926,
      "post_number": 3,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-14T21:09:07.523Z",
      "updated_at": "2024-10-14T21:09:07.523Z",
      "cooked": "<p>You are right! Oh, wow. Now I feel dumb. I got away from using numbly for the section numbering, because I wanted to have the possibility that my sections start from section 0, which I can achieve manually but not with numbly, so I didn’t think of using it for the enum-numbering, but instead adapted my section numbering to also work there. Thanks for the anwer!</p>\n<p>If anyone is numbering, the full equivalent code is:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">  #import \"@preview/numbly:0.1.0\": numbly\n\n  #set enum(\n     full:true, \n     numbering: numbly(\"{1:I}.\", \"{2:1.}\", \"{3:a})\",\"({4})\" )\n  )\n</code></pre>",
      "raw": "You are right! Oh, wow. Now I feel dumb. I got away from using numbly for the section numbering, because I wanted to have the possibility that my sections start from section 0, which I can achieve manually but not with numbly, so I didn't think of using it for the enum-numbering, but instead adapted my section numbering to also work there. Thanks for the anwer!\n\nIf anyone is numbering, the full equivalent code is:\n```typst\n  #import \"@preview/numbly:0.1.0\": numbly\n\n  #set enum(\n     full:true, \n     numbering: numbly(\"{1:I}.\", \"{2:1.}\", \"{3:a})\",\"({4})\" )\n  )\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 53,
      "score": 115.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 3928,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-14T21:49:02.815Z",
      "updated_at": "2024-10-14T21:49:29.240Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Sinthoras\" data-post=\"3\" data-topic=\"1107\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/F64C96/48.png\" class=\"avatar\"> Sinthoras:</div>\n<blockquote>\n<p>I wanted to have the possibility that my sections start from section 0, which I can achieve manually but not with numbly</p>\n</blockquote>\n</aside>\n<p>actually you can make numbly do this, just realize that <code>numbly()</code> is a function that returns a proper numbering function. So if you want to modify what numbers are put into <code>numbly(...)</code> you can write e.g. this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(\n  numbering: (fst, ..nums) =&gt; numbly(\"Top {1}:\", \"{1}.{2}.\")(fst - 1, ..nums),\n)\n</code></pre>\n<p>(I used the heading example from the other thread as zero-based roman numbering doesn’t make as much sense)</p>",
      "raw": "[quote=\"Sinthoras, post:3, topic:1107\"]\nI wanted to have the possibility that my sections start from section 0, which I can achieve manually but not with numbly\n[/quote]\n\nactually you can make numbly do this, just realize that `numbly()` is a function that returns a proper numbering function. So if you want to modify what numbers are put into `numbly(...)` you can write e.g. this:\n```typ\n#set heading(\n  numbering: (fst, ..nums) => numbly(\"Top {1}:\", \"{1}.{2}.\")(fst - 1, ..nums),\n)\n```\n(I used the heading example from the other thread as zero-based roman numbering doesn't make as much sense)",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 52,
      "score": 30.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3931,
      "post_number": 5,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-14T22:02:09.713Z",
      "updated_at": "2024-10-14T22:02:09.713Z",
      "cooked": "<p>This is great! I didn’t realize this. Actually I would like seeing this example in the numbly documentation. (Maybe I’ll do a pull request.) This makes the code so much cleaner and nicer. Thank you. :)</p>",
      "raw": "This is great! I didn't realize this. Actually I would like seeing this example in the numbly documentation. (Maybe I'll do a pull request.) This makes the code so much cleaner and nicer. Thank you. :)",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 64.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 5188,
      "post_number": 6,
      "username": "Edu",
      "name": "Edu",
      "created_at": "2024-11-06T06:07:25.620Z",
      "updated_at": "2024-11-06T06:07:25.620Z",
      "cooked": "<p>Now I want something like this:</p>\n<p>I. Introduction<br>\nII. Context<br>\n2.1 Sub-context 1<br>\n2.2 Sub-context 2</p>\n<p>With the solution with numbly (<code>numbly(\"{1:I}.\", \"{2:1.}\", \"{3:a})\",\"({4})\" )</code>) I’m almost done, the problem is the Sub-context 1, which appears with 1. instead of 2.1, how I can fix this?</p>",
      "raw": "Now I want something like this:\n\nI. Introduction\nII. Context\n     2.1 Sub-context 1\n     2.2 Sub-context 2\n\nWith the solution with numbly (`numbly(\"{1:I}.\", \"{2:1.}\", \"{3:a})\",\"({4})\" )`) I'm almost done, the problem is the Sub-context 1, which appears with 1. instead of 2.1, how I can fix this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 753
    },
    {
      "id": 5395,
      "post_number": 7,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-11-09T14:44:45.206Z",
      "updated_at": "2024-11-09T14:44:45.206Z",
      "cooked": "<p>You can use <code>numbly(\"{1:I}.\", \"{1:1}.{2:1.}\", \"{3:a})\",\"({4})\" )</code>.</p>",
      "raw": "You can use `numbly(\"{1:I}.\", \"{1:1}.{2:1.}\", \"{3:a})\",\"({4})\" )`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    }
  ],
  "scraped_at": "2025-06-10T09:56:51.343724"
}
{
  "topic_metadata": {
    "id": 1108,
    "title": "Is there an an equivalent to the `\\graphicspath{path}` command from LaTeX in Typst?",
    "slug": "is-there-an-an-equivalent-to-the-graphicspath-path-command-from-latex-in-typst",
    "posts_count": 7,
    "created_at": "2024-10-14T21:12:18.819Z",
    "last_posted_at": "2024-10-16T09:19:51.177Z",
    "views": 282,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "graphics",
      "latex-migration",
      "images"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 505
  },
  "posts": [
    {
      "id": 3927,
      "post_number": 1,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-14T21:12:18.905Z",
      "updated_at": "2024-10-14T21:12:54.303Z",
      "cooked": "<p>In LaTeX I can set the command <code>\\graphicspath{path/}</code> such that I then only have to write <code>\\includegraphics{name}</code> instead of <code>\\includegraphics{path/name}</code>.</p>\n<p>Is there a way to do this in typst with the image command?</p>\n<p>I did think about show rules (like <code>#show image: im =&gt; { image(\"mypath/\"+im.path)}</code> which did not work), but I could find a good one.</p>",
      "raw": "In LaTeX I can set the command `\\graphicspath{path/}` such that I then only have to write `\\includegraphics{name}` instead of `\\includegraphics{path/name}`.\n\nIs there a way to do this in typst with the image command?\n\nI did think about show rules (like `#show image: im => { image(\"mypath/\"+im.path)}` which did not work), but I could find a good one.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 1042.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 3930,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-14T21:59:46.705Z",
      "updated_at": "2025-02-18T11:01:36.622Z",
      "cooked": "<p>First, I’ll link this discussion because there is some relevant stuff in there:</p><aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"306\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/l/0A3649/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/why-are-paths-always-relative-to-the-current-file/306\">Why are paths always relative to the current file?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Context: I was trying to implement a small function that reads and parses a file with some regex. The function just takes the path to the file and returns the parsed context as dictionary. I wanted to move this function into a package. \n/somewhere/else/lib.typ \n#let parse-xyz(path) = {\n    let data = read(path)\n    …\n}\n\nmain.typ \n#let values = import-xyz(\"my/path.xyz\");\n\nAfter that I found out that the read call resolves the path relative to the file that contains the function (lib.typ) and not …\n  </blockquote>\n</aside>\n\n<p>This gives us some limitations, but also opportunities. Let’s say all your images are found in <code>path/</code>. Then you can create a file <code>path/images.typ</code> and define the following function there:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let image(file, ..args) = std.image(file, ..args)\n\n// or in Typst &lt; 0.12 (I think)\n#let _image = image\n#let image(file, ..args) = _image(file, ..args)\n</code></pre>\n<p>a call to this (not the builtin) <code>image</code> function will automatically treat the file path relative to the <code>path/images.typ</code> file!</p>\n<p>What I usually do has a similar result, but I actually try to avoid to even use image paths across the whole project. Instead I define helper functions for my assets:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let logo = image.with(\"logo.svg\")\n#let banner = image.with(\"banner.jpg\")\n</code></pre>\n<p>Then I call these like <code>assets.logo(height: 2cm)</code>. For the kinds of images I use in my documents that feels more useful to me, but it’s definitely an opinionated solution.</p>",
      "raw": "First, I'll link this discussion because there is some relevant stuff in there:\nhttps://forum.typst.app/t/why-are-paths-always-relative-to-the-current-file/306\n\nThis gives us some limitations, but also opportunities. Let's say all your images are found in `path/`. Then you can create a file `path/images.typ` and define the following function there:\n```typ\n#let image(file, ..args) = std.image(file, ..args)\n\n// or in Typst < 0.12 (I think)\n#let _image = image\n#let image(file, ..args) = _image(file, ..args)\n```\na call to this (not the builtin) `image` function will automatically treat the file path relative to the `path/images.typ` file!\n\nWhat I usually do has a similar result, but I actually try to avoid to even use image paths across the whole project. Instead I define helper functions for my assets:\n```typ\n#let logo = image.with(\"logo.svg\")\n#let banner = image.with(\"banner.jpg\")\n```\nThen I call these like `assets.logo(height: 2cm)`. For the kinds of images I use in my documents that feels more useful to me, but it's definitely an opinionated solution.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 37,
      "score": 97.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3965,
      "post_number": 3,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-15T18:57:48.384Z",
      "updated_at": "2024-10-15T18:57:48.384Z",
      "cooked": "<p>That is indeed very useful, thanks! :)</p>\n<p>Your method to define helper-functions only makes sense if you have not so many images and they appear multiple times and less sense if you have many images which all appear only once, doesn’t it? (Or are there some advantages, which I don’t realize?)</p>",
      "raw": "That is indeed very useful, thanks! :)\n\nYour method to define helper-functions only makes sense if you have not so many images and they appear multiple times and less sense if you have many images which all appear only once, doesn't it? (Or are there some advantages, which I don't realize?)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 3966,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-15T19:06:35.480Z",
      "updated_at": "2024-10-15T19:06:35.480Z",
      "cooked": "<p>Absolutely, that’s what I meant with “it’s definitely an opinionated solution”: it works well for my use cases, not for others. If you have logos or other assets that you reuse a lot, it’s a good tool to have; if you have images that you each include once, it’s pretty useless.</p>",
      "raw": "Absolutely, that's what I meant with \"it’s definitely an opinionated solution\": it works well for my use cases, not for others. If you have logos or other assets that you reuse a lot, it's a good tool to have; if you have images that you each include once, it's pretty useless.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 35.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3989,
      "post_number": 5,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-16T07:53:32.537Z",
      "updated_at": "2024-10-16T12:57:44.776Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"2\" data-topic=\"1108\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"> SillyFreak:</div>\n<blockquote>\n<p>This gives us some limitations, but also opportunities. Let’s say all your images are found in <code>path/</code>. Then you can create a file <code>path/images.typ</code> and define the following function there:</p>\n</blockquote>\n</aside>\n<p>I think you missed the part that adds the path prefix:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let _image = image\n\n#let image(file, ..args) = _image(\"path/\" + file, ..args)\n</code></pre>\n<p>Edit: As SillyFreak points out below, the code in this post does <em>not apply</em> to the situation he describes.  However, it does apply if you put it in your main <code>.typ</code> file since then the path from the file to the photos begins outside of “<code>path/</code>” and therefore it needs to be added.</p>",
      "raw": "[quote=\"SillyFreak, post:2, topic:1108\"]\nThis gives us some limitations, but also opportunities. Let’s say all your images are found in `path/`. Then you can create a file `path/images.typ` and define the following function there:\n[/quote]\n\nI think you missed the part that adds the path prefix:\n```typ\n#let _image = image\n\n#let image(file, ..args) = _image(\"path/\" + file, ..args)\n```\n\nEdit: As SillyFreak points out below, the code in this post does *not apply* to the situation he describes.  However, it does apply if you put it in your main `.typ` file since then the path from the file to the photos begins outside of \"`path/`\" and therefore it needs to be added.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 3993,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-16T08:57:38.353Z",
      "updated_at": "2024-10-16T08:57:38.353Z",
      "cooked": "<p>no, since the <code>images.typ</code> file is inside <code>path/</code>, the filename is already relative to that directory <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "no, since the `images.typ` file is inside `path/`, the filename is already relative to that directory :slight_smile:",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3997,
      "post_number": 7,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-16T09:19:51.177Z",
      "updated_at": "2024-10-16T09:19:51.177Z",
      "cooked": "<p>Ahhh, got it. I missed that part even though it was in the quote! <img src=\"https://forum.typst.app/images/emoji/apple/person_facepalming.png?v=12\" title=\":person_facepalming:\" class=\"emoji\" alt=\":person_facepalming:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Ahhh, got it. I missed that part even though it was in the quote! :person_facepalming:",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 49.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    }
  ],
  "scraped_at": "2025-06-10T09:56:50.493338"
}
{
  "topic_metadata": {
    "id": 1118,
    "title": "How can I modify the reference format of equations?",
    "slug": "how-can-i-modify-the-reference-format-of-equations",
    "posts_count": 9,
    "created_at": "2024-10-15T13:41:30.770Z",
    "last_posted_at": "2025-06-04T22:56:10.390Z",
    "views": 478,
    "like_count": 7,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "math",
      "referencing"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 1321
  },
  "posts": [
    {
      "id": 3943,
      "post_number": 1,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-15T13:41:30.921Z",
      "updated_at": "2025-02-21T21:02:46.723Z",
      "cooked": "<p>I want to make the reference of equations like this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/ac85d0e30cd09d63a3797d9369967e82f0444ae6.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/ac85d0e30cd09d63a3797d9369967e82f0444ae6\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/ac85d0e30cd09d63a3797d9369967e82f0444ae6_2_690x255.jpeg\" alt=\"image\" data-base62-sha1=\"oCcP6BwjheRyxJaHxQhoIaVsZTM\" width=\"690\" height=\"255\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/ac85d0e30cd09d63a3797d9369967e82f0444ae6_2_690x255.jpeg, https://forum.typst.app/uploads/default/optimized/1X/ac85d0e30cd09d63a3797d9369967e82f0444ae6_2_1035x382.jpeg 1.5x, https://forum.typst.app/uploads/default/original/1X/ac85d0e30cd09d63a3797d9369967e82f0444ae6.jpeg 2x\" data-dominant-color=\"E2E2E1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1221×453 294 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nIt seems that I can only remove the “Equation” in reference by:</p>\n<pre><code class=\"lang-auto\">#set math.equation(numbering: \"(R1)\", supplement: none)\n</code></pre>\n<p>How can I add the parenthesis?</p>",
      "raw": "I want to make the reference of equations like this:\n![image|690x255](upload://oCcP6BwjheRyxJaHxQhoIaVsZTM.jpeg)\nIt seems that I can only remove the \"Equation\" in reference by:\n```\n#set math.equation(numbering: \"(R1)\", supplement: none)\n```\nHow can I add the parenthesis?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 59,
      "score": 1811.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    },
    {
      "id": 3945,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T13:55:05.146Z",
      "updated_at": "2024-10-15T13:55:05.146Z",
      "cooked": "<p>Here it’s the reference you want to customize, so you need a show rule on <code>ref</code>. I think there’s an <a href=\"https://typst.app/docs/reference/model/ref/#customization\">example in the documentation</a> that does what you want:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: \"1.\")\n#set math.equation(numbering: \"(1)\")\n\n#show ref: it =&gt; {\n  let eq = math.equation\n  let el = it.element\n  if el != none and el.func() == eq {\n    // Override equation references.\n    numbering(\n      el.numbering,\n      ..counter(eq).at(el.location())\n    )\n  } else {\n    // Other references as usual.\n    it\n  }\n}\n\n= Beginnings &lt;beginning&gt;\nIn @beginning we prove @pythagoras.\n$ a^2 + b^2 = c^2 $ &lt;pythagoras&gt;\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/043c50e5dd260c9fccdc219599328e2c54bf5206.png\" alt=\"image\" data-base62-sha1=\"Bt8s3FSOesGD7fpyTpGy3svD26\" width=\"360\" height=\"117\"></p>",
      "raw": "Here it's the reference you want to customize, so you need a show rule on `ref`. I think there's an [example in the documentation](https://typst.app/docs/reference/model/ref/#customization) that does what you want:\n\n```typ\n#set heading(numbering: \"1.\")\n#set math.equation(numbering: \"(1)\")\n\n#show ref: it => {\n  let eq = math.equation\n  let el = it.element\n  if el != none and el.func() == eq {\n    // Override equation references.\n    numbering(\n      el.numbering,\n      ..counter(eq).at(el.location())\n    )\n  } else {\n    // Other references as usual.\n    it\n  }\n}\n\n= Beginnings <beginning>\nIn @beginning we prove @pythagoras.\n$ a^2 + b^2 = c^2 $ <pythagoras>\n```\n\n![image|480x157, 75%](upload://Bt8s3FSOesGD7fpyTpGy3svD26.png)",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 57,
      "score": 101.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 3979,
      "post_number": 3,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-16T01:21:07.760Z",
      "updated_at": "2024-10-16T01:21:07.760Z",
      "cooked": "<p>Thanks! I will read the documentation later.</p>",
      "raw": "Thanks! I will read the documentation later.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    },
    {
      "id": 8062,
      "post_number": 4,
      "username": "Tamas_K_Papp",
      "name": "Tamas K. Papp",
      "created_at": "2025-01-31T12:26:55.066Z",
      "updated_at": "2025-01-31T12:26:55.066Z",
      "cooked": "<p>Sorry for the obvious question (I am new to Typst), but can one package this <code>show</code> rule in a composable way, so that the user can just load this as an option?</p>\n<p>My concern is that, since this is a closure, another customization of <code>ref</code> will just override it.</p>",
      "raw": "Sorry for the obvious question (I am new to Typst), but can one package this `show` rule in a composable way, so that the user can just load this as an option?\n\nMy concern is that, since this is a closure, another customization of `ref` will just override it.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1120
    },
    {
      "id": 8063,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-31T12:41:17.359Z",
      "updated_at": "2025-01-31T12:41:17.359Z",
      "cooked": "<p>Hello, this is not obvious actually, it’s rather precise!<br>\nI recommend going through the tutorial about templates</p><aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/tutorial/making-a-template/#set-and-show-rules\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/tutorial/making-a-template/#set-and-show-rules\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/tutorial/making-a-template/#set-and-show-rules\" target=\"_blank\" rel=\"noopener\">Making a Template – Typst Documentation</a></h3>\n\n  <p>Typst's tutorial.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Hello, this is not obvious actually, it's rather precise!\nI recommend going through the tutorial about templates\nhttps://typst.app/docs/tutorial/making-a-template/#set-and-show-rules",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 12.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 8066,
      "post_number": 6,
      "username": "Tamas_K_Papp",
      "name": "Tamas K. Papp",
      "created_at": "2025-01-31T13:24:30.606Z",
      "updated_at": "2025-01-31T13:25:35.574Z",
      "cooked": "<p>Sorry, I guess my question was not clear, it is not about the template mechanism but how <code>show</code> rules compose (if at all).</p>\n<p>Suppose that <strong>in addition to the solution suggested above</strong>, someone wants to define a</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show ref: it =&gt; {\n    ...\n}\n</code></pre>\n<p>for <strong>something else than equations</strong>, either in the main file or in a template.</p>\n<p>Then I am assuming that one of the rules would overwrite the other. Is that correct? Is there a workaround/solution for this?</p>",
      "raw": "Sorry, I guess my question was not clear, it is not about the template mechanism but how `show` rules compose (if at all). \n\nSuppose that **in addition to the solution suggested above**, someone wants to define a\n```typst\n#show ref: it => {\n    ...\n}\n```\nfor **something else than equations**, either in the main file or in a template.\n\nThen I am assuming that one of the rules would overwrite the other. Is that correct? Is there a workaround/solution for this?",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1120
    },
    {
      "id": 8068,
      "post_number": 7,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-31T13:31:52.000Z",
      "updated_at": "2025-01-31T13:31:52.000Z",
      "cooked": "<p>I did read too fast, it would indeed be overwritten. Below, a show ref rule to display Bar does not trigger, because it is overwritten by the first one.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let template(doc) = {\n  show ref: it =&gt; [Foo]\n  doc\n}\n\n#show ref: it =&gt; [Bar]\n#show: template\n\n#figure([Foo]) &lt;foo&gt;\n\n@foo\n\n#figure([Bar]) &lt;bar&gt;\n\n@bar\n</code></pre>\n<p>I think it is best if you write it like the following one. Basically, as long as you target your element and return the ref for other references, you can compose show ref rules.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let template(doc) = {\n  show ref: it =&gt; {\n    let el = it.element\n    if el != none and el.func() == figure and el.kind == \"foo\" {\n      [Foo]\n    } else {\n      it\n    }\n  }\n  doc\n}\n\n#show ref: it =&gt; [Bar]\n#show: template\n\n#figure([Foo], kind: \"foo\", supplement: \"\") &lt;foo&gt;\n\n@foo\n\n#figure([Bar]) &lt;bar&gt;\n\n@bar\n</code></pre>",
      "raw": "I did read too fast, it would indeed be overwritten. Below, a show ref rule to display Bar does not trigger, because it is overwritten by the first one.\n\n```typ\n#let template(doc) = {\n  show ref: it => [Foo]\n  doc\n}\n\n#show ref: it => [Bar]\n#show: template\n\n#figure([Foo]) <foo>\n\n@foo\n\n#figure([Bar]) <bar>\n\n@bar\n```\n\nI think it is best if you write it like the following one. Basically, as long as you target your element and return the ref for other references, you can compose show ref rules.\n\n```typ\n#let template(doc) = {\n  show ref: it => {\n    let el = it.element\n    if el != none and el.func() == figure and el.kind == \"foo\" {\n      [Foo]\n    } else {\n      it\n    }\n  }\n  doc\n}\n\n#show ref: it => [Bar]\n#show: template\n\n#figure([Foo], kind: \"foo\", supplement: \"\") <foo>\n\n@foo\n\n#figure([Bar]) <bar>\n\n@bar\n```",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 8164,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-03T10:50:35.381Z",
      "updated_at": "2025-02-03T15:30:51.613Z",
      "cooked": "<p>To elaborate on <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a>’s answer, here is how rules are applied for a particular element according to my understanding:</p>\n<ol>\n<li>\n<p>All applicable show-set rules are gathered, with later rules overwriting previous ones so</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show ref: set text(red, weight: \"bold\")\n#show ref: set text(blue)\n</code></pre>\n<p>will show refs in blue and bold.</p>\n</li>\n<li>\n<p>The element is materialized in accordance with these show-set rules. For example after</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show ref: set ref(supplement: [X])\n</code></pre>\n<p>all ref elements with unspecified supplement will be materialized with supplement <code>[X]</code>.</p>\n</li>\n<li>\n<p>Normal show rules (i.e. functions, not show-set) are applied starting with the most local one. The rule functions are called with the materialized element as argument. Each rule is applied recursively to its own output, until the output contains nothing new that matches the show rule. For example</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"(1)\")\n#set ref(supplement: [0])\n#show ref: it =&gt; {\n  let i = int(it.supplement.text)\n  if i &lt; 3 {\n    let new = ref(it.target, supplement: [#(i + 1)])\n    return [{it: #it, new: #new}]\n  }\n  [{final: #it}]\n}\n\n$ x = y $ &lt;eq&gt;\nSee @eq.\n</code></pre>\n<p>produces<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/c/c55425aff45f3c80d382cf1cd5f5439e255e7f4b.png\" alt=\"image\" data-base62-sha1=\"s9Elt0Rc7FAPMSRImsvnDwiP7ib\" width=\"360\" height=\"69\"></p>\n<p>Indeed the first time the show rule is applied, it returns the content <code>{it: #it, new: #new}</code>. The rule is then applied again on the new ref, but not on <code>#it</code> as that has already been processed. This is repeated until the new ref has supplement <code>[3]</code>: then the show rule simply returns <code>{final: #it}</code>. This output contains nothing new matching the show rule, so Typst moves on to the next (more outer) show rule.</p>\n</li>\n</ol>\n<p>So in principle show rules compose in the sense that outer rules are applied to the output of inner rules.</p>\n<p>Where it breaks is if a rule on Element doesn’t include a corresponding Element in its output: in this case, an outer rule on Element will not be applied since the thing that would have matched the rule has been removed (replaced) by the inner rule.</p>\n<p>In the present case, when the ref is to a figure the show rule returns the ref unchanged, so there’s no problem: the ref is still there to be found by other show rules.</p>\n<p>It also works fine if you have a show-set rule for refs:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"(1)\")\n#show ref: set text(red)\n\n#show ref: it =&gt; {\n let el = it.element\n if el != none and el.func() == math.equation {\n   numbering(el.numbering, ..counter(math.equation).at(el.location()))\n } else {\n   it\n }\n}\n\n$ x = y $ &lt;eq&gt;\nSee @eq.\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0a541155c1855e6632d789b681a636f81b498c65.png\" alt=\"image\" data-base62-sha1=\"1tmT78kgpsjiF1VfLMeyDl2fTEh\" width=\"361\" height=\"61\"></p>\n<p>The <code>show ref: set text(red)</code> composes well with the show rule to add brackets.</p>\n<p>What doesn’t work is if we have another regular show rule before the rule that adds brackets:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"(1)\")\n\n// This won't work here...\n#show ref: it =&gt; {\n  set text(red)\n  it\n}\n\n#show ref: it =&gt; {\n let el = it.element\n if el != none and el.func() == math.equation {\n   numbering(el.numbering, ..counter(math.equation).at(el.location()))\n } else {\n   it\n }\n}\n\n// but it would work here\n\n$ x = y $ &lt;eq&gt;\nSee @eq.\n</code></pre>\n<p>To avoid this problem, we’d have to make a show rule for brackets that still returns a ref:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"(1)\", supplement: none)\n\n#show ref: it =&gt; {\n  set text(red)\n  it\n}\n#show ref: it =&gt; {\n let el = it.element\n if el != none and el.func() == math.equation {\n   link(el.location(), [(#it)])\n } else {\n   it\n }\n}\n\n$ x = y $ &lt;eq&gt;\nSee @eq.\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/23c9222a5886d5c305e6be3ffae4d2d820c96a98.png\" alt=\"image\" data-base62-sha1=\"56zDy8Dx64vtzgHzwkvH2lSFsUw\" width=\"365\" height=\"63\"></p>\n<p>This works except that the brackets are added <em>around</em> the ref. They’re not part of the ref, so the <code>show ref: set text(red)</code> doesn’t apply to them. But it does if we switch the order of rules:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set math.equation(numbering: \"(1)\", supplement: none)\n\n#show ref: it =&gt; {\n let el = it.element\n if el != none and el.func() == math.equation {\n   link(el.location(), [(#it)])\n } else {\n   it\n }\n}\n#show ref: it =&gt; {\n  set text(red)\n  it\n}\n\n$ x = y $ &lt;eq&gt;\nSee @eq.\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/78ddbc6c60fd3a16fda4d089703608720203e845.png\" alt=\"image\" data-base62-sha1=\"hfemy4XdDyNsYh3wZQlrulsgQV7\" width=\"369\" height=\"64\"></p>\n<p>In this case the brackets are added in a context where <code>text(red)</code> is active.</p>",
      "raw": "To elaborate on @quachpas's answer, here is how rules are applied for a particular element according to my understanding:\n\n1. All applicable show-set rules are gathered, with later rules overwriting previous ones so\n   ```typ\n   #show ref: set text(red, weight: \"bold\")\n   #show ref: set text(blue)\n   ```\n   will show refs in blue and bold.\n\n2. The element is materialized in accordance with these show-set rules. For example after\n   ```typ\n   #show ref: set ref(supplement: [X])\n   ```\n   all ref elements with unspecified supplement will be materialized with supplement `[X]`.\n\n3. Normal show rules (i.e. functions, not show-set) are applied starting with the most local one. The rule functions are called with the materialized element as argument. Each rule is applied recursively to its own output, until the output contains nothing new that matches the show rule. For example\n   ```typ\n   #set math.equation(numbering: \"(1)\")\n   #set ref(supplement: [0])\n   #show ref: it => {\n     let i = int(it.supplement.text)\n     if i < 3 {\n       let new = ref(it.target, supplement: [#(i + 1)])\n       return [{it: #it, new: #new}]\n     }\n     [{final: #it}]\n   }\n\n   $ x = y $ <eq>\n   See @eq.\n   ```\n\n    produces \n   ![image|480x93, 75%](upload://s9Elt0Rc7FAPMSRImsvnDwiP7ib.png)\n\n\n   Indeed the first time the show rule is applied, it returns the content `{it: #it, new: #new}`. The rule is then applied again on the new ref, but not on `#it` as that has already been processed. This is repeated until the new ref has supplement `[3]`: then the show rule simply returns `{final: #it}`. This output contains nothing new matching the show rule, so Typst moves on to the next (more outer) show rule.\n\nSo in principle show rules compose in the sense that outer rules are applied to the output of inner rules.\n\nWhere it breaks is if a rule on Element doesn't include a corresponding Element in its output: in this case, an outer rule on Element will not be applied since the thing that would have matched the rule has been removed (replaced) by the inner rule.\n\nIn the present case, when the ref is to a figure the show rule returns the ref unchanged, so there's no problem: the ref is still there to be found by other show rules.\n\nIt also works fine if you have a show-set rule for refs:\n\n```typ\n#set math.equation(numbering: \"(1)\")\n#show ref: set text(red)\n\n#show ref: it => {\n let el = it.element\n if el != none and el.func() == math.equation {\n   numbering(el.numbering, ..counter(math.equation).at(el.location()))\n } else {\n   it\n }\n}\n\n$ x = y $ <eq>\nSee @eq.\n```\n\n![image|482x82, 75%](upload://1tmT78kgpsjiF1VfLMeyDl2fTEh.png)\n\nThe `show ref: set text(red)` composes well with the show rule to add brackets.\n\nWhat doesn't work is if we have another regular show rule before the rule that adds brackets:\n\n```typ\n#set math.equation(numbering: \"(1)\")\n\n// This won't work here...\n#show ref: it => {\n  set text(red)\n  it\n}\n\n#show ref: it => {\n let el = it.element\n if el != none and el.func() == math.equation {\n   numbering(el.numbering, ..counter(math.equation).at(el.location()))\n } else {\n   it\n }\n}\n\n// but it would work here\n\n$ x = y $ <eq>\nSee @eq.\n```\n\nTo avoid this problem, we'd have to make a show rule for brackets that still returns a ref:\n\n```typ\n#set math.equation(numbering: \"(1)\", supplement: none)\n\n#show ref: it => {\n  set text(red)\n  it\n}\n#show ref: it => {\n let el = it.element\n if el != none and el.func() == math.equation {\n   link(el.location(), [(#it)])\n } else {\n   it\n }\n}\n\n$ x = y $ <eq>\nSee @eq.\n```\n\n![image|487x85, 75%](upload://56zDy8Dx64vtzgHzwkvH2lSFsUw.png)\n\nThis works except that the brackets are added _around_ the ref. They're not part of the ref, so the `show ref: set text(red)` doesn't apply to them. But it does if we switch the order of rules:\n\n```typ\n#set math.equation(numbering: \"(1)\", supplement: none)\n\n#show ref: it => {\n let el = it.element\n if el != none and el.func() == math.equation {\n   link(el.location(), [(#it)])\n } else {\n   it\n }\n}\n#show ref: it => {\n  set text(red)\n  it\n}\n\n$ x = y $ <eq>\nSee @eq.\n```\n![image|492x86, 75%](upload://hfemy4XdDyNsYh3wZQlrulsgQV7.png)\n\nIn this case the brackets are added in a context where `text(red)` is active.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 26,
      "score": 95.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13717,
      "post_number": 9,
      "username": "th1j5",
      "name": "tpaelman",
      "created_at": "2025-06-04T22:56:10.390Z",
      "updated_at": "2025-06-04T23:01:48.820Z",
      "cooked": "<p>For people stumbling on this topic, my solution is this:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show ref: it =&gt; { // Use number from equation, thus automatically adding parentheses\n  let el = it.element\n  if el != none and el.func() == math.equation {\n    // Override equation references\n    // Determine used supplement\n    let supp = if it.supplement == auto {\n      // Use automatic supplement, localized by Typst to correct language etc.\n      el.supplement\n    } else if (it.supplement == \"\"\n               or type(it.supplement) == content\n               and it.supplement.fields() == (children: ())) {\n      // Translate empty supplement (string or content) to #none\n      // For example, @eq:example[] will not introduce an extra space.\n      none\n    } else {\n      // Use supplied content\n      it.supplement\n    }\n    // The actual equation reference, being [#supp~#num] or [#num]\n    link(el.location(), {\n          supp\n          if supp != none { sym.space.nobreak }\n          // Use the numbering scheme from the equation. Can be changed.\n          numbering(el.numbering, ..counter(math.equation).at(el.location()))\n        })\n  } else {\n    it\n  }\n}\n</code></pre>\n<p>The advantage is that the correct supplement is always used (the automatically localized ‘Equation’ or ‘Vergelijking’ in Dutch), while giving the different numbering scheme for the number itself. If the supplement is set to the empty string or empty content, also no erroneous non-breaking space is added.<br>\nAnd like the last answer just before me, it uses <code>link</code> to link to the referenced equation.</p>",
      "raw": "For people stumbling on this topic, my solution is this:\n```typc\nshow ref: it => { // Use number from equation, thus automatically adding parentheses\n  let el = it.element\n  if el != none and el.func() == math.equation {\n    // Override equation references\n    // Determine used supplement\n    let supp = if it.supplement == auto {\n      // Use automatic supplement, localized by Typst to correct language etc.\n      el.supplement\n    } else if (it.supplement == \"\"\n               or type(it.supplement) == content\n               and it.supplement.fields() == (children: ())) {\n      // Translate empty supplement (string or content) to #none\n      // For example, @eq:example[] will not introduce an extra space.\n      none\n    } else {\n      // Use supplied content\n      it.supplement\n    }\n    // The actual equation reference, being [#supp~#num] or [#num]\n    link(el.location(), {\n          supp\n          if supp != none { sym.space.nobreak }\n          // Use the numbering scheme from the equation. Can be changed.\n          numbering(el.numbering, ..counter(math.equation).at(el.location()))\n        })\n  } else {\n    it\n  }\n}\n```\nThe advantage is that the correct supplement is always used (the automatically localized 'Equation' or 'Vergelijking' in Dutch), while giving the different numbering scheme for the number itself. If the supplement is set to the empty string or empty content, also no erroneous non-breaking space is added.\nAnd like the last answer just before me, it uses `link` to link to the referenced equation.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 10,
      "score": 1.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1469
    }
  ],
  "scraped_at": "2025-06-10T09:56:49.755108"
}
{
  "topic_metadata": {
    "id": 1119,
    "title": "How to create a nested list using the plain 'enum' or 'list' function?",
    "slug": "how-to-create-a-nested-list-using-the-plain-enum-or-list-function",
    "posts_count": 2,
    "created_at": "2024-10-15T13:59:55.261Z",
    "last_posted_at": "2024-10-15T14:13:45.943Z",
    "views": 669,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 126
  },
  "posts": [
    {
      "id": 3946,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-15T13:59:55.394Z",
      "updated_at": "2024-10-15T14:03:00.269Z",
      "cooked": "<p>Test 1, works fine:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#[\n  #set enum(numbering: \"1.a)\")\n  + aa\n  + bb\n    + xx\n    + yy\n]\n</code></pre>\n<p>Output:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">1) aa\n2) bb\n   a) xx\n   b) yy\n</code></pre>\n<p>Test 2. How to make it work the same as Test 1?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#enum(\n  numbering: \"1.a)\",\n  enum.item[aa],\n  enum.item[bb],\n  enum(\n    numbering: \"1.a)\",\n    enum.item[xx],\n    enum.item[yy]\n  )\n)\n</code></pre>\n<p>The current output:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">1) aa\n2) bb\n3) a) xx\n   b) yy\n</code></pre>\n<p>The output I’m trying to achieve:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">1) aa\n2) bb\n   a) xx\n   b) yy\n</code></pre>",
      "raw": "Test 1, works fine:\n\n```typ\n#[\n  #set enum(numbering: \"1.a)\")\n  + aa\n  + bb\n    + xx\n    + yy\n]\n```\n\nOutput:\n\n```none\n1) aa\n2) bb\n   a) xx\n   b) yy\n```\n\nTest 2. How to make it work the same as Test 1?\n\n```typ\n#enum(\n  numbering: \"1.a)\",\n  enum.item[aa],\n  enum.item[bb],\n  enum(\n    numbering: \"1.a)\",\n    enum.item[xx],\n    enum.item[yy]\n  )\n)\n```\n\nThe current output:\n\n```none\n1) aa\n2) bb\n3) a) xx\n   b) yy\n```\n\nThe output I'm trying to achieve:\n\n```none\n1) aa\n2) bb\n   a) xx\n   b) yy\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 3557.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 3948,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T14:13:45.943Z",
      "updated_at": "2024-10-15T14:13:45.943Z",
      "cooked": "<p>In the desired output, the sublist is part of the second item, so you need to build it so:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#enum(\n  numbering: \"1.a)\",\n  enum.item[aa],\n  enum.item([bb] + enum(\n    numbering: \"1.a)\",\n    enum.item[xx],\n    enum.item[yy]\n  )),\n)\n</code></pre>",
      "raw": "In the desired output, the sublist is part of the second item, so you need to build it so:\n\n```typ\n#enum(\n  numbering: \"1.a)\",\n  enum.item[aa],\n  enum.item([bb] + enum(\n    numbering: \"1.a)\",\n    enum.item[xx],\n    enum.item[yy]\n  )),\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 30.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:48.923749"
}
{
  "topic_metadata": {
    "id": 1120,
    "title": "How to make the space around heading larger?",
    "slug": "how-to-make-the-space-around-heading-larger",
    "posts_count": 2,
    "created_at": "2024-10-15T14:26:53.358Z",
    "last_posted_at": "2024-10-15T14:30:02.167Z",
    "views": 1598,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 53
  },
  "posts": [
    {
      "id": 3949,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-15T14:26:53.491Z",
      "updated_at": "2024-10-15T14:26:53.491Z",
      "cooked": "<p>I want to make the space around headings larger. Specifically I want more space below a heading. How do I do that?</p>",
      "raw": "I want to make the space around headings larger. Specifically I want more space below a heading. How do I do that?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 66,
      "score": 8303.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3950,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T14:30:02.167Z",
      "updated_at": "2024-10-15T14:30:33.910Z",
      "cooked": "<p>The heading is a block. You can use a show rule to change the block spacing:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: set block(below: 2em)\n\n= Title\nText\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/0185b776eb58749824d1d46fac5e8504c943f548.png\" alt=\"image\" data-base62-sha1=\"dsXLXyfJkYH31tt76tQEWHZ9zy\" width=\"167\" height=\"81\"></p>",
      "raw": "The heading is a block. You can use a show rule to change the block spacing:\n\n```typ\n#show heading: set block(below: 2em)\n\n= Title\nText\n```\n![image|223x108, 75%](upload://dsXLXyfJkYH31tt76tQEWHZ9zy.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 66,
      "score": 198.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:48.213347"
}
{
  "topic_metadata": {
    "id": 1121,
    "title": "How to change text spacing?",
    "slug": "how-to-change-text-spacing",
    "posts_count": 5,
    "created_at": "2024-10-15T14:42:17.518Z",
    "last_posted_at": "2024-10-16T09:59:05.524Z",
    "views": 868,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 139
  },
  "posts": [
    {
      "id": 3954,
      "post_number": 1,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-15T14:42:17.623Z",
      "updated_at": "2024-10-18T21:28:17.775Z",
      "cooked": "<p>I would like to increase the spacing in between lines of text. How do I do that?</p>",
      "raw": "I would like to increase the spacing in between lines of text. How do I do that?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 4375.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3957,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T14:57:36.978Z",
      "updated_at": "2024-10-15T14:58:53.137Z",
      "cooked": "<p>This is called the paragraph “leading”. You can do <code>#set par(leading: ...)</code> to change it. You might also want to adjust the spacing between paragraphs, currently this is done with <code>show par: set block(spacing: ...)</code> but in typst 0.12 it will be simply <code>set par(spacing: ...)</code>.</p>",
      "raw": "This is called the paragraph \"leading\". You can do `#set par(leading: ...)` to change it. You might also want to adjust the spacing between paragraphs, currently this is done with `show par: set block(spacing: ...)` but in typst 0.12 it will be simply `set par(spacing: ...)`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 40.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 3958,
      "post_number": 3,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-15T15:00:45.149Z",
      "updated_at": "2024-10-15T15:00:45.149Z",
      "cooked": "<p>But this changes the spacing for all text, also in headings. Can I just change it for flow text?</p>",
      "raw": "But this changes the spacing for all text, also in headings. Can I just change it for flow text?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 20.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 3959,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-15T15:12:34.032Z",
      "updated_at": "2024-10-15T15:12:34.032Z",
      "cooked": "<p>You mean for headings that extend to several lines? I think to avoid that, you’ll need to add a second rule to override the setting just for heading: <code>#show heading: set par(leading: ...)</code></p>",
      "raw": "You mean for headings that extend to several lines? I think to avoid that, you'll need to add a second rule to override the setting just for heading: `#show heading: set par(leading: ...)`",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 3998,
      "post_number": 5,
      "username": "eike",
      "name": "Eike Schulte",
      "created_at": "2024-10-16T09:59:05.524Z",
      "updated_at": "2024-10-16T09:59:05.524Z",
      "cooked": "<p>And just to add it here: The default leading is 0.65em. (You will need this value to reset it for headings.)</p>",
      "raw": "And just to add it here: The default leading is 0.65em. (You will need this value to reset it for headings.)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 38,
      "score": 47.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 357
    }
  ],
  "scraped_at": "2025-06-10T09:56:47.475111"
}
{
  "topic_metadata": {
    "id": 1122,
    "title": "How to use the plain `raw` function?",
    "slug": "how-to-use-the-plain-raw-function",
    "posts_count": 13,
    "created_at": "2024-10-15T17:39:07.958Z",
    "last_posted_at": "2024-10-17T09:48:05.849Z",
    "views": 468,
    "like_count": 12,
    "reply_count": 8,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "afiaith",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 797
  },
  "posts": [
    {
      "id": 3960,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-15T17:39:08.158Z",
      "updated_at": "2024-10-23T11:59:01.087Z",
      "cooked": "<p>I try to figure out how to use the plain <code>raw</code> function.</p>\n<p>The following works fine:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">```\nfn main() {\n    println!(\"Hello World!\");\n}\n```\n</code></pre>\n<p>But this version doesn’t:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#raw(block: true, [\n  fn main() {\n      println!(\"Hello World!\");\n  }\n])\n</code></pre>\n<p>What’s wrong there?</p>",
      "raw": "I try to figure out how to use the plain `raw` function.\n\nThe following works fine:\n\n````typ\n```\nfn main() {\n    println!(\"Hello World!\");\n}\n```\n````\n\nBut this version doesn't:\n\n```typ\n#raw(block: true, [\n  fn main() {\n      println!(\"Hello World!\");\n  }\n])\n```\n\nWhat's wrong there?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 2035.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 3961,
      "post_number": 2,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-15T17:57:38.757Z",
      "updated_at": "2024-10-15T17:57:38.757Z",
      "cooked": "<p>Note that the <a href=\"https://typst.app/docs/reference/text/raw/#parameters-text\"><code>text</code> parameter</a> is a string, not a content. It says <code>str</code> (in green), not <code>content</code> (in a different, more blueish shade of green…).</p>",
      "raw": "Note that the [`text` parameter](https://typst.app/docs/reference/text/raw/#parameters-text) is a string, not a content. It says `str` (in green), not `content` (in a different, more blueish shade of green…).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 52,
      "score": 50.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 3962,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-15T18:15:10.174Z",
      "updated_at": "2024-10-15T18:42:23.691Z",
      "cooked": "<p>Ah, now I see, thanks! The following works fine:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#raw(block: true,\n\"fn main() {\n    println!(\\\"Hello World!\\\");\n}\"\n)\n</code></pre>\n<p>But what if I prefer to indent the string? I tried</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#raw(block: true,\n  \"fn main() {\n      println!(\\\"Hello World!\\\");\n  }\"\n)\n</code></pre>\n<p>but then the output is indented wrongly:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">fn main() {\n      println!(\"Hello World!\");\n  }\n</code></pre>",
      "raw": "Ah, now I see, thanks! The following works fine:\n\n```typ\n#raw(block: true,\n\"fn main() {\n    println!(\\\"Hello World!\\\");\n}\"\n)\n```\n\nBut what if I prefer to indent the string? I tried\n\n```typ\n#raw(block: true,\n  \"fn main() {\n      println!(\\\"Hello World!\\\");\n  }\"\n)\n```\n\nbut then the output is indented wrongly:\n\n```none\nfn main() {\n      println!(\"Hello World!\");\n  }\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 40.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 3964,
      "post_number": 4,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-15T18:57:31.968Z",
      "updated_at": "2024-10-15T18:57:31.968Z",
      "cooked": "<p>This is expected. If you look again at the <a href=\"https://typst.app/docs/reference/text/raw/#summary\">definition of <code>raw()</code></a> you’ll see it says</p>\n<blockquote>\n<p>Displays the text verbatim and in a monospace font.</p>\n</blockquote>\n<p>So when you indent your string you add tabs/spaces, which are treated verbatim and shown in the output.</p>",
      "raw": "This is expected. If you look again at the [definition of `raw()`](https://typst.app/docs/reference/text/raw/#summary) you’ll see it says\n\n> Displays the text verbatim and in a monospace font.\n\nSo when you indent your string you add tabs/spaces, which are treated verbatim and shown in the output.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 50,
      "score": 35.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 3990,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-16T08:24:40.687Z",
      "updated_at": "2024-10-16T08:25:39.052Z",
      "cooked": "<p>And there is no way to tell the compiler something like “ignore the first two spaces”, so that</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#raw(block: true,\n  \"fn main() {\n      println!(\\\"Hello World!\\\");\n  }\"\n)\n```\n</code></pre>\n<p>will give the output shown below?</p>\n<pre data-code-wrap=\"rust\"><code class=\"lang-rust\">fn main() {\n    println!(\"Hello World!\");\n}\n</code></pre>",
      "raw": "And there is no way to tell the compiler something like \"ignore the first two spaces\", so that \n\n````typ\n#raw(block: true,\n  \"fn main() {\n      println!(\\\"Hello World!\\\");\n  }\"\n)\n```\n````\n\nwill give the output shown below?\n\n```rust\nfn main() {\n    println!(\"Hello World!\");\n}\n```",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 3992,
      "post_number": 6,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-16T08:49:15.178Z",
      "updated_at": "2024-10-16T08:50:07.260Z",
      "cooked": "<p>As far as I know there is not a way to do it built in, but you can create a helper function that does it for you:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let rawSkipChars(rawTxt, numCharsToSkip: 2) = raw(\n  block: true,\n  \n  rawTxt\n  .split(\"\\n\")\n  .map(l =&gt; l.slice(numCharsToSkip))\n  .join(\"\\n\")\n)\n\n#let func = \"  void print(x)\n  {\n    //something goes here\n  }\"\n\n#rect(raw(func))\n#rect(rawSkipChars(func))\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/320190c1bbf837142825948b625829afd21f8583.png\" alt=\"image\" data-base62-sha1=\"78ne6uQWNZyiNkUyCknWyRbKDIv\" width=\"263\" height=\"234\"></p>\n</details>\n<p>The <code>rawSkipChars</code> function splits the text given to it, removes the first two characters from each line, then joins all lines back together.</p>\n<p>Note that this won’t work with the exact string you have in your last post because the very first line does not have any spaces before <code>fn</code>.</p>",
      "raw": "As far as I know there is not a way to do it built in, but you can create a helper function that does it for you:\n```typ\n#let rawSkipChars(rawTxt, numCharsToSkip: 2) = raw(\n  block: true,\n  \n  rawTxt\n  .split(\"\\n\")\n  .map(l => l.slice(numCharsToSkip))\n  .join(\"\\n\")\n)\n\n#let func = \"  void print(x)\n  {\n    //something goes here\n  }\"\n\n#rect(raw(func))\n#rect(rawSkipChars(func))\n```\n\n[details=\"Output\"]\n![image|263x234](upload://78ne6uQWNZyiNkUyCknWyRbKDIv.png)\n[/details]\n\n\nThe `rawSkipChars` function splits the text given to it, removes the first two characters from each line, then joins all lines back together.\n\nNote that this won't work with the exact string you have in your last post because the very first line does not have any spaces before `fn`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 49,
      "score": 54.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 3994,
      "post_number": 7,
      "username": "lukas.rt",
      "name": "Lukas",
      "created_at": "2024-10-16T09:01:25.842Z",
      "updated_at": "2024-10-16T10:06:16.969Z",
      "cooked": "<p>Here are some alternatives you can try:</p>\n<pre><code class=\"lang-auto\">// keep string indented by making it into seperate strings inside a list, that will be joines with linebreaks\n#raw(block: true, (\n  \"fn main() {\",\n  \"  println!(\\\"Hello World!\\\");\",\n  \"}\").join(\"\\n\")\n)\n\n//keep string indented by manually appending linebreaks and joining strings with + operator\n#raw(block: true,\n  \"fn main() {\\n\" +\n  \"  println!(\\\"Hello World!\\\");\\n\" +\n  \"}\"\n)\n\n\n//use a custom show rule, that trims the first two leading spaces of each line of any raw block\n#show raw: it =&gt; it.text.split(\"\\n\").map(line =&gt; line.trim(\"  \", at: start, repeat: false)).join(\"\\n\")\n\n#raw(block: true,\n  \"fn main() {\n    println!(\\\"Hello World!\\\");\n  }\"\n)\n</code></pre>\n<p>The last solution is similar to the proposed solution of <a class=\"mention\" href=\"/u/gezepi\">@gezepi</a></p>\n<p>EDIT: actually, my last proposal is somewhat flawed, because inside the show rule only the text ist returned and syntax styling gets lost.<br>\nA custom function applied to the string before handing it to a raw block would work better here.</p>",
      "raw": "Here are some alternatives you can try:\n\n```\n// keep string indented by making it into seperate strings inside a list, that will be joines with linebreaks\n#raw(block: true, (\n  \"fn main() {\",\n  \"  println!(\\\"Hello World!\\\");\",\n  \"}\").join(\"\\n\")\n)\n\n//keep string indented by manually appending linebreaks and joining strings with + operator\n#raw(block: true,\n  \"fn main() {\\n\" +\n  \"  println!(\\\"Hello World!\\\");\\n\" +\n  \"}\"\n)\n\n\n//use a custom show rule, that trims the first two leading spaces of each line of any raw block\n#show raw: it => it.text.split(\"\\n\").map(line => line.trim(\"  \", at: start, repeat: false)).join(\"\\n\")\n\n#raw(block: true,\n  \"fn main() {\n    println!(\\\"Hello World!\\\");\n  }\"\n)\n```\n\nThe last solution is similar to the proposed solution of @gezepi\n\nEDIT: actually, my last proposal is somewhat flawed, because inside the show rule only the text ist returned and syntax styling gets lost.\nA custom function applied to the string before handing it to a raw block would work better here.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 44,
      "score": 33.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 587
    },
    {
      "id": 3999,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-16T10:03:10.791Z",
      "updated_at": "2024-10-16T10:03:30.507Z",
      "cooked": "<p>Another solution is to actually use the raw <code>```</code> syntax to make the string <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#raw(block: true,\n  ```\n  fn main() {\n    println!(\"Hello World!\");\n  }\n  ```.text\n)\n</code></pre>\n<p>All spaces before the indent level of the <code>```</code> are trimmed (this feature seems to be undocumented).</p>\n<p>Of course this is going a bit in circles so I wonder why you want to avoid the <code>```</code> syntax for literal raw blocks? Is it to use escape sequences in the string?</p>",
      "raw": "Another solution is to actually use the raw ` ``` ` syntax to make the string :slight_smile: \n\n````typ\n#raw(block: true,\n  ```\n  fn main() {\n    println!(\"Hello World!\");\n  }\n  ```.text\n)\n````\n\nAll spaces before the indent level of the ` ``` ` are trimmed (this feature seems to be undocumented).\n\nOf course this is going a bit in circles so I wonder why you want to avoid the ` ``` ` syntax for literal raw blocks? Is it to use escape sequences in the string?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 37,
      "score": 67.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4004,
      "post_number": 9,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-16T12:04:30.858Z",
      "updated_at": "2024-10-16T12:08:10.614Z",
      "cooked": "<aside class=\"quote no-group quote-modified\" data-username=\"sijo\" data-post=\"8\" data-topic=\"1122\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>I wonder why you want to avoid the ````` syntax for literal raw blocks?</p>\n</blockquote>\n</aside>\n<p>Well, currently I simply try to improve my understanding how the plain Typst functions work, because they provide more options to customize the output and thus are very useful. E.g., using plain ‘raw’, I can change the color theme of a specific code block, or maybe to highlight a line there. As far as I know, these things are not possible if I simply use something like</p>\n<pre><code class=\"lang-auto\">```\n// fenced code block\n```\n</code></pre>\n<p>I didn’t try your solution yet, because I’m currently not near my laptop.</p>",
      "raw": "[quote=\"sijo, post:8, topic:1122\"]\nI wonder why you want to avoid the ````` syntax for literal raw blocks?\n[/quote]\n\nWell, currently I simply try to improve my understanding how the plain Typst functions work, because they provide more options to customize the output and thus are very useful. E.g., using plain 'raw', I can change the color theme of a specific code block, or maybe to highlight a line there. As far as I know, these things are not possible if I simply use something like\n\n````\n```\n// fenced code block\n```\n````\n\nI didn't try your solution yet, because I'm currently not near my laptop.",
      "reply_to_post_number": 8,
      "reply_count": 2,
      "quote_count": 1,
      "like_count": 0,
      "reads": 34,
      "score": 31.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4022,
      "post_number": 10,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-16T19:03:18.006Z",
      "updated_at": "2024-10-16T19:05:32.344Z",
      "cooked": "<p>I can’t try it either right now but if all you want to do is change some options on raw for a single code block you could enclose a set or show rule and the literal raw block in a content block. Like</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">[\n  #set raw(..set some option)\n  // Or\n  #show raw: set some styling\n  ```\n    //Some code\n  ```\n]\n</code></pre>",
      "raw": "I can't try it either right now but if all you want to do is change some options on raw for a single code block you could enclose a set or show rule and the literal raw block in a content block. Like\n\n````typst\n[\n  #set raw(..set some option)\n  // Or\n  #show raw: set some styling\n  ```\n    //Some code\n  ```\n]\n````",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 35,
      "score": 52.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4023,
      "post_number": 11,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-16T20:19:17.869Z",
      "updated_at": "2024-10-16T20:19:17.869Z",
      "cooked": "<p>The <code>```</code> notation is just <a href=\"https://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"noopener nofollow ugc\">syntactic sugar</a> for <code>raw()</code>; see the first <a href=\"https://github.com/typst/typst?tab=readme-ov-file#design-principles\" rel=\"noopener nofollow ugc\">design principle</a> of Typst, <em>simplicity through consistency</em>.</p>",
      "raw": "The ` ``` ` notation is just [syntactic sugar](https://en.wikipedia.org/wiki/Syntactic_sugar) for `raw()`; see the first [design principle](https://github.com/typst/typst?tab=readme-ov-file#design-principles) of Typst, *simplicity through consistency*.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 22.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 4035,
      "post_number": 12,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T00:13:24.091Z",
      "updated_at": "2024-10-17T00:13:24.091Z",
      "cooked": "<p>This is an interesting suggestion. Could you show a working example?</p>",
      "raw": "This is an interesting suggestion. Could you show a working example?",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 12.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4067,
      "post_number": 13,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-17T09:48:05.849Z",
      "updated_at": "2024-10-17T15:05:56.504Z",
      "cooked": "<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#[\n  #show raw: set text(weight: \"bold\")\n  ```rust\n  fn main() {\n    println!(\"Hello World!\");\n  }\n  ```\n]\n\n```rust\nfn main() {\n  println!(\"Hello World!\");\n}\n```\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/e6fe94e6381bee2b2774c2e06b7fe4f741dda640.png\" data-download-href=\"https://forum.typst.app/uploads/default/e6fe94e6381bee2b2774c2e06b7fe4f741dda640\" title=\"Test (1)\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/e6fe94e6381bee2b2774c2e06b7fe4f741dda640_2_661x500.png\" alt=\"Test (1)\" data-base62-sha1=\"wXtfVjNHND9ooiLvWwlryLshjYk\" width=\"661\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/e6fe94e6381bee2b2774c2e06b7fe4f741dda640_2_661x500.png, https://forum.typst.app/uploads/default/optimized/1X/e6fe94e6381bee2b2774c2e06b7fe4f741dda640_2_991x750.png 1.5x, https://forum.typst.app/uploads/default/original/1X/e6fe94e6381bee2b2774c2e06b7fe4f741dda640.png 2x\" data-dominant-color=\"FCFDFC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Test (1)</span><span class=\"informations\">1187×897 74.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "````typst\n#[\n  #show raw: set text(weight: \"bold\")\n  ```rust\n  fn main() {\n    println!(\"Hello World!\");\n  }\n  ```\n]\n\n```rust\nfn main() {\n  println!(\"Hello World!\");\n}\n```\n````\n\n![Test (1)|661x500](upload://wXtfVjNHND9ooiLvWwlryLshjYk.png)",
      "reply_to_post_number": 12,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 36.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    }
  ],
  "scraped_at": "2025-06-10T09:56:46.764321"
}
{
  "topic_metadata": {
    "id": 1123,
    "title": "How to draw a vertical line between two grid columns?",
    "slug": "how-to-draw-a-vertical-line-between-two-grid-columns",
    "posts_count": 2,
    "created_at": "2024-10-15T18:40:44.000Z",
    "last_posted_at": "2024-10-16T01:13:48.003Z",
    "views": 587,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "grids"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 267
  },
  "posts": [
    {
      "id": 3963,
      "post_number": 1,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2024-10-15T18:40:44.200Z",
      "updated_at": "2024-10-15T18:40:44.200Z",
      "cooked": "<p>I would like to create a two-column grid. There should be a space between the two columns (4em in the example). A vertical line should run through the centre of the free space. In the example, the line is not in the centre but on the right edge of the grid. How do I get the line to run in the centre?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n  columns: (2fr, 3fr),\n  column-gutter: 4em,\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 0.5pt, x: 1),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  v(4em),v(3em),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 3pt, x: 1),\n  block(width: 100%, height: 3em, stroke: 1pt),\n)\n</code></pre>",
      "raw": "I would like to create a two-column grid. There should be a space between the two columns (4em in the example). A vertical line should run through the centre of the free space. In the example, the line is not in the centre but on the right edge of the grid. How do I get the line to run in the centre?\n\n```typ\n#grid(\n  columns: (2fr, 3fr),\n  column-gutter: 4em,\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 0.5pt, x: 1),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  v(4em),v(3em),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 3pt, x: 1),\n  block(width: 100%, height: 3em, stroke: 1pt),\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 48,
      "score": 3024.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 3978,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-16T01:13:48.003Z",
      "updated_at": "2024-10-16T01:13:48.003Z",
      "cooked": "<p>You can halve the gutter and add an empty column between the two:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n  columns: (2fr, 0pt, 3fr),\n  column-gutter: 2em,\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 0.5pt),\n  [],\n  block(width: 100%, height: 3em, stroke: 1pt),\n  v(4em),[],v(3em),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 3pt),\n  [],\n  block(width: 100%, height: 3em, stroke: 1pt),\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19.png\" data-download-href=\"https://forum.typst.app/uploads/default/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19\" title=\"output: line in the middle\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19_2_690x299.png\" alt=\"output: line in the middle\" data-base62-sha1=\"wbob1kOEZUMLnXinuUJJLdNXDaV\" width=\"690\" height=\"299\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19_2_690x299.png, https://forum.typst.app/uploads/default/optimized/1X/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19_2_1035x448.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/e18f2c4f2c51cbc324dbce0d85eda6e23e3a2b19_2_1380x598.png 2x\" data-dominant-color=\"F5F5F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">output: line in the middle</span><span class=\"informations\">1500×650 22.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>It’s worth mentioning that the first call to <code>grid.vline</code>, with a stroke thickness of 0.5pt, is redundant and can be safely removed, as the second call, with a stroke thickness of 3pt, also goes through the full height of the grid such that the line with less thickness isn’t visible. But it’s possible this was just an artifact of the process of making a minimal example, in which case you can ignore this. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "You can halve the gutter and add an empty column between the two:\n\n```typ\n#grid(\n  columns: (2fr, 0pt, 3fr),\n  column-gutter: 2em,\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 0.5pt),\n  [],\n  block(width: 100%, height: 3em, stroke: 1pt),\n  v(4em),[],v(3em),\n  block(width: 100%, height: 3em, stroke: 1pt),\n  grid.vline(stroke: 3pt),\n  [],\n  block(width: 100%, height: 3em, stroke: 1pt),\n)\n```\n![output: line in the middle|690x299](upload://wbob1kOEZUMLnXinuUJJLdNXDaV.png)\n\nIt's worth mentioning that the first call to `grid.vline`, with a stroke thickness of 0.5pt, is redundant and can be safely removed, as the second call, with a stroke thickness of 3pt, also goes through the full height of the grid such that the line with less thickness isn't visible. But it's possible this was just an artifact of the process of making a minimal example, in which case you can ignore this. :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 339.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:46.023572"
}
{
  "topic_metadata": {
    "id": 1125,
    "title": "How to make a table stroke shorter?",
    "slug": "how-to-make-a-table-stroke-shorter",
    "posts_count": 3,
    "created_at": "2024-10-15T20:21:13.577Z",
    "last_posted_at": "2024-10-15T21:15:05.324Z",
    "views": 93,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 175
  },
  "posts": [
    {
      "id": 3970,
      "post_number": 1,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-15T20:21:13.701Z",
      "updated_at": "2024-10-15T20:28:52.450Z",
      "cooked": "<p>I am trying to create (yet another) Typst-CV, namely mine. Currently my tabular entries look like this:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/9034f4ed6a9d779023a35e56a0755573acc7a6ed.png\" data-download-href=\"https://forum.typst.app/uploads/default/9034f4ed6a9d779023a35e56a0755573acc7a6ed\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/9034f4ed6a9d779023a35e56a0755573acc7a6ed_2_690x194.png\" alt=\"image\" data-base62-sha1=\"kzIdkFe3lStB1xko1N1zrEpLbCR\" width=\"690\" height=\"194\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/9034f4ed6a9d779023a35e56a0755573acc7a6ed_2_690x194.png, https://forum.typst.app/uploads/default/optimized/1X/9034f4ed6a9d779023a35e56a0755573acc7a6ed_2_1035x291.png 1.5x, https://forum.typst.app/uploads/default/original/1X/9034f4ed6a9d779023a35e56a0755573acc7a6ed.png 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1325×373 43 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I want the strokes to be shorter, such that they go less above the height of the text. How can I do this? The stroke parameter does not contain any length parameter.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">  #set table(\n    columns: (auto, auto), \n    align: (right, left),\n    stroke: (x, y) =&gt; {\n      if x == 0 {\n       (right: (1pt + black))\n      } else{\n        (:)\n      }\n    },\n    row-gutter: 0.3em\n  )\n\n\n#table(\n    [10/2023 - 02/2024], [#lorem(20)],\n    [08/ – 10/2023], [#lorem(30)],\n    [08/ – 09/2022], [#lorem(25)], \n)\n</code></pre>",
      "raw": "I am trying to create (yet another) Typst-CV, namely mine. Currently my tabular entries look like this:\n![image|690x194](upload://kzIdkFe3lStB1xko1N1zrEpLbCR.png)\n\nI want the strokes to be shorter, such that they go less above the height of the text. How can I do this? The stroke parameter does not contain any length parameter.\n\n```typst\n  #set table(\n    columns: (auto, auto), \n    align: (right, left),\n    stroke: (x, y) => {\n      if x == 0 {\n       (right: (1pt + black))\n      } else{\n        (:)\n      }\n    },\n    row-gutter: 0.3em\n  )\n\n\n#table(\n    [10/2023 - 02/2024], [#lorem(20)],\n    [08/ – 10/2023], [#lorem(30)],\n    [08/ – 09/2022], [#lorem(25)], \n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 336.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 3973,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-15T21:05:07.043Z",
      "updated_at": "2024-10-15T21:05:07.043Z",
      "cooked": "<p>the table stroke goes over the whole cell; if you want the text to come closer to the edge of the cell, you can reduce the y-inset (default seems to be <code>5pt</code>). You can counteract any decrease there by increasing the <code>row-gutter</code> by the same amount.<br>\nSo the following adjustments could work:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set table(\n  inset: (y: 3pt),  // 2pt less at the top and bottom\n  row-gutter: 0.5em + 4pt,  // 4pt more between rows\n)\n</code></pre>",
      "raw": "the table stroke goes over the whole cell; if you want the text to come closer to the edge of the cell, you can reduce the y-inset (default seems to be `5pt`). You can counteract any decrease there by increasing the `row-gutter` by the same amount.\nSo the following adjustments could work:\n```typ\n#set table(\n  inset: (y: 3pt),  // 2pt less at the top and bottom\n  row-gutter: 0.5em + 4pt,  // 4pt more between rows\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 21.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 3974,
      "post_number": 3,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-15T21:15:05.324Z",
      "updated_at": "2024-10-15T21:15:05.324Z",
      "cooked": "<p>Yes, that works. Thanks! :)</p>",
      "raw": "Yes, that works. Thanks! :)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    }
  ],
  "scraped_at": "2025-06-10T09:56:45.293075"
}
{
  "topic_metadata": {
    "id": 1128,
    "title": "How to remove a first-line indent of a paragraph after the centered text",
    "slug": "how-to-remove-a-first-line-indent-of-a-paragraph-after-the-centered-text",
    "posts_count": 4,
    "created_at": "2024-10-15T21:29:45.177Z",
    "last_posted_at": "2024-10-16T05:05:50.171Z",
    "views": 463,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 346
  },
  "posts": [
    {
      "id": 3975,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-15T21:29:45.275Z",
      "updated_at": "2024-10-15T21:31:11.567Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#let pseudoheading(body) = {\n  set align(center)\n  set par(justify: false)\n  smallcaps(body)\n}\n\n// --\n\n= This is a regular heading\n\n#lorem(20)\n\n#lorem(20)\n\n#heading(outlined: false)[This is another regular heading, though not outlined]\n\n#lorem(20)\n\n#lorem(20)\n\n#pseudoheading[\n  And this is a pseudoheading\n]\n\n#lorem(20)\n\n#lorem(20)\n</code></pre>\n<p>Is there a way to remove the first-line indent of a paragraph after the psedoheading, so that it will be not like this:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">                  And this is a pseudoheading\n\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n</code></pre>\n<p>but like this?</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">                  And this is a pseudoheading\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n</code></pre>",
      "raw": "```typ\n#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#let pseudoheading(body) = {\n  set align(center)\n  set par(justify: false)\n  smallcaps(body)\n}\n\n// --\n\n= This is a regular heading\n\n#lorem(20)\n\n#lorem(20)\n\n#heading(outlined: false)[This is another regular heading, though not outlined]\n\n#lorem(20)\n\n#lorem(20)\n\n#pseudoheading[\n  And this is a pseudoheading\n]\n\n#lorem(20)\n\n#lorem(20)\n```\n\nIs there a way to remove the first-line indent of a paragraph after the psedoheading, so that it will be not like this:\n\n```none\n                  And this is a pseudoheading\n\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n```\n\nbut like this?\n\n```none\n                  And this is a pseudoheading\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magnam aliquam quaerat.\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 2094.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 3977,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-16T01:06:50.673Z",
      "updated_at": "2024-10-16T01:07:30.304Z",
      "cooked": "<p>The problem here is that you are inserting the pseudoheading’s paragraph verbatim, so Typst thinks it’s just yet another paragraph in the flow, meaning the next paragraph isn’t considered the “first” in a paragraph run (and only the first isn’t indented). Wrap it around a block to force a break in the flow, such that the next paragraph will no longer be indented:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#let pseudoheading(body) = {\n  set align(center)\n  set par(justify: false)\n  block(smallcaps(body))  // &lt;---- block()\n}\n\n// --\n\n= This is a regular heading\n\n#lorem(20)\n\n#lorem(20)\n\n#heading(outlined: false)[This is another regular heading, though not outlined]\n\n#lorem(20)\n\n#lorem(20)\n\n#pseudoheading[\n  And this is a pseudoheading\n]\n\n#lorem(20)\n\n#lorem(20)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82.png\" data-download-href=\"https://forum.typst.app/uploads/default/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82\" title=\"output: no indent below pseudoheading\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82_2_348x500.png\" alt=\"output: no indent below pseudoheading\" data-base62-sha1=\"3uWthqgbGoQ4voaob32ZqHflGoy\" width=\"348\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82_2_348x500.png, https://forum.typst.app/uploads/default/optimized/1X/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82_2_522x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/1885f65bbb8ecd8a15f32ad5aca0ff2e81277a82_2_696x1000.png 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">output: no indent below pseudoheading</span><span class=\"informations\">835×1198 230 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "The problem here is that you are inserting the pseudoheading's paragraph verbatim, so Typst thinks it's just yet another paragraph in the flow, meaning the next paragraph isn't considered the \"first\" in a paragraph run (and only the first isn't indented). Wrap it around a block to force a break in the flow, such that the next paragraph will no longer be indented:\n\n```typ\n#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#let pseudoheading(body) = {\n  set align(center)\n  set par(justify: false)\n  block(smallcaps(body))  // <---- block()\n}\n\n// --\n\n= This is a regular heading\n\n#lorem(20)\n\n#lorem(20)\n\n#heading(outlined: false)[This is another regular heading, though not outlined]\n\n#lorem(20)\n\n#lorem(20)\n\n#pseudoheading[\n  And this is a pseudoheading\n]\n\n#lorem(20)\n\n#lorem(20)\n```\n![output: no indent below pseudoheading|348x500](upload://3uWthqgbGoQ4voaob32ZqHflGoy.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 188.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 3982,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-16T04:06:01.142Z",
      "updated_at": "2024-10-16T04:06:01.142Z",
      "cooked": "<p>That seems to be the opposite of what OP requested. <code>indenta</code> adds indentation, whereas OP is asking to remove.</p>",
      "raw": "That seems to be the opposite of what OP requested. `indenta` adds indentation, whereas OP is asking to remove.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 3983,
      "post_number": 5,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-16T05:05:50.171Z",
      "updated_at": "2024-10-16T05:05:50.171Z",
      "cooked": "<p>Sorry, I misread it😵</p>",
      "raw": "Sorry, I misread it😵",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 6.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    }
  ],
  "scraped_at": "2025-06-10T09:56:44.602662"
}
{
  "topic_metadata": {
    "id": 1133,
    "title": "What characters may the names of variables and functions consist of?",
    "slug": "what-characters-may-the-names-of-variables-and-functions-consist-of",
    "posts_count": 4,
    "created_at": "2024-10-16T07:07:00.124Z",
    "last_posted_at": "2024-10-16T09:09:40.506Z",
    "views": 131,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 190
  },
  "posts": [
    {
      "id": 3987,
      "post_number": 1,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2024-10-16T07:07:00.273Z",
      "updated_at": "2024-10-16T07:07:00.273Z",
      "cooked": "<p>What characters may the names of variables and functions consist of? And where can I find this information?</p>",
      "raw": "What characters may the names of variables and functions consist of? And where can I find this information?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 490.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 3988,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-16T07:12:40.192Z",
      "updated_at": "2024-10-16T07:12:40.192Z",
      "cooked": "<p>See my answer here: <a href=\"https://forum.typst.app/t/what-are-the-rules-for-identifiers-in-typst/665/2\" class=\"inline-onebox\">What are the rules for identifiers in Typst? - #2 by xkevio</a>.</p>",
      "raw": "See my answer here: https://forum.typst.app/t/what-are-the-rules-for-identifiers-in-typst/665/2?u=xkevio.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 27,
      "score": 70.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 3991,
      "post_number": 3,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2024-10-16T08:28:07.051Z",
      "updated_at": "2024-10-16T08:28:07.051Z",
      "cooked": "<p>If I understand correctly, only these characters are allowed: letters, numbers, “-” and “_”.</p>\n<p>This would exclude the question mark. I was wondering whether I could end the name of a predicate function with a question mark (as is usual in LISP/Scheme):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let isOdd?(num) = ...\n</code></pre>",
      "raw": "If I understand correctly, only these characters are allowed: letters, numbers, \"-\" and \"_\".\n\nThis would exclude the question mark. I was wondering whether I could end the name of a predicate function with a question mark (as is usual in LISP/Scheme):\n\n```typ\n#let isOdd?(num) = ...\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 3995,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-16T09:09:40.506Z",
      "updated_at": "2024-10-16T09:09:40.506Z",
      "cooked": "<p>That’s indeed not possible. When considering whether that would be worth a syntax change, you also have to consider the interaction with the markup part. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let date = \"Oct 16, 2024\"\nDo you accept the Terms and Condition, version #date?\n</code></pre>\n<p>With your change, this would result in an unknown variable error.</p>\n<p>I’m not on the team, but generally I’d say that the possible benefit is too small to warrant the disruption, especially as a) the <code>is</code> prefix already indicates a predicate imo, and b) Typst is supposed to eventually get type hints, which also help identifying what functions are predicates.</p>",
      "raw": "That's indeed not possible. When considering whether that would be worth a syntax change, you also have to consider the interaction with the markup part. For example:\n```typ\n#let date = \"Oct 16, 2024\"\nDo you accept the Terms and Condition, version #date?\n```\nWith your change, this would result in an unknown variable error.\n\nI'm not on the team, but generally I'd say that the possible benefit is too small to warrant the disruption, especially as a) the `is` prefix already indicates a predicate imo, and b) Typst is supposed to eventually get type hints, which also help identifying what functions are predicates.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:43.885054"
}
{
  "topic_metadata": {
    "id": 1134,
    "title": "How to check if in development version?",
    "slug": "how-to-check-if-in-development-version",
    "posts_count": 2,
    "created_at": "2024-10-16T11:00:19.151Z",
    "last_posted_at": "2024-10-16T11:54:54.986Z",
    "views": 60,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 137
  },
  "posts": [
    {
      "id": 4001,
      "post_number": 1,
      "username": "Carlos",
      "name": "Carlos",
      "created_at": "2024-10-16T11:00:19.306Z",
      "updated_at": "2024-10-16T11:00:49.024Z",
      "cooked": "<p>Hi, sometimes I compile documents using the development version because if fixes some problems in pdf output, while still writing and previewing with current stable version. So I would like some fragments of code to be conditional on the version. Thing is that <code>sys.version</code> reports the same version for both and I don’t know where to look for the patch/revision, if available at all. Thanks!</p>",
      "raw": "Hi, sometimes I compile documents using the development version because if fixes some problems in pdf output, while still writing and previewing with current stable version. So I would like some fragments of code to be conditional on the version. Thing is that `sys.version` reports the same version for both and I don't know where to look for the patch/revision, if available at all. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 139.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 399
    },
    {
      "id": 4003,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-16T11:54:54.986Z",
      "updated_at": "2024-10-16T11:54:54.986Z",
      "cooked": "<p>Hello!<br>\nThe reason why <code>sys.version</code> reports the same version for both is because the compilation was done without modifying the version in <code>Cargo.toml</code>. You can re-compile after changing that, or use a condition on a <code>sys.inputs</code>. See <a href=\"https://forum.typst.app/t/can-i-configure-my-document-e-g-draft-release-version-color-theme-when-creating-a-pdf-without-modifying-the-typst-file-directly/160\" class=\"inline-onebox\">Can I configure my document (e.g. draft/release version, color theme) when creating a PDF without modifying the Typst file directly?</a></p>",
      "raw": "Hello! \nThe reason why `sys.version` reports the same version for both is because the compilation was done without modifying the version in `Cargo.toml`. You can re-compile after changing that, or use a condition on a `sys.inputs`. See https://forum.typst.app/t/can-i-configure-my-document-e-g-draft-release-version-color-theme-when-creating-a-pdf-without-modifying-the-typst-file-directly/160",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 24.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:56:43.173342"
}
{
  "topic_metadata": {
    "id": 1145,
    "title": "Spell Checkin not working in german",
    "slug": "spell-checkin-not-working-in-german",
    "posts_count": 2,
    "created_at": "2024-10-16T16:49:41.258Z",
    "last_posted_at": "2024-10-16T16:54:16.612Z",
    "views": 335,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 147
  },
  "posts": [
    {
      "id": 4018,
      "post_number": 1,
      "username": "Georg_Rasumov",
      "name": "Georg Rasumov",
      "created_at": "2024-10-16T16:49:41.350Z",
      "updated_at": "2024-10-16T16:49:41.350Z",
      "cooked": "<p>I’m having trouble with spell checking in the browser application when setting the language to German using:</p>\n<p><code>#set text(lang: \"de\")</code></p>\n<p>No spelling errors are being detected at all.</p>\n<p>However, when I set the language to English:</p>\n<p><code>#set text(lang: \"en\")</code></p>\n<p>the spell checker works as expected. I’ve tested this on Firefox, Chrome, and Edge, but the issue persists across all browsers.</p>\n<p>Its also not workign with an minimal example as:</p>\n<pre><code class=\"lang-auto\">#set text(lang: \"de\", region: \"de\")\nFinde den Fehlr.\n</code></pre>",
      "raw": "I'm having trouble with spell checking in the browser application when setting the language to German using:\n\n`#set text(lang: \"de\")`\n\nNo spelling errors are being detected at all.\n\nHowever, when I set the language to English:\n\n`#set text(lang: \"en\")`\n\nthe spell checker works as expected. I've tested this on Firefox, Chrome, and Edge, but the issue persists across all browsers.\n\nIts also not workign with an minimal example as:\n\n```\n#set text(lang: \"de\", region: \"de\")\nFinde den Fehlr.\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 1059.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 603
    },
    {
      "id": 4019,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-16T16:54:16.612Z",
      "updated_at": "2024-10-16T16:54:57.406Z",
      "cooked": "<p>It’s a known issue (not a bug) as the web app uses a library called hunspell which relies on a rather complicated dictionary file format for spell checking. The issue stems from the fact that the only available German dictionary has a license incompatible with the web app and contacting its author to purchase the dictionary has not yet led to any results unfortunately.</p>",
      "raw": "It's a known issue (not a bug) as the web app uses a library called hunspell which relies on a rather complicated dictionary file format for spell checking. The issue stems from the fact that the only available German dictionary has a license incompatible with the web app and contacting its author to purchase the dictionary has not yet led to any results unfortunately.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 43,
      "score": 43.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    }
  ],
  "scraped_at": "2025-06-10T09:56:42.473454"
}
{
  "topic_metadata": {
    "id": 1148,
    "title": "How do I read the API documentation in regards to named parameters that act positionally?",
    "slug": "how-do-i-read-the-api-documentation-in-regards-to-named-parameters-that-act-positionally",
    "posts_count": 5,
    "created_at": "2024-10-16T20:40:23.187Z",
    "last_posted_at": "2024-10-17T12:44:00.765Z",
    "views": 148,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1331
  },
  "posts": [
    {
      "id": 4028,
      "post_number": 1,
      "username": "Reverend_Paco",
      "name": "",
      "created_at": "2024-10-16T20:40:23.302Z",
      "updated_at": "2024-10-16T20:40:23.302Z",
      "cooked": "<p>I’m relatively new to <code>typst</code> and am enjoying it so far, but am having a fundamental misunderstanding of something important.</p>\n<p>To motivate my question,  I propose that the following typst function calls are all the same and I would love to know why:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">  - #text(black)[my text]\n  - #text(11pt)[my text]\n  - #text(11pt,black)[my text]\n  - #text(black,11pt)[my text]\n  - #text(black,size:11pt)[my text]\n  - #text(size:11pt,black)[my text]\n  - #text(fill: black,size:11pt)[my text]\n  - #text(size:11pt,fill: black)[my text]\n  - #text(\"my text\",size:11pt,fill: black)\n  - #text(\"my text\",11pt,black)\n  - #text(\"my text\",black,11pt)\n  - #text(black,\"my text\",11pt) // why does this work?\n  - #text(black,11pt,\"my text\") // why does this work?\n  - #text(fill:black,11pt,\"my text\") // why does this work?\n  - #text(fill:black,size:11pt,\"my text\") // why does this work?\n</code></pre>\n<p>When I look at the API documentation for the <a href=\"https://typst.app/docs/reference/text/text/\">text</a> function,  I see a long list of <strong>named + non-required parameters</strong> followed by two <strong>positional + required parameters</strong><br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/c7c533fe95437a137435fba3267e230d9253bbcb.png\" alt=\"image\" data-base62-sha1=\"svfwnNqvIk9JUxf5rI3UhGTn9J9\" width=\"448\" height=\"122\"></p>\n<hr>\n<p>I observe and assert (<em>ready to be wrong</em>):</p>\n<ul>\n<li><code>#text(11pt)[my text]</code> is taking in a content block as its required positional parameter and <code>11pt</code> (of type <code>length</code>) as the named <code>size:</code> parameter <strong>though it seems like its being used a positional parameter</strong>.</li>\n<li><code>#text(black)[my text]</code> is taking in a content block as its required positional parameter and <code>black</code> (of type <code>color</code>) as the named <code>fill:</code> parameter <strong>though it seems like its being used a positional parameter</strong>.</li>\n<li><code>fill:</code> and <code>size:</code> seem to be the <em>only</em> named parameters for the <code>text</code> function that are <strong>psuedo-positional</strong>. (I do not mean this term to be disparaging – only a convenient neologism)</li>\n<li>Both these (<code>fill:</code> and <code>size:</code>) are optional parameters because I know I can do a <code>set text(10pt)</code> or a <code>set text(green)</code> and another documentation states quite clearly that  “<strong>Only optional parameters of that function can be provided to the set rule</strong>” (<a href=\"https://typst.app/docs/reference/styling/\">reference</a>).</li>\n</ul>\n<p>If the heart of these assertions is true, then my fundamental question is</p>\n<ul>\n<li>How can I know (via documentation or code) which parameters are psuedo-positional?</li>\n</ul>\n<p>Similar questions:</p>\n<ul>\n<li>Why can I do <code>#text(blue)[my text]</code> but not <code>#highlight(blue)[my text]</code>?  (both use <code>fill:</code> as optional parameters)</li>\n<li>Is there any way to see documentation (or access to code) that would allow me to find this out for myself?</li>\n</ul>\n<p>Thanks for sticking with me this far.</p>\n<p>daniel</p>",
      "raw": "I'm relatively new to `typst` and am enjoying it so far, but am having a fundamental misunderstanding of something important.\n\nTo motivate my question,  I propose that the following typst function calls are all the same and I would love to know why:\n\n```typst\n  - #text(black)[my text]\n  - #text(11pt)[my text]\n  - #text(11pt,black)[my text]\n  - #text(black,11pt)[my text]\n  - #text(black,size:11pt)[my text]\n  - #text(size:11pt,black)[my text]\n  - #text(fill: black,size:11pt)[my text]\n  - #text(size:11pt,fill: black)[my text]\n  - #text(\"my text\",size:11pt,fill: black)\n  - #text(\"my text\",11pt,black)\n  - #text(\"my text\",black,11pt)\n  - #text(black,\"my text\",11pt) // why does this work?\n  - #text(black,11pt,\"my text\") // why does this work?\n  - #text(fill:black,11pt,\"my text\") // why does this work?\n  - #text(fill:black,size:11pt,\"my text\") // why does this work?\n```\n\nWhen I look at the API documentation for the [text](https://typst.app/docs/reference/text/text/) function,  I see a long list of **named + non-required parameters** followed by two **positional + required parameters**\n![image|448x122](upload://svfwnNqvIk9JUxf5rI3UhGTn9J9.png)\n\n----\n\n\nI observe and assert (*ready to be wrong*):\n* `#text(11pt)[my text]` is taking in a content block as its required positional parameter and `11pt` (of type `length`) as the named `size:` parameter **though it seems like its being used a positional parameter**.\n* `#text(black)[my text]` is taking in a content block as its required positional parameter and `black` (of type `color`) as the named `fill:` parameter **though it seems like its being used a positional parameter**.\n* `fill:` and `size:` seem to be the *only* named parameters for the `text` function that are **psuedo-positional**. (I do not mean this term to be disparaging -- only a convenient neologism)\n* Both these (`fill:` and `size:`) are optional parameters because I know I can do a `set text(10pt)` or a `set text(green)` and another documentation states quite clearly that  \"**Only optional parameters of that function can be provided to the set rule**\" ([reference](https://typst.app/docs/reference/styling/)).\n\nIf the heart of these assertions is true, then my fundamental question is\n\n* How can I know (via documentation or code) which parameters are psuedo-positional?\n\nSimilar questions:\n\n* Why can I do `#text(blue)[my text]` but not `#highlight(blue)[my text]`?  (both use `fill:` as optional parameters)\n* Is there any way to see documentation (or access to code) that would allow me to find this out for myself?\n\nThanks for sticking with me this far.\n\n\ndaniel",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 202.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 604
    },
    {
      "id": 4032,
      "post_number": 2,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-16T22:00:16.920Z",
      "updated_at": "2024-10-16T22:00:16.920Z",
      "cooked": "<p>As someone who is <em>not</em> knowledgeable about typst :</p>\n<p>Without looking at the code and if I had to make a <strong>guess</strong>, it’ll be that the <code>text</code> function is popular enough to get some added (and undocumented) special behavior for the sake of convenience. Ultimately the only way to know exactly how it works is to take a look at the source code on GitHub.</p>\n<p>i also found this on the changelog for 0.12.0-rc2, i dont know what conclusions to draw.</p>\n<p>\" Font family must be a named argument now: <code>#set text(font: \"..\")</code>\"</p>\n<p>i repeat that I’m not knowledgeable about typst, so take my answer with a spoonful of salt</p>",
      "raw": "As someone who is *not* knowledgeable about typst :\n\nWithout looking at the code and if I had to make a **guess**, it'll be that the `text` function is popular enough to get some added (and undocumented) special behavior for the sake of convenience. Ultimately the only way to know exactly how it works is to take a look at the source code on GitHub.\n\ni also found this on the changelog for 0.12.0-rc2, i dont know what conclusions to draw.\n\n\" Font family must be a named argument now: `#set text(font: \"..\")`\"\n\ni repeat that I'm not knowledgeable about typst, so take my answer with a spoonful of salt",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 17.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4040,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-17T05:39:47.745Z",
      "updated_at": "2024-10-17T05:42:09.281Z",
      "cooked": "<p>The documentation for <code>text</code> indeed isn’t very clear about this, but here’s what’s going on:</p>\n<ol>\n<li>The most common named arguments for <code>text</code> - mostly unambiguous ones such as <code>fill:</code> and <code>size:</code> - can also be used positionally <strong>as an exception</strong>, just for convenience. These parameters <strong>are not separately listed as positional</strong> in the documentation at the moment. Note that you can implement this same behavior in your functions by taking and parsing arbitrary amounts of arguments (see <a href=\"https://typst.app/docs/reference/foundations/arguments/\" class=\"inline-onebox\">Arguments Type – Typst Documentation</a>).</li>\n<li>The two positional arguments you see (<code>content</code> and <code>str</code>) are <strong>currently misleading</strong> and need improvement. Basically, what’s going on here is that <code>text</code> is a special element, in that its element constructor (the <code>#text(...)[stuff]</code> function), instead of constructing a new <code>text</code>, <strong>applies the given parameters as local styles</strong>, as if you were applying a set rule on the given content. That is:<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#text(red, font: \"Arial\")[Hello world!]\n// is equivalent to\n#[\n    #set text(red, font: \"Arial\")\n    Hello world!\n]\n</code></pre>\nThis means that the whole <code>#text()</code> function (not the element itself, but its constructor) only exists as a convenience to apply <code>text</code> element set rules to the given content parameter, <strong>which is strictly positional</strong>. Therefore, that <code>content</code> you see is the content to apply the set rules to. (This is similar, for instance, to <code>#align</code>: <code>#align(center)[abc]</code> is more or less equivalent to <code>#[ #set align(center); #block[abc]]</code>.)<br>\nBut then what is the <code>str</code> parameter? That’s where the <code>text</code> element part comes in: the <strong>real</strong> <code>text</code> elements are simple wrappers around strings. They contain <strong>no formatting at all</strong> - they are <strong>the most basic element of all text</strong>, so it is natural that any formatting would be done by elements (such as <code>strong</code> or <code>emph</code>) containing those more fundamental units, and not the other way around. So, this <code>str</code> “parameter” is actually the <code>.text</code> field of text elements (the contained text) “leaking” into the docs, <strong>but you can’t actually pass that parameter</strong> because <strong>you cannot construct text elements</strong> by yourself: they are automatically generated for you as you type text in a markup block. This means that <code>#text(\"ABC\")</code> is actually the exact same as <code>#text[ABC]</code> which is also the exact same as <code>#[ABC]</code>, since <code>text</code>, when used as a function, only applies styles to the text elements in <code>ABC</code>, but no styles are being configured so nothing happens.  It’d certainly be much nicer if this could be displayed properly!</li>\n</ol>\n<p>Hope this clears it up. Feel free to open an issue in <a href=\"https://github.com/typst/typst\" class=\"inline-onebox\">GitHub - typst/typst: A new markup-based typesetting system that is powerful and easy to learn.</a> to suggest an improvement to this doc page, if there isn’t already one!</p>\n<p>Now, just to address your individual questions:</p>\n<aside class=\"quote no-group\" data-username=\"Reverend_Paco\" data-post=\"1\" data-topic=\"1148\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/r/007AFF/48.png\" class=\"avatar\"> Reverend_Paco:</div>\n<blockquote>\n<p>How can I know (via documentation or code) which parameters are psuedo-positional?</p>\n</blockquote>\n</aside>\n<p>You’d have to look for arguments marked with <code>#[parse]</code> in the internal code, since those basically take the whole argument list into account (basically the same idea as using <code>..args</code> in a function and manually extracting arguments however you want, as I hinted at above). Then, they might be pseudo-positional, or might accept more than one name (as seen in <code>#pad(x: 5pt)</code> being equivalent to <code>#pad(left: 5pt, right: 5pt)</code>), and so on.</p>\n<aside class=\"quote no-group\" data-username=\"Reverend_Paco\" data-post=\"1\" data-topic=\"1148\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/r/007AFF/48.png\" class=\"avatar\"> Reverend_Paco:</div>\n<blockquote>\n<p>Why can I do <code>#text(blue)[my text]</code> but not <code>#highlight(blue)[my text]</code>? (both use <code>fill:</code> as optional parameters)</p>\n</blockquote>\n</aside>\n<p><code>text</code> is simply an exception as it’s such a basic element. The same exception was not applied to <code>highlight</code>.</p>\n<aside class=\"quote no-group\" data-username=\"Reverend_Paco\" data-post=\"1\" data-topic=\"1148\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/r/007AFF/48.png\" class=\"avatar\"> Reverend_Paco:</div>\n<blockquote>\n<p>Is there any way to see documentation (or access to code) that would allow me to find this out for myself?</p>\n</blockquote>\n</aside>\n<p>The relevant line is here: <a href=\"https://github.com/typst/typst/blob/e0d809680aed778443a4797bc044376dbe15347e/crates/typst/src/text/mod.rs#L233\" class=\"inline-onebox\">typst/crates/typst/src/text/mod.rs at e0d809680aed778443a4797bc044376dbe15347e · typst/typst · GitHub</a></p>\n<p>Note the usage of <code>named_or_find</code> onto the argument list instead of just <code>named</code>.</p>",
      "raw": "The documentation for `text` indeed isn't very clear about this, but here's what's going on:\n\n1. The most common named arguments for `text` - mostly unambiguous ones such as `fill:` and `size:` - can also be used positionally **as an exception**, just for convenience. These parameters **are not separately listed as positional** in the documentation at the moment. Note that you can implement this same behavior in your functions by taking and parsing arbitrary amounts of arguments (see https://typst.app/docs/reference/foundations/arguments/).\n2. The two positional arguments you see (`content` and `str`) are **currently misleading** and need improvement. Basically, what's going on here is that `text` is a special element, in that its element constructor (the `#text(...)[stuff]` function), instead of constructing a new `text`, **applies the given parameters as local styles**, as if you were applying a set rule on the given content. That is:\n    ```typ\n    #text(red, font: \"Arial\")[Hello world!]\n    // is equivalent to\n    #[\n        #set text(red, font: \"Arial\")\n        Hello world!\n    ]\n    ```\n    This means that the whole `#text()` function (not the element itself, but its constructor) only exists as a convenience to apply `text` element set rules to the given content parameter, **which is strictly positional**. Therefore, that `content` you see is the content to apply the set rules to. (This is similar, for instance, to `#align`: `#align(center)[abc]` is more or less equivalent to `#[ #set align(center); #block[abc]]`.)\n     But then what is the `str` parameter? That's where the `text` element part comes in: the **real** `text` elements are simple wrappers around strings. They contain **no formatting at all** - they are **the most basic element of all text**, so it is natural that any formatting would be done by elements (such as `strong` or `emph`) containing those more fundamental units, and not the other way around. So, this `str` \"parameter\" is actually the `.text` field of text elements (the contained text) \"leaking\" into the docs, **but you can't actually pass that parameter** because **you cannot construct text elements** by yourself: they are automatically generated for you as you type text in a markup block. This means that `#text(\"ABC\")` is actually the exact same as `#text[ABC]` which is also the exact same as `#[ABC]`, since `text`, when used as a function, only applies styles to the text elements in `ABC`, but no styles are being configured so nothing happens.  It'd certainly be much nicer if this could be displayed properly!\n\nHope this clears it up. Feel free to open an issue in https://github.com/typst/typst to suggest an improvement to this doc page, if there isn't already one!\n\nNow, just to address your individual questions:\n\n[quote=\"Reverend_Paco, post:1, topic:1148\"]\nHow can I know (via documentation or code) which parameters are psuedo-positional?\n[/quote]\n\nYou'd have to look for arguments marked with `#[parse]` in the internal code, since those basically take the whole argument list into account (basically the same idea as using `..args` in a function and manually extracting arguments however you want, as I hinted at above). Then, they might be pseudo-positional, or might accept more than one name (as seen in `#pad(x: 5pt)` being equivalent to `#pad(left: 5pt, right: 5pt)`), and so on.\n\n[quote=\"Reverend_Paco, post:1, topic:1148\"]\nWhy can I do `#text(blue)[my text]` but not `#highlight(blue)[my text]`? (both use `fill:` as optional parameters)\n[/quote]\n\n`text` is simply an exception as it's such a basic element. The same exception was not applied to `highlight`.\n\n[quote=\"Reverend_Paco, post:1, topic:1148\"]\nIs there any way to see documentation (or access to code) that would allow me to find this out for myself?\n[/quote]\n\nThe relevant line is here: https://github.com/typst/typst/blob/e0d809680aed778443a4797bc044376dbe15347e/crates/typst/src/text/mod.rs#L233\n\nNote the usage of `named_or_find` onto the argument list instead of just `named`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 32,
      "score": 91.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4041,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-17T05:45:01.907Z",
      "updated_at": "2024-10-17T05:45:01.907Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"alimgyeniyt\" data-post=\"2\" data-topic=\"1148\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alimgyeniyt/48/901_2.png\" class=\"avatar\"> alimgyeniyt:</div>\n<blockquote>\n<p>i also found this on the changelog for 0.12.0-rc2, i dont know what conclusions to draw.</p>\n<p>\" Font family must be a named argument now: <code>#set text(font: \"..\")</code>\"</p>\n</blockquote>\n</aside>\n<p>Actually, that’s in the changelog for what I believe to be the first Typst version released to the public, over a year and a half ago. <img src=\"https://forum.typst.app/images/emoji/apple/sweat_smile.png?v=12\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>The only conclusion to draw here is that font likely could also be specified positionally before, but that was deemed confusing and reverted.</p>\n<aside class=\"quote no-group\" data-username=\"alimgyeniyt\" data-post=\"2\" data-topic=\"1148\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alimgyeniyt/48/901_2.png\" class=\"avatar\"> alimgyeniyt:</div>\n<blockquote>\n<p>i repeat that I’m not knowledgeable about typst, so take my answer with a spoonful of salt</p>\n</blockquote>\n</aside>\n<p>It seems to me that your answer was generally accurate. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "[quote=\"alimgyeniyt, post:2, topic:1148\"]\ni also found this on the changelog for 0.12.0-rc2, i dont know what conclusions to draw.\n\n\" Font family must be a named argument now: `#set text(font: \"..\")`\"\n[/quote]\n\nActually, that's in the changelog for what I believe to be the first Typst version released to the public, over a year and a half ago. :sweat_smile:\n\nThe only conclusion to draw here is that font likely could also be specified positionally before, but that was deemed confusing and reverted.\n\n[quote=\"alimgyeniyt, post:2, topic:1148\"]\ni repeat that I’m not knowledgeable about typst, so take my answer with a spoonful of salt\n[/quote]\n\nIt seems to me that your answer was generally accurate. :slight_smile:",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 31,
      "score": 51.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4099,
      "post_number": 5,
      "username": "Reverend_Paco",
      "name": "",
      "created_at": "2024-10-17T12:44:00.765Z",
      "updated_at": "2024-10-17T12:44:00.765Z",
      "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a>  for that in-depth explanation.  I will open up a documentation-clarity ticket in github, as you suggested.</p>",
      "raw": "Thank you @PgBiel  for that in-depth explanation.  I will open up a documentation-clarity ticket in github, as you suggested.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 50.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 604
    }
  ],
  "scraped_at": "2025-06-10T09:56:41.743404"
}
{
  "topic_metadata": {
    "id": 115,
    "title": "(How) can I define a new type in the Typst scripting language?",
    "slug": "how-can-i-define-a-new-type-in-the-typst-scripting-language",
    "posts_count": 3,
    "created_at": "2024-09-14T21:08:44.733Z",
    "last_posted_at": "2024-09-14T22:15:51.140Z",
    "views": 856,
    "like_count": 10,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 408
  },
  "posts": [
    {
      "id": 508,
      "post_number": 1,
      "username": "Greg_Wilson",
      "name": "Greg Wilson",
      "created_at": "2024-09-14T21:08:44.834Z",
      "updated_at": "2024-09-14T21:13:50.739Z",
      "cooked": "<p>Can I define a new kind of class with methods in the Typst scripting language? (I looked through the documentation but couldn’t find a way - apologies if I missed it.)</p>",
      "raw": "Can I define a new kind of class with methods in the Typst scripting language? (I looked through the documentation but couldn't find a way - apologies if I missed it.)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 112,
      "score": 2562.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 92
    },
    {
      "id": 517,
      "post_number": 2,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-09-14T21:18:09.964Z",
      "updated_at": "2024-09-14T21:30:59.235Z",
      "cooked": "<p>As of September 2024, this is not yet possible. However, there are plans to add them! To learn more (and shape development), you can read <a href=\"https://laurmaedje.github.io/posts/types-and-context/\">this blog post</a> and visit the <a href=\"https://discord.com/channels/1054443721975922748/1175895383600275516\">Types forge thread on Discord</a>.</p>\n<p>Overall, the plan for custom types is to serve two use cases:</p>\n<ol>\n<li>Aid in writing general programs.</li>\n<li>Use them with set and show rules, like built-in elements. To make this possible, there are plans to remove the content type and instead make each content element (e.g. heading, or list) its own type.</li>\n</ol>\n<p>Until proper types are implemented, there are different workaround for these two use cases:</p>\n<ol>\n<li>\n<p>For general purpose programming, typically, you would use a <a href=\"https://typst.app/docs/reference/foundations/dictionary/\">dictionary</a> and normal functions:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let vec = (\n  x: 10pt,\n  y: 15pt,\n)\n\n#let vec-add(a, b) = (\n  x: a.x + b.x,\n  y: a.y + b.y,\n)\n</code></pre>\n<p>Note that you <em>can</em> store functions in the dictionary, but I would not recommend emulating methods with this: You won’t get access to the members and calling them is cumbersome as you need extra parentheses (e.g. <code>(dict.func)(..)</code>).</p>\n<p>If you are dealing with various types and want to check which kind of type you have, you could add a tag field to your dictionary:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let value = (\n  tag: \"vec\",\n  x: 10pt,\n  y: 10pt,\n)\n\n#if value.tag == \"vec\" { .. }\n</code></pre>\n</li>\n<li>\n<p>To emulate custom set rules, the most common pattern is to use a <a href=\"https://typst.app/docs/reference/introspection/state/\">state</a>. While it doesn’t give the same nice scoping features, it allows you to make some piece of configuration globally available.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// A state to store the theme.\n#let my-theme = state(\"my-theme\")\n\n// Stores a theme color in the theme.\n#let set-theme(value) = my-theme.update(value)\n\n// Displays text with the current theme color.\n#let themed(it) = context {\n  set text(fill: my-theme.get())\n  it\n}\n\n// \"Hello\" will be red.\n#set-theme(red)\n#themed[Hello]\n\n// \"World\" will be green.\n#[\n  #set-theme(green)\n  #themed[World]\n]\n\n// ... but the usual scoping rules do not apply\n#themed[Still green :(]\n</code></pre>\n</li>\n</ol>",
      "raw": "As of September 2024, this is not yet possible. However, there are plans to add them! To learn more (and shape development), you can read [this blog post](https://laurmaedje.github.io/posts/types-and-context/) and visit the [Types forge thread on Discord](https://discord.com/channels/1054443721975922748/1175895383600275516).\n\nOverall, the plan for custom types is to serve two use cases:\n1. Aid in writing general programs.\n2. Use them with set and show rules, like built-in elements. To make this possible, there are plans to remove the content type and instead make each content element (e.g. heading, or list) its own type.\n\nUntil proper types are implemented, there are different workaround for these two use cases:\n1. For general purpose programming, typically, you would use a [dictionary](https://typst.app/docs/reference/foundations/dictionary/) and normal functions:\n    ```typ\n    #let vec = (\n      x: 10pt,\n      y: 15pt,\n    )\n\n    #let vec-add(a, b) = (\n      x: a.x + b.x,\n      y: a.y + b.y,\n    )\n    ```\n\n    Note that you _can_ store functions in the dictionary, but I would not recommend emulating methods with this: You won't get access to the members and calling them is cumbersome as you need extra parentheses (e.g. `(dict.func)(..)`).\n\n    If you are dealing with various types and want to check which kind of type you have, you could add a tag field to your dictionary:\n    ```typ\n    #let value = (\n      tag: \"vec\",\n      x: 10pt,\n      y: 10pt,\n    )\n\n    #if value.tag == \"vec\" { .. }\n    ```\n\n2. To emulate custom set rules, the most common pattern is to use a [state](https://typst.app/docs/reference/introspection/state/). While it doesn't give the same nice scoping features, it allows you to make some piece of configuration globally available.\n\n    ```typ\n    // A state to store the theme.\n    #let my-theme = state(\"my-theme\")\n    \n    // Stores a theme color in the theme.\n    #let set-theme(value) = my-theme.update(value)\n    \n    // Displays text with the current theme color.\n    #let themed(it) = context {\n      set text(fill: my-theme.get())\n      it\n    }\n    \n    // \"Hello\" will be red.\n    #set-theme(red)\n    #themed[Hello]\n    \n    // \"World\" will be green.\n    #[\n      #set-theme(green)\n      #themed[World]\n    ]\n    \n    // ... but the usual scoping rules do not apply\n    #themed[Still green :(]\n    ```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 6,
      "reads": 114,
      "score": 332.8,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 538,
      "post_number": 3,
      "username": "Enivex",
      "name": "Enivex",
      "created_at": "2024-09-14T22:15:51.140Z",
      "updated_at": "2024-09-14T22:15:51.140Z",
      "cooked": "<p>For the time being you may be interested in this package</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/universe/package/valkyrie\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/universe/package/valkyrie\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/universe/package/valkyrie\" target=\"_blank\" rel=\"noopener\">valkyrie – Typst Universe</a></h3>\n\n  <p>Type safe type validation</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "For the time being you may be interested in this package\n\nhttps://typst.app/universe/package/valkyrie",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 99,
      "score": 69.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 5
    }
  ],
  "scraped_at": "2025-06-10T09:59:00.916226"
}
{
  "topic_metadata": {
    "id": 1150,
    "title": "How to disable undefined behavior in `outline` title ? (`heading(level: 1)`)",
    "slug": "how-to-disable-undefined-behavior-in-outline-title-heading-level-1",
    "posts_count": 3,
    "created_at": "2024-10-16T21:08:48.653Z",
    "last_posted_at": "2024-10-16T22:10:35.445Z",
    "views": 70,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 298
  },
  "posts": [
    {
      "id": 4030,
      "post_number": 1,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-16T21:08:48.792Z",
      "updated_at": "2024-10-16T21:08:48.792Z",
      "cooked": "<p>i have a custom style for level one headings</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: it =&gt; {\n  if it.level == 1 {\n    pagebreak()\n    v(20em)\n    align(center)[\n      #block(width: 70%,text(weight: 900, 2em, smallcaps(it)))\n    ]\n    pagebreak()\n  } \n}\n</code></pre>\n<p>the outline title is adopting this behavior by default. it will pagebreak before and after the title, so the entries will be in the next page. how to disable this? and is this intended behavior ?</p>",
      "raw": "i have a custom style for level one headings\n\n```typ\n#show heading: it => {\n  if it.level == 1 {\n    pagebreak()\n    v(20em)\n    align(center)[\n      #block(width: 70%,text(weight: 900, 2em, smallcaps(it)))\n    ]\n    pagebreak()\n  } \n}\n```\n\nthe outline title is adopting this behavior by default. it will pagebreak before and after the title, so the entries will be in the next page. how to disable this? and is this intended behavior ?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 155.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4031,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-16T21:56:45.867Z",
      "updated_at": "2024-10-16T21:57:06.175Z",
      "cooked": "<p>Hi, you can probably find a solution in <a href=\"https://forum.typst.app/t/how-to-create-a-pagebreak-before-every-depth-1-heading-except-for-the-outline/904\" class=\"inline-onebox\">How to create a pagebreak before every depth 1 heading except for the outline?</a> (though with <code>level</code> instead of <code>depth</code>).</p>\n<p>Some notes for your specific case:</p>\n<ul>\n<li>\n<p>When including the <code>if it.level == 1</code> in the body of the show rule, any heading with a higher level will not be shown at all, as the show rule returns <code>none</code> for them. You should instead use a <a href=\"https://typst.app/docs/reference/foundations/function/#definitions-where\"><code>where</code>-selector</a> as in</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): it =&gt; ...\n</code></pre>\n</li>\n<li>\n<p>A normal <code>pagebreak</code> may create an unwanted empty page when the previous page is already empty. You maybe want to set the <a href=\"https://typst.app/docs/reference/layout/pagebreak/#parameters-weak\"><code>weak</code> parameter</a> to prevent that.</p>\n</li>\n</ul>",
      "raw": "Hi, you can probably find a solution in https://forum.typst.app/t/how-to-create-a-pagebreak-before-every-depth-1-heading-except-for-the-outline/904 (though with `level` instead of `depth`).\n\nSome notes for your specific case:\n- When including the `if it.level == 1` in the body of the show rule, any heading with a higher level will not be shown at all, as the show rule returns `none` for them. You should instead use a [`where`-selector](https://typst.app/docs/reference/foundations/function/#definitions-where) as in\n  ```typ\n  #show heading.where(level: 1): it => ...\n  ```\n\n- A normal `pagebreak` may create an unwanted empty page when the previous page is already empty. You maybe want to set the [`weak` parameter](https://typst.app/docs/reference/layout/pagebreak/#parameters-weak) to prevent that.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4033,
      "post_number": 3,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-16T22:10:35.445Z",
      "updated_at": "2024-10-16T22:10:35.445Z",
      "cooked": "<p>Thanks this solution worked.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline: it =&gt; {\n  state(\"in-outline\").update(true)\n  it\n  state(\"in-outline\").update(false)\n}\n\n#show heading.where(depth: 1): it =&gt; {\n  if not state(\"in-outline\", false).get() {\n    pagebreak(weak: true)\n  }\n  it\n}\n</code></pre>\n<p>Although I think the outline title should not adopt behavior from the level one heading. as for your suggestion of using the <code>where</code> selector (which I’m thankful for), I have 6 levels of headings defined and default behavior for anything above that in my template, and the normal function seems to work best for me in such a case.</p>",
      "raw": "Thanks this solution worked.\n\n```typ\n#show outline: it => {\n  state(\"in-outline\").update(true)\n  it\n  state(\"in-outline\").update(false)\n}\n\n#show heading.where(depth: 1): it => {\n  if not state(\"in-outline\", false).get() {\n    pagebreak(weak: true)\n  }\n  it\n}\n```\n\nAlthough I think the outline title should not adopt behavior from the level one heading. as for your suggestion of using the `where` selector (which I'm thankful for), I have 6 levels of headings defined and default behavior for anything above that in my template, and the normal function seems to work best for me in such a case.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    }
  ],
  "scraped_at": "2025-06-10T09:56:40.763164"
}
{
  "topic_metadata": {
    "id": 1151,
    "title": "Is it possible to make 'set enum(indent: ...)' work non-recursively?",
    "slug": "is-it-possible-to-make-set-enum-indent-work-non-recursively",
    "posts_count": 16,
    "created_at": "2024-10-16T22:25:20.605Z",
    "last_posted_at": "2024-10-18T13:22:29.172Z",
    "views": 227,
    "like_count": 13,
    "reply_count": 11,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 11,
    "accepted_answer_username": "sijo",
    "tags": [
      "layout",
      "lists"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1425
  },
  "posts": [
    {
      "id": 4034,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-16T22:25:20.707Z",
      "updated_at": "2024-10-23T12:08:04.824Z",
      "cooked": "<p>If using the first-line indent for body text, I prefer lists to be indented at the same degree.</p>\n<p>That is, instead of:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n   do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n   do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n</code></pre>\n<p>…I prefer:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n      1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n         sed do eiusmod tempor incididunt ut labore et dolore.\n      2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n         sed do eiusmod tempor incididunt ut labore et dolore.\n</code></pre>\n<p>My current workaround it to wrap a list into <code>pad</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#lorem(20)\n\n#lorem(20)\n\n#pad(left: 1em, [\n  + #lorem(20)\n  + #lorem(20)\n    + #lorem(20)\n    + #lorem(20)\n])\n</code></pre>\n<p>Yes, this works, but I would prefer to find a more “native” way to achieve the same output. For this, I tried <code>set enum(indent: 1em)</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n#set enum(indent: 1em)\n\n#lorem(20)\n\n#lorem(20)\n\n+ #lorem(20)\n+ #lorem(20)\n  + #lorem(20)\n  + #lorem(20)\n</code></pre>\n<p>…but then the nested list is indented as well:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n         1. Lorem ipsum dolor sit amet, consectetur adipiscing\n            elit, sed do eiusmod tempor incididunt ut labore.\n         2. Lorem ipsum dolor sit amet, consectetur adipiscing\n            elit, sed do eiusmod tempor incididunt ut labore.\n</code></pre>\n<p>How is it possible to use <code>set enum(indent: 1em)</code>, but limit it to the top-level lists only?</p>",
      "raw": "If using the first-line indent for body text, I prefer lists to be indented at the same degree.\n\nThat is, instead of:\n\n```none\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n   do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n   do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n```\n\n...I prefer:\n\n```none\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n      1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n         sed do eiusmod tempor incididunt ut labore et dolore.\n      2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n         sed do eiusmod tempor incididunt ut labore et dolore.\n```\n\nMy current workaround it to wrap a list into `pad`:\n\n```typ\n#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#lorem(20)\n\n#lorem(20)\n\n#pad(left: 1em, [\n  + #lorem(20)\n  + #lorem(20)\n    + #lorem(20)\n    + #lorem(20)\n])\n```\n\nYes, this works, but I would prefer to find a more \"native\" way to achieve the same output. For this, I tried `set enum(indent: 1em)`:\n\n```typ\n#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n#set enum(indent: 1em)\n\n#lorem(20)\n\n#lorem(20)\n\n+ #lorem(20)\n+ #lorem(20)\n  + #lorem(20)\n  + #lorem(20)\n```\n\n...but then the nested list is indented as well:\n\n```none\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua.\n   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\ndo eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\n   1. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n   2. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n      sed do eiusmod tempor incididunt ut labore et dolore magna.\n         1. Lorem ipsum dolor sit amet, consectetur adipiscing\n            elit, sed do eiusmod tempor incididunt ut labore.\n         2. Lorem ipsum dolor sit amet, consectetur adipiscing\n            elit, sed do eiusmod tempor incididunt ut labore.\n```\n\nHow is it possible to use `set enum(indent: 1em)`, but limit it to the top-level lists only?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 777.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4043,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-17T05:51:46.894Z",
      "updated_at": "2024-10-17T05:51:46.894Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/jsx97\">@jsx97</a> , can you please adapt your title to our guidelines for the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category? <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>In particular, your title should be a question you ask to a friend about Typst.</p>\n<p>For instance, some variation of the question at the very end of your post would be a great candidate for a title:</p>\n<aside class=\"quote no-group\" data-username=\"jsx97\" data-post=\"1\" data-topic=\"1151\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/3DA8FF/48.png\" class=\"avatar\"> jsx97:</div>\n<blockquote>\n<p>How is it possible to use <code>set enum(indent: 1em)</code>, but limit it to the top-level lists only?</p>\n</blockquote>\n</aside>\n<p>Thanks in advance <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @jsx97 , can you please adapt your title to our guidelines for the #questions category? https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nIn particular, your title should be a question you ask to a friend about Typst.\n\nFor instance, some variation of the question at the very end of your post would be a great candidate for a title:\n\n[quote=\"jsx97, post:1, topic:1151\"]\nHow is it possible to use `set enum(indent: 1em)`, but limit it to the top-level lists only?\n[/quote]\n\nThanks in advance :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 29,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4045,
      "post_number": 3,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-17T06:10:05.273Z",
      "updated_at": "2024-10-17T06:10:05.273Z",
      "cooked": "<p>At the moment there’s no way to <a href=\"https://github.com/typst/typst/issues/420\" rel=\"noopener nofollow ugc\">revoke rules</a>, which would be a mechanism to make this possible, among other things. This means that the current solution is to manually wrap the top-level enum in a <code>pad(left: 1em)</code> or similar.</p>\n<p>Technically another solution would be to have a show rule which inspects the content to wrap the only the top level <code>enum</code>s in <code>pad</code>, but you don’t actually get <code>enum</code>s, you get <code>enum.items</code> and must also respect the spacing in between them in the top level content sequence.</p>",
      "raw": "At the moment there's no way to [revoke rules](https://github.com/typst/typst/issues/420), which would be a mechanism to make this possible, among other things. This means that the current solution is to manually wrap the top-level enum in a `pad(left: 1em)` or similar.\n\nTechnically another solution would be to have a show rule which inspects the content to wrap the only the top level `enum`s in `pad`, but you don't actually get `enum`s, you get `enum.items` and must also respect the spacing in between them in the top level content sequence.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 45.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4056,
      "post_number": 4,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T08:02:33.934Z",
      "updated_at": "2024-10-17T08:11:59.988Z",
      "cooked": "<p>Okay, done. (I simply don’t really see what is good to add “How to…” or “Is it possible to…” to each question on the forum. Isn’t it this simply adds visual noise, and a good title should be concise, not like the original version of the title of Daniel Defoe’s “Robinson Crusoe”? Sorry anyway. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\">)</p>",
      "raw": "Okay, done. (I simply don't really see what is good to add \"How to...\" or \"Is it possible to...\" to each question on the forum. Isn't it this simply adds visual noise, and a good title should be concise, not like the original version of the title of Daniel Defoe's \"Robinson Crusoe\"? Sorry anyway. :slight_smile:)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4058,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T08:21:03.930Z",
      "updated_at": "2024-10-17T08:21:03.930Z",
      "cooked": "<p>Do you know, is it possible to wrap each top-level <code>list</code> or <code>enum</code> into <code>pad</code> automatically?</p>",
      "raw": "Do you know, is it possible to wrap each top-level `list` or `enum` into `pad` automatically?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4059,
      "post_number": 6,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-17T08:28:06.502Z",
      "updated_at": "2024-10-17T08:28:06.502Z",
      "cooked": "<p>That’s what I was getting at with the show rule I alluded to. I tried this too, but like I said you don’t really get fully realized enum or list items, but instead individual items separated by spacing, making it harder.</p>",
      "raw": "That's what I was getting at with the show rule I alluded to. I tried this too, but like I said you don't really get fully realized enum or list items, but instead individual items separated by spacing, making it harder.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4060,
      "post_number": 7,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T08:33:16.346Z",
      "updated_at": "2024-10-17T08:33:16.346Z",
      "cooked": "<p>Not sure my English is good enough to understand the first two sentences. So you mean that wrapping top-level <code>list</code>s and <code>enum</code>s into <code>pad</code> is not possible yet?</p>",
      "raw": "Not sure my English is good enough to understand the first two sentences. So you mean that wrapping top-level `list`s and `enum`s into `pad` is not possible yet?",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4061,
      "post_number": 8,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-17T08:46:41.664Z",
      "updated_at": "2024-10-17T08:47:42.094Z",
      "cooked": "<p>I was referring to this:</p>\n<aside class=\"quote no-group\" data-username=\"Tinger\" data-post=\"3\" data-topic=\"1151\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/tinger/48/44_2.png\" class=\"avatar\"> Tinger:</div>\n<blockquote>\n<p>Technically another solution would be to have a show rule which inspects the content to wrap the only the top level <code>enum</code>s in <code>pad</code>, but you don’t actually get <code>enum</code>s, you get <code>enum.items</code> and must also respect the spacing in between them in the top level content sequence.</p>\n</blockquote>\n</aside>\n<p>which would go kind like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let hack(body) = {\n  if body.has(\"children\") {\n    // inspect and recreate body.children, wrapping lists and enums in pad\n    // ...\n  } else {\n    body\n  }\n}\n\n\n#show: hack\n\n+ Foo\n  + Bar\n</code></pre>\n<p>The main issues are that this representation is unstable and edge cases could easily be missed, this may also affect layout in unforeseen ways, like changing the spacing between lists and paragraphs or possibly making it impossible to use tight/non-tight lists or enums.</p>\n<p>I haven’t really tried to make it work because I don’t think such a solution will result in better or easier typesetting, feel free to fiddle around yourself though.</p>",
      "raw": "I was referring to this:\n\n[quote=\"Tinger, post:3, topic:1151\"]\nTechnically another solution would be to have a show rule which inspects the content to wrap the only the top level `enum`s in `pad`, but you don’t actually get `enum`s, you get `enum.items` and must also respect the spacing in between them in the top level content sequence.\n[/quote]\n\nwhich would go kind like this:\n```typ\n#let hack(body) = {\n  if body.has(\"children\") {\n    // inspect and recreate body.children, wrapping lists and enums in pad\n    // ...\n  } else {\n    body\n  }\n}\n\n\n#show: hack\n\n+ Foo\n  + Bar\n```\n\nThe main issues are that this representation is unstable and edge cases could easily be missed, this may also affect layout in unforeseen ways, like changing the spacing between lists and paragraphs or possibly making it impossible to use tight/non-tight lists or enums.\n\nI haven't really tried to make it work because I don't think such a solution will result in better or easier typesetting, feel free to fiddle around yourself though.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4062,
      "post_number": 9,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T08:54:16.242Z",
      "updated_at": "2024-10-17T08:54:16.242Z",
      "cooked": "<p>Ah, now I see, thanks a lot.</p>",
      "raw": "Ah, now I see, thanks a lot.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4063,
      "post_number": 10,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T09:22:25.632Z",
      "updated_at": "2024-10-17T11:37:12.103Z",
      "cooked": "<p>Another solution is to use the plain <code>enum</code> (or <code>list</code>) functions.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#lorem(25)\n\n#lorem(25)\n\n#enum(\n  numbering: \"1.a)\", indent: 1em,\n  enum.item[Lorem ipsum dolor sit amet.],\n  enum.item([Lorem ipsum dolor sit amet.] + enum(\n    numbering: \"1.a)\",\n    enum.item[Lorem ipsum dolor sit amet.],\n    enum.item[Lorem ipsum dolor sit amet.]\n  ))\n)\n</code></pre>",
      "raw": "Another solution is to use the plain `enum` (or `list`) functions.\n\n```typ\n#set par(first-line-indent: 1em, justify: true, leading: 1em)\n#show par: set block(spacing: 1em)\n\n#lorem(25)\n\n#lorem(25)\n\n#enum(\n  numbering: \"1.a)\", indent: 1em,\n  enum.item[Lorem ipsum dolor sit amet.],\n  enum.item([Lorem ipsum dolor sit amet.] + enum(\n    numbering: \"1.a)\",\n    enum.item[Lorem ipsum dolor sit amet.],\n    enum.item[Lorem ipsum dolor sit amet.]\n  ))\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4091,
      "post_number": 11,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-17T11:32:06.007Z",
      "updated_at": "2024-10-17T11:32:39.264Z",
      "cooked": "<p>A maybe not-so-hacky solution:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set enum(indent: 1em)\n#show enum: it =&gt; {\n  set enum(indent: 0em)\n  it\n}\n</code></pre>\n<p>For top-level lists, the <code>set enum(indent: 0em)</code> comes too late so the <code>1em</code> is in effect. For inner lists the <code>0em</code> is applied repeatedly at each level but that doesn’t hurt.</p>",
      "raw": "A maybe not-so-hacky solution:\n\n```typ\n#set enum(indent: 1em)\n#show enum: it => {\n  set enum(indent: 0em)\n  it\n}\n```\n\nFor top-level lists, the `set enum(indent: 0em)` comes too late so the `1em` is in effect. For inner lists the `0em` is applied repeatedly at each level but that doesn't hurt.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 4,
      "reads": 23,
      "score": 94.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4092,
      "post_number": 12,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T11:40:05.593Z",
      "updated_at": "2024-10-17T11:40:05.593Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/sijo\">@sijo</a> Works great (are there any pitfalls?), thank you very much.</p>",
      "raw": "@sijo Works great (are there any pitfalls?), thank you very much.",
      "reply_to_post_number": 11,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4094,
      "post_number": 13,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-17T11:48:09.239Z",
      "updated_at": "2024-10-17T11:48:26.710Z",
      "cooked": "<p>You’re welcome! I can’t think of any pitfall…</p>",
      "raw": "You're welcome! I can't think of any pitfall...",
      "reply_to_post_number": 12,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4150,
      "post_number": 14,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-18T06:36:30.963Z",
      "updated_at": "2024-10-18T06:36:30.963Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"11\" data-topic=\"1151\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>A maybe not-so-hacky solution:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set enum(indent: 1em)\n#show enum: it =&gt; {\n  set enum(indent: 0em)\n  it\n}\n</code></pre>\n<p>For top-level lists, the <code>set enum(indent: 0em)</code> comes too late so the <code>1em</code> is in effect. For inner lists the <code>0em</code> is applied repeatedly at each level but that doesn’t hurt.</p>\n</blockquote>\n</aside>\n<p>Honestly, I thought this wouldn’t work for whatever reason.</p>\n<p>This should probably be marked as the correct solution.</p>",
      "raw": "[quote=\"sijo, post:11, topic:1151, full:true\"]\nA maybe not-so-hacky solution:\n\n```typ\n#set enum(indent: 1em)\n#show enum: it => {\n  set enum(indent: 0em)\n  it\n}\n```\n\nFor top-level lists, the `set enum(indent: 0em)` comes too late so the `1em` is in effect. For inner lists the `0em` is applied repeatedly at each level but that doesn’t hurt.\n[/quote]\n\nHonestly, I thought this wouldn't work for whatever reason.\n\nThis should probably be marked as the correct solution.",
      "reply_to_post_number": 11,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4176,
      "post_number": 15,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-18T13:09:43.300Z",
      "updated_at": "2024-10-18T13:09:43.300Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Tinger\" data-post=\"14\" data-topic=\"1151\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/tinger/48/44_2.png\" class=\"avatar\"> Tinger:</div>\n<blockquote>\n<p>Honestly, I thought this wouldn’t work for whatever reason.</p>\n</blockquote>\n</aside>\n<p>It’s worth clarifying that this is new behavior introduced in Typst 0.11: <code>#show enum: set enum</code> will affect even top-level enums, but <code>#show enum: it =&gt; set enum(...); it</code> will only affected nested enums. (Same applies to any other elements, not just enums.)</p>",
      "raw": "[quote=\"Tinger, post:14, topic:1151\"]\nHonestly, I thought this wouldn’t work for whatever reason.\n[/quote]\n\nIt's worth clarifying that this is new behavior introduced in Typst 0.11: `#show enum: set enum` will affect even top-level enums, but `#show enum: it => set enum(...); it` will only affected nested enums. (Same applies to any other elements, not just enums.)",
      "reply_to_post_number": 14,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 3,
      "reads": 22,
      "score": 59.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4177,
      "post_number": 16,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-18T13:22:29.172Z",
      "updated_at": "2024-10-18T13:22:29.172Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"jsx97\" data-post=\"4\" data-topic=\"1151\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/3DA8FF/48.png\" class=\"avatar\"> jsx97:</div>\n<blockquote>\n<p>I simply don’t really see what is good to add “How to…” or “Is it possible to…” to each question on the forum. Isn’t it this simply adds visual noise, and a good title should be concise, not like the original version of the title of Daniel Defoe’s “Robinson Crusoe”?</p>\n</blockquote>\n</aside>\n<p>Personally, I think the title is much clearer now, and I can tell what you were asking at a glance, without opening your post. I’d say this goes to show the value of this policy. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<aside class=\"quote no-group\" data-username=\"jsx97\" data-post=\"4\" data-topic=\"1151\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/3DA8FF/48.png\" class=\"avatar\"> jsx97:</div>\n<blockquote>\n<p>Sorry anyway. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n</blockquote>\n</aside>\n<p>It’s fine, don’t worry! We’re all constantly adapting and learning. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "[quote=\"jsx97, post:4, topic:1151\"]\nI simply don’t really see what is good to add “How to…” or “Is it possible to…” to each question on the forum. Isn’t it this simply adds visual noise, and a good title should be concise, not like the original version of the title of Daniel Defoe’s “Robinson Crusoe”?\n[/quote]\n\nPersonally, I think the title is much clearer now, and I can tell what you were asking at a glance, without opening your post. I'd say this goes to show the value of this policy. :slight_smile:\n\n[quote=\"jsx97, post:4, topic:1151\"]\nSorry anyway. :slight_smile:\n[/quote]\n\nIt's fine, don't worry! We're all constantly adapting and learning. :slight_smile:",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 22,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:40.053817"
}
{
  "topic_metadata": {
    "id": 1156,
    "title": "How can I create \"sub-outlines\" with restricted scopes?",
    "slug": "how-can-i-create-sub-outlines-with-restricted-scopes",
    "posts_count": 4,
    "created_at": "2024-10-17T06:47:09.324Z",
    "last_posted_at": "2024-10-18T06:34:31.912Z",
    "views": 137,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Tinger",
    "tags": [
      "scripting",
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 180
  },
  "posts": [
    {
      "id": 4049,
      "post_number": 1,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-17T06:47:09.619Z",
      "updated_at": "2024-10-17T09:45:05.433Z",
      "cooked": "<p>I want to create an outline for a specific section or heading, I want it to include only the sub headings inside the intended heading/headings.</p>\n<p>What I’m aware of now is that i can pass a function to <code>outline(target: function)</code>, but I don’t know how to use it and I can’t find examples in the documentation. I also found that :</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">context counter(heading.where(level : 1)).get()\n</code></pre>\n<p>gets me the number of the level one heading that I need.</p>",
      "raw": "I want to create an outline for a specific section or heading, I want it to include only the sub headings inside the intended heading/headings.\n\nWhat I'm aware of now is that i can pass a function to `outline(target: function)`, but I don't know how to use it and I can't find examples in the documentation. I also found that : \n\n```typc\ncontext counter(heading.where(level : 1)).get()\n```\n\ngets me the number of the level one heading that I need.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 427.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4055,
      "post_number": 2,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-17T07:55:38.022Z",
      "updated_at": "2024-10-17T07:55:38.022Z",
      "cooked": "<p>Hey there, you may be interested in <a href=\"https://typst.app/universe/package/minitoc\" class=\"inline-onebox\">minitoc – Typst Universe</a>. While it has had no updates since its release, it still works without problems, including in 0.12-rc2.</p>",
      "raw": "Hey there, you may be interested in https://typst.app/universe/package/minitoc. While it has had no updates since its release, it still works without problems, including in 0.12-rc2.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 35,
      "score": 52.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4096,
      "post_number": 3,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-17T12:33:29.962Z",
      "updated_at": "2024-10-17T12:33:29.962Z",
      "cooked": "<p>I checked the code of the package in gitlab and it seems that it isn’t being updated because it is done as the package is simply the definition of the function you need for the scope functionality. I’d hope if typst adds scope to the outline function natively.</p>",
      "raw": "I checked the code of the package in gitlab and it seems that it isn't being updated because it is done as the package is simply the definition of the function you need for the scope functionality. I'd hope if typst adds scope to the outline function natively.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 26.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4149,
      "post_number": 4,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-18T06:34:31.912Z",
      "updated_at": "2024-10-18T06:34:31.912Z",
      "cooked": "<p>Feel free to write a feature request! Typst is always looking to improve.</p>",
      "raw": "Feel free to write a feature request! Typst is always looking to improve.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    }
  ],
  "scraped_at": "2025-06-10T09:56:39.313278"
}
{
  "topic_metadata": {
    "id": 1158,
    "title": "How can I convert a string to a number",
    "slug": "how-can-i-convert-a-string-to-a-number",
    "posts_count": 6,
    "created_at": "2024-10-17T06:54:27.405Z",
    "last_posted_at": "2024-10-17T14:04:18.789Z",
    "views": 538,
    "like_count": 0,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "mgholam",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 411
  },
  "posts": [
    {
      "id": 4051,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-17T06:54:27.523Z",
      "updated_at": "2024-10-17T14:14:49.397Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let s=\"123\"\n#let i = ?? // what goes here\n</code></pre>",
      "raw": "```typ\n#let s=\"123\"\n#let i = ?? // what goes here\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 58,
      "score": 2681.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4053,
      "post_number": 2,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-17T07:28:55.161Z",
      "updated_at": "2024-10-17T07:28:55.161Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let w = \"123\"\n#let x = \"123.6\"\n#let y = int(w) // this is for integers, it will error if you give a float\n#let z = float(x) // this also works for integers\n\n#x \\ // this is just the string\n#(y + z) // you can do operations on the numbers\n#y // or use them as is\n</code></pre>\n<p>as a tip, you can find functions like this in the documentation by searching for the data type (e.g. integer, string, float…).</p>",
      "raw": "```typ\n#let w = \"123\"\n#let x = \"123.6\"\n#let y = int(w) // this is for integers, it will error if you give a float\n#let z = float(x) // this also works for integers\n\n#x \\ // this is just the string\n#(y + z) // you can do operations on the numbers\n#y // or use them as is\n```\n\nas a tip, you can find functions like this in the documentation by searching for the data type (e.g. integer, string, float...).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 41.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4100,
      "post_number": 3,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-17T13:20:52.322Z",
      "updated_at": "2024-10-17T13:56:03.927Z",
      "cooked": "<p>thanks, but I have the following bit of code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/oxifmt:0.2.1\": strfmt\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#show table.cell: it =&gt; {\n  if it.y&gt;0 {\n\t\tlet ss = it.body.text\n\t\tif ss.contains(\"[a-zA-Z]\") == false{\n\t\t\tlet ii = int(ss)\n\t\t\tstrfmt(\"{}\", ii, fmt-thousands-separator: \",\")\n\t\t}else{\n\t\t\tit\n\t\t}\n  } else{\n    it\n  }\n}\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,231\nC,D,2312\nE,F,4546\nG,H,6786\n\")\n#let (header, ..data) = results\n#table(\n\tinset: (x:1em,y:1em),\n\tcolumns: header.map(x=&gt;1fr),\n\tstroke: none,\n\tfill: (x, y) =&gt; if calc.odd(y)  { rgb(\"#eee\") },\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten(),\n\ttable.hline()\n)\n</code></pre>\n<p>and I get error like</p>\n<pre><code class=\"lang-auto\">error: invalid integer: A\n  ┌─ test.typ:7:16\n  │\n7 │       let ii = int(ss)\n  │                    ^^\n</code></pre>\n<p>Which imply the string checking is not working, is there any way to tryParse() a number?</p>",
      "raw": "thanks, but I have the following bit of code:\n```typ\n#import \"@preview/oxifmt:0.2.1\": strfmt\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#show table.cell: it => {\n  if it.y>0 {\n\t\tlet ss = it.body.text\n\t\tif ss.contains(\"[a-zA-Z]\") == false{\n\t\t\tlet ii = int(ss)\n\t\t\tstrfmt(\"{}\", ii, fmt-thousands-separator: \",\")\n\t\t}else{\n\t\t\tit\n\t\t}\n  } else{\n    it\n  }\n}\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,231\nC,D,2312\nE,F,4546\nG,H,6786\n\")\n#let (header, ..data) = results\n#table(\n\tinset: (x:1em,y:1em),\n\tcolumns: header.map(x=>1fr),\n\tstroke: none,\n\tfill: (x, y) => if calc.odd(y)  { rgb(\"#eee\") },\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten(),\n\ttable.hline()\n)\n```\nand I get error like\n```\nerror: invalid integer: A\n  ┌─ test.typ:7:16\n  │\n7 │       let ii = int(ss)\n  │                    ^^\n```\nWhich imply the string checking is not working, is there any way to tryParse() a number?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4101,
      "post_number": 4,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-17T13:24:29.925Z",
      "updated_at": "2024-10-17T13:24:29.925Z",
      "cooked": "<p>That is because your <code>if ss.contains(\"[a-zA-Z]\")</code> check is wrong, you’re not using regex here but literally checking for the string <code>\"[a-zA-Z]\"</code>. If you wrap it with <code>regex(\"[a-zA-Z]\")</code>, it works.</p>\n<p>PS: You can use `​``typ``` to mark your code blocks to use Typst syntax highlighting, it will look a lot better!</p>",
      "raw": "That is because your `if ss.contains(\"[a-zA-Z]\")` check is wrong, you're not using regex here but literally checking for the string `\"[a-zA-Z]\"`. If you wrap it with `regex(\"[a-zA-Z]\")`, it works.\n\nPS: You can use `​``typ``` to mark your code blocks to use Typst syntax highlighting, it will look a lot better!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 22.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4104,
      "post_number": 5,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-17T13:55:31.456Z",
      "updated_at": "2024-10-17T13:55:31.456Z",
      "cooked": "<p>Thanks a lot!</p>\n<p>The documentation was not clear on this.</p>",
      "raw": "Thanks a lot!\n\nThe documentation was not clear on this.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 27.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4105,
      "post_number": 6,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-17T14:04:18.789Z",
      "updated_at": "2024-10-17T14:04:18.789Z",
      "cooked": "<p>Refactored the code to be more robust and not have side effects:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/oxifmt:0.2.1\": strfmt\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,231\nC,D,2312\nE,F,4546\nG,H,6786\n\")\n#let (header, ..data) = results\n#table(\n\tinset: (x:1em,y:1em),\n\tcolumns: header.map(x=&gt;1fr),\n\tstroke: none,\n\tfill: (x, y) =&gt; if calc.odd(y)  { rgb(\"#eee\") },\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten().map(x=&gt;{\n    if x.contains(regex(\"\\D\")) == false{\n        let ii = float(x)\n        strfmt(\"{}\", ii, fmt-thousands-separator: \",\")\n      }else{\n        x\n      }\n  }),\n\ttable.hline()\n)\n</code></pre>",
      "raw": "Refactored the code to be more robust and not have side effects:\n```typ\n#import \"@preview/oxifmt:0.2.1\": strfmt\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,231\nC,D,2312\nE,F,4546\nG,H,6786\n\")\n#let (header, ..data) = results\n#table(\n\tinset: (x:1em,y:1em),\n\tcolumns: header.map(x=>1fr),\n\tstroke: none,\n\tfill: (x, y) => if calc.odd(y)  { rgb(\"#eee\") },\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten().map(x=>{\n    if x.contains(regex(\"\\D\")) == false{\n        let ii = float(x)\n        strfmt(\"{}\", ii, fmt-thousands-separator: \",\")\n      }else{\n        x\n      }\n  }),\n\ttable.hline()\n)\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 72.0,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 608
    }
  ],
  "scraped_at": "2025-06-10T09:56:38.597186"
}
{
  "topic_metadata": {
    "id": 1162,
    "title": "Which parts of syntax can be omitted?",
    "slug": "which-parts-of-syntax-can-be-omitted",
    "posts_count": 4,
    "created_at": "2024-10-17T11:00:37.325Z",
    "last_posted_at": "2024-10-17T13:36:09.114Z",
    "views": 52,
    "like_count": 1,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "sijo",
    "tags": [
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 324
  },
  "posts": [
    {
      "id": 4087,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T11:00:37.500Z",
      "updated_at": "2024-10-17T11:00:37.500Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let run-in-head(body) = { text(strong(body)) }\n\n// or\n#let run-in-head(body) = { strong(body) }\n\n\n\n#run-in-head[Lorem ipsum.] Lorem ipsum dolor #text(size: 2em)[sit] amet.\n\n// or\n#run-in-head[Lorem ipsum.] Lorem ipsum dolor #text(2em)[sit] amet.\n</code></pre>\n<p>It seems that all the 4 variations from the example above produce the same output.</p>\n<p>Hence the question, which consists of multiple parts:</p>\n<ul>\n<li>\n<p>Is it really so? That is, is it true that all the 4 variations above are really the same? Or maybe there are some differences between them that will affect the output under some circumstances?</p>\n</li>\n<li>\n<p>What other parts of syntax can be omitted? Is it mentioned somewhere in Typst documentation?</p>\n</li>\n</ul>",
      "raw": "```typ\n#let run-in-head(body) = { text(strong(body)) }\n\n// or\n#let run-in-head(body) = { strong(body) }\n\n\n\n#run-in-head[Lorem ipsum.] Lorem ipsum dolor #text(size: 2em)[sit] amet.\n\n// or\n#run-in-head[Lorem ipsum.] Lorem ipsum dolor #text(2em)[sit] amet.\n```\n\nIt seems that all the 4 variations from the example above produce the same output.\n\nHence the question, which consists of multiple parts:\n\n- Is it really so? That is, is it true that all the 4 variations above are really the same? Or maybe there are some differences between them that will affect the output under some circumstances?\n\n- What other parts of syntax can be omitted? Is it mentioned somewhere in Typst documentation?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 80.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4089,
      "post_number": 3,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-17T11:10:04.527Z",
      "updated_at": "2024-10-17T11:10:04.527Z",
      "cooked": "<p>I see only two variations in your example:</p>\n<ol>\n<li><code>text(strong(body))</code> vs <code>strong(body)</code></li>\n<li><code>text(size: 2em)</code> vs <code>text(2em)</code>.</li>\n</ol>\n<p>I think both cases are because the <code>text</code> function is a bit special as described <a href=\"https://forum.typst.app/t/how-do-i-read-the-api-documentation-in-regards-to-named-parameters-that-act-positionally/1148/3\">here</a>.</p>\n<p>I don’t know which other functions allow some named arguments to be passed positionally, and how to find out what these arguments are… Probably something that could be better documented.</p>",
      "raw": "I see only two variations in your example:\n\n1. `text(strong(body))` vs `strong(body)`\n2. `text(size: 2em)` vs `text(2em)`.\n\nI think both cases are because the `text` function is a bit special as described [here](https://forum.typst.app/t/how-do-i-read-the-api-documentation-in-regards-to-named-parameters-that-act-positionally/1148/3).\n\nI don't know which other functions allow some named arguments to be passed positionally, and how to find out what these arguments are... Probably something that could be better documented.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 25.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4090,
      "post_number": 4,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T11:14:58.763Z",
      "updated_at": "2024-10-17T11:15:26.583Z",
      "cooked": "<p>Thanks, this answers my qustion.</p>\n<p>The “4 variations” I meant are as follows:</p>\n<ol>\n<li><code>text(strong(body))</code> + <code>text(size: 2em)</code></li>\n<li><code>text(strong(body))</code> + <code>text(2em)</code></li>\n<li><code>strong(body)</code> + <code>text(size: 2em)</code></li>\n<li><code>strong(body)</code> + <code>text(2em)</code></li>\n</ol>",
      "raw": "Thanks, this answers my qustion.\n\nThe \"4 variations\" I meant are as follows:\n\n1. `text(strong(body))` + `text(size: 2em)`\n2. `text(strong(body))` + `text(2em)`\n3. `strong(body)` + `text(size: 2em)`\n3. `strong(body)` + `text(2em)`",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4102,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-17T13:36:09.114Z",
      "updated_at": "2024-10-17T13:36:09.114Z",
      "cooked": "<p>That you can view the two different variations separately and don’t have to consider all possible combinations is btw called <a href=\"https://en.wikipedia.org/wiki/Orthogonality_(programming)\">orthogonality</a> <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> it’s an important property and desirable design characteristic that lets you keep a good overview of your code, because you don’t need to have all parts in your head in the same time.</p>\n<p>Both separate parts each mean the same, so also the combinations mean the same <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "That you can view the two different variations separately and don't have to consider all possible combinations is btw called [orthogonality](https://en.wikipedia.org/wiki/Orthogonality_(programming)) :slight_smile: it's an important property and desirable design characteristic that lets you keep a good overview of your code, because you don't need to have all parts in your head in the same time. \n\nBoth separate parts each mean the same, so also the combinations mean the same :slight_smile:",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:37.873289"
}
