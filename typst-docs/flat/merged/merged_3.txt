{
  "topic_metadata": {
    "id": 1166,
    "title": "How to use 'regex' to remove excessive newlines and spaces?",
    "slug": "how-to-use-regex-to-remove-excessive-newlines-and-spaces",
    "posts_count": 2,
    "created_at": "2024-10-17T12:40:28.678Z",
    "last_posted_at": "2024-10-17T13:42:19.046Z",
    "views": 134,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "syntax"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 298
  },
  "posts": [
    {
      "id": 4098,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-17T12:40:28.766Z",
      "updated_at": "2024-10-17T12:40:42.231Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set smartquote(enabled: false)\n#show sym.dash.en: \"--\"\n#show sym.dash.em: \"---\"\n\n#show quote.where(block: true): it =&gt; {\n  let attribution = if it.attribution != none {\n    align(end, [--- #it.attribution])\n  }\n  block(\n    inset: 1em,\n    width: 100%,\n    if it.quotes == true [\n      \"#it.body\"\n      #attribution\n    ] else [\n      #it.body\n      #attribution\n    ]\n  )\n}\n\n// --\n\n#strong[Test 1]\n\nLorem ipsum --- dolor \"sit\" amet.\n\n#strong[Test 2]\n\n#quote(attribution: \"John Doe\", block: true)[\n  Lorem ipsum dolor sit amet.\n]\n\n#strong[Test 3]\n\n#quote(attribution: \"John Doe\", block: true, quotes: true)[\n  Lorem ipsum dolor sit amet.\n]\n</code></pre>\n<p>The example above is my attempt to disable typographic substitutions.</p>\n<p>It almost works, but there is one minor issue: as you can see from the output of Test 3, there are excessive space characters near quotation marks:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">\" Lorem ipsum dolor sit amet. \"\n                                    --- John Doe\n</code></pre>\n<p>How to get rid of them? My guess is that the line</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">\"#it.body\"\n</code></pre>\n<p>should be changed to something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#regex(\"(\\\")\\n+\", $1)#it.body#regex(\"\\n+(\\\")\", $1)\n</code></pre>\n<p>but I haven’t succeeded to make it work.</p>",
      "raw": "```typ\n#set smartquote(enabled: false)\n#show sym.dash.en: \"--\"\n#show sym.dash.em: \"---\"\n\n#show quote.where(block: true): it => {\n  let attribution = if it.attribution != none {\n    align(end, [--- #it.attribution])\n  }\n  block(\n    inset: 1em,\n    width: 100%,\n    if it.quotes == true [\n      \"#it.body\"\n      #attribution\n    ] else [\n      #it.body\n      #attribution\n    ]\n  )\n}\n\n// --\n\n#strong[Test 1]\n\nLorem ipsum --- dolor \"sit\" amet.\n\n#strong[Test 2]\n\n#quote(attribution: \"John Doe\", block: true)[\n  Lorem ipsum dolor sit amet.\n]\n\n#strong[Test 3]\n\n#quote(attribution: \"John Doe\", block: true, quotes: true)[\n  Lorem ipsum dolor sit amet.\n]\n```\n\nThe example above is my attempt to disable typographic substitutions.\n\nIt almost works, but there is one minor issue: as you can see from the output of Test 3, there are excessive space characters near quotation marks:\n\n```none\n\" Lorem ipsum dolor sit amet. \"\n                                    --- John Doe\n```\n\nHow to get rid of them? My guess is that the line\n\n```typ\n\"#it.body\"\n```\n\nshould be changed to something like\n\n```typ\n#regex(\"(\\\")\\n+\", $1)#it.body#regex(\"\\n+(\\\")\", $1)\n```\n\nbut I haven't succeeded to make it work.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 461.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4103,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-17T13:42:19.046Z",
      "updated_at": "2024-10-17T13:45:30.302Z",
      "cooked": "<p>If you show <code>repr(it)</code> in your <code>quote.where</code> show rule you will see that the body is parsed with leading and trailing whitespace: <code>([], [Lorem ipsum dolor sit amet.], [])</code>.</p>\n<p>It’s because of the spaces you have in markup: if you write instead <code>#quote(...)[Lorem ipsum dolor sit amet.]</code> these spaces in the body will disappear.</p>\n<p>Of course you want to keep the spaces in markup. You can use a weak horizontal spacing to collapse these spurious spaces:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">if it.quotes == true {\n [\"] + h(0pt, weak: true) + it.body + h(0pt, weak: true) + [\"]\n  attribution\n} else {\n  it.body\n  attribution\n}\n</code></pre>\n<p>I think that’s actually what typst does internally, and it’s also a trick shown in the documentation in the example for <a href=\"https://typst.app/docs/reference/model/quote/#parameters-attribution\"><code>attribution</code></a>.</p>",
      "raw": "If you show `repr(it)` in your `quote.where` show rule you will see that the body is parsed with leading and trailing whitespace: `([], [Lorem ipsum dolor sit amet.], [])`.\n\nIt's because of the spaces you have in markup: if you write instead `#quote(...)[Lorem ipsum dolor sit amet.]` these spaces in the body will disappear.\n\nOf course you want to keep the spaces in markup. You can use a weak horizontal spacing to collapse these spurious spaces:\n\n```typ\nif it.quotes == true {\n [\"] + h(0pt, weak: true) + it.body + h(0pt, weak: true) + [\"]\n  attribution\n} else {\n  it.body\n  attribution\n}\n```\n\nI think that's actually what typst does internally, and it's also a trick shown in the documentation in the example for [`attribution`](https://typst.app/docs/reference/model/quote/#parameters-attribution).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 27,
      "score": 65.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:56:37.141372"
}
{
  "topic_metadata": {
    "id": 1172,
    "title": "How to add an empty heading to the PDF outline?",
    "slug": "how-to-add-an-empty-heading-to-the-pdf-outline",
    "posts_count": 7,
    "created_at": "2024-10-17T19:57:06.199Z",
    "last_posted_at": "2024-10-19T14:58:32.361Z",
    "views": 195,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "sijo",
    "tags": [
      "outline",
      "pdf"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1062
  },
  "posts": [
    {
      "id": 4115,
      "post_number": 1,
      "username": "flgrubm",
      "name": "",
      "created_at": "2024-10-17T19:57:06.295Z",
      "updated_at": "2024-10-23T13:10:18.785Z",
      "cooked": "<p>I am writing a template for my homework submissions. For this, I would like to give each (sub-)section a corresponding heading like “Exercise n” or “Part x”, but since the individual homework problems do not (usually) have any titles per se, my current approach is to create empty headings in the following sense:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">=\nThis is the first exercise\n\n==\nThis is Part (a) of the first exercise\n\n= An actually named exercise\nThis is the second exercise\n</code></pre>\n<p>In my current setup, this produces something like</p>\n<blockquote>\n<p><strong>Exercise 1.</strong></p>\n<p>This is the first exercise</p>\n<p><strong>a.</strong></p>\n<p>This is Part (a) of the first exercise</p>\n<p><strong>Exercise 2. An actually named exercise</strong></p>\n<p>This is the second exercise</p>\n</blockquote>\n<p>The only problem with this is that neither Exercise 1 nor Part (a) are added to the PDF outline, which would enable me to quickly jump to a particular exercise or part by clicking on the side bar of my PDF viewer. My question now is how, if even, I can add the exercises and parts to the outline as “Exercise n” or “Part x”.</p>\n<p>I know that it would probably be easier to e.g. define an <code>exercise</code>-function and calling it with <code>#exercise[]</code>, but I would prefer the empty-heading approach if possible.</p>",
      "raw": "I am writing a template for my homework submissions. For this, I would like to give each (sub-)section a corresponding heading like \"Exercise n\" or \"Part x\", but since the individual homework problems do not (usually) have any titles per se, my current approach is to create empty headings in the following sense:\n```typ\n=\nThis is the first exercise\n\n==\nThis is Part (a) of the first exercise\n\n= An actually named exercise\nThis is the second exercise\n```\nIn my current setup, this produces something like\n\n> **Exercise 1.**\n> \n> This is the first exercise\n> \n> **a.**\n> \n> This is Part (a) of the first exercise\n> \n> **Exercise 2. An actually named exercise**\n>\n> This is the second exercise\n\nThe only problem with this is that neither Exercise 1 nor Part (a) are added to the PDF outline, which would enable me to quickly jump to a particular exercise or part by clicking on the side bar of my PDF viewer. My question now is how, if even, I can add the exercises and parts to the outline as \"Exercise n\" or \"Part x\".\n\nI know that it would probably be easier to e.g. define an `exercise`-function and calling it with `#exercise[]`, but I would prefer the empty-heading approach if possible.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 469.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 615
    },
    {
      "id": 4135,
      "post_number": 2,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-17T20:14:17.050Z",
      "updated_at": "2024-10-17T20:30:56.437Z",
      "cooked": "<p>I have something set up similar to yours and it show in the outline.</p>\n<p>try to experiment with this :</p>\n<pre data-code-wrap=\"typm\"><code class=\"lang-typm\">#set outline(indent: 1em)\n\n#outline()\n#show heading.where(level: 1) : set heading(numbering: (.., i) =&gt; [Exercise #i.])\n#show heading.where(level: 2) : set heading(numbering: (.., i) =&gt; numbering(\"a.\", i))\n\n= &lt;exercise-1-label&gt;\n\n== &lt;question-1.1-label&gt;\n== &lt;question-1.2-label&gt;\n== &lt;question-1.3-label&gt;\n\n= &lt;exercise-2-label&gt;\n\n== &lt;question-2.1-label&gt;\n== &lt;question-2.2-label&gt;\n== &lt;question-2.3-label&gt;\n</code></pre>\n<p>you can share the part of your template that deals with this if you want.<br>\nyou should also check if there are <code>heading(outlined: false)</code> this will prevent them from showing.</p>\n<p>also, the show heading rule, if you put it in a template, will likely break your outline title (of if the show rule is set before the outline is called), there is a <a href=\"https://forum.typst.app/t/how-to-create-a-pagebreak-before-every-depth-1-heading-except-for-the-outline/904\">solved question</a> on the forum on how to fix it.</p>",
      "raw": "I have something set up similar to yours and it show in the outline.\n\ntry to experiment with this :\n```typm\n#set outline(indent: 1em)\n\n#outline()\n#show heading.where(level: 1) : set heading(numbering: (.., i) => [Exercise #i.])\n#show heading.where(level: 2) : set heading(numbering: (.., i) => numbering(\"a.\", i))\n\n= <exercise-1-label>\n\n== <question-1.1-label>\n== <question-1.2-label>\n== <question-1.3-label>\n\n= <exercise-2-label>\n\n== <question-2.1-label>\n== <question-2.2-label>\n== <question-2.3-label>\n```\nyou can share the part of your template that deals with this if you want.\nyou should also check if there are `heading(outlined: false)` this will prevent them from showing.\n\nalso, the show heading rule, if you put it in a template, will likely break your outline title (of if the show rule is set before the outline is called), there is a [solved question](https://forum.typst.app/t/how-to-create-a-pagebreak-before-every-depth-1-heading-except-for-the-outline/904) on the forum on how to fix it.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 43.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4137,
      "post_number": 3,
      "username": "flgrubm",
      "name": "",
      "created_at": "2024-10-17T21:54:42.143Z",
      "updated_at": "2024-10-17T22:02:12.920Z",
      "cooked": "<p>Thank you for your reply.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"alimgyeniyt\" data-post=\"2\" data-topic=\"1172\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alimgyeniyt/48/901_2.png\" class=\"avatar\"> alimgyeniyt:</div>\n<blockquote>\n<p>[…] and it show in the outline.</p>\n</blockquote>\n</aside>\n<p>I’m sorry if I wasn’t clear enough. Actually I don’t want to have an outline/table of contents (in the sense of <code>#outline()</code>), but I want to have the PDF metadata included that allows my PDF reader to suggest me to jump quickly to the particular heading. The code that I pasted above gives me the following in the Evince PDF viewer:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda.png\" data-download-href=\"https://forum.typst.app/uploads/default/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda_2_690x370.png\" alt=\"image\" data-base62-sha1=\"5nlfJLgJieCWwM740Oqy135n4hQ\" width=\"690\" height=\"370\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda_2_690x370.png, https://forum.typst.app/uploads/default/original/1X/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda.png 1.5x, https://forum.typst.app/uploads/default/original/1X/25ae5ee41d55cbf8a7f5712a31805dd9185f9dda.png 2x\" data-dominant-color=\"B9BABB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1031×554 51.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nAs you can see, the only heading that appears in the side bar to the left is the one of the second exercise, which is non-empty. I would like to have the sidebar look something like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/85512a0bd6d7210f35997846df6db712a4ba5e6d.png\" alt=\"image\" data-base62-sha1=\"j1noCG2eqt7IGvh1t9S9DTrICSh\" width=\"316\" height=\"100\"></p>\n<p>And the thing is that having this PDF outline appear works flawlessly for non-empty headings, but somehow not (out-of-the-box) for empty headings as in my use case. I also tested this in the Okular PDF viewer with the same result.</p>\n<p>By the way, your code snippet produces an empty PDF metadata outline, but I assume that the fact that the only named heading “Contents” is not in the PDF outline is not a bug but a feature in this case. Anyway, the outline/table of contents works fine as expected, but not the PDF metadata outline.</p>",
      "raw": "Thank you for your reply.\n\n[quote=\"alimgyeniyt, post:2, topic:1172\"]\n[...] and it show in the outline.\n[/quote]\n\nI'm sorry if I wasn't clear enough. Actually I don't want to have an outline/table of contents (in the sense of `#outline()`), but I want to have the PDF metadata included that allows my PDF reader to suggest me to jump quickly to the particular heading. The code that I pasted above gives me the following in the Evince PDF viewer:\n![image|690x370, 100%](upload://5nlfJLgJieCWwM740Oqy135n4hQ.png)\nAs you can see, the only heading that appears in the side bar to the left is the one of the second exercise, which is non-empty. I would like to have the sidebar look something like this:\n![image|316x100, 100%](upload://j1noCG2eqt7IGvh1t9S9DTrICSh.png)\n\nAnd the thing is that having this PDF outline appear works flawlessly for non-empty headings, but somehow not (out-of-the-box) for empty headings as in my use case. I also tested this in the Okular PDF viewer with the same result.\n\nBy the way, your code snippet produces an empty PDF metadata outline, but I assume that the fact that the only named heading \"Contents\" is not in the PDF outline is not a bug but a feature in this case. Anyway, the outline/table of contents works fine as expected, but not the PDF metadata outline.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 37,
      "score": 12.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 615
    },
    {
      "id": 4140,
      "post_number": 4,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-17T23:05:57.461Z",
      "updated_at": "2024-10-17T23:07:06.659Z",
      "cooked": "<p>hello, I’m responding from my phone and I just realised that the pdf bookmarks do not work in the same way the outline function does. from the limited googling and the adobe docs bookmarks need a title and an action associated with them.</p>\n<p>My <em>guess</em> is that the title that typst reports is the body of the heading, not including the numbering.</p>\n<p>I advice you to use this approach instead for empty headings, make a show rule for the different heading levels and only show the numbering, in your main, name your heading with whatever you want to appear in the bookmarks.</p>\n<p>as, Im on my phone and am unable to use typst on it to test this i can only hint that you can display the numbering using something along the lines</p>\n<pre data-code-wrap=\"typm\"><code class=\"lang-typm\">// possible faulty code\n\n#show heading: it =&gt; {\nif it.level == 1 {\ncontext counter(heading.where(level:1)).display(it.numbering)\n}\n// define behavior for the rest of the levels or use .where selector\n}\n</code></pre>\n<p>don’t mark my replay as answer if it doesn’t work, if you manage to get it to work you can post the correct code and mark it as an answer.</p>",
      "raw": "hello, I'm responding from my phone and I just realised that the pdf bookmarks do not work in the same way the outline function does. from the limited googling and the adobe docs bookmarks need a title and an action associated with them. \n\nMy *guess* is that the title that typst reports is the body of the heading, not including the numbering.\n\nI advice you to use this approach instead for empty headings, make a show rule for the different heading levels and only show the numbering, in your main, name your heading with whatever you want to appear in the bookmarks.\n\nas, Im on my phone and am unable to use typst on it to test this i can only hint that you can display the numbering using something along the lines\n\n```typm\n// possible faulty code\n\n#show heading: it => {\nif it.level == 1 {\ncontext counter(heading.where(level:1)).display(it.numbering)\n}\n// define behavior for the rest of the levels or use .where selector\n}\n```\n\ndon't mark my replay as answer if it doesn't work, if you manage to get it to work you can post the correct code and mark it as an answer.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 31.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4155,
      "post_number": 5,
      "username": "flgrubm",
      "name": "",
      "created_at": "2024-10-18T08:13:48.739Z",
      "updated_at": "2024-10-18T08:13:48.739Z",
      "cooked": "<p>Thanks again. But unfortunately the code snippet is not doing anything different for me, i.e. the empty headings still don’t show up in the PDF outline/bookmarks.</p>\n<p>Maybe it’s just not (yet) possible to set the PDF outline/bookmarks in that way.</p>",
      "raw": "Thanks again. But unfortunately the code snippet is not doing anything different for me, i.e. the empty headings still don't show up in the PDF outline/bookmarks.\n\nMaybe it's just not (yet) possible to set the PDF outline/bookmarks in that way.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 615
    },
    {
      "id": 4160,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-18T09:33:44.935Z",
      "updated_at": "2024-10-18T09:33:52.313Z",
      "cooked": "<p>It would help if you provided a minimal working example that includes the way you make headings show as “Exercise 1.”, etc. But maybe the following works for you or can be adapted to your needs:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(bookmarked: false, numbering: \"1.\")\n#show heading.where(level: 1, bookmarked: false): it =&gt; heading(\n  bookmarked: true,\n  numbering: none,\n  [Exercise #counter(heading).display() #it.body],\n)\n#show heading.where(level: 2, bookmarked: false): it =&gt; heading(\n  level: 2,\n  bookmarked: true,\n  numbering: none,\n  [#numbering(\"a.\", counter(heading).get().at(1)) #it.body],\n)\n</code></pre>\n<p>If your document is more complex, e.g. with level 1 headings that are not only for Exercises, you might need to add more complex conditions in the show rules to transform only the correct headings.</p>",
      "raw": "It would help if you provided a minimal working example that includes the way you make headings show as \"Exercise 1.\", etc. But maybe the following works for you or can be adapted to your needs:\n\n```typ\n#set heading(bookmarked: false, numbering: \"1.\")\n#show heading.where(level: 1, bookmarked: false): it => heading(\n  bookmarked: true,\n  numbering: none,\n  [Exercise #counter(heading).display() #it.body],\n)\n#show heading.where(level: 2, bookmarked: false): it => heading(\n  level: 2,\n  bookmarked: true,\n  numbering: none,\n  [#numbering(\"a.\", counter(heading).get().at(1)) #it.body],\n)\n```\n\nIf your document is more complex, e.g. with level 1 headings that are not only for Exercises, you might need to add more complex conditions in the show rules to transform only the correct headings.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 40.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4260,
      "post_number": 7,
      "username": "flgrubm",
      "name": "",
      "created_at": "2024-10-19T14:58:32.361Z",
      "updated_at": "2024-10-19T14:58:32.361Z",
      "cooked": "<p>Okay, thank you. It looks a bit hacky, but this is essentially the solution that I’ve been looking for. The empty headings show up in the PDF outline/bookmarks as “Exercise 1” and “a.” now and they still display correctly within the document.</p>\n<p>As for my previous solution, it was basically the same as</p>\n<aside class=\"quote no-group\" data-username=\"alimgyeniyt\" data-post=\"2\" data-topic=\"1172\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alimgyeniyt/48/901_2.png\" class=\"avatar\"> alimgyeniyt:</div>\n<blockquote>\n<pre><code class=\"lang-auto\">#show heading.where(level: 1) : set heading(numbering: (.., i) =&gt; [Exercise #i.])\n#show heading.where(level: 2) : set heading(numbering: (.., i) =&gt; numbering(\"a.\", i))\n</code></pre>\n</blockquote>\n</aside>",
      "raw": "Okay, thank you. It looks a bit hacky, but this is essentially the solution that I've been looking for. The empty headings show up in the PDF outline/bookmarks as \"Exercise 1\" and \"a.\" now and they still display correctly within the document.\n\nAs for my previous solution, it was basically the same as \n[quote=\"alimgyeniyt, post:2, topic:1172\"]\n```\n#show heading.where(level: 1) : set heading(numbering: (.., i) => [Exercise #i.])\n#show heading.where(level: 2) : set heading(numbering: (.., i) => numbering(\"a.\", i))\n```\n[/quote]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 615
    }
  ],
  "scraped_at": "2025-06-10T09:56:36.423405"
}
{
  "topic_metadata": {
    "id": 1175,
    "title": "How to properly change background color of a block 'raw' element?",
    "slug": "how-to-properly-change-background-color-of-a-block-raw-element",
    "posts_count": 7,
    "created_at": "2024-10-18T03:52:09.263Z",
    "last_posted_at": "2024-10-23T12:05:17.669Z",
    "views": 758,
    "like_count": 6,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 584
  },
  "posts": [
    {
      "id": 4141,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-18T03:52:09.349Z",
      "updated_at": "2024-10-23T12:04:30.667Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true): block.with(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n#show raw.where(block: false): box.with(fill: luma(240), inset: (x: 3pt), outset: (y: 3pt), radius: 2pt)\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\n#[\n  #show raw.where(block: true): set block(fill: rgb(\"#ffff00\"), inset: 1em, radius: 0.5em, width: 100%)\n  ```rust\n  fn main() {\n      println!(\"Hello, world!\");\n  }\n  ```\n]\n\nLorem ipsum ```rust fn main()``` dolor sit amet.\n</code></pre>\n<p>I want the block raw elements to have gray background, and this works fine. But then I try to make one of them to have yellow background instead of gray, and this seems to add another block instead of changing the color of the existing one. How to fix it?</p>\n<p>Current output:</p>\n<blockquote>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8.png\" data-download-href=\"https://forum.typst.app/uploads/default/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8_2_690x206.png\" alt=\"image\" data-base62-sha1=\"t7HVPoAvTuSsAxmYSZjfaZYjO2I\" width=\"690\" height=\"206\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8_2_690x206.png, https://forum.typst.app/uploads/default/optimized/1X/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8_2_1035x309.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/cc1e1e5b11a0aa3f804b2840e0fd48dc7a7da3f8_2_1380x412.png 2x\" data-dominant-color=\"F6F6B9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1626×486 49.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</blockquote>\n<p>What I’m trying to achieve:</p>\n<blockquote>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/4d7cf2fcca34145889758b3215e6c5916da6c6dc.png\" data-download-href=\"https://forum.typst.app/uploads/default/4d7cf2fcca34145889758b3215e6c5916da6c6dc\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/4d7cf2fcca34145889758b3215e6c5916da6c6dc_2_690x176.png\" alt=\"image\" data-base62-sha1=\"b3usZoSoVqQ3LATiQQ52N2QC4rO\" width=\"690\" height=\"176\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/4d7cf2fcca34145889758b3215e6c5916da6c6dc_2_690x176.png, https://forum.typst.app/uploads/default/optimized/1X/4d7cf2fcca34145889758b3215e6c5916da6c6dc_2_1035x264.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/4d7cf2fcca34145889758b3215e6c5916da6c6dc_2_1380x352.png 2x\" data-dominant-color=\"F7F7B1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1628×416 45.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</blockquote>",
      "raw": "````typ\n#show raw.where(block: true): block.with(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n#show raw.where(block: false): box.with(fill: luma(240), inset: (x: 3pt), outset: (y: 3pt), radius: 2pt)\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\n#[\n  #show raw.where(block: true): set block(fill: rgb(\"#ffff00\"), inset: 1em, radius: 0.5em, width: 100%)\n  ```rust\n  fn main() {\n      println!(\"Hello, world!\");\n  }\n  ```\n]\n\nLorem ipsum ```rust fn main()``` dolor sit amet.\n````\n\nI want the block raw elements to have gray background, and this works fine. But then I try to make one of them to have yellow background instead of gray, and this seems to add another block instead of changing the color of the existing one. How to fix it?\n\nCurrent output:\n\n>![image|690x206](upload://t7HVPoAvTuSsAxmYSZjfaZYjO2I.png)\n\nWhat I'm trying to achieve:\n\n> ![image|690x176](upload://b3usZoSoVqQ3LATiQQ52N2QC4rO.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 4238.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4147,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-18T06:13:47.234Z",
      "updated_at": "2024-10-18T06:13:47.234Z",
      "cooked": "<p>Hello, your first show rule uses a function <code>block.with</code>, and your second show rule is a <code>show-set</code>. They add up, hence the double background.<br>\nIf you modify the first show rule to be <code>set block(...)</code>, then its fine.</p>",
      "raw": "Hello, your first show rule uses a function `block.with`, and your second show rule is a `show-set`. They add up, hence the double background.\nIf you modify the first show rule to be `set block(...)`, then its fine.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 58.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4162,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-18T10:39:23.347Z",
      "updated_at": "2024-10-18T16:57:50.192Z",
      "cooked": "<p>Thanks, this solved the issue.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">//before:\n//#show raw.where(block: true): block.with(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n\n#show raw.where(block: true): set block(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\n#[\n  #show raw.where(block: true): set block(fill: rgb(\"#ffff00\"), inset: 1em, radius: 0.5em, width: 100%)\n  ```rust\n  fn main() {\n      println!(\"Hello, world!\");\n  }\n  ```\n]\n</code></pre>\n<p>But the <code>block.with</code> part is from the example in the docs, <a href=\"https://typst.app/docs/reference/text/raw/\">https://typst.app/docs/reference/text/raw/</a>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true): block.with(\n  fill: luma(240),\n  inset: 10pt,\n  radius: 4pt,\n)\n</code></pre>\n<p>And hence now there are two other questions arised:</p>\n<ul>\n<li>How exactly <code>.with</code> works? (Sorry, I did’t find the respective page in docs.)</li>\n<li>Why the example in the docs (which I’ve shown above) uses <code>block.with</code> instead of <code>set block</code>?</li>\n</ul>",
      "raw": "Thanks, this solved the issue.\n\n````typ\n//before:\n//#show raw.where(block: true): block.with(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n\n#show raw.where(block: true): set block(fill: luma(240), inset: 1em, radius: 0.5em, width: 100%)\n\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\n#[\n  #show raw.where(block: true): set block(fill: rgb(\"#ffff00\"), inset: 1em, radius: 0.5em, width: 100%)\n  ```rust\n  fn main() {\n      println!(\"Hello, world!\");\n  }\n  ```\n]\n````\n\nBut the `block.with` part is from the example in the docs, <https://typst.app/docs/reference/text/raw/>:\n\n```typ\n#show raw.where(block: true): block.with(\n  fill: luma(240),\n  inset: 10pt,\n  radius: 4pt,\n)\n```\n\nAnd hence now there are two other questions arised:\n\n- How exactly `.with` works? (Sorry, I did't find the respective page in docs.)\n- Why the example in the docs (which I've shown above) uses `block.with` instead of `set block`?",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 57.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4165,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-18T11:52:55.576Z",
      "updated_at": "2024-10-18T11:52:55.576Z",
      "cooked": "<p>Glad it’s working!</p>\n<p>You can find the docs for <code>function.with</code> at <a href=\"https://typst.app/docs/reference/foundations/function/#definitions-with\" class=\"inline-onebox\">Function Type – Typst Documentation</a>. If you type “with” in the search box it is the first result.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98.png\" data-download-href=\"https://forum.typst.app/uploads/default/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98_2_512x500.png\" alt=\"image\" data-base62-sha1=\"netFMnAlpxOHNfryVQe5kag4z3O\" width=\"512\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98_2_512x500.png, https://forum.typst.app/uploads/default/original/1X/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98.png 1.5x, https://forum.typst.app/uploads/default/original/1X/a2d4fcce4f0ec13f33cc61cfa4bbc8d087e55e98.png 2x\" data-dominant-color=\"F2F3F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">584×570 32.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The reason why the second works is because <code>raw</code> is already a block element. I am unsure why the docs write it as <code>block.with</code>, but it has the same output for sure.</p>",
      "raw": "Glad it's working!\n\nYou can find the docs for `function.with` at https://typst.app/docs/reference/foundations/function/#definitions-with. If you type \"with\" in the search box it is the first result.\n![image|512x500](upload://netFMnAlpxOHNfryVQe5kag4z3O.png)\n\nThe reason why the second works is because `raw` is already a block element. I am unsure why the docs write it as `block.with`, but it has the same output for sure.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 51.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4166,
      "post_number": 5,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-18T11:57:38.198Z",
      "updated_at": "2024-10-18T11:57:38.198Z",
      "cooked": "<p><code>f.with(a: 1)</code> takes a function <code>f</code> and returns a new function with argument <code>a</code> already set to 1.</p>\n<p>There are several types of rules that do different things, see <a href=\"https://typst.app/docs/reference/styling/\">here</a>.</p>\n<p>In particular:</p>\n<ul>\n<li>\n<p><code>#show A: set B(...)</code> is a “show-set” rule, it changes the default B settings for A elements. For example <code>#show raw: set block(fill: luma(240))</code> sets the default fill for blocks in a raw element.</p>\n</li>\n<li>\n<p><code>#show A: f</code> is a “show” rule: it transforms elements A by passing them to the given function. For example <code>#show raw: block.with(fill: luma(240))</code> is the same as <code>#show raw: it =&gt; block(fill: luma(240), it)</code>. It wraps the raw element in a new block.</p>\n</li>\n</ul>\n<p>Of course sometimes both methods can be used to get the same visual result.</p>",
      "raw": "`f.with(a: 1)` takes a function `f` and returns a new function with argument `a` already set to 1.\n\nThere are several types of rules that do different things, see [here](https://typst.app/docs/reference/styling/).\n\nIn particular:\n\n* `#show A: set B(...)` is a \"show-set\" rule, it changes the default B settings for A elements. For example `#show raw: set block(fill: luma(240))` sets the default fill for blocks in a raw element.\n\n* `#show A: f` is a \"show\" rule: it transforms elements A by passing them to the given function. For example `#show raw: block.with(fill: luma(240))` is the same as `#show raw: it => block(fill: luma(240), it)`. It wraps the raw element in a new block.\n\nOf course sometimes both methods can be used to get the same visual result.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 30,
      "score": 86.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4172,
      "post_number": 6,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-18T12:40:34.060Z",
      "updated_at": "2024-10-18T12:40:48.931Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/sijo\">@sijo</a> Thanks a lot! Now I understand.</p>",
      "raw": "@sijo Thanks a lot! Now I understand.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4530,
      "post_number": 7,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:05:17.669Z",
      "updated_at": "2024-10-23T12:05:17.669Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/jsx97\">@jsx97</a>, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @jsx97, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:35.564050"
}
{
  "topic_metadata": {
    "id": 1177,
    "title": "How can I use attach in such a way that the layout is not affected?",
    "slug": "how-can-i-use-attach-in-such-a-way-that-the-layout-is-not-affected",
    "posts_count": 7,
    "created_at": "2024-10-18T05:59:30.879Z",
    "last_posted_at": "2024-10-18T07:38:06.478Z",
    "views": 132,
    "like_count": 2,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "sijo",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 472
  },
  "posts": [
    {
      "id": 4145,
      "post_number": 1,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2024-10-18T05:59:30.972Z",
      "updated_at": "2024-10-18T05:59:30.972Z",
      "cooked": "<p>I am trying to lay out some school-level mathematics and I’d like to show the borrowing/relabelling involved in a subtraction. The closest I can get is shown below, but you can see that when I add the workings (in red), this moves the digits ‘5’ and ‘2’ so they are no longer aligned.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/faa8793d5f66dc83881acc6583b9ed28ebe9c780.png\" data-download-href=\"https://forum.typst.app/uploads/default/faa8793d5f66dc83881acc6583b9ed28ebe9c780\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/faa8793d5f66dc83881acc6583b9ed28ebe9c780_2_318x375.png\" alt=\"image\" data-base62-sha1=\"zLqjSsIsBCx2XnDLhWgCX0qkiyY\" width=\"318\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/faa8793d5f66dc83881acc6583b9ed28ebe9c780_2_318x375.png, https://forum.typst.app/uploads/default/optimized/1X/faa8793d5f66dc83881acc6583b9ed28ebe9c780_2_477x562.png 1.5x, https://forum.typst.app/uploads/default/original/1X/faa8793d5f66dc83881acc6583b9ed28ebe9c780.png 2x\" data-dominant-color=\"F3F3F3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">611×719 51.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The second part of the diagram was generated using the code below.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$#grid(columns:5,\nalign: center,\nstroke: (x, y) =&gt; if y == 2  and x &gt;= 0 { (top: 0.4pt + black) },\ninset: (x, y) =&gt; if x == 2 { (x: 0pt, y: 3pt) } else { (x: 2pt, y: 3pt) },\n[], [$attach(tl: #text(red)[4], cancel(stroke: #(paint: red), 5))$], [.], [$attach(2, tl: #text(red)[1])$], [7],\n[$minus$], [3], [.], [4], [2], \n[], [1], [.], [8], [5])$\n</code></pre>\n<p>I couldn’t work out how to use <code>place</code> (or something else) to make it so the attachments did not affect the layout of the original text shown in black.</p>",
      "raw": "I am trying to lay out some school-level mathematics and I'd like to show the borrowing/relabelling involved in a subtraction. The closest I can get is shown below, but you can see that when I add the workings (in red), this moves the digits '5' and '2' so they are no longer aligned. \n\n![image|424x500, 75%](upload://zLqjSsIsBCx2XnDLhWgCX0qkiyY.png)\n\nThe second part of the diagram was generated using the code below. \n\n```typ\n$#grid(columns:5,\nalign: center,\nstroke: (x, y) => if y == 2  and x >= 0 { (top: 0.4pt + black) },\ninset: (x, y) => if x == 2 { (x: 0pt, y: 3pt) } else { (x: 2pt, y: 3pt) },\n[], [$attach(tl: #text(red)[4], cancel(stroke: #(paint: red), 5))$], [.], [$attach(2, tl: #text(red)[1])$], [7],\n[$minus$], [3], [.], [4], [2], \n[], [1], [.], [8], [5])$\n```\n\nI couldn't work out how to use `place` (or something else) to make it so the attachments did not affect the layout of the original text shown in black.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 526.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    },
    {
      "id": 4146,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-18T06:10:39.296Z",
      "updated_at": "2024-10-18T06:10:39.296Z",
      "cooked": "<p>Would aligning your columns <code>right</code> help you?</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/181d8e5e09c069f9167245c14da2fddacdb382e4.png\" alt=\"image\" data-base62-sha1=\"3rkMxOFWwZcK5teStgdPrn3RSK0\" width=\"416\" height=\"288\"></p>",
      "raw": "Would aligning your columns `right` help you?\n\n![image|416x288](upload://3rkMxOFWwZcK5teStgdPrn3RSK0.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 26.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4148,
      "post_number": 3,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2024-10-18T06:25:55.200Z",
      "updated_at": "2024-10-18T06:26:41.410Z",
      "cooked": "<p>Thanks for this suggestion, which I had not considered. One issue is that the decimal points are not centred nicely (but I can change it to center that column), but a bigger issue is the fact that columns with attachments are much wider.</p>\n<p>I would like it to have the exact same width as the original grid, but just with the items attached, but as you can see, it is now much wider.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/8a5a2463444b641f15c66f67a2acedcd26e9365f.png\" alt=\"image\" data-base62-sha1=\"jJV1dd1fchTNtoe91YqfvgQPEsf\" width=\"174\" height=\"245\"></p>",
      "raw": "Thanks for this suggestion, which I had not considered. One issue is that the decimal points are not centred nicely (but I can change it to center that column), but a bigger issue is the fact that columns with attachments are much wider.\n\nI would like it to have the exact same width as the original grid, but just with the items attached, but as you can see, it is now much wider.\n![image|349x490, 50%](upload://jJV1dd1fchTNtoe91YqfvgQPEsf.png)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    },
    {
      "id": 4151,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-18T06:53:59.926Z",
      "updated_at": "2024-10-18T06:53:59.926Z",
      "cooked": "<p>I think, you should use place in that case for absolute positioning. <code>dx</code> and <code>dy</code> should get your supscript in the right place!</p>",
      "raw": "I think, you should use place in that case for absolute positioning. `dx` and `dy` should get your supscript in the right place!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 20.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4152,
      "post_number": 5,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2024-10-18T06:57:26.633Z",
      "updated_at": "2024-10-18T06:57:26.633Z",
      "cooked": "<p>I couldn’t work out how to get place to work with the attach function though. I also couldn’t really work out how to manufacture the right appearance of small text using place directly.</p>",
      "raw": "I couldn’t work out how to get place to work with the attach function though. I also couldn’t really work out how to manufacture the right appearance of small text using place directly.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    },
    {
      "id": 4153,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-18T07:31:08.127Z",
      "updated_at": "2024-10-18T07:31:08.127Z",
      "cooked": "<p>The following seems to work:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let annotate(it, with: none) = math.attach(it, tl: box(\n  place(\n    bottom+right,\n    text(red, with),\n)))\n\n#let strike = math.cancel.with(stroke: red)\n\n#grid(\n  columns:5,\n  align: center,\n  stroke: (x, y) =&gt; if y == 2  and x &gt;= 0 { (top: 0.4pt + black) },\n  inset: (x, y) =&gt; if x == 2 { (x: 0pt, y: 3pt) } else { (x: 2pt, y: 3pt) },\n  [], $annotate(strike(5), with: 4)$, $.$, $annotate(2, with: 1)$, $7$,\n  $-$, $3$, $.$, $4$, $2$, \n  $$, $1$, $.$, $8$, $5$,\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/5067a36ee15c2be7fc6bd34cdd6e739cf265003e.png\" alt=\"image\" data-base62-sha1=\"btieZT8qJwxpS2JITRUwl5Vpvqe\" width=\"114\" height=\"76\"></p>\n<p>I put the <code>place</code> call in a box: the placed content doesn’t take any space so the box will be zero-size, at the correct position. Aligning the bottom-right of the placed content with the (bottom-right of) the zero-sized box works well. (I’m not sure what happens here with spacing when you don’t include the box.)</p>",
      "raw": "The following seems to work:\n\n```typ\n#let annotate(it, with: none) = math.attach(it, tl: box(\n  place(\n    bottom+right,\n    text(red, with),\n)))\n\n#let strike = math.cancel.with(stroke: red)\n\n#grid(\n  columns:5,\n  align: center,\n  stroke: (x, y) => if y == 2  and x >= 0 { (top: 0.4pt + black) },\n  inset: (x, y) => if x == 2 { (x: 0pt, y: 3pt) } else { (x: 2pt, y: 3pt) },\n  [], $annotate(strike(5), with: 4)$, $.$, $annotate(2, with: 1)$, $7$,\n  $-$, $3$, $.$, $4$, $2$, \n  $$, $1$, $.$, $8$, $5$,\n)\n```\n\n![image|114x76](upload://btieZT8qJwxpS2JITRUwl5Vpvqe.png)\n\nI put the `place` call in a box: the placed content doesn't take any space so the box will be zero-size, at the correct position. Aligning the bottom-right of the placed content with the (bottom-right of) the zero-sized box works well. (I'm not sure what happens here with spacing when you don't include the box.)",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 30.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4154,
      "post_number": 7,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2024-10-18T07:38:06.478Z",
      "updated_at": "2024-10-18T07:38:06.478Z",
      "cooked": "<p>The use of the box was the missing piece of the puzzle for me! Thank you.</p>",
      "raw": "The use of the box was the missing piece of the puzzle for me! Thank you.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 20.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    }
  ],
  "scraped_at": "2025-06-10T09:56:34.833786"
}
{
  "topic_metadata": {
    "id": 1179,
    "title": "How can I use display mode for in-line math?",
    "slug": "how-can-i-use-display-mode-for-in-line-math",
    "posts_count": 11,
    "created_at": "2024-10-18T08:29:09.328Z",
    "last_posted_at": "2024-10-23T14:43:35.255Z",
    "views": 684,
    "like_count": 2,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Tinger",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 646
  },
  "posts": [
    {
      "id": 4157,
      "post_number": 1,
      "username": "Bazar",
      "name": "Bazar",
      "created_at": "2024-10-18T08:29:09.426Z",
      "updated_at": "2024-10-23T14:41:23.512Z",
      "cooked": "<p>Hey I’m a new typst user.</p>\n<p>I want to redefine the math operator <code>/</code></p>\n<p>Is there a way to write<br>\n<code>$a/b$</code> for <code>$display(a/b)$</code></p>\n<p>Another question.</p>\n<p>Is it possible to create an inline math environment that is always in display mode.</p>\n<p>Thank you.</p>",
      "raw": "Hey I’m a new typst user. \n\nI want to redefine the math operator `/`\n\nIs there a way to write \n`$a/b$` for `$display(a/b)$`\n\nAnother question. \n\nIs it possible to create an inline math environment that is always in display mode. \n\nThank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 69,
      "score": 2978.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 618
    },
    {
      "id": 4158,
      "post_number": 2,
      "username": "SolidTux",
      "name": "Daniel Hauck",
      "created_at": "2024-10-18T09:24:59.297Z",
      "updated_at": "2024-10-18T09:24:59.297Z",
      "cooked": "<p>This should do the trick</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation.where(block: false): it =&gt; math.display(it)\n</code></pre>",
      "raw": "This should do the trick\n\n```typst\n#show math.equation.where(block: false): it => math.display(it)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 68,
      "score": 38.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 572
    },
    {
      "id": 4159,
      "post_number": 3,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-18T09:27:00.428Z",
      "updated_at": "2024-10-18T09:27:00.428Z",
      "cooked": "<p>Hi, welcome to the forum, indeed you can, but I advice against it as this <strong>almost always result in horrible line spacing</strong>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par(justify: true)\n#show math.frac: math.display\n\n#lorem(10)\n$a/b$\n#lorem(100)\n</code></pre>\n<p>Will result in this output:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/6148edce079f82e8782202906eb69da829b7cc40.png\" data-download-href=\"https://forum.typst.app/uploads/default/6148edce079f82e8782202906eb69da829b7cc40\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/6148edce079f82e8782202906eb69da829b7cc40_2_690x226.png\" alt=\"image\" data-base62-sha1=\"dSCyYx7aCbj6GxE3YOE5RiLPZD2\" width=\"690\" height=\"226\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/6148edce079f82e8782202906eb69da829b7cc40_2_690x226.png, https://forum.typst.app/uploads/default/original/1X/6148edce079f82e8782202906eb69da829b7cc40.png 1.5x, https://forum.typst.app/uploads/default/original/1X/6148edce079f82e8782202906eb69da829b7cc40.png 2x\" data-dominant-color=\"E9E9E9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">704×231 76.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Notice the horrible spacing of the first two lines, you also cannot turn this off so you should probably use <code>#[ ... ]</code> to only apply this selectively in your document where you really want this.</p>\n<p>The solution to the second question follows the same reasoning and has the same caveats:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: false): math.display\n</code></pre>\n<p>It produces the same output as above.</p>",
      "raw": "Hi, welcome to the forum, indeed you can, but I advice against it as this **almost always result in horrible line spacing**.\n\n```typ\n#set par(justify: true)\n#show math.frac: math.display\n\n#lorem(10)\n$a/b$\n#lorem(100)\n```\n\nWill result in this output:\n![image|690x226](upload://dSCyYx7aCbj6GxE3YOE5RiLPZD2.png)\n\nNotice the horrible spacing of the first two lines, you also cannot turn this off so you should probably use `#[ ... ]` to only apply this selectively in your document where you really want this.\n\nThe solution to the second question follows the same reasoning and has the same caveats:\n```typ\n#show math.equation.where(block: false): math.display\n```\n\nIt produces the same output as above.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 67,
      "score": 138.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4161,
      "post_number": 4,
      "username": "Bazar",
      "name": "Bazar",
      "created_at": "2024-10-18T09:59:01.827Z",
      "updated_at": "2024-10-18T09:59:01.827Z",
      "cooked": "<p>That’s a good start.<br>\nIs there a way to automize that.</p>\n<p>Maybe an environment already in maths mode.</p>\n<p><span class=\"hashtag-raw\">#display</span>[3/4]</p>\n<p>Or a command like</p>\n<p>$ds 3/4$</p>\n<p>Thank you for your help</p>",
      "raw": "That’s a good start. \nIs there a way to automize that. \n\nMaybe an environment already in maths mode. \n\n#display[3/4]\n\nOr a command like \n\n$ds 3/4$\n\nThank you for your help",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 58,
      "score": 66.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 618
    },
    {
      "id": 4167,
      "post_number": 5,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-18T12:05:33.387Z",
      "updated_at": "2024-10-18T12:05:37.628Z",
      "cooked": "<p>The command is <code>display</code>, as in <code>$display(3/4)$</code>.</p>\n<p>(In normal mode you write <code>math.display</code> to refer to this function, but in math mode you can write simply <code>display</code>.)</p>",
      "raw": "The command is `display`, as in `$display(3/4)$`.\n\n(In normal mode you write `math.display` to refer to this function, but in math mode you can write simply `display`.)",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4169,
      "post_number": 6,
      "username": "Bazar",
      "name": "Bazar",
      "created_at": "2024-10-18T12:25:34.272Z",
      "updated_at": "2024-10-18T12:25:34.272Z",
      "cooked": "<p>Why is this not working ?</p>\n<pre><code class=\"lang-auto\">#let fd={show math.frac: math.display}\n\n$fd 4/3$\n</code></pre>",
      "raw": "Why is this not working ?\n\n```\n#let fd={show math.frac: math.display}\n\n$fd 4/3$\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 618
    },
    {
      "id": 4170,
      "post_number": 7,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-18T12:37:54.916Z",
      "updated_at": "2024-10-18T12:37:54.916Z",
      "cooked": "<p>What is it doing and in what ways is that different from what you want it to do?  It looks like it works to me:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fd={show math.frac: math.display}\n\n$fd 4/3$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/8f1d523c7049e7308db4bc5c5718d6cc012a161f.png\" alt=\"image\" data-base62-sha1=\"kq367w5QEiEKl8g36bh7h6Btxdd\" width=\"82\" height=\"76\"></p>",
      "raw": "What is it doing and in what ways is that different from what you want it to do?  It looks like it works to me:\n```typ\n#let fd={show math.frac: math.display}\n\n$fd 4/3$\n```\n![image|82x76](upload://kq367w5QEiEKl8g36bh7h6Btxdd.png)",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4173,
      "post_number": 8,
      "username": "Bazar",
      "name": "Bazar",
      "created_at": "2024-10-18T12:44:57.451Z",
      "updated_at": "2024-10-18T12:44:57.451Z",
      "cooked": "<p>There isn’t any error.</p>\n<p>But the fraction isn’t in display mode.</p>",
      "raw": "There isn't any error.\n\nBut the fraction isn't in display mode.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 53.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 618
    },
    {
      "id": 4174,
      "post_number": 9,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-18T12:57:39.163Z",
      "updated_at": "2024-10-18T12:57:39.163Z",
      "cooked": "<p>The reason why it isn’t working as you expect is that the show rule is evaluated then the result of that evaluation is stored in <code>fd</code>.  Then in the <code>math</code> environment the value stored in <code>fd</code> is recalled and added to your formula.  But because the result of the show rule was nothing, nothing is added.</p>\n<p>If you want to delay the evaluation of the show rule until the math environment, you can do it like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fd() = show math.frac: math.display\n\n$fd() 4/3$\n</code></pre>\n<p>But this doesn’t compile, giving the error <code>Show is only allowed directly in code and content blocks</code>.</p>",
      "raw": "The reason why it isn't working as you expect is that the show rule is evaluated then the result of that evaluation is stored in `fd`.  Then in the `math` environment the value stored in `fd` is recalled and added to your formula.  But because the result of the show rule was nothing, nothing is added.\n\nIf you want to delay the evaluation of the show rule until the math environment, you can do it like this:\n```typ\n#let fd() = show math.frac: math.display\n\n$fd() 4/3$\n```\nBut this doesn't compile, giving the error `Show is only allowed directly in code and content blocks`.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 44.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4374,
      "post_number": 10,
      "username": "Tinger",
      "name": "Tinger",
      "created_at": "2024-10-21T07:27:37.033Z",
      "updated_at": "2024-10-24T09:05:24.532Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"gezepi\" data-post=\"9\" data-topic=\"1179\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/C34CE0/48.png\" class=\"avatar\"> gezepi:</div>\n<blockquote>\n<p>If you want to delay the evaluation of the show rule until the math environment, you can do it like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fd() = show math.frac: math.display\n\n$fd() 4/3$\n</code></pre>\n</blockquote>\n</aside>\n<p>The function defined here is not evaluating anything with the given show rule as no content is passed to it, a pure function with  no arguments never does anything. You probably meant to write:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let fd(body) = {\n  show math.frac: math.display\n  body\n}\n\n$fd(4/3)$\n\n#[\n  #show: fd\n  $3/4$\n]\n</code></pre>\n<p>The question is more or less answered, if you guys want to discuss useful shorthands and such a new thread in <a class=\"hashtag-cooked\" href=\"/c/general/4\" data-type=\"category\" data-slug=\"general\" data-id=\"4\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>General</span></a> is probably a good idea.</p>",
      "raw": "[quote=\"gezepi, post:9, topic:1179\"]\nIf you want to delay the evaluation of the show rule until the math environment, you can do it like this:\n\n```typ\n#let fd() = show math.frac: math.display\n\n$fd() 4/3$\n```\n[/quote]\n\nThe function defined here is not evaluating anything with the given show rule as no content is passed to it, a pure function with  no arguments never does anything. You probably meant to write:\n```typ\n#let fd(body) = {\n  show math.frac: math.display\n  body\n}\n\n$fd(4/3)$\n\n#[\n  #show: fd\n  $3/4$\n]\n```\n\nThe question is more or less answered, if you guys want to discuss useful shorthands and such a new thread in #general is probably a good idea.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 42,
      "score": 43.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 29
    },
    {
      "id": 4562,
      "post_number": 11,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T14:43:35.255Z",
      "updated_at": "2024-10-23T14:43:35.255Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/bazar\">@Bazar</a>, welcome and thank you for your question! I have changed your post’s title from “In-line math with display mode” to “How can I use display mode for in-line math?” as the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> recommend this:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>I also added the <a class=\"hashtag-cooked\" href=\"/tag/math\" data-type=\"tag\" data-slug=\"math\" data-id=\"74\" data-ref=\"math::tag\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>math</span></a> tag, as it makes your question easier to find. Finally, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked.</p>",
      "raw": "Hi @Bazar, welcome and thank you for your question! I have changed your post’s title from \"In-line math with display mode\" to \"How can I use display mode for in-line math?\" as the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) recommend this:\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nI also added the #math::tag tag, as it makes your question easier to find. Finally, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 26.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:34.113367"
}
{
  "topic_metadata": {
    "id": 1181,
    "title": "How can I bolden 3 letters in a same line individually?",
    "slug": "how-can-i-bolden-3-letters-in-a-same-line-individually",
    "posts_count": 5,
    "created_at": "2024-10-18T11:13:42.237Z",
    "last_posted_at": "2024-10-23T12:06:57.287Z",
    "views": 130,
    "like_count": 8,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "text-formatting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 252
  },
  "posts": [
    {
      "id": 4164,
      "post_number": 1,
      "username": "rfarhaz",
      "name": "Raunak Farhaz",
      "created_at": "2024-10-18T11:13:42.366Z",
      "updated_at": "2024-10-23T12:06:14.346Z",
      "cooked": "<p>I am trying to make <code>M</code>, <code>R</code> and <code>A</code> bold in the following line</p>\n<pre><code class=\"lang-auto\">*M*ulti-*R*esolution *A*nalysis\n</code></pre>\n<p>that should reproduce something like <strong>M</strong>ulti-<strong>R</strong>esolution <strong>A</strong>nalysis, but instead it is giving me back in <code>typst</code> something undesired like this - Multi-<strong>Resolution</strong> Analysis. Although I made a work around using <code>#strong()</code> function.</p>\n<pre><code class=\"lang-auto\">#super(M)ulti-#super(R)esolution #super(A)nalysis\n</code></pre>\n<p>But is there any elegant way?</p>",
      "raw": "I am trying to make `M`, `R` and `A` bold in the following line \n\n```\n*M*ulti-*R*esolution *A*nalysis\n```\nthat should reproduce something like **M**ulti-**R**esolution **A**nalysis, but instead it is giving me back in `typst` something undesired like this - Multi-**Resolution** Analysis. Although I made a work around using `#strong()` function. \n```\n#super(M)ulti-#super(R)esolution #super(A)nalysis\n```\nBut is there any elegant way?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 37,
      "score": 357.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 400
    },
    {
      "id": 4168,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-18T12:07:48.936Z",
      "updated_at": "2024-10-18T12:11:34.040Z",
      "cooked": "<p>The documentation <a href=\"https://typst.app/docs/reference/model/strong/#syntax\">says</a></p>\n<blockquote>\n<p>To strongly emphasize content, simply enclose it in stars/asterisks (<code>*</code>). Note that this only works at word boundaries. To strongly emphasize part of a word, you have to use the function.</p>\n</blockquote>\n<p>so your method is not a workaround, it’s the right way to do it <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>(I assume you meant <code>#strong[M]ulti-#strong[R]esolution #strong[A]nalysis</code>)</p>",
      "raw": "The documentation [says](https://typst.app/docs/reference/model/strong/#syntax)\n\n> To strongly emphasize content, simply enclose it in stars/asterisks (`*`). Note that this only works at word boundaries. To strongly emphasize part of a word, you have to use the function.\n\nso your method is not a workaround, it's the right way to do it :slight_smile:\n\n(I assume you meant `#strong[M]ulti-#strong[R]esolution #strong[A]nalysis`)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 37,
      "score": 52.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4171,
      "post_number": 3,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-10-18T12:40:07.905Z",
      "updated_at": "2024-10-18T12:40:07.905Z",
      "cooked": "<p>This doesn’t answer your exact question, but since it looks like this is in support of acronyms, it might make sense to use a package made for acronyms.</p><aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/universe/package/acrostiche\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/universe/package/acrostiche\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/universe/package/acrostiche\" target=\"_blank\" rel=\"noopener\">acrostiche – Typst Universe</a></h3>\n\n  <p>Manage acronyms and their definitions in Typst.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "This doesn't answer your exact question, but since it looks like this is in support of acronyms, it might make sense to use a package made for acronyms.\nhttps://typst.app/universe/package/acrostiche",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 21.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 4175,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-18T13:05:41.893Z",
      "updated_at": "2024-10-18T13:07:44.749Z",
      "cooked": "<p>You can shorten this a bit by using the syntax inside the separated content blocks:</p>\n<p><code>#[*M*]ulti-#[*R*]esolution #[*A*]nalysis</code></p>\n<p>Edit: <a href=\"https://www.reddit.com/r/typst/comments/1dqgkq7/comment/lanurgy/\">a few more ways</a> :)</p>",
      "raw": "You can shorten this a bit by using the syntax inside the separated content blocks:\n\n`#[*M*]ulti-#[*R*]esolution #[*A*]nalysis`\n\nEdit: [a few more ways](https://www.reddit.com/r/typst/comments/1dqgkq7/comment/lanurgy/) :)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 32,
      "score": 51.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4531,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:06:57.287Z",
      "updated_at": "2024-10-23T12:06:57.287Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/rfarhaz\">@rfarhaz</a>, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @rfarhaz, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:33.363577"
}
{
  "topic_metadata": {
    "id": 1182,
    "title": "When to ems and when to use points instead? Is there a common practice?",
    "slug": "when-to-ems-and-when-to-use-points-instead-is-there-a-common-practice",
    "posts_count": 5,
    "created_at": "2024-10-18T13:42:30.651Z",
    "last_posted_at": "2024-10-21T12:20:42.411Z",
    "views": 176,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "jsx97",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 593
  },
  "posts": [
    {
      "id": 4178,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-18T13:42:30.776Z",
      "updated_at": "2024-10-18T13:48:52.250Z",
      "cooked": "<p>This question is not about Typst but typography, but I hope it won’t be off-topic here.</p>\n<p>I know ems are relative to the current font size and a point is simply 1/72 of an inch. But how to use this knowledge practically when deciding which one of them to use? That is, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true):  set block(fill: luma(240), inset: 10pt, radius: 4pt, width: 100%)\n#show raw.where(block: false): box.with(fill: luma(240), inset: (x: 3pt), outset: (y: 3pt), radius: 2pt)\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\nLorem ipsum ```rust fn main()``` dolor sit amet.\n</code></pre>\n<p>Does it make more sense to use points instead of ems here? Or not?</p>\n<p>And what are other typical examples of when one should prefer points instead of ems, or vice versa, ems instead of points? In other words, is there a common practice?</p>",
      "raw": "This question is not about Typst but typography, but I hope it won't be off-topic here.\n\nI know ems are relative to the current font size and a point is simply 1/72 of an inch. But how to use this knowledge practically when deciding which one of them to use? That is, for example:\n\n````typ\n#show raw.where(block: true):  set block(fill: luma(240), inset: 10pt, radius: 4pt, width: 100%)\n#show raw.where(block: false): box.with(fill: luma(240), inset: (x: 3pt), outset: (y: 3pt), radius: 2pt)\n\n```rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n\nLorem ipsum ```rust fn main()``` dolor sit amet.\n````\n\nDoes it make more sense to use points instead of ems here? Or not?\n\nAnd what are other typical examples of when one should prefer points instead of ems, or vice versa, ems instead of points? In other words, is there a common practice?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 541.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4183,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-18T18:59:58.442Z",
      "updated_at": "2024-10-18T18:59:58.442Z",
      "cooked": "<p>You usually want to use <code>em</code> when your layout should stay the same relative to your font size, such that relatively speaking, when you increase or decrease your font size, the spacing between headings for example scales up/down at the same rate.</p>\n<p>If you want the measurement or spacing to stay the same no matter what, <code>pt</code> or at that point even <code>mm</code> or <code>cm</code> is very useful.</p>",
      "raw": "You usually want to use `em` when your layout should stay the same relative to your font size, such that relatively speaking, when you increase or decrease your font size, the spacing between headings for example scales up/down at the same rate.\n\nIf you want the measurement or spacing to stay the same no matter what, `pt` or at that point even `mm` or `cm` is very useful.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4184,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-18T19:04:50.230Z",
      "updated_at": "2024-10-18T19:04:50.230Z",
      "cooked": "<p>Thanks, yes, I understand these things. I’m looking for some real-life examples.</p>",
      "raw": "Thanks, yes, I understand these things. I'm looking for some real-life examples.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4213,
      "post_number": 4,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-19T08:13:29.073Z",
      "updated_at": "2024-10-19T08:14:05.058Z",
      "cooked": "<p>I’m not that experienced with typesetting, but I’ve used Typst for creating summaries for classes I took. We were allowed to take these printed out summaries with us for the exam. Some professors limited us to just a single sheet of paper, so in order to get everything I wanted onto the page, I’ve modified my template to take a columns and font size parameter.<br>\nWhile this worked, the spacing, table lines and everything else stayed the same because I’ve specified them all in pt. By converting them into ems, the sizing of everything stayed uniform, no matter the amount of columns or the font size.</p>\n<p>This may or may be not the case with your documents where you have differing font sizes, but I’d say generally use relative units (em, percentages) unless you have a specific need for something to stay the same size. This also makes it easier to make larger changes to your template later.</p>",
      "raw": "I'm not that experienced with typesetting, but I've used Typst for creating summaries for classes I took. We were allowed to take these printed out summaries with us for the exam. Some professors limited us to just a single sheet of paper, so in order to get everything I wanted onto the page, I've modified my template to take a columns and font size parameter.\nWhile this worked, the spacing, table lines and everything else stayed the same because I've specified them all in pt. By converting them into ems, the sizing of everything stayed uniform, no matter the amount of columns or the font size.\n\nThis may or may be not the case with your documents where you have differing font sizes, but I'd say generally use relative units (em, percentages) unless you have a specific need for something to stay the same size. This also makes it easier to make larger changes to your template later.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4401,
      "post_number": 6,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-21T12:20:42.411Z",
      "updated_at": "2024-10-21T12:21:23.022Z",
      "cooked": "<p>After some research in the context of CSS, it seems the answer is, if putting what I’ve found back in the context of Typst:</p>\n<ul>\n<li>\n<p>for page margins, use inches/cm/mm (or points)</p>\n</li>\n<li>\n<p>for body text, use points</p>\n</li>\n<li>\n<p>for other text (headings, footnotes), use ems</p>\n</li>\n<li>\n<p>for line spacing, use ems</p>\n</li>\n<li>\n<p>for things like padding, margin, border-radius, use ems</p>\n<p>But sometimes it is best to use points:</p>\n<blockquote>\n<p>My rule of thumb is if the margins or paddings are related to that element, they should be ems. <strong>If they’re global sizes, they should be pixels.</strong></p>\n</blockquote>\n</li>\n<li>\n<p>for hairline-width borders, use points.</p>\n<blockquote>\n<p>When to use px? The short answer is: rarely. The slightly longer answer is pixels can be used when sizing elements that do not need to scale relative to the user’s preferred font size. Borders are a great example. <strong>Designers often create hairline borders that are only 1 pixel wide. This likely doesn’t need to scale with a user’s preferred font size. Using relative widths for borders could mean they’re uneven and blurry.</strong></p>\n</blockquote>\n</li>\n<li>\n<p>for non-hairline-width borders, also use points. But if you really see you need ems, use ems.</p>\n</li>\n</ul>",
      "raw": "After some research in the context of CSS, it seems the answer is, if putting what I've found back in the context of Typst:\n\n- for page margins, use inches/cm/mm (or points)\n\n- for body text, use points\n\n- for other text (headings, footnotes), use ems\n\n- for line spacing, use ems\n\n- for things like padding, margin, border-radius, use ems\n\n  But sometimes it is best to use points:\n\n  > My rule of thumb is if the margins or paddings are related to that element, they should be ems. **If they're global sizes, they should be pixels.**\n\n- for hairline-width borders, use points.\n\n  > When to use px? The short answer is: rarely. The slightly longer answer is pixels can be used when sizing elements that do not need to scale relative to the user’s preferred font size. Borders are a great example. **Designers often create hairline borders that are only 1 pixel wide. This likely doesn’t need to scale with a user’s preferred font size. Using relative widths for borders could mean they're uneven and blurry.**\n\n- for non-hairline-width borders, also use points. But if you really see you need ems, use ems.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 48.4,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 477
    }
  ],
  "scraped_at": "2025-06-10T09:56:32.592456"
}
{
  "topic_metadata": {
    "id": 1185,
    "title": "Formatting a json key value data in a rectangle grid",
    "slug": "formatting-a-json-key-value-data-in-a-rectangle-grid",
    "posts_count": 5,
    "created_at": "2024-10-18T16:46:35.225Z",
    "last_posted_at": "2024-10-20T08:39:47.409Z",
    "views": 273,
    "like_count": 2,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "layout",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 571
  },
  "posts": [
    {
      "id": 4181,
      "post_number": 1,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-18T16:46:35.533Z",
      "updated_at": "2024-10-23T13:28:37.304Z",
      "cooked": "<p>Hello all,</p>\n<p>I am pretty new with typst and trying to learn typst by generating one existing pdf from json data. I am mainly exploring typst for generating pdf automatically from (json) data.  This used to be generated using LaTeX + jinja work flow and I am trying to convert it to typst.</p>\n<p>I have gone through the documentation as well as <a href=\"https://sitandr.github.io/typst-examples-book/book/about.html\" rel=\"noopener nofollow ugc\">Typst Examples Book</a>, but I have not yet reached a level of proficiency to ask specific questions, thus this question is pretty general.</p>\n<p>I have an input data as follows:</p>\n<pre data-code-wrap=\"json\"><code class=\"lang-json\">{\n    \"Header\": {\n        \"Name\": \"John Doe\",\n        \"Branch Name\": \"New York\",\n        \"Communication Address\": \"123 Infinite Loop, Acme City, New York\",\n        \"Regd. Mobile Number\": \"123456789\",\n        \"Address Last Updated On\": \"14/11/2018\",\n        \"Customer ID\": \"1294786589\"\n    }\n}\n</code></pre>\n<p>I am trying to format this approximately as the figure below:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/c77f3661b9d05390efaa1541b8b234918d5ec971.jpeg\" alt=\"screen01\" data-base62-sha1=\"ssPzdm73LrSyAHJnfxYcSZ3PMtP\" width=\"681\" height=\"193\"></p>\n<p>The above image consists of two columns of key value data. Each column consists of a key, flexible space, a <code>:</code> followed by value. All the <code>:</code> are lined up in one column. But contrary to what is displayed here, rows in each column need not align with each other. For example the “Customer ID” need not align itsel with “Address Last Updated On” and can follow immediately after “Regd. Mobile Number” after a fixed gutter.</p>\n<p>How can I go about formatting such a grid in Typst?</p>",
      "raw": "Hello all,\n\nI am pretty new with typst and trying to learn typst by generating one existing pdf from json data. I am mainly exploring typst for generating pdf automatically from (json) data.  This used to be generated using LaTeX + jinja work flow and I am trying to convert it to typst. \n\nI have gone through the documentation as well as [Typst Examples Book](https://sitandr.github.io/typst-examples-book/book/about.html), but I have not yet reached a level of proficiency to ask specific questions, thus this question is pretty general. \n\nI have an input data as follows:\n```json\n{\n    \"Header\": {\n        \"Name\": \"John Doe\",\n        \"Branch Name\": \"New York\",\n        \"Communication Address\": \"123 Infinite Loop, Acme City, New York\",\n        \"Regd. Mobile Number\": \"123456789\",\n        \"Address Last Updated On\": \"14/11/2018\",\n        \"Customer ID\": \"1294786589\"\n    }\n}\n```\nI am trying to format this approximately as the figure below:\n![screen01|681x193](upload://ssPzdm73LrSyAHJnfxYcSZ3PMtP.jpeg)\n\nThe above image consists of two columns of key value data. Each column consists of a key, flexible space, a `:` followed by value. All the `:` are lined up in one column. But contrary to what is displayed here, rows in each column need not align with each other. For example the \"Customer ID\" need not align itsel with \"Address Last Updated On\" and can follow immediately after \"Regd. Mobile Number\" after a fixed gutter. \n\nHow can I go about formatting such a grid in Typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 1350.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4216,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-19T08:33:09.112Z",
      "updated_at": "2024-10-19T08:33:09.112Z",
      "cooked": "<p>You image is basically a table without strokes, so we can simply use <code>table</code> to arrange contents.</p>\n<p>To automatically generate document from json data, we can use <code>json</code> to read data as a <code>dict</code> and get everything provided.</p>\n<p>A example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let data = json(\"data.json\").at(\"Header\")\n\n#set page(width: 460pt, height: auto, margin: 10pt)\n\n#rect(\n  table(\n    stroke: none,\n    columns: 4,\n    rows: auto,\n    ..data.keys().map(k =&gt; (k, \": \" + data.at(k))).flatten()\n  ),\n)\n</code></pre>\n<p>gives<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8.png\" data-download-href=\"https://forum.typst.app/uploads/default/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8\" title=\"ttest\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8_2_690x144.png\" alt=\"ttest\" data-base62-sha1=\"uiyFB8W1P0deGzJlrttLUBV5AJG\" width=\"690\" height=\"144\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8_2_690x144.png, https://forum.typst.app/uploads/default/original/1X/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8.png 1.5x, https://forum.typst.app/uploads/default/original/1X/d45a4a740bc6b7fb3c2530bfd2cb4d17eb08cee8.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">ttest</span><span class=\"informations\">920×192 68.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You image is basically a table without strokes, so we can simply use `table` to arrange contents.\n\nTo automatically generate document from json data, we can use `json` to read data as a `dict` and get everything provided.\n\nA example:\n```typ\n#let data = json(\"data.json\").at(\"Header\")\n\n#set page(width: 460pt, height: auto, margin: 10pt)\n\n#rect(\n  table(\n    stroke: none,\n    columns: 4,\n    rows: auto,\n    ..data.keys().map(k => (k, \": \" + data.at(k))).flatten()\n  ),\n)\n```\n\ngives\n![ttest|690x144](upload://uiyFB8W1P0deGzJlrttLUBV5AJG.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4284,
      "post_number": 3,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T07:12:49.322Z",
      "updated_at": "2024-10-20T07:12:49.322Z",
      "cooked": "<p>Thanks a lot, this almost works.<br>\nJust a bit of nitpick.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/16f654e727d883b0f48475d46922009f079c8132.png\" data-download-href=\"https://forum.typst.app/uploads/default/16f654e727d883b0f48475d46922009f079c8132\" title=\"ttest(1)\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/16f654e727d883b0f48475d46922009f079c8132_2_690x144.png\" alt=\"ttest(1)\" data-base62-sha1=\"3h8gAc7hB3W2vqXaLwQlARoIRma\" width=\"690\" height=\"144\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/16f654e727d883b0f48475d46922009f079c8132_2_690x144.png, https://forum.typst.app/uploads/default/original/1X/16f654e727d883b0f48475d46922009f079c8132.png 1.5x, https://forum.typst.app/uploads/default/original/1X/16f654e727d883b0f48475d46922009f079c8132.png 2x\" data-dominant-color=\"F0F0EF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">ttest(1)</span><span class=\"informations\">920×192 55.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>It will be perfect if the full text is rendered along the green line. I understand that my original example too was like the image in the answer.</p>\n<p>Also the order of how the items appear in the table is determined by column major arrangement of how the data is structured in the incoming data. If it can be made row major, it will be easy for me to output the json in the way I want it to appear in the output.</p>\n<p>Thanks!</p>",
      "raw": "Thanks a lot, this almost works. \nJust a bit of nitpick.\n![ttest(1)|690x144](upload://3h8gAc7hB3W2vqXaLwQlARoIRma.png)\n\nIt will be perfect if the full text is rendered along the green line. I understand that my original example too was like the image in the answer. \n\nAlso the order of how the items appear in the table is determined by column major arrangement of how the data is structured in the incoming data. If it can be made row major, it will be easy for me to output the json in the way I want it to appear in the output.\n\nThanks!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4288,
      "post_number": 4,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-20T07:59:46.945Z",
      "updated_at": "2024-10-20T07:59:46.945Z",
      "cooked": "<p>Regarding text alignment, we can place <code>:</code> in its own column, like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#rect(\n  table(\n    stroke: none,\n    columns: 6,\n    column-gutter: (0em, -0.7em) * 2,\n    rows: auto,\n    ..data.keys().map(k =&gt; (k, \":\", data.at(k))).flatten()\n  ),\n)\n</code></pre>\n<p>Note that <code>column-gutter</code> was set because placing <code>:</code> in its own column makes it too far from the text that follows it. We can adjust this by setting <code>column-gutter</code>.</p>\n<p>Regarding the order of data arrangement, you can transpose it when exporting the JSON, or you can transpose it in Typst like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 460pt, height: auto, margin: 10pt)\n\n#let data = json(\"data.json\").at(\"Header\")\n\n#let data-arr = data.keys().map(k =&gt; (k, data.at(k))).chunks(3)\n#let data-arr = array.zip(..data-arr)\n\n#rect(\n  table(\n    stroke: none,\n    columns: 6,\n    column-gutter: (0em, -0.7em) * 2,\n    rows: auto,\n    ..data-arr.map(\n      r =&gt; r.map(\n        c =&gt; (c.at(0), \":\", c.at(1))\n      )\n    ).flatten()\n  ),\n)\n</code></pre>",
      "raw": "Regarding text alignment, we can place `:` in its own column, like this:\n\n```typ\n#rect(\n  table(\n    stroke: none,\n    columns: 6,\n    column-gutter: (0em, -0.7em) * 2,\n    rows: auto,\n    ..data.keys().map(k => (k, \":\", data.at(k))).flatten()\n  ),\n)\n```\n\nNote that `column-gutter` was set because placing `:` in its own column makes it too far from the text that follows it. We can adjust this by setting `column-gutter`.\n\nRegarding the order of data arrangement, you can transpose it when exporting the JSON, or you can transpose it in Typst like this:\n```typ\n#set page(width: 460pt, height: auto, margin: 10pt)\n\n#let data = json(\"data.json\").at(\"Header\")\n\n#let data-arr = data.keys().map(k => (k, data.at(k))).chunks(3)\n#let data-arr = array.zip(..data-arr)\n\n#rect(\n  table(\n    stroke: none,\n    columns: 6,\n    column-gutter: (0em, -0.7em) * 2,\n    rows: auto,\n    ..data-arr.map(\n      r => r.map(\n        c => (c.at(0), \":\", c.at(1))\n      )\n    ).flatten()\n  ),\n)\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 38.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4291,
      "post_number": 5,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T08:39:47.409Z",
      "updated_at": "2024-10-20T08:39:47.409Z",
      "cooked": "<p>Thanks! This works perfectly!</p>",
      "raw": "Thanks! This works perfectly!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    }
  ],
  "scraped_at": "2025-06-10T09:56:31.893914"
}
{
  "topic_metadata": {
    "id": 1188,
    "title": "How to set up Math Context Snippets in VSCode?",
    "slug": "how-to-set-up-math-context-snippets-in-vscode",
    "posts_count": 2,
    "created_at": "2024-10-18T20:04:48.376Z",
    "last_posted_at": "2024-10-18T20:22:19.262Z",
    "views": 177,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Sinthoras",
    "tags": [
      "tooling",
      "vscode"
    ],
    "category_id": 5,
    "participant_count": 1,
    "word_count": 201
  },
  "posts": [
    {
      "id": 4186,
      "post_number": 1,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-18T20:04:48.471Z",
      "updated_at": "2024-10-23T12:09:12.425Z",
      "cooked": "<p>I tried to set up some snippets, that make inputing typst code faster which is always nice, but necessary for writing in lectures. The original idea came from <a href=\"https://castel.dev/post/lecture-notes-1/\" rel=\"noopener nofollow ugc\">this blogpost</a> and was for LaTeX.</p>\n<p>I did find <a href=\"https://www.jskherman.com/blog/typst-snippets/\" rel=\"noopener nofollow ugc\">this blogpost</a> which seems to do exactly what I want: it told me how to adapt this to Typst and VSCode. But setting this up, it didn’t work. The snippets outside of the math context work, but the ones inside the math context do not work.</p>\n<p>Has anyone got this to work? Is there another way of creating context sensitive auto expanding snippets in vscode?</p>",
      "raw": "I tried to set up some snippets, that make inputing typst code faster which is always nice, but necessary for writing in lectures. The original idea came from [this blogpost](https://castel.dev/post/lecture-notes-1/) and was for LaTeX. \n\nI did find [this blogpost](https://www.jskherman.com/blog/typst-snippets/) which seems to do exactly what I want: it told me how to adapt this to Typst and VSCode. But setting this up, it didn't work. The snippets outside of the math context work, but the ones inside the math context do not work.\n\nHas anyone got this to work? Is there another way of creating context sensitive auto expanding snippets in vscode?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 679.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 511
    },
    {
      "id": 4187,
      "post_number": 2,
      "username": "Sinthoras",
      "name": "",
      "created_at": "2024-10-18T20:22:19.262Z",
      "updated_at": "2024-10-18T20:22:19.262Z",
      "cooked": "<p>The reason the initial code did not work was because the contexts where defined wrong.<br>\nThe correct contexts are:</p>\n<pre><code class=\"lang-auto\">function math(context) { return context.scopes.some(s =&gt; s.startsWith(\"markup.math.typst\"));}\nfunction comment(context) {return context.scopes.some(s =&gt; s.startsWith(\"comment\"));}\nfunction code(context) {return context.scopes.some(s =&gt; s.startsWith(\"string.other.raw.typst\") || s.startsWith(\"markup.raw.block.typst\"));}\n</code></pre>\n<p>You can find the correct context by using the command <code>&gt; Inspect Editor Tokens and Scopes</code> and look at the <code>textmate scopes</code>.</p>",
      "raw": "The reason the initial code did not work was because the contexts where defined wrong.\nThe correct contexts are: \n```\nfunction math(context) { return context.scopes.some(s => s.startsWith(\"markup.math.typst\"));}\nfunction comment(context) {return context.scopes.some(s => s.startsWith(\"comment\"));}\nfunction code(context) {return context.scopes.some(s => s.startsWith(\"string.other.raw.typst\") || s.startsWith(\"markup.raw.block.typst\"));}\n```\n\nYou can find the correct context by using the command `> Inspect Editor Tokens and Scopes` and look at the `textmate scopes`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 154.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 511
    }
  ],
  "scraped_at": "2025-06-10T09:56:31.162825"
}
{
  "topic_metadata": {
    "id": 1192,
    "title": "How to use a json property that may or may not exist?",
    "slug": "how-to-use-a-json-property-that-may-or-may-not-exist",
    "posts_count": 6,
    "created_at": "2024-10-19T02:35:21.008Z",
    "last_posted_at": "2024-10-23T13:04:51.009Z",
    "views": 298,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "afiaith",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 341
  },
  "posts": [
    {
      "id": 4195,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-19T02:35:21.202Z",
      "updated_at": "2024-10-19T02:35:21.202Z",
      "cooked": "<p>Currently it gives an error:</p>\n<pre><code class=\"lang-auto\">error: dictionary does not contain key \"prop1\"\n</code></pre>\n<p>Maybe have a <code>javascript</code> style <code>data.prop1?</code> question mark</p>",
      "raw": "Currently it gives an error:\n```\nerror: dictionary does not contain key \"prop1\"\n```\nMaybe have a `javascript` style `data.prop1?` question mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 1446.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4197,
      "post_number": 2,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-19T02:51:02.408Z",
      "updated_at": "2024-10-19T02:51:02.408Z",
      "cooked": "<p>This is a general question about dictionaries. When you read a JSON file, you get either a dictionary (like in your case) or an array, depending on the content of the file. See this in the <a href=\"https://typst.app/docs/reference/data-loading/json/\">documentation</a>:</p>\n<blockquote>\n<p>JSON objects will be converted into Typst dictionaries, and JSON arrays will be converted into Typst arrays.</p>\n</blockquote>\n<p>So we want to know if a dictionary has a certain key. The way to do that is to check if a <code>str</code> key is <code>in</code> it’s <code>.keys()</code>, like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let mydict = (\n  name: \"Typst\",\n  born: 2019,\n)\n\n#if \"name\" in mydict.keys() [\n  It has a name.\n] else [\n  It doesn’t have a name.\n]\n\n#if \"expiration\" in mydict.keys() [\n  It has an expiration date.\n] else [\n  It doesn’t have an expiration date.\n]\n</code></pre>\n<p>Have fun Typsting ^_^</p>",
      "raw": "This is a general question about dictionaries. When you read a JSON file, you get either a dictionary (like in your case) or an array, depending on the content of the file. See this in the [documentation](https://typst.app/docs/reference/data-loading/json/):\n\n> JSON objects will be converted into Typst dictionaries, and JSON arrays will be converted into Typst arrays.\n\nSo we want to know if a dictionary has a certain key. The way to do that is to check if a `str` key is `in` it’s `.keys()`, like this:\n\n```typ\n#let mydict = (\n  name: \"Typst\",\n  born: 2019,\n)\n\n#if \"name\" in mydict.keys() [\n  It has a name.\n] else [\n  It doesn’t have a name.\n]\n\n#if \"expiration\" in mydict.keys() [\n  It has an expiration date.\n] else [\n  It doesn’t have an expiration date.\n]\n```\n\nHave fun Typsting ^_^",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 26.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 4198,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-19T03:05:48.931Z",
      "updated_at": "2024-10-19T03:05:48.931Z",
      "cooked": "<p>By the way, you don’t need to write <code>.keys()</code>, <code>\"key\" in dictionary</code> already checks whether that is a valid key in the given dictionary.</p>\n<p>Additionally, to mirror <code>?</code>, one can use the <code>at</code> function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let x = (a: 5).at(\"b\", default: none) \n#repr(x) // returns 'none'\n</code></pre>",
      "raw": "By the way, you don't need to write `.keys()`, `\"key\" in dictionary` already checks whether that is a valid key in the given dictionary.\n\nAdditionally, to mirror `?`, one can use the `at` function:\n\n```typ\n#let x = (a: 5).at(\"b\", default: none) \n#repr(x) // returns 'none'\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 45.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 4200,
      "post_number": 4,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-19T03:44:06.144Z",
      "updated_at": "2024-10-19T03:44:06.144Z",
      "cooked": "<p>Thanks! I didn’t know that <img src=\"https://forum.typst.app/images/emoji/apple/slightly_smiling_face.png?v=12\" title=\":slightly_smiling_face:\" class=\"emoji\" alt=\":slightly_smiling_face:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Thanks! I didn’t know that 🙂",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 4224,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-19T11:33:19.550Z",
      "updated_at": "2024-10-19T11:33:19.550Z",
      "cooked": "<p>If you need to access nested properties, you can also use <code>default: (:)</code> in the in-between layers, then you can call <code>at()</code> again even if the value didn’t exist:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let data = (a: 1, c: (d: 2))\ndata.a = #data.at(\"a\", default: none)\\  // 1\ndata.b = #data.at(\"b\", default: none)\\  // none\ndata.c.d = #data.at(\"c\", default: (:)).at(\"d\", default: none)\\  // 2\ndata.c.e = #data.at(\"c\", default: (:)).at(\"e\", default: none)\\  // none\ndata.f.g = #data.at(\"f\", default: (:)).at(\"g\", default: none)\\  // none\n</code></pre>",
      "raw": "If you need to access nested properties, you can also use `default: (:)` in the in-between layers, then you can call `at()` again even if the value didn't exist:\n```typ\n#let data = (a: 1, c: (d: 2))\ndata.a = #data.at(\"a\", default: none)\\  // 1\ndata.b = #data.at(\"b\", default: none)\\  // none\ndata.c.d = #data.at(\"c\", default: (:)).at(\"d\", default: none)\\  // 2\ndata.c.e = #data.at(\"c\", default: (:)).at(\"e\", default: none)\\  // none\ndata.f.g = #data.at(\"f\", default: (:)).at(\"g\", default: none)\\  // none\n```",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 27,
      "score": 85.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4550,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T13:04:51.009Z",
      "updated_at": "2024-10-23T13:04:51.009Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mgholam\">@mgholam</a>, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @mgholam, don’t forget to tick one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 13.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:30.415075"
}
{
  "topic_metadata": {
    "id": 1193,
    "title": "Is there any simple way of creating a three-line table like Latex?",
    "slug": "is-there-any-simple-way-of-creating-a-three-line-table-like-latex",
    "posts_count": 8,
    "created_at": "2024-10-19T03:27:45.896Z",
    "last_posted_at": "2025-06-04T11:23:55.320Z",
    "views": 627,
    "like_count": 17,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "afiaith",
    "tags": [
      "tables",
      "latex-migration"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 642
  },
  "posts": [
    {
      "id": 4199,
      "post_number": 1,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-19T03:27:46.005Z",
      "updated_at": "2024-10-19T11:18:41.246Z",
      "cooked": "<p>In Latex, a three-line table can be created by \\toprule, \\midrule and \\bottomrule. Is there any similar solution in Typst?</p>",
      "raw": "In Latex, a three-line table can be created by \\toprule, \\midrule and \\bottomrule. Is there any similar solution in Typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 78,
      "score": 3245.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    },
    {
      "id": 4202,
      "post_number": 2,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-10-19T04:14:20.519Z",
      "updated_at": "2024-10-19T04:14:20.519Z",
      "cooked": "<p>Sure. If you look at the documentation of the <a href=\"https://ctan.org/pkg/booktabs/\" rel=\"noopener nofollow ugc\"><code>booktab</code></a> package for LaTeX, you will find these two lengths:</p>\n<pre data-code-wrap=\"tex\"><code class=\"lang-tex\">\\heavyrulewidth=.08em\n\\lightrulewidth=.05em\n</code></pre>\n<p>So we can use them to mimic the <code>booktab</code> look, like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#set table(stroke: none)\n\n#let toprule = table.hline(stroke: 0.08em)\n#let bottomrule = toprule\n#let midrule = table.hline(stroke: 0.05em)\n\n#table(\n  columns: 2,\n  toprule,\n  table.header(\n    [Name],\n    [Made public]\n  ),\n  midrule,\n  [Typst], [2023],\n  LaTeX, [1984],\n  TeX, [1978],\n  bottomrule\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/5213b63feabbdf0ca8f78eba8edb803ac1fc9b91.png\" alt=\"a\" data-base62-sha1=\"bI5nSxgO9m6jc7kcvwQ0T4QRXwd\" width=\"291\" height=\"236\"></p>",
      "raw": "Sure. If you look at the documentation of the [`booktab`](https://ctan.org/pkg/booktabs/) package for LaTeX, you will find these two lengths:\n```tex\n\\heavyrulewidth=.08em\n\\lightrulewidth=.05em\n```\n\nSo we can use them to mimic the `booktab` look, like this:\n\n```typ\n#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#set table(stroke: none)\n\n#let toprule = table.hline(stroke: 0.08em)\n#let bottomrule = toprule\n#let midrule = table.hline(stroke: 0.05em)\n\n#table(\n  columns: 2,\n  toprule,\n  table.header(\n    [Name],\n    [Made public]\n  ),\n  midrule,\n  [Typst], [2023],\n  LaTeX, [1984],\n  TeX, [1978],\n  bottomrule\n)\n```\n\n![a|291x236](upload://bI5nSxgO9m6jc7kcvwQ0T4QRXwd.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 77,
      "score": 150.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 4287,
      "post_number": 3,
      "username": "shhuang",
      "name": "",
      "created_at": "2024-10-20T07:47:59.358Z",
      "updated_at": "2024-10-20T07:47:59.358Z",
      "cooked": "<p>Thank you very much!</p>",
      "raw": "Thank you very much!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 71,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 556
    },
    {
      "id": 6275,
      "post_number": 4,
      "username": "meuhor",
      "name": "meuhor",
      "created_at": "2024-12-03T09:41:55.660Z",
      "updated_at": "2024-12-03T09:41:55.660Z",
      "cooked": "<p>Thanks a lot for your answer. How can I make a “three-line table” template or somethings, while there are a lot of tables in a document, and it’s kind of tiring to write “toprule”/“midrule”/“bottomrule” in every table instance.</p>",
      "raw": "Thanks a lot for your answer. How can I make a \"three-line table\" template or somethings, while there are a lot of tables in a document, and it's kind of tiring to write \"toprule\"/\"midrule\"/\"bottomrule\" in every table instance.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 61,
      "score": 77.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 883
    },
    {
      "id": 6277,
      "post_number": 5,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-12-03T10:24:22.792Z",
      "updated_at": "2024-12-03T10:24:22.792Z",
      "cooked": "<p>You can create a function that does this for you.  This example takes a list of values as its only argument:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#let three-line-table(cells) = {\n  let toprule = table.hline(stroke: 0.08em)\n  let bottomrule = toprule\n  let midrule = table.hline(stroke: 0.05em)\n  table(\n    columns: 2,\n    stroke: none,\n    toprule,\n    table.header(..cells.slice(0, count: 2)),\n    midrule,\n    ..cells.slice(2),\n    bottomrule\n  )\n}\n\n#three-line-table(\n  (\n    [Name], [Made public],\n    [Typst], [2023],\n    LaTeX, [1984],\n    TeX, [1978],\n  )\n)\n</code></pre>\n<details>\n<summary>\nResult</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8e061b44f47385d5306ef5be80c1c60354c8592c.png\" alt=\"image\" data-base62-sha1=\"kgoSNXumVmjyrp2azHm5HG718Ys\" width=\"191\" height=\"149\"></p>\n</details>",
      "raw": "You can create a function that does this for you.  This example takes a list of values as its only argument:\n```typ\n#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#let three-line-table(cells) = {\n  let toprule = table.hline(stroke: 0.08em)\n  let bottomrule = toprule\n  let midrule = table.hline(stroke: 0.05em)\n  table(\n    columns: 2,\n    stroke: none,\n    toprule,\n    table.header(..cells.slice(0, count: 2)),\n    midrule,\n    ..cells.slice(2),\n    bottomrule\n  )\n}\n\n#three-line-table(\n  (\n    [Name], [Made public],\n    [Typst], [2023],\n    LaTeX, [1984],\n    TeX, [1978],\n  )\n)\n```\n\n[details=\"Result\"]\n![image|191x149](upload://kgoSNXumVmjyrp2azHm5HG718Ys.png)\n[/details]",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 55,
      "score": 65.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 11616,
      "post_number": 6,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2025-04-25T19:19:01.770Z",
      "updated_at": "2025-04-25T19:19:01.770Z",
      "cooked": "<p>Nice, but the solution you proposed is hard-coded to <code>columns: 2</code>. Here is a more general solution using <a href=\"https://typst.app/docs/reference/foundations/arguments/\"><code>arguments</code></a>; it uses the same arguments as a normal <code>table</code>, but adds another named one called <code>header</code>, which is an array of cells (I don’t know how to extract <code>table.header</code> from the arguments, so I put its content aside as an additional argument).</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#set page(\n  width: auto,\n  height: auto,\n  margin: 3em,\n)\n\n#set table(stroke: none)\n\n#let toprule = table.hline(stroke: 0.08em)\n#let bottomrule = toprule\n#let midrule = table.hline(stroke: 0.05em)\n\n#let booktab(..args) = {\n  let named = args.named()\n  let header = named.remove(\"header\")\n  table(\n    ..named,\n    toprule,\n    ..header,\n    midrule,\n    ..args.pos(),\n    bottomrule\n  )\n}\n\n#booktab(\n  columns: 2,\n  header: (\n    [Name],\n    [Made public],\n  ),\n  [Typst], [2023],\n  LaTeX, [1984],\n  TeX, [1978],\n)\n</code></pre>",
      "raw": "Nice, but the solution you proposed is hard-coded to `columns: 2`. Here is a more general solution using [`arguments`](https://typst.app/docs/reference/foundations/arguments/); it uses the same arguments as a normal `table`, but adds another named one called `header`, which is an array of cells (I don’t know how to extract `table.header` from the arguments, so I put its content aside as an additional argument).\n\n```typ\n#import \"@preview/metalogo:1.0.2\": TeX, LaTeX\n\n#set page(\n  width: auto,\n  height: auto,\n  margin: 3em,\n)\n\n#set table(stroke: none)\n\n#let toprule = table.hline(stroke: 0.08em)\n#let bottomrule = toprule\n#let midrule = table.hline(stroke: 0.05em)\n\n#let booktab(..args) = {\n  let named = args.named()\n  let header = named.remove(\"header\")\n  table(\n    ..named,\n    toprule,\n    ..header,\n    midrule,\n    ..args.pos(),\n    bottomrule\n  )\n}\n\n#booktab(\n  columns: 2,\n  header: (\n    [Name],\n    [Made public],\n  ),\n  [Typst], [2023],\n  LaTeX, [1984],\n  TeX, [1978],\n)\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 38,
      "score": 72.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 11621,
      "post_number": 7,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-26T13:09:30.459Z",
      "updated_at": "2025-04-26T13:10:26.931Z",
      "cooked": "<p>The <a href=\"https://typst.app/universe/package/rubber-article/\" class=\"inline-onebox\">rubber-article – Typst Universe</a> has a nice and easy way to do it, using <code>ctable</code>:</p>\n<blockquote>\n<p>This function will display a custom table. The table uses the <code>pillar</code> package under the hood to interact with the table in a similar manner as in Latex. This means, that the columns and vertical lines can be defined with a string. Furthermore, the table automatically adds 3 horizontal lines.</p>\n</blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/rubber-article:0.4.0\": ctable\n\n#ctable(\n  cols:\"l|cr\",\n  [A], [B], [C],\n ..range(1,16).map(str),\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8ec87d01c426b2f30ca94c5682c850ec93fecba8.png\" alt=\"image\" data-base62-sha1=\"kn7logEu3LIFFCaY7l69FabtjJK\" width=\"117\" height=\"176\"></p>",
      "raw": "The https://typst.app/universe/package/rubber-article/ has a nice and easy way to do it, using `ctable`: \n\n> This function will display a custom table. The table uses the `pillar` package under the hood to interact with the table in a similar manner as in Latex. This means, that the columns and vertical lines can be defined with a string. Furthermore, the table automatically adds 3 horizontal lines.\n\n```typ\n#import \"@preview/rubber-article:0.4.0\": ctable\n\n#ctable(\n  cols:\"l|cr\",\n  [A], [B], [C],\n ..range(1,16).map(str),\n)\n```\n\n![image|117x176](upload://kn7logEu3LIFFCaY7l69FabtjJK.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 34,
      "score": 76.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 13682,
      "post_number": 8,
      "username": "Dawnfz",
      "name": "Lingfeng Xiong",
      "created_at": "2025-06-04T11:23:55.320Z",
      "updated_at": "2025-06-04T13:07:55.526Z",
      "cooked": "<p>Actually, a more applicable method is to define a style:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let three-line-table = it =&gt; {\n  if it.children.any(c =&gt; c.func() == table.hline) {\n    return it\n  }\n\n  let toprule = table.hline(stroke: 0.08em)\n  let bottomrule = toprule\n  let midrule = table.hline(stroke: 0.05em)\n\n  let meta = it.fields()\n  meta.stroke = none\n  meta.remove(\"children\")\n\n  let header = it.children.find(c =&gt; c.func() == table.header)\n  let cells = it.children.filter(c =&gt; c.func() == table.cell)\n  if header == none {\n    let columns = meta.columns.len()\n    header = table.header(..cells.slice(0, columns))\n    cells = cells.slice(columns)\n  }\n\n  return table(\n    ..meta,\n    toprule,\n    header,\n    midrule,\n    ..cells,\n    bottomrule,\n  )\n}\n</code></pre>\n<p>And you can use it as:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show table: three-line-table\n\n#table(\n  columns: 2,\n  align: center,\n  table.header([*Name*], [*Made public*]),\n  [Typst], [2023],\n  [LaTeX], [1984],\n  [TeX], [1978]\n)\n</code></pre>\n<p>In that way, you don’t need to define additional functions and can use all parameters of table.</p>\n<details>\n<summary>\nResult</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0fa489a9f703f0ab7f4c9d6bc82dad7477b2f130.png\" data-download-href=\"https://forum.typst.app/uploads/default/0fa489a9f703f0ab7f4c9d6bc82dad7477b2f130\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0fa489a9f703f0ab7f4c9d6bc82dad7477b2f130.png\" alt=\"image\" data-base62-sha1=\"2enGjL5a5zayBMG2zthMerrBf5m\" width=\"325\" height=\"186\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">325×186 4.71 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Actually, a more applicable method is to define a style:\n```typst\n#let three-line-table = it => {\n  if it.children.any(c => c.func() == table.hline) {\n    return it\n  }\n\n  let toprule = table.hline(stroke: 0.08em)\n  let bottomrule = toprule\n  let midrule = table.hline(stroke: 0.05em)\n\n  let meta = it.fields()\n  meta.stroke = none\n  meta.remove(\"children\")\n\n  let header = it.children.find(c => c.func() == table.header)\n  let cells = it.children.filter(c => c.func() == table.cell)\n  if header == none {\n    let columns = meta.columns.len()\n    header = table.header(..cells.slice(0, columns))\n    cells = cells.slice(columns)\n  }\n\n  return table(\n    ..meta,\n    toprule,\n    header,\n    midrule,\n    ..cells,\n    bottomrule,\n  )\n}\n```\n\nAnd you can use it as:\n```typst\n#show table: three-line-table\n\n#table(\n  columns: 2,\n  align: center,\n  table.header([*Name*], [*Made public*]),\n  [Typst], [2023],\n  [LaTeX], [1984],\n  [TeX], [1978]\n)\n```\nIn that way, you don't need to define additional functions and can use all parameters of table.\n\n[details=\"Result\"]\n![image|325x186](upload://2enGjL5a5zayBMG2zthMerrBf5m.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 16,
      "score": 53.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1703
    }
  ],
  "scraped_at": "2025-06-10T09:56:29.693079"
}
{
  "topic_metadata": {
    "id": 1194,
    "title": "How to remove spacing between content",
    "slug": "how-to-remove-spacing-between-content",
    "posts_count": 4,
    "created_at": "2024-10-19T04:02:50.162Z",
    "last_posted_at": "2024-10-19T12:23:21.812Z",
    "views": 361,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 88
  },
  "posts": [
    {
      "id": 4201,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-19T04:02:50.264Z",
      "updated_at": "2024-10-23T13:07:55.127Z",
      "cooked": "<p>I have a <code>table</code> followed by a <code>grid</code>, and I would like to have no spacing between them (currently there is ~0.5cm white space)</p>",
      "raw": "I have a `table` followed by a `grid`, and I would like to have no spacing between them (currently there is ~0.5cm white space)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 1728.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4205,
      "post_number": 2,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-19T04:54:21.255Z",
      "updated_at": "2024-10-19T04:54:40.476Z",
      "cooked": "<p>Found it :</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(...)\n#v(-13pt) // moves grid up\t   \n#grid(...)\n</code></pre>",
      "raw": "Found it :\n```typ\n#table(...)\n#v(-13pt) // moves grid up\t   \n#grid(...)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 58.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4209,
      "post_number": 3,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-10-19T07:48:37.379Z",
      "updated_at": "2024-10-19T07:48:37.379Z",
      "cooked": "<p>If you do not want to hard-code the value, you can use <code>#v(0pt, weak: true)</code> instead. With <code>weak: true</code>, it will consume the existing spacing.</p>",
      "raw": "If you do not want to hard-code the value, you can use `#v(0pt, weak: true)` instead. With `weak: true`, it will consume the existing spacing.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 45,
      "score": 78.6,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 4229,
      "post_number": 4,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-19T12:23:21.812Z",
      "updated_at": "2024-10-19T12:23:21.812Z",
      "cooked": "<p>Thanks!<br>\nAlthough it did not work with page header and a table after, I have to use a hard coded value <code>#v(-34pt)</code> in my case.</p>",
      "raw": "Thanks!\nAlthough it did not work with page header and a table after, I have to use a hard coded value `#v(-34pt)` in my case.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 27.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    }
  ],
  "scraped_at": "2025-06-10T09:56:28.943194"
}
{
  "topic_metadata": {
    "id": 1197,
    "title": "How to \"spread\" a 2d array in table?",
    "slug": "how-to-spread-a-2d-array-in-table",
    "posts_count": 7,
    "created_at": "2024-10-19T05:44:34.810Z",
    "last_posted_at": "2024-10-20T08:41:22.937Z",
    "views": 494,
    "like_count": 4,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "scripting",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 641
  },
  "posts": [
    {
      "id": 4207,
      "post_number": 1,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-19T05:44:34.958Z",
      "updated_at": "2024-10-19T11:50:57.270Z",
      "cooked": "<p>Hi,</p>\n<p>I have a 2d array defined in a json file with following structure</p>\n<pre data-code-wrap=\"json\"><code class=\"lang-json\">[\n    [\n        \"Date\",\n        \"Tran Type\",\n        \"Tran ID\",\n        \"Withdrawals\",\n        \"Deposits\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S81420904\",\n        \"700.00\",\n        \"\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S84554541\",\n        \"\",\n        \"1.01\"\n    ]\n]\n</code></pre>\n<p>I am looking to format this as a table. The first row is the header and after that it’s data rows. The attempt I have made is as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let txn = json(\"data1.json\")\n\n#txn.at(0)\n\n#let to_content(r) = [#r.at(0) #r.at(1) #r.at(2) #r.at(3) #r.at(4)]\n\n#table(\n  columns: 5,\n  to_content(..txn)\n)\n</code></pre>\n<p>Which obviously is not working. Is there a means to format the 2d array as a table directly?</p>",
      "raw": "Hi,\n\nI have a 2d array defined in a json file with following structure\n```json\n[\n    [\n        \"Date\",\n        \"Tran Type\",\n        \"Tran ID\",\n        \"Withdrawals\",\n        \"Deposits\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S81420904\",\n        \"700.00\",\n        \"\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S84554541\",\n        \"\",\n        \"1.01\"\n    ]\n]\n```\n\nI am looking to format this as a table. The first row is the header and after that it's data rows. The attempt I have made is as follows:\n\n```typ\n#let txn = json(\"data1.json\")\n\n#txn.at(0)\n\n#let to_content(r) = [#r.at(0) #r.at(1) #r.at(2) #r.at(3) #r.at(4)]\n\n#table(\n  columns: 5,\n  to_content(..txn)\n)\n```\nWhich obviously is not working. Is there a means to format the 2d array as a table directly?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 2345.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4215,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-19T08:22:15.064Z",
      "updated_at": "2024-10-19T08:22:15.064Z",
      "cooked": "<p>Use <code>array.flatten()</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let txn = json(\"data1.json\")\n\n#table(\n  columns: 5,\n  ..txn.flatten()\n)\n</code></pre>",
      "raw": "Use `array.flatten()`:\n```typ\n#let txn = json(\"data1.json\")\n\n#table(\n  columns: 5,\n  ..txn.flatten()\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 79.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4283,
      "post_number": 3,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T06:28:25.295Z",
      "updated_at": "2024-10-20T06:28:25.295Z",
      "cooked": "<p>Thanks! Its working fine.</p>\n<p>Just a followup question about how <code>flatten()</code> work here. I can understand that the <code>..</code> spread operator converts the resultent arraay into individual rows that can be used by <code>#table</code> . But I could not yet fully understand the <code>flatten()</code> operator. The table expects (in my faulty understanding) data in the form of a row, which is what each row of <code>..txn</code> provides, what additional facility does <code>flatten()</code> provides?</p>\n<p>The reference also do not shed much light into the implication of <code>flatten()</code></p>\n<blockquote>\n<p>Combine all nested arrays into a single flat one.</p>\n</blockquote>\n<p>Thanks!</p>",
      "raw": "Thanks! Its working fine. \n\nJust a followup question about how `flatten()` work here. I can understand that the `..` spread operator converts the resultent arraay into individual rows that can be used by `#table` . But I could not yet fully understand the `flatten()` operator. The table expects (in my faulty understanding) data in the form of a row, which is what each row of `..txn` provides, what additional facility does `flatten()` provides?\n\nThe reference also do not shed much light into the implication of `flatten()`\n> Combine all nested arrays into a single flat one.\n\nThanks!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 23.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4285,
      "post_number": 4,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-20T07:24:16.483Z",
      "updated_at": "2024-10-20T07:24:16.483Z",
      "cooked": "<ul>\n<li>\n<p>What does <code>flatten</code> do?<br>\n<code>flatten()</code> converts a multi-dimensional array into a one-dimensional array. For example, in your case, <code>txn</code> is a 2D array (which means elements in array are 1D array) like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">(\n    (\n        \"Date\",\n        \"Tran Type\",\n        \"Tran ID\",\n        \"Withdrawals\",\n        \"Deposits\"\n    ),\n    (\n        \"01/05/2024\",\n        \"TFR\",\n        \"S81420904\",\n        \"700.00\",\n        \"\"\n    ),\n    (\n        \"01/05/2024\",\n        \"TFR\",\n        \"S84554541\",\n        \"\",\n        \"1.01\"\n    )\n)\n</code></pre>\n<p>and <code>txn.flatten()</code> returns a 1D array like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">(\n    \"Date\",\n    \"Tran Type\",\n    \"Tran ID\",\n    \"Withdrawals\",\n    \"Deposits\",\n    \"01/05/2024\",\n    \"TFR\",\n    \"S81420904\",\n    \"700.00\",\n    \"\",\n    \"01/05/2024\",\n    \"TFR\",\n    \"S84554541\",\n    \"\",\n    \"1.01\",\n)\n</code></pre>\n</li>\n<li>\n<p>What should we provide to <code>table</code> ?<br>\nThe <code>table</code> does not treat cells from different columns differently, so you don’t need to use other functions (like your <code>to_content</code>) to construct a complete row. Instead, we should provide the table with individual cell content.</p>\n<p>Simply using <code>..array.flatten()</code> works because the data you provide comes in groups of five, and the table is set to have five columns, so each group of data perfectly fills one row.</p>\n</li>\n<li>\n<p>About <code>..</code> operator<br>\nBasically, you can think of the <code>..</code> operator as removing the brackets from around the list. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let txn = (\n  (\n    \"Date\",\n    \"Tran Type\",\n  ),\n  (\n    \"01/05/2024\",\n    \"TFR\",\n  ),\n)\n#table(columns: 2, ..txn)\n</code></pre>\n<p>is equivalent to (simply replacing the variable):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(columns: 2, ..(\n  (\n    \"Date\",\n    \"Tran Type\",\n  ),\n  (\n    \"01/05/2024\",\n    \"TFR\",\n  ),\n))\n</code></pre>\n<p>is equivalent to (spread <code>array</code> with <code>..</code>)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 2,\n  (\n    \"Date\",\n    \"Tran Type\",\n  ),\n  (\n    \"01/05/2024\",\n    \"TFR\",\n  ),\n)\n</code></pre>\n<p>This won’t work because <code>table</code> does not accept <code>array</code> as row, (it receives <code>str</code> or <code>content</code> as individual cell, as we mentioned above), but with <code>..txn.flatten()</code>, we will get:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 2,\n  \"Date\", \"Tran Type\",\n  \"01/05/2024\", \"TFR\",\n)\n</code></pre>\n<p>That’s exactly what we want.</p>\n</li>\n</ul>",
      "raw": "- What does `flatten` do?   \n  `flatten()` converts a multi-dimensional array into a one-dimensional array. For example, in your case, `txn` is a 2D array (which means elements in array are 1D array) like:\n  \n  ```typ\n  (\n      (\n          \"Date\",\n          \"Tran Type\",\n          \"Tran ID\",\n          \"Withdrawals\",\n          \"Deposits\"\n      ),\n      (\n          \"01/05/2024\",\n          \"TFR\",\n          \"S81420904\",\n          \"700.00\",\n          \"\"\n      ),\n      (\n          \"01/05/2024\",\n          \"TFR\",\n          \"S84554541\",\n          \"\",\n          \"1.01\"\n      )\n  )\n  ```\n  \n  and `txn.flatten()` returns a 1D array like:\n  \n  ```typ\n  (\n      \"Date\",\n      \"Tran Type\",\n      \"Tran ID\",\n      \"Withdrawals\",\n      \"Deposits\",\n      \"01/05/2024\",\n      \"TFR\",\n      \"S81420904\",\n      \"700.00\",\n      \"\",\n      \"01/05/2024\",\n      \"TFR\",\n      \"S84554541\",\n      \"\",\n      \"1.01\",\n  )\n  ```\n\n- What should we provide to `table` ?\n  The `table` does not treat cells from different columns differently, so you don't need to use other functions (like your `to_content`) to construct a complete row. Instead, we should provide the table with individual cell content.\n  \n  Simply using `..array.flatten()` works because the data you provide comes in groups of five, and the table is set to have five columns, so each group of data perfectly fills one row.\n\n- About `..` operator\n  Basically, you can think of the `..` operator as removing the brackets from around the list. For example:\n  ```typ\n  #let txn = (\n    (\n      \"Date\",\n      \"Tran Type\",\n    ),\n    (\n      \"01/05/2024\",\n      \"TFR\",\n    ),\n  )\n  #table(columns: 2, ..txn)\n  ```\n  is equivalent to (simply replacing the variable):\n  ```typ\n  #table(columns: 2, ..(\n    (\n      \"Date\",\n      \"Tran Type\",\n    ),\n    (\n      \"01/05/2024\",\n      \"TFR\",\n    ),\n  ))\n  ```\n  is equivalent to (spread `array` with `..`)\n  ```typ\n  #table(\n    columns: 2,\n    (\n      \"Date\",\n      \"Tran Type\",\n    ),\n    (\n      \"01/05/2024\",\n      \"TFR\",\n    ),\n  )\n  ```\n  This won't work because `table` does not accept `array` as row, (it receives `str` or `content` as individual cell, as we mentioned above), but with `..txn.flatten()`, we will get:\n  ```typ\n  #table(\n    columns: 2,\n    \"Date\", \"Tran Type\",\n    \"01/05/2024\", \"TFR\",\n  )\n  ```\n  That's exactly what we want.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 31,
      "score": 86.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4289,
      "post_number": 5,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T08:03:40.040Z",
      "updated_at": "2024-10-20T08:03:40.040Z",
      "cooked": "<p>Thanks for the helpful explanation! Couple of questions, if I may:</p>\n<p>In <code>..array.flatten()</code> in which order does the operations happen? ie does the <code>flatten()</code> happen first or does the <code>..</code> spread happen first?</p>\n<ol>\n<li>If <code>flatten()</code> happen first, then how does the <code>..</code> knows how to split the array into rows, because it will be just one big 1d array.</li>\n<li>If <code>..</code> happen first then we have a <em>collection</em> of 1d arrays, and the <code>flatten()</code> operator do not have a multi-dimentional array to work with. In this case, will it just return a just a <em>collection</em> of content?</li>\n</ol>",
      "raw": "Thanks for the helpful explanation! Couple of questions, if I may:\n\nIn `..array.flatten()` in which order does the operations happen? ie does the `flatten()` happen first or does the `..` spread happen first?\n\n1. If `flatten()` happen first, then how does the `..` knows how to split the array into rows, because it will be just one big 1d array.\n2. If `..` happen first then we have a _collection_ of 1d arrays, and the `flatten()` operator do not have a multi-dimentional array to work with. In this case, will it just return a just a _collection_ of content?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4290,
      "post_number": 6,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-20T08:08:47.170Z",
      "updated_at": "2024-10-20T08:08:47.170Z",
      "cooked": "<p><code>flatten()</code> happens first.</p>\n<p><code>..</code> <em>DOES NOT</em> split array. It just unpacks. <code>table</code> splits providing cells into rows based on <code>columns</code> argument.</p>",
      "raw": "`flatten()` happens first.\n\n`..` *DOES NOT* split array. It just unpacks. `table` splits providing cells into rows based on `columns` argument.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4292,
      "post_number": 7,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T08:41:22.937Z",
      "updated_at": "2024-10-20T08:41:22.937Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"ParaN3xus\" data-post=\"6\" data-topic=\"1197\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/paran3xus/48/32_2.png\" class=\"avatar\"> ParaN3xus:</div>\n<blockquote>\n<p><code>table</code> splits providing cells into rows based on <code>columns</code> argument.</p>\n</blockquote>\n</aside>\n<p>Thanks, that clarifies it!</p>",
      "raw": "[quote=\"ParaN3xus, post:6, topic:1197\"]\n`table` splits providing cells into rows based on `columns` argument.\n[/quote]\n\nThanks, that clarifies it!",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    }
  ],
  "scraped_at": "2025-06-10T09:56:28.233924"
}
{
  "topic_metadata": {
    "id": 1199,
    "title": "How to span the outline/table of content heading over multiple columns?",
    "slug": "how-to-span-the-outline-table-of-content-heading-over-multiple-columns",
    "posts_count": 4,
    "created_at": "2024-10-19T07:55:43.107Z",
    "last_posted_at": "2024-10-23T12:43:56.879Z",
    "views": 427,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "TheJanzap",
    "tags": [
      "layout",
      "outline",
      "page"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 447
  },
  "posts": [
    {
      "id": 4210,
      "post_number": 1,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-19T07:55:43.249Z",
      "updated_at": "2024-10-23T13:07:23.579Z",
      "cooked": "<p>In my template, I have an outline that spans over two columns.</p>\n<pre><code class=\"lang-auto\">columns(2, outline())\n</code></pre>\n<p>With Typst 0.12, it is possible to span elements over multiple columns and I was wondering if this could be used to span the heading of the outline over both columns.<br>\nParticularly so that the entries on the top right column start at the same place as the ones on the right, as they are currently offset by the heading.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/4ee1a5e5e7daff05bd01936b836ebe16c3149f10.png\" data-download-href=\"https://forum.typst.app/uploads/default/4ee1a5e5e7daff05bd01936b836ebe16c3149f10\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/4ee1a5e5e7daff05bd01936b836ebe16c3149f10_2_690x109.png\" alt=\"image\" data-base62-sha1=\"bfOGRHvPXz75doV56imCbYDdBxS\" width=\"690\" height=\"109\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/4ee1a5e5e7daff05bd01936b836ebe16c3149f10_2_690x109.png, https://forum.typst.app/uploads/default/original/1X/4ee1a5e5e7daff05bd01936b836ebe16c3149f10.png 1.5x, https://forum.typst.app/uploads/default/original/1X/4ee1a5e5e7daff05bd01936b836ebe16c3149f10.png 2x\" data-dominant-color=\"EDEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">756×120 35.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nAs seen here, I would like the chapter 9 entries to start at the place chapter 10 currently starts by spanning the heading across both colums</p>",
      "raw": "In my template, I have an outline that spans over two columns.\n```\ncolumns(2, outline())\n```\nWith Typst 0.12, it is possible to span elements over multiple columns and I was wondering if this could be used to span the heading of the outline over both columns.\nParticularly so that the entries on the top right column start at the same place as the ones on the right, as they are currently offset by the heading.\n![image|690x109](upload://bfOGRHvPXz75doV56imCbYDdBxS.png)\nAs seen here, I would like the chapter 9 entries to start at the place chapter 10 currently starts by spanning the heading across both colums",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 1846.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4217,
      "post_number": 2,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-10-19T08:38:21.629Z",
      "updated_at": "2024-10-19T08:38:21.629Z",
      "cooked": "<p>Remove the builtin outline title and write another title manually, like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#line(length: 50%, stroke: 2pt)\n#text(size: 1.5em, \"CONTENTS\")\n\n#columns(2, outline(title: none))\n\n#set heading(numbering: \"1.\")\n= ANN\n= LLM\n== Prompt Engineering\n== Blah\n== Blah\n== Blah\n</code></pre>",
      "raw": "Remove the builtin outline title and write another title manually, like\n```typ\n#line(length: 50%, stroke: 2pt)\n#text(size: 1.5em, \"CONTENTS\")\n\n#columns(2, outline(title: none))\n\n#set heading(numbering: \"1.\")\n= ANN\n= LLM\n== Prompt Engineering\n== Blah\n== Blah\n== Blah\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 21.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 4219,
      "post_number": 3,
      "username": "TheJanzap",
      "name": "",
      "created_at": "2024-10-19T09:11:01.702Z",
      "updated_at": "2024-10-19T09:11:34.298Z",
      "cooked": "<p>While it doesn’t seem that the outline header is styleable (or at least I couldn’t find it), I did implement something inspired by <a class=\"mention\" href=\"/u/paran3xus\">@ParaN3xus</a> solution</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#heading(outlined: false, numbering: none, \"Contents\")\n#columns(2, outline(title: none))\n</code></pre>\n<p>Depending on if you want this header to show up as a PDF bookmark, you can also add <code>bookmarked: false</code> to the heading.</p>",
      "raw": "While it doesn't seem that the outline header is styleable (or at least I couldn't find it), I did implement something inspired by @ParaN3xus solution\n\n```typ\n#heading(outlined: false, numbering: none, \"Contents\")\n#columns(2, outline(title: none))\n```\nDepending on if you want this header to show up as a PDF bookmark, you can also add `bookmarked: false` to the heading.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 101.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 132
    },
    {
      "id": 4544,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T12:43:56.879Z",
      "updated_at": "2024-10-23T13:22:59.659Z",
      "cooked": "<p>With 0.12, we got the ability to add multi-column floats, and using <code>set page(columns: ..)</code> is now the recommended way of styling things, even when there are page-spanning elements on the page – see e.g. <a href=\"https://forum.typst.app/t/line-numbering-behavior-and-page-layout/1215/2\" class=\"inline-onebox\">Line numbering behavior and page layout - #2 by xkevio</a> or <a href=\"https://github.com/typst/typst/issues/5215#issuecomment-2415525637\">this comment on a related Github issue</a>.</p>\n<p>This means that the question can now be cleanly answered like this (also demonstrating how to style the outline heading):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// this is only to make the outline's columns fill up\n// more quickly, so that I need to generate fewer headings\n#set page(paper: \"a5\", flipped: true)\n\n#set page(columns: 2)\n#set heading(numbering: \"1.\")\n\n#place(top, float: true, scope: \"parent\")[\n  (you can even have stuff before the outline' heading,\n  just also `place()` it at the top before the outline)\n]\n\n#{\n  // this show rule is scoped to the outline, which means\n  // it only affects a single heading\n  show heading: it =&gt; {\n    set block(\n      stroke: (top: 2pt),\n      inset: (top: 0.4em),\n      width: 100%,\n    )\n    // THE IMPORTANT BIT: place the outline heading at\n    // the top of the page, spanning both columns\n    place(top, float: true, scope: \"parent\", upper(it))\n  }\n  outline()\n}\n\n#pagebreak()\n// uncomment this if only the outline show be two-column\n// #set page(columns: 1)\n\n// some example content\n#for section in lorem(5).split(\" \") [\n  = #section\n  #for subsection in lorem(6).split(\" \") [\n    == #subsection\n    #lorem(10)\n  ]\n]\n</code></pre>",
      "raw": "With 0.12, we got the ability to add multi-column floats, and using `set page(columns: ..)` is now the recommended way of styling things, even when there are page-spanning elements on the page -- see e.g. https://forum.typst.app/t/line-numbering-behavior-and-page-layout/1215/2?u=sillyfreak or [this comment on a related Github issue](https://github.com/typst/typst/issues/5215#issuecomment-2415525637).\n\nThis means that the question can now be cleanly answered like this (also demonstrating how to style the outline heading):\n```typ\n// this is only to make the outline's columns fill up\n// more quickly, so that I need to generate fewer headings\n#set page(paper: \"a5\", flipped: true)\n\n#set page(columns: 2)\n#set heading(numbering: \"1.\")\n\n#place(top, float: true, scope: \"parent\")[\n  (you can even have stuff before the outline' heading,\n  just also `place()` it at the top before the outline)\n]\n\n#{\n  // this show rule is scoped to the outline, which means\n  // it only affects a single heading\n  show heading: it => {\n    set block(\n      stroke: (top: 2pt),\n      inset: (top: 0.4em),\n      width: 100%,\n    )\n    // THE IMPORTANT BIT: place the outline heading at\n    // the top of the page, spanning both columns\n    place(top, float: true, scope: \"parent\", upper(it))\n  }\n  outline()\n}\n\n#pagebreak()\n// uncomment this if only the outline show be two-column\n// #set page(columns: 1)\n\n// some example content\n#for section in lorem(5).split(\" \") [\n  = #section\n  #for subsection in lorem(6).split(\" \") [\n    == #subsection\n    #lorem(10)\n  ]\n]\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 26,
      "score": 75.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:27.492885"
}
{
  "topic_metadata": {
    "id": 1203,
    "title": "How can I tell Typst not to display warnings about packages including deprecated items?",
    "slug": "how-can-i-tell-typst-not-to-display-warnings-about-packages-including-deprecated-items",
    "posts_count": 5,
    "created_at": "2024-10-19T10:53:36.077Z",
    "last_posted_at": "2025-03-30T12:55:32.306Z",
    "views": 354,
    "like_count": 1,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "tooling",
      "web-app",
      "cli"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 302
  },
  "posts": [
    {
      "id": 4220,
      "post_number": 1,
      "username": "Bryn",
      "name": "Bryn Humberstone",
      "created_at": "2024-10-19T10:53:36.168Z",
      "updated_at": "2024-10-23T13:08:40.433Z",
      "cooked": "<p>Since updating to Typst 0.12 I have got a lot of warnings in my documents because of various changes meaning <code>#context</code> seems to be needed in lots of places.</p>\n<p>I can work my way through these changes and I’m sure there are good reasons for all the changes, but I also use packages which haven’t yet been updated and I would prefer not to have more than a screenful of warnings that I cannot do anything about. Basically it just trains me to ignore the output of the <code>typst watch</code> process, which means I then can miss crucial warnings/errors.</p>\n<p>Is there a way to flag to Typst, either at the command line level or in the document, that “yes, I know there is some issue here, but stop telling me about it please”?</p>\n<p>As an example of what I mean, the following minimal document generates more than a screenful of warnings.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/fletcher:0.5.1\" as fletcher: diagram, node, edge, shapes\n\n#diagram(\n  spacing: (30mm, 14mm),\n  node((0,1), [$i_1$], name: &lt;i1&gt;), \n  node((1,1), [$a_0$], name: &lt;a0&gt;), \n  node((2,1), [], stroke: none, name: &lt;output&gt;),\n  edge(&lt;i1&gt;, &lt;a0&gt;, [1], \"-|&gt;\",  label-anchor: \"south\"),\n  edge(&lt;a0&gt;, &lt;output&gt;, \"-|&gt;\")\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37.png\" data-download-href=\"https://forum.typst.app/uploads/default/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37_2_441x500.png\" alt=\"image\" data-base62-sha1=\"pgIIU486qE3G1lVYvf1oVdizSjt\" width=\"441\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37_2_441x500.png, https://forum.typst.app/uploads/default/optimized/1X/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37_2_661x750.png 1.5x, https://forum.typst.app/uploads/default/original/1X/b11a3c9c219b0f42dad2019e276d6aeb5baf2c37.png 2x\" data-dominant-color=\"555554\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">817×925 113 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Since updating to Typst 0.12 I have got a lot of warnings in my documents because of various changes meaning `#context` seems to be needed in lots of places.\n\nI can work my way through these changes and I'm sure there are good reasons for all the changes, but I also use packages which haven't yet been updated and I would prefer not to have more than a screenful of warnings that I cannot do anything about. Basically it just trains me to ignore the output of the `typst watch` process, which means I then can miss crucial warnings/errors.\n\nIs there a way to flag to Typst, either at the command line level or in the document, that \"yes, I know there is some issue here, but stop telling me about it please\"?\n\nAs an example of what I mean, the following minimal document generates more than a screenful of warnings. \n\n```typ\n#import \"@preview/fletcher:0.5.1\" as fletcher: diagram, node, edge, shapes\n\n#diagram(\n  spacing: (30mm, 14mm),\n  node((0,1), [$i_1$], name: <i1>), \n  node((1,1), [$a_0$], name: <a0>), \n  node((2,1), [], stroke: none, name: <output>),\n  edge(<i1>, <a0>, [1], \"-|>\",  label-anchor: \"south\"),\n  edge(<a0>, <output>, \"-|>\")\n)\n```\n\n\n![image|441x500](upload://pgIIU486qE3G1lVYvf1oVdizSjt.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 61,
      "score": 1447.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 389
    },
    {
      "id": 4228,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-19T12:12:31.061Z",
      "updated_at": "2024-10-19T12:12:31.061Z",
      "cooked": "<p>Unfortunately there is no warning suppression yet in the CLI, only in the web app. It is planned however with a general <code>#warn</code> system.</p>",
      "raw": "Unfortunately there is no warning suppression yet in the CLI, only in the web app. It is planned however with a general `#warn` system.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 71.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 10389,
      "post_number": 4,
      "username": "notPlancha",
      "name": "notPlancha",
      "created_at": "2025-03-29T06:55:53.556Z",
      "updated_at": "2025-03-29T06:55:53.556Z",
      "cooked": "<p>is there a github issue that is tracking progress on this?</p>",
      "raw": "is there a github issue that is tracking progress on this?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 16.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 301
    },
    {
      "id": 10412,
      "post_number": 5,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-03-30T11:24:57.486Z",
      "updated_at": "2025-03-30T11:24:57.486Z",
      "cooked": "<p>Would not perhaps the better suggestion be to raise an issue with developer of each warning package?</p>\n<p>It irritates me a lot, too, especially when using this within Sublime Text (with tinymist) but then patience is a virtue :-)-O</p>",
      "raw": "Would not perhaps the better suggestion be to raise an issue with developer of each warning package?\n\nIt irritates me a lot, too, especially when using this within Sublime Text (with tinymist) but then patience is a virtue :-)-O",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 10427,
      "post_number": 6,
      "username": "notPlancha",
      "name": "notPlancha",
      "created_at": "2025-03-30T12:55:32.306Z",
      "updated_at": "2025-03-30T12:55:32.306Z",
      "cooked": "<p>I think it makes sense for typst to have a way to dismiss earning, it’s useful even when not importing packages</p>",
      "raw": "I think it makes sense for typst to have a way to dismiss earning, it's useful even when not importing packages",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 301
    }
  ],
  "scraped_at": "2025-06-10T09:56:26.783561"
}
{
  "topic_metadata": {
    "id": 1204,
    "title": "Is it possible to make level-1 headings to work as running heads?",
    "slug": "is-it-possible-to-make-level-1-headings-to-work-as-running-heads",
    "posts_count": 7,
    "created_at": "2024-10-19T10:57:29.101Z",
    "last_posted_at": "2024-10-25T10:41:52.716Z",
    "views": 295,
    "like_count": 10,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout",
      "page",
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 742
  },
  "posts": [
    {
      "id": 4221,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T10:57:29.203Z",
      "updated_at": "2024-10-23T13:29:56.723Z",
      "cooked": "<p>Say you have a document like this one:</p>\n<p>Page 1:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">= A\n\nLorem ipsum dolor sit amet...\n\n= B\n\nLorem ipsum dolor sit amet...\n</code></pre>\n<p>Page 2:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Lorem ipsum dolor sit amet...\n\n= C\n\nLorem ipsum dolor sit amet...\n\n== X\n\nLorem ipsum dolor sit amet...\n\n== Y\n\nLorem ipsum dolor sit amet...\n\n= D\n\nLorem ipsum dolor sit amet...\n</code></pre>\n<p>Page 3:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Lorem ipsum dolor sit amet...\n\n= E\n\nLorem ipsum dolor sit amet...\n\n= F\n\nLorem ipsum dolor sit amet...\n</code></pre>\n<p>Is it possible to put the first level-1 heading on each page to its header, so that the header of the 1st page will be “A”, the header of the 2nd page will be “C”, and the header of the 3rd page will be “E”?</p>",
      "raw": "Say you have a document like this one:\n\nPage 1:\n\n```none\n= A\n\nLorem ipsum dolor sit amet...\n\n= B\n\nLorem ipsum dolor sit amet...\n```\n\nPage 2:\n\n```none\nLorem ipsum dolor sit amet...\n\n= C\n\nLorem ipsum dolor sit amet...\n\n== X\n\nLorem ipsum dolor sit amet...\n\n== Y\n\nLorem ipsum dolor sit amet...\n\n= D\n\nLorem ipsum dolor sit amet...\n```\n\nPage 3:\n\n```none\nLorem ipsum dolor sit amet...\n\n= E\n\nLorem ipsum dolor sit amet...\n\n= F\n\nLorem ipsum dolor sit amet...\n```\n\nIs it possible to put the first level-1 heading on each page to its header, so that the header of the 1st page will be \"A\", the header of the 2nd page will be \"C\", and the header of the 3rd page will be \"E\"?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 46,
      "score": 1109.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4222,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-19T11:19:09.406Z",
      "updated_at": "2024-10-19T11:19:09.406Z",
      "cooked": "<p>Usually I would recommend the <a href=\"https://typst.app/universe/package/hydra/\"><code>hydra</code></a> package for something like that, but it seems that it doesn’t support using the first heading on a page. Instead, it only supports using the last heading of the previous page(s), or the last heading of the current page.</p>\n<p>You can still implement what you want by running the query yourself without the package, which can then look something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(header: context {\n  // Find first level-1 heading on this page (if any).\n  let h = query(heading.where(level: 1).after(here()))\n    .filter(h =&gt; h.location().page() == here().page())\n    .at(0, default: none)\n\n  if h != none {\n    // Create number from counter value and numbering.\n    let number = if h.numbering != none {\n      numbering(h.numbering, ..counter(heading).at(h.location()))\n    }\n\n    // Display number and heading body (with space between).\n    [#number #h.body]\n  }\n})\n</code></pre>",
      "raw": "Usually I would recommend the [`hydra`](https://typst.app/universe/package/hydra/) package for something like that, but it seems that it doesn't support using the first heading on a page. Instead, it only supports using the last heading of the previous page(s), or the last heading of the current page.\n\nYou can still implement what you want by running the query yourself without the package, which can then look something like this:\n```typ\n#set page(header: context {\n  // Find first level-1 heading on this page (if any).\n  let h = query(heading.where(level: 1).after(here()))\n    .filter(h => h.location().page() == here().page())\n    .at(0, default: none)\n\n  if h != none {\n    // Create number from counter value and numbering.\n    let number = if h.numbering != none {\n      numbering(h.numbering, ..counter(heading).at(h.location()))\n    }\n\n    // Display number and heading body (with space between).\n    [#number #h.body]\n  }\n})\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 42,
      "score": 83.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4225,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T11:34:01.715Z",
      "updated_at": "2024-10-19T11:34:37.962Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/eric\">@Eric</a> Thanks a lot. Works perfecly, though there is one minor issue:</p>\n<p>Currently, if a page doesn’t have a level-1 heading, its header is blank. Whereas what I tried to achieve is that in such a case it should “borrow” the level-1 heading from the nearest previous page.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(header: context {\n  // Find first level-1 heading on this page (if any).\n  let h = query(heading.where(level: 1).after(here()))\n    .filter(h =&gt; h.location().page() == here().page())\n    .at(0, default: none)\n\n  if h != none {\n    // Create number from counter value and numbering.\n    let number = if h.numbering != none {\n      numbering(h.numbering, ..counter(heading).at(h.location()))\n    }\n\n    // Display number and heading body (with space between).\n    [#number #h.body]\n  }\n})\n\n// --\n\n= A\n\n#lorem(2000)\n\n= B\n\n#lorem(500)\n\n= C\n\n#lorem(2000)\n\n= D\n\n#lorem(500)\n</code></pre>\n<p>Here:</p>\n<ul>\n<li>the header of the pages 1-3 should be “A”</li>\n<li>the header of 4th page should be \"B</li>\n<li>the header of the pages 5-6 should be “C”</li>\n<li>the header of the pages 7-8 should be “D”</li>\n</ul>",
      "raw": "@Eric Thanks a lot. Works perfecly, though there is one minor issue:\n\nCurrently, if a page doesn't have a level-1 heading, its header is blank. Whereas what I tried to achieve is that in such a case it should \"borrow\" the level-1 heading from the nearest previous page.\n\n```typ\n#set page(header: context {\n  // Find first level-1 heading on this page (if any).\n  let h = query(heading.where(level: 1).after(here()))\n    .filter(h => h.location().page() == here().page())\n    .at(0, default: none)\n\n  if h != none {\n    // Create number from counter value and numbering.\n    let number = if h.numbering != none {\n      numbering(h.numbering, ..counter(heading).at(h.location()))\n    }\n\n    // Display number and heading body (with space between).\n    [#number #h.body]\n  }\n})\n\n// --\n\n= A\n\n#lorem(2000)\n\n= B\n\n#lorem(500)\n\n= C\n\n#lorem(2000)\n\n= D\n\n#lorem(500)\n```\n\nHere:\n\n- the header of the pages 1-3 should be \"A\"\n- the header of 4th page should be \"B\n- the header of the pages 5-6 should be \"C\"\n- the header of the pages 7-8 should be \"D\"",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 17.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4226,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-19T11:44:00.238Z",
      "updated_at": "2024-10-19T11:44:00.238Z",
      "cooked": "<p>In that case, you could run another query if the first one didn’t yield any results:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">let h = query(heading.where(level: 1).after(here()))\n  .filter(h =&gt; h.location().page() == here().page())\n  .at(0, default: {\n    // Fall back to last previous heading.\n    query(heading.where(level: 1).before(here())).at(-1, default: none)\n  })\n</code></pre>",
      "raw": "In that case, you could run another query if the first one didn't yield any results:\n```typc\nlet h = query(heading.where(level: 1).after(here()))\n  .filter(h => h.location().page() == here().page())\n  .at(0, default: {\n    // Fall back to last previous heading.\n    query(heading.where(level: 1).before(here())).at(-1, default: none)\n  })\n```",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 31.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4294,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-20T10:25:28.337Z",
      "updated_at": "2024-10-20T10:28:19.746Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/eric\">@Eric</a> , maybe you could you help once more?</p>\n<p>Here is a code I use to put page numbers in the outer top corners: that is, in the top left corner of the left page and in the top right corner of the right page.</p>\n<pre><code class=\"lang-auto\">#set page(header: context {\n  let page = counter(page).get().first()\n  align(if calc.odd(page) { right } else { left })[#page]\n})\n</code></pre>\n<p>Which gives:</p>\n<pre><code class=\"lang-auto\">┌────────────┐ ┌────────────╥────────────┐\n│          1 │ │ 2          ║          3 │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n└────────────┘ └────────────╨────────────┘\n</code></pre>\n<p>Could you show how to combine it with your solution, so that for left page the header will be something like</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">&lt;Page number&gt; #h(2em) &lt;Level-1 heading&gt;\n</code></pre>\n<p>and for the right page something like</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">&lt;Level-1 heading&gt; #h(2em) &lt;Page number&gt;\n</code></pre>\n<p>That is:</p>\n<pre><code class=\"lang-auto\">┌────────────┐ ┌────────────╥────────────┐\n│    Lorem 1 │ │ 2 Lorem    ║    Lorem 3 │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n└────────────┘ └────────────╨────────────┘\n</code></pre>",
      "raw": "@Eric , maybe you could you help once more?\n\nHere is a code I use to put page numbers in the outer top corners: that is, in the top left corner of the left page and in the top right corner of the right page.\n\n```\n#set page(header: context {\n  let page = counter(page).get().first()\n  align(if calc.odd(page) { right } else { left })[#page]\n})\n```\n\nWhich gives:\n\n```\n┌────────────┐ ┌────────────╥────────────┐\n│          1 │ │ 2          ║          3 │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n└────────────┘ └────────────╨────────────┘\n```\n\nCould you show how to combine it with your solution, so that for left page the header will be something like\n\n```none\n<Page number> #h(2em) <Level-1 heading>\n```\n\nand for the right page something like\n\n```none\n<Level-1 heading> #h(2em) <Page number>\n```\n\nThat is:\n\n```\n┌────────────┐ ┌────────────╥────────────┐\n│    Lorem 1 │ │ 2 Lorem    ║    Lorem 3 │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n│            │ │            ║            │\n└────────────┘ └────────────╨────────────┘\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4295,
      "post_number": 6,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-20T10:42:26.674Z",
      "updated_at": "2024-10-20T10:42:26.674Z",
      "cooked": "<p>Sure, you can store the previous output in a variable and use a stack with either <code>ltr</code> or <code>rtl</code> direction to show it next to the page. To align to the left or right of the page, use a <code>1fr</code> filler in the stack:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(header: context {\n  let h = query(...)\n\n  let h = if h != none {\n    ...\n    [#number #h.body]\n  }\n\n  // Get logical page number.\n  let numbering = if page.numbering != none { page.numbering } else { \"1\" }\n  let page = counter(page).display(numbering)\n\n  // Align right or left, based on physical page number.\n  stack(\n    dir: if calc.odd(here().page()) { rtl } else { ltr },\n    [#page], 2em, h, 1fr\n  )\n})\n</code></pre>",
      "raw": "Sure, you can store the previous output in a variable and use a stack with either `ltr` or `rtl` direction to show it next to the page. To align to the left or right of the page, use a `1fr` filler in the stack:\n```typ\n#set page(header: context {\n  let h = query(...)\n\n  let h = if h != none {\n    ...\n    [#number #h.body]\n  }\n\n  // Get logical page number.\n  let numbering = if page.numbering != none { page.numbering } else { \"1\" }\n  let page = counter(page).display(numbering)\n\n  // Align right or left, based on physical page number.\n  stack(\n    dir: if calc.odd(here().page()) { rtl } else { ltr },\n    [#page], 2em, h, 1fr\n  )\n})\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 28,
      "score": 55.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4665,
      "post_number": 7,
      "username": "Collete",
      "name": "Zeeqeen",
      "created_at": "2024-10-25T10:41:52.716Z",
      "updated_at": "2024-10-25T10:41:52.716Z",
      "cooked": "<p>That’s also what I want! Your question help me a lot! Maybe it should be marked as an example for the category of making a book.</p>",
      "raw": "That's also what I want! Your question help me a lot! Maybe it should be marked as an example for the category of making a book.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 676
    }
  ],
  "scraped_at": "2025-06-10T09:56:26.052136"
}
{
  "topic_metadata": {
    "id": 1207,
    "title": "How to adjust spacing between footnotes?",
    "slug": "how-to-adjust-spacing-between-footnotes",
    "posts_count": 2,
    "created_at": "2024-10-19T13:12:15.922Z",
    "last_posted_at": "2024-10-21T09:32:36.983Z",
    "views": 190,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "jsx97",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 1,
    "word_count": 308
  },
  "posts": [
    {
      "id": 4233,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T13:12:16.027Z",
      "updated_at": "2024-10-19T13:13:39.121Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(size: 10pt)\n#set par(first-line-indent: 1em, justify: true, leading: 1em, spacing: 1em)\n\n#show footnote.entry: set text(size: 30pt)\n#show footnote.entry: it =&gt; {set par(leading: 0.5em, spacing: 0.5em); it}\n#set footnote.entry(gap: 1em)\n\n#let fn1 = footnote[\n  #lorem(25)\n\n  #lorem(25)\n]\n\n#let fn2 = footnote[\n  #lorem(25)\n\n  #lorem(25)\n]\n\n// --\n\n#lorem(25)#fn1\n\n#lorem(50)#fn2\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/a0ea80ee67f0417a89f9162e6384b679d626dc06.png\" data-download-href=\"https://forum.typst.app/uploads/default/a0ea80ee67f0417a89f9162e6384b679d626dc06\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/a0ea80ee67f0417a89f9162e6384b679d626dc06_2_436x500.png\" alt=\"image\" data-base62-sha1=\"mXwOExEKS80aS9Vh6rgh5saN3Ui\" width=\"436\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/a0ea80ee67f0417a89f9162e6384b679d626dc06_2_436x500.png, https://forum.typst.app/uploads/default/optimized/1X/a0ea80ee67f0417a89f9162e6384b679d626dc06_2_654x750.png 1.5x, https://forum.typst.app/uploads/default/original/1X/a0ea80ee67f0417a89f9162e6384b679d626dc06.png 2x\" data-dominant-color=\"DDDDDD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">866×992 176 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p>I’m trying to understand what is the proper way to adjust spacing between footnotes, so that, for example, they will be separated with a blank line.</p>\n<p>For this, I added <code>#set footnote.entry(gap: 1em)</code>. But it seems that the size of its “em” corresponds not to the 30-pt foootnote text but to the 10-pt body text. Is it really so? Is it a bug?</p>",
      "raw": "```typ\n#set text(size: 10pt)\n#set par(first-line-indent: 1em, justify: true, leading: 1em, spacing: 1em)\n\n#show footnote.entry: set text(size: 30pt)\n#show footnote.entry: it => {set par(leading: 0.5em, spacing: 0.5em); it}\n#set footnote.entry(gap: 1em)\n\n#let fn1 = footnote[\n  #lorem(25)\n\n  #lorem(25)\n]\n\n#let fn2 = footnote[\n  #lorem(25)\n\n  #lorem(25)\n]\n\n// --\n\n#lorem(25)#fn1\n\n#lorem(50)#fn2\n```\n\n[details=\"Output\"]\n![image|436x500](upload://mXwOExEKS80aS9Vh6rgh5saN3Ui.png)\n[/details]\n\nI'm trying to understand what is the proper way to adjust spacing between footnotes, so that, for example, they will be separated with a blank line.\n\nFor this, I added `#set footnote.entry(gap: 1em)`. But it seems that the size of its \"em\" corresponds not to the 30-pt foootnote text but to the 10-pt body text. Is it really so? Is it a bug?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 827.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4387,
      "post_number": 2,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-21T09:32:36.983Z",
      "updated_at": "2024-10-21T10:05:42.105Z",
      "cooked": "<p>Yesterday I also asked on GitHub, and Laurenz answered (by combining his answer to me and to Andrew in August):</p>\n<blockquote>\n<p>All footnote properties are resolved relative to the styles shared by the whole page run (run of pages with same properties). Because of the current limitations, there isn’t much we can reasonably change here.</p>\n</blockquote>\n<p><a href=\"https://github.com/typst/typst/issues/5265\" rel=\"noopener nofollow ugc\">https://github.com/typst/typst/issues/5265</a></p>\n<p>So my current workaround is to specify the gap in points (or using a variable).</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(size: 10pt)\n#set par(first-line-indent: 1em, justify: true, leading: 1em, spacing: 1em)\n\n#show footnote.entry: set text(size: 50pt)\n#show footnote.entry: it =&gt; {set par(leading: 1em, spacing: 1em); it}\n#set footnote.entry(gap: 50pt) // It's not possible to use 1em, see\n                               // https://github.com/typst/typst/issues/5265\n\n// --\n\n#let fn1 = footnote[\n  #lorem(5)\n\n  #lorem(5)\n]\n\n#let fn2 = footnote[\n  #lorem(5)\n\n  #lorem(5)\n]\n\n#lorem(25)#fn1\n\n#lorem(50)#fn2\n</code></pre>\n<p>Probably I missed something and there is a better way to solve it. If so, let me know :)</p>",
      "raw": "Yesterday I also asked on GitHub, and Laurenz answered (by combining his answer to me and to Andrew in August):\n\n> All footnote properties are resolved relative to the styles shared by the whole page run (run of pages with same properties). Because of the current limitations, there isn't much we can reasonably change here.\n\n<https://github.com/typst/typst/issues/5265>\n\nSo my current workaround is to specify the gap in points (or using a variable).\n\n```typ\n#set text(size: 10pt)\n#set par(first-line-indent: 1em, justify: true, leading: 1em, spacing: 1em)\n\n#show footnote.entry: set text(size: 50pt)\n#show footnote.entry: it => {set par(leading: 1em, spacing: 1em); it}\n#set footnote.entry(gap: 50pt) // It's not possible to use 1em, see\n                               // https://github.com/typst/typst/issues/5265\n\n// --\n\n#let fn1 = footnote[\n  #lorem(5)\n\n  #lorem(5)\n]\n\n#let fn2 = footnote[\n  #lorem(5)\n\n  #lorem(5)\n]\n\n#lorem(25)#fn1\n\n#lorem(50)#fn2\n```\n\nProbably I missed something and there is a better way to solve it. If so, let me know :)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 20.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 477
    }
  ],
  "scraped_at": "2025-06-10T09:56:25.272647"
}
{
  "topic_metadata": {
    "id": 1211,
    "title": "How to customize outline.entry filling per level?",
    "slug": "how-to-customize-outline-entry-filling-per-level",
    "posts_count": 2,
    "created_at": "2024-10-19T14:23:55.198Z",
    "last_posted_at": "2024-10-20T11:13:55.077Z",
    "views": 540,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "alimgyeniyt",
    "tags": [
      "scripting",
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 1,
    "word_count": 227
  },
  "posts": [
    {
      "id": 4253,
      "post_number": 1,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-19T14:23:55.301Z",
      "updated_at": "2024-10-19T14:23:55.301Z",
      "cooked": "<p>this is my current show rule, i want to remove the filling for entries of level: 1. is there an easy way to do this ?</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show outline: it =&gt; {\n  state(\"in-outline\").update(true)\n  it\n  state(\"in-outline\").update(false)\n}\n\nshow outline.entry : it =&gt; {\n  if it.level == 1 {\n    v(0.25em)\n    smallcaps(strong(it))\n  }\n  else if it.level == 2 {\n    strong(it)\n  }\n  else {\n    text(style: \"italic\", it)\n  }\n} \n</code></pre>\n<p>some of what i tried what i tried</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">// before the `v(0.25em)`\nset outline(fill: none) \nshow outline.entry: set outline(fill: none)\nset outline.entry(fill: none)\n// ...\n</code></pre>\n<p>the docs say that all arguments for <code>outline.entry()</code> are positional and required and i don’t know how to fill all of them.</p>",
      "raw": "this is my current show rule, i want to remove the filling for entries of level: 1. is there an easy way to do this ?\n\n```typc\nshow outline: it => {\n  state(\"in-outline\").update(true)\n  it\n  state(\"in-outline\").update(false)\n}\n\nshow outline.entry : it => {\n  if it.level == 1 {\n    v(0.25em)\n    smallcaps(strong(it))\n  }\n  else if it.level == 2 {\n    strong(it)\n  }\n  else {\n    text(style: \"italic\", it)\n  }\n} \n```\n\nsome of what i tried what i tried\n\n```typc\n// before the `v(0.25em)`\nset outline(fill: none) \nshow outline.entry: set outline(fill: none)\nset outline.entry(fill: none)\n// ...\n```\nthe docs say that all arguments for `outline.entry()` are positional and required and i don't know how to fill all of them.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 60,
      "score": 2492.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 605
    },
    {
      "id": 4296,
      "post_number": 2,
      "username": "alimgyeniyt",
      "name": "Alimgyehr Uuhniyt",
      "created_at": "2024-10-20T11:13:55.077Z",
      "updated_at": "2024-10-20T11:13:55.077Z",
      "cooked": "<p>this solution simply shows anything related to the repeat function as none if the entry level is 1, a bit hacky.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n  show repeat: none\n  it\n}\n\n\n#outline()\n\n= Level 1 Heading\n\n== Level 2 Heading\n\n= Another Level 1 Heading\n\n== Another Heading here\n\n== And another one\n</code></pre>\n<p>a longer “appropriate” solution is to reconstruct the entry fully.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n  v(0.1em)\n  box(grid(\n    columns: (auto, 1fr, auto),\n    strong(link(it.element.location())[#it.element.body]),\n    h(1fr),\n    strong(it.page),\n  ))\n}\n\n\n#outline()\n\n= Level 1 Heading\n\n== Level 2 Heading\n\n= Another Level 1 Heading\n\n== Another Heading here\n\n== And another one\n</code></pre>",
      "raw": "this solution simply shows anything related to the repeat function as none if the entry level is 1, a bit hacky.\n\n```typ\n#show outline.entry.where(level: 1): it => {\n  show repeat: none\n  it\n}\n\n\n#outline()\n\n= Level 1 Heading\n\n== Level 2 Heading\n\n= Another Level 1 Heading\n\n== Another Heading here\n\n== And another one\n```\n\na longer \"appropriate\" solution is to reconstruct the entry fully.\n\n```typ\n#show outline.entry.where(level: 1): it => {\n  v(0.1em)\n  box(grid(\n    columns: (auto, 1fr, auto),\n    strong(link(it.element.location())[#it.element.body]),\n    h(1fr),\n    strong(it.page),\n  ))\n}\n\n\n#outline()\n\n= Level 1 Heading\n\n== Level 2 Heading\n\n= Another Level 1 Heading\n\n== Another Heading here\n\n== And another one\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 55,
      "score": 106.0,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 605
    }
  ],
  "scraped_at": "2025-06-10T09:56:24.553083"
}
{
  "topic_metadata": {
    "id": 1215,
    "title": "Why is a line number only shown for the first line of my multi-layout content?",
    "slug": "why-is-a-line-number-only-shown-for-the-first-line-of-my-multi-layout-content",
    "posts_count": 4,
    "created_at": "2024-10-19T16:01:22.143Z",
    "last_posted_at": "2024-10-23T13:25:37.280Z",
    "views": 351,
    "like_count": 6,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout-containers",
      "line-numbering"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 384
  },
  "posts": [
    {
      "id": 4261,
      "post_number": 1,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-19T16:01:22.245Z",
      "updated_at": "2025-03-18T17:24:09.518Z",
      "cooked": "<p>First of all, a big thank you to the Typst devs for enabling line numbering of paragraphs.</p>\n<p>While playing around with it, I noticed that the line numbering seemed to refer to the page and not to the paragraphs. Let me explain with an example. If you use the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(columns: 2)\n#set par.line(numbering: \"1\")\n\n= Introduction\n\n#lorem(500)\n</code></pre>\n<p>Line numbering works as expected.</p>\n<p>But with the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par.line(numbering: \"1\")\n#let body = [\n  = Introduction\n\n  #lorem(500)\n]\n#show: columns(2, body)\n</code></pre>\n<p>The line numbering is only active for the first column of the page.</p>\n<p>Is this a bug or the intended behavior?</p>\n<p>This somewhat prevents the use of single columns (e.g. for title and abstract) and double columns (the body) on the same page, because <code>#set page()</code> implies a page break, which is perfectly understandable.</p>\n<p>Do you have any advice on how to combine single and double columns on the same page with line numbering?</p>\n<p>I am sure it is possible, given the Youtube video posted by <a class=\"mention\" href=\"/u/reknih\">@reknih</a> to announce Typst v0.12 <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "First of all, a big thank you to the Typst devs for enabling line numbering of paragraphs.\n\nWhile playing around with it, I noticed that the line numbering seemed to refer to the page and not to the paragraphs. Let me explain with an example. If you use the following code:\n\n```typ\n#set page(columns: 2)\n#set par.line(numbering: \"1\")\n\n= Introduction\n\n#lorem(500)\n```\n\nLine numbering works as expected.\n\nBut with the following code:\n```typ\n#set par.line(numbering: \"1\")\n#let body = [\n  = Introduction\n\n  #lorem(500)\n]\n#show: columns(2, body)\n```\nThe line numbering is only active for the first column of the page.\n\nIs this a bug or the intended behavior?\n\nThis somewhat prevents the use of single columns (e.g. for title and abstract) and double columns (the body) on the same page, because `#set page()` implies a page break, which is perfectly understandable.\n\nDo you have any advice on how to combine single and double columns on the same page with line numbering?\n\nI am sure it is possible, given the Youtube video posted by @reknih to announce Typst v0.12 :smiley:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 1354.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 4265,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-19T16:46:13.751Z",
      "updated_at": "2024-10-19T16:46:13.751Z",
      "cooked": "<p>The usage of <code>show: columns(2, ...)</code> is discouraged now with 0.12 and probably the root cause of the issue. To combine single column and double column on the same page, you would enable two-column layout in your initial <code>set page</code> rule with <code>set page(columns: 2)</code> and then use the new <code>scope</code> argument of <code>place</code> to place the title or abstract in a single column fashion by setting it to <code>\"parent\"</code>, see: <a href=\"https://typst.app/docs/guides/page-setup-guide/#columns\" class=\"inline-onebox\">Page setup guide – Typst Documentation</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(columns: 2, height: 10cm, width: 12cm)\n#set par(justify: true)\n#set par.line(numbering: \"1\")\n\n#place(\n  top + center,\n  float: true,\n  scope: \"parent\",\n  text(1.4em, weight: \"bold\")[\n    Impacts of Odobenidae\n  ],\n)\n\n== About seals in the wild\n#lorem(80)\n\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/1076cda0450aba847b34b43ce5bd270a15dd8933.png\" alt=\"image\" data-base62-sha1=\"2lEaNSCrqIqH3YbWtFPiKfgHPBF\" width=\"529\" height=\"445\"></p>",
      "raw": "The usage of `show: columns(2, ...)` is discouraged now with 0.12 and probably the root cause of the issue. To combine single column and double column on the same page, you would enable two-column layout in your initial `set page` rule with `set page(columns: 2)` and then use the new `scope` argument of `place` to place the title or abstract in a single column fashion by setting it to `\"parent\"`, see: https://typst.app/docs/guides/page-setup-guide/#columns.\n\n```typ\n#set page(columns: 2, height: 10cm, width: 12cm)\n#set par(justify: true)\n#set par.line(numbering: \"1\")\n\n#place(\n  top + center,\n  float: true,\n  scope: \"parent\",\n  text(1.4em, weight: \"bold\")[\n    Impacts of Odobenidae\n  ],\n)\n\n== About seals in the wild\n#lorem(80)\n\n```\n\n![image|529x445](upload://2lEaNSCrqIqH3YbWtFPiKfgHPBF.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 5,
      "reads": 46,
      "score": 204.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4274,
      "post_number": 3,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-19T18:05:05.979Z",
      "updated_at": "2024-10-19T18:05:05.979Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> Thank you ! It is the answer I was lookgin for.</p>",
      "raw": "@xkevio Thank you ! It is the answer I was lookgin for.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 28.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 4555,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T13:25:37.280Z",
      "updated_at": "2024-10-23T13:25:37.280Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/maucejo\">@maucejo</a>, I have moved your question to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, please make sure to check the category when creating a topic <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!</p>",
      "raw": "Hi @maucejo, I have moved your question to the #questions category, please make sure to check the category when creating a topic :slight_smile: that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:23.863071"
}
{
  "topic_metadata": {
    "id": 1218,
    "title": "How to extend header towards the text?",
    "slug": "how-to-extend-header-towards-the-text",
    "posts_count": 3,
    "created_at": "2024-10-19T16:56:22.787Z",
    "last_posted_at": "2024-10-20T13:00:32.041Z",
    "views": 240,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 197
  },
  "posts": [
    {
      "id": 4267,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2024-10-19T16:56:22.876Z",
      "updated_at": "2024-10-23T13:34:45.997Z",
      "cooked": "<p>Given the following:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n\tpaper: \"a4\",\n\tflipped: true,\n\tmargin: (x: 1cm, y: 1cm, top: 6cm, bottom: 1.5cm)\n)\n#set page(header: context {\n\t\trect(height: 4cm, width: 27.5cm, [hello])\n})\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#set table(\n\tstroke: none,\n)\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,15000\nC,D,32000\nE,F,16270\nG,H,17209\n\")\n#let (header, ..data) = results\n#table(\n\tcolumns: header.map(x=&gt;1fr),\n  align:(left,left,right),\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten(),\n\ttable.hline()\n)\n</code></pre>\n<p>The page top is set to 6cm, but the <code>rect</code> can only be fully visible at 4cm height.<br>\nHow can I extend the rect to be the same as the header height (i.e. the rect should touch the table top)?</p>",
      "raw": "Given the following:\n```typ\n#set page(\n\tpaper: \"a4\",\n\tflipped: true,\n\tmargin: (x: 1cm, y: 1cm, top: 6cm, bottom: 1.5cm)\n)\n#set page(header: context {\n\t\trect(height: 4cm, width: 27.5cm, [hello])\n})\n#show table.cell.where(y:0):set text(weight:\"extrabold\")\n#set table(\n\tstroke: none,\n)\n#let results = csv.decode(\"\nHeader1,Header2,Header3\nA,B,15000\nC,D,32000\nE,F,16270\nG,H,17209\n\")\n#let (header, ..data) = results\n#table(\n\tcolumns: header.map(x=>1fr),\n  align:(left,left,right),\n\n\ttable.hline(),\n\ttable.header(..header),\n\ttable.hline(),\n\n\t..data.flatten(),\n\ttable.hline()\n)\n```\nThe page top is set to 6cm, but the `rect` can only be fully visible at 4cm height.\nHow can I extend the rect to be the same as the header height (i.e. the rect should touch the table top)?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 1030.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 4273,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2024-10-19T17:39:38.166Z",
      "updated_at": "2024-10-19T17:43:09.378Z",
      "cooked": "<p>You are probably looking for the page parameter <a href=\"https://typst.app/docs/reference/layout/page/#parameters-header-ascent\">header-ascent</a>.<br>\n<code>#set page(header-ascent: 0pt)</code></p>",
      "raw": "You are probably looking for the page parameter [header-ascent](https://typst.app/docs/reference/layout/page/#parameters-header-ascent).\n`#set page(header-ascent: 0pt)`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 30.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 4300,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-20T13:00:32.041Z",
      "updated_at": "2024-10-20T13:00:32.041Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/mgholam\">@mgholam</a>, I’ve updated your post title to better suit our question guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your title is a question you’d ask a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @mgholam, I've updated your post title to better suit our question guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your title is a question you'd ask a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:23.106036"
}
{
  "topic_metadata": {
    "id": 1221,
    "title": "Is it possible to create a link to a heading by using the label alone?",
    "slug": "is-it-possible-to-create-a-link-to-a-heading-by-using-the-label-alone",
    "posts_count": 6,
    "created_at": "2024-10-19T20:15:50.481Z",
    "last_posted_at": "2024-10-19T21:22:59.953Z",
    "views": 695,
    "like_count": 2,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 510
  },
  "posts": [
    {
      "id": 4275,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T20:15:50.588Z",
      "updated_at": "2024-10-19T20:21:59.814Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">For more information about hedgehogs, see the section about #link(&lt;wrds&gt;)[wyrdies].\n\n= Wyrdies and Their Friends\n&lt;wrds&gt;\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n</code></pre>\n<p>This works. Output:</p>\n<blockquote>\n<p>For more information about hedgehogs, see the section about wyrdies.</p>\n</blockquote>\n<p>But is it possible to create a link to a heading without specifying its name, by using the label alone?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">For more information about hedgehogs, see “#link(&lt;wrds&gt;)”.\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>For more information about hedgehogs, see “Wyrdies and Their Friends”.</p>\n</blockquote>\n<p>I tried  <code>#link(&lt;wrds&gt;)</code> and <code>#link(&lt;wrds&gt;)[]</code>, but it doesn’t seem to work.</p>",
      "raw": "```typ\nFor more information about hedgehogs, see the section about #link(<wrds>)[wyrdies].\n\n= Wyrdies and Their Friends\n<wrds>\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n```\n\nThis works. Output:\n\n> For more information about hedgehogs, see the section about wyrdies.\n\nBut is it possible to create a link to a heading without specifying its name, by using the label alone?\n\n```typ\nFor more information about hedgehogs, see “#link(<wrds>)”.\n```\n\nOutput:\n\n> For more information about hedgehogs, see “Wyrdies and Their Friends”.\n\nI tried  `#link(<wrds>)` and `#link(<wrds>)[]`, but it doesn't seem to work.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 4212.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4276,
      "post_number": 2,
      "username": "SebastianJL",
      "name": "Johannes Lade",
      "created_at": "2024-10-19T20:23:23.251Z",
      "updated_at": "2024-10-19T20:26:42.097Z",
      "cooked": "<p>I think usually you would use <code>@wrds</code></p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">For more information about hedgehogs, see @wrds.\n\n= Wyrdies and Their Friends&lt;wrds&gt;\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n</code></pre>",
      "raw": "I think usually you would use `@wrds`\n\n```typst\nFor more information about hedgehogs, see @wrds.\n\n= Wyrdies and Their Friends<wrds>\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 62.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 591
    },
    {
      "id": 4277,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T20:26:42.107Z",
      "updated_at": "2024-10-19T20:27:50.167Z",
      "cooked": "<p>But this requires to use numbering, right?</p>\n<pre><code class=\"lang-auto\">#set heading(numbering: \"1.\")\n</code></pre>\n<p>And even with numbering, the section is mentioned by its generic name, that is, as “Section”:</p>\n<blockquote>\n<p>For more information about hedgehogs, see “Section 1”.</p>\n</blockquote>",
      "raw": "But this requires to use numbering, right?\n\n```\n#set heading(numbering: \"1.\")\n```\n\nAnd even with numbering, the section is mentioned by its generic name, that is, as \"Section\":\n\n> For more information about hedgehogs, see “Section 1”.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 36.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4278,
      "post_number": 4,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-19T20:29:10.666Z",
      "updated_at": "2024-10-19T20:30:22.226Z",
      "cooked": "<p>The problem there is that then the heading needs to have a numbering and <a class=\"mention\" href=\"/u/jsx97\">@jsx97</a> wants the ref to return a clickable title and not “Section X”.</p>\n<p>You can achieve this with a show-rule on <code>link</code>, but you still need to call it with the empty square brackets as the body argument is required unless it’s a URL:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show link.where(body: []): l =&gt; {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body)\n}\n\nFor more information about hedgehogs, see the section about #link(&lt;wrds&gt;)[].\n\n= Wyrdies and Their Friends&lt;wrds&gt;\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/8c8d6c03249e8c7c3fd4b59383752be0a802679e.png\" data-download-href=\"https://forum.typst.app/uploads/default/8c8d6c03249e8c7c3fd4b59383752be0a802679e\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/8c8d6c03249e8c7c3fd4b59383752be0a802679e_2_690x144.png\" alt=\"image\" data-base62-sha1=\"k3nQ8ys9FDEf3ysVyPbBTDhbb5A\" width=\"690\" height=\"144\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/8c8d6c03249e8c7c3fd4b59383752be0a802679e_2_690x144.png, https://forum.typst.app/uploads/default/original/1X/8c8d6c03249e8c7c3fd4b59383752be0a802679e.png 1.5x, https://forum.typst.app/uploads/default/original/1X/8c8d6c03249e8c7c3fd4b59383752be0a802679e.png 2x\" data-dominant-color=\"F1F1F1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">867×182 43.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>PS: It is probably a good idea to check if <code>type(l.dest) == label</code> in the first place but assuming you only use the <code>#link(...)[]</code> syntax for this purpose, it’s fine.</p>",
      "raw": "The problem there is that then the heading needs to have a numbering and @jsx97 wants the ref to return a clickable title and not \"Section X\".\n\nYou can achieve this with a show-rule on `link`, but you still need to call it with the empty square brackets as the body argument is required unless it's a URL:\n```typ\n#show link.where(body: []): l => {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body)\n}\n\nFor more information about hedgehogs, see the section about #link(<wrds>)[].\n\n= Wyrdies and Their Friends<wrds>\n\nWyrdies, commonly known as unicorns, have many friends. Among them are hedgehogs and kangaroos.\n```\n\n![image|690x144](upload://k3nQ8ys9FDEf3ysVyPbBTDhbb5A.png)\n\nPS: It is probably a good idea to check if `type(l.dest) == label` in the first place but assuming you only use the `#link(...)[]` syntax for this purpose, it's fine.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 81.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4280,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-19T21:12:16.444Z",
      "updated_at": "2024-10-19T21:12:16.444Z",
      "cooked": "<p>This works, thanks. But there is one minor issue: currently, the link inherits the inline styling of its heading. That is, if you have</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">For more information about hedgehogs, see “#link(&lt;wrds&gt;)[]”.\n\n= Wyrdies #strong[and Their Friends]&lt;wrds&gt;\n</code></pre>\n<p>the output will be</p>\n<blockquote>\n<p>For more information about hedgehogs, see “Wyrdies <strong>and Their Friends</strong>”.</p>\n</blockquote>\n<p>Could you show how to fix it?</p>",
      "raw": "This works, thanks. But there is one minor issue: currently, the link inherits the inline styling of its heading. That is, if you have\n\n```typ\nFor more information about hedgehogs, see “#link(<wrds>)[]”.\n\n= Wyrdies #strong[and Their Friends]<wrds>\n```\n\nthe output will be\n\n> For more information about hedgehogs, see “Wyrdies **and Their Friends**”.\n\nCould you show how to fix it?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4281,
      "post_number": 6,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-19T21:22:59.953Z",
      "updated_at": "2024-10-19T21:29:32.165Z",
      "cooked": "<p>Oh yea for sure. Assuming your headings are always just text and dont, for example, include a random <code>#rect()</code> or styling in general, use <code>heading-elem.body.text</code> instead.</p>\n<p>If the heading is not just text but has styling like <code>bold</code>, it will be a sequence and you can access the textual part through <code>.children()</code> which you will have to combine to plain text.</p>\n<p><strong>EDIT:</strong> For example, in your case, “Wyrdies <strong>and Their Friends</strong>” would be represented as <code>sequence([Wyrdies], [ ], strong(body: [and Their Friends]))</code> and could be extracted as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show link.where(body: []): l =&gt; {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.children.map(c =&gt; {\n    if c.has(\"text\") { c.text }\n    else if c.has(\"body\") { c.body }\n    else { c }\n  }).join())\n}\n</code></pre>\n<p>(This probably does not cover all cases.)</p>",
      "raw": "Oh yea for sure. Assuming your headings are always just text and dont, for example, include a random `#rect()` or styling in general, use `heading-elem.body.text` instead.\n\nIf the heading is not just text but has styling like `bold`, it will be a sequence and you can access the textual part through `.children()` which you will have to combine to plain text.\n\n**EDIT:** For example, in your case, \"Wyrdies **and Their Friends**\" would be represented as `sequence([Wyrdies], [ ], strong(body: [and Their Friends]))` and could be extracted as follows:\n\n```typ\n#show link.where(body: []): l => {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.children.map(c => {\n    if c.has(\"text\") { c.text }\n    else if c.has(\"body\") { c.body }\n    else { c }\n  }).join())\n}\n```\n\n(This probably does not cover all cases.)",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 40.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    }
  ],
  "scraped_at": "2025-06-10T09:56:22.393652"
}
{
  "topic_metadata": {
    "id": 1224,
    "title": "How to wrap long \"unbreakable\" text in a table cell?",
    "slug": "how-to-wrap-long-unbreakable-text-in-a-table-cell",
    "posts_count": 4,
    "created_at": "2024-10-20T07:39:38.937Z",
    "last_posted_at": "2024-10-20T13:20:44.205Z",
    "views": 943,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 969
  },
  "posts": [
    {
      "id": 4286,
      "post_number": 1,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T07:39:39.116Z",
      "updated_at": "2024-10-20T13:16:59.611Z",
      "cooked": "<p>Hello,<br>\nI am formatting a table from the following input json:</p>\n<pre data-code-wrap=\"json\"><code class=\"lang-json\">[   \n    [   \n        \"Date\",\n        \"Tran Type\",\n        \"Tran ID\",\n        \"Withdrawals\",\n        \"Deposits\",\n        \"Another Head\",\n        \"One more head\",\n        \"Last one\"\n    ],\n    [   \n        \"01/05/2024\",\n        \"TFR\",\n        \"S81420904S81420\",\n        \"S81420904\",\n        \"S81420904\",\n        \"S81420904\",\n        \"700.00\",\n        \"\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S84554541\",\n        \"S84554541\",\n        \"S84554541\",\n        \"S84554541\",\n        \"\",\n        \"1.01\"\n    ]\n]\n</code></pre>\n<p>Using the following typst script:</p>\n<pre><code class=\"lang-auto\">#let txn = json(\"data2.json\")\n#table(\n  columns: 8,\n  ..txn.flatten()\n)\n</code></pre>\n<p>And getting the following output:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/cb055670e3b69d4770502e148c702339e102781b.png\" data-download-href=\"https://forum.typst.app/uploads/default/cb055670e3b69d4770502e148c702339e102781b\" title=\"table-example\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/cb055670e3b69d4770502e148c702339e102781b_2_690x129.png\" alt=\"table-example\" data-base62-sha1=\"sY0mt0vPlrqilwsria1BQqWhjyX\" width=\"690\" height=\"129\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/cb055670e3b69d4770502e148c702339e102781b_2_690x129.png, https://forum.typst.app/uploads/default/original/1X/cb055670e3b69d4770502e148c702339e102781b.png 1.5x, https://forum.typst.app/uploads/default/original/1X/cb055670e3b69d4770502e148c702339e102781b.png 2x\" data-dominant-color=\"E3E3E3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">table-example</span><span class=\"informations\">920×172 90.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>As it can be seen, the <code>Tran ID</code> spills over in to the next cell. I understand that there is no place to break that text in the cell, but if it’s possible to just wrap along the cell boundary and put the remaining text inthe next line, it will look much better.</p>",
      "raw": "Hello,\nI am formatting a table from the following input json:\n```json\n[   \n    [   \n        \"Date\",\n        \"Tran Type\",\n        \"Tran ID\",\n        \"Withdrawals\",\n        \"Deposits\",\n        \"Another Head\",\n        \"One more head\",\n        \"Last one\"\n    ],\n    [   \n        \"01/05/2024\",\n        \"TFR\",\n        \"S81420904S81420\",\n        \"S81420904\",\n        \"S81420904\",\n        \"S81420904\",\n        \"700.00\",\n        \"\"\n    ],\n    [\n        \"01/05/2024\",\n        \"TFR\",\n        \"S84554541\",\n        \"S84554541\",\n        \"S84554541\",\n        \"S84554541\",\n        \"\",\n        \"1.01\"\n    ]\n]\n```\nUsing the following typst script:\n```\n#let txn = json(\"data2.json\")\n#table(\n  columns: 8,\n  ..txn.flatten()\n)\n```\nAnd getting the following output:\n![table-example|690x129](upload://sY0mt0vPlrqilwsria1BQqWhjyX.png)\n\nAs it can be seen, the `Tran ID` spills over in to the next cell. I understand that there is no place to break that text in the cell, but if it's possible to just wrap along the cell boundary and put the remaining text inthe next line, it will look much better.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 65,
      "score": 4838.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4293,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-10-20T09:24:22.341Z",
      "updated_at": "2024-10-20T09:24:41.507Z",
      "cooked": "<p>You can use a regex that matches the data in the “Tran ID” column, and use it to put a soft hyphen (if you want a hyphen) or a zero-width space (if you don’t want a hyphen) between each character. You also want to enable hyphenation in general (or scoped to the table), so that “Withdrawals” doesn’t overflow:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(hyphenate: true)\n#show regex(\"(S[0-9]+)+\"): it =&gt; {\n  it.text.codepoints().join(sym.zws) // or .join[-?]\n}\n\n#table(\n  columns: 8,\n  ..txn.flatten()\n)\n</code></pre>\n<p>If you can’t use a regex, you could also use a show rule limited to the third column, though you then probably want to scope it to that one table:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#{\n  show table.cell.where(x: 2): cell =&gt; {\n    show regex(\"\\b.+?\\b\"): it =&gt; it.text.codepoints().join(sym.zws)\n    cell\n  }\n\n  table(\n    columns: 8,\n    ..txn.flatten()\n  )\n}\n</code></pre>",
      "raw": "You can use a regex that matches the data in the \"Tran ID\" column, and use it to put a soft hyphen (if you want a hyphen) or a zero-width space (if you don't want a hyphen) between each character. You also want to enable hyphenation in general (or scoped to the table), so that \"Withdrawals\" doesn't overflow:\n```typ\n#set text(hyphenate: true)\n#show regex(\"(S[0-9]+)+\"): it => {\n  it.text.codepoints().join(sym.zws) // or .join[-?]\n}\n\n#table(\n  columns: 8,\n  ..txn.flatten()\n)\n```\n\nIf you can't use a regex, you could also use a show rule limited to the third column, though you then probably want to scope it to that one table:\n```typ\n#{\n  show table.cell.where(x: 2): cell => {\n    show regex(\"\\b.+?\\b\"): it => it.text.codepoints().join(sym.zws)\n    cell\n  }\n\n  table(\n    columns: 8,\n    ..txn.flatten()\n  )\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 62,
      "score": 547.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 4301,
      "post_number": 3,
      "username": "raj2569",
      "name": "Raj",
      "created_at": "2024-10-20T13:04:19.605Z",
      "updated_at": "2024-10-20T13:04:19.605Z",
      "cooked": "<p>Thanks, I went with the second suggestion and it worked perfectly. I used chatgpt to understand exactly how this snippet works and here is the answer for any one stumbling  upon this later:</p>\n<h3><a name=\"p-4301-overview-1\" class=\"anchor\" href=\"#p-4301-overview-1\"></a><strong>Overview</strong></h3>\n<p>This snippet utilizes Typst’s capabilities to process and transform text using regular expressions. Specifically, it:</p>\n<ol>\n<li><strong>Finds all words in a given text</strong> using a regular expression.</li>\n<li><strong>Transforms each word</strong> by inserting zero-width spaces between its characters.</li>\n<li><strong>Displays the transformed text</strong> with these modifications.</li>\n</ol>\n<h3><a name=\"p-4301-detailed-breakdown-2\" class=\"anchor\" href=\"#p-4301-detailed-breakdown-2\"></a><strong>Detailed Breakdown</strong></h3>\n<p>Let’s dissect each component of the snippet to understand how it works:</p>\n<h4><a name=\"p-4301-h-1-regexbb-3\" class=\"anchor\" href=\"#p-4301-h-1-regexbb-3\"></a><strong>1. <code>regex(\"\\b.+?\\b\")</code></strong></h4>\n<ul>\n<li>\n<p><strong>Purpose</strong>: Defines a <strong>regular expression</strong> pattern to identify parts of the text to be transformed.</p>\n</li>\n<li>\n<p><strong>Pattern Explanation</strong>:</p>\n<ul>\n<li>\n<p><code>\\b</code>: <strong>Word Boundary</strong></p>\n<ul>\n<li>Matches the position between a word character (typically letters, digits, or underscores) and a non-word character. It ensures that the regex matches whole words rather than substrings within words.</li>\n</ul>\n</li>\n<li>\n<p><code>.+?</code>: <strong>Non-Greedy Match of One or More Characters</strong></p>\n<ul>\n<li><code>.</code>: Matches any character except newline characters.</li>\n<li><code>+</code>: Quantifier that matches <strong>one or more</strong> of the preceding element (<code>.</code> in this case).</li>\n<li><code>?</code>: Makes the preceding quantifier <strong>non-greedy</strong>, meaning it matches the smallest possible string that satisfies the pattern.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Combined Pattern (<code>\\b.+?\\b</code>)</strong>:</p>\n<ul>\n<li>This regex matches <strong>whole words</strong> in the text by finding sequences of characters that start and end at word boundaries. The non-greedy <code>.+?</code> ensures that it matches the smallest possible sequence between word boundaries, effectively capturing individual words.</li>\n</ul>\n</li>\n</ul>\n<h4><a name=\"p-4301-h-2-it-ittextcodepointsjoinsymzws-4\" class=\"anchor\" href=\"#p-4301-h-2-it-ittextcodepointsjoinsymzws-4\"></a><strong>2. <code>it =&gt; it.text.codepoints().join(sym.zws)</code></strong></h4>\n<ul>\n<li>\n<p><strong>Purpose</strong>: Defines a <strong>transformation function</strong> (a lambda) that is applied to each regex match (<code>it</code>).</p>\n</li>\n<li>\n<p><strong>Components</strong>:</p>\n<ul>\n<li>\n<p><code>it</code>: Represents the <strong>current match object</strong> found by the regex.</p>\n</li>\n<li>\n<p><code>it.text</code>: Extracts the <strong>text content</strong> of the current match (i.e., the word matched by the regex).</p>\n</li>\n<li>\n<p><code>codepoints()</code>:</p>\n<ul>\n<li><strong>Function</strong>: Converts the string into a <strong>list of Unicode code points</strong> (essentially, individual characters).</li>\n<li><strong>Example</strong>:\n<ul>\n<li><code>\"Hello\"</code> → <code>[\"H\", \"e\", \"l\", \"l\", \"o\"]</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>join(sym.zws)</code>:</p>\n<ul>\n<li><strong>Function</strong>: Joins the list of characters into a single string, inserting a <strong>zero-width space</strong> (<code>sym.zws</code>) between each character.</li>\n<li><strong><code>sym.zws</code></strong>: Represents a <strong>zero-width space</strong> character in Typst, which is invisible but allows for potential line breaks or other text processing.</li>\n<li><strong>Example</strong>:\n<ul>\n<li><code>[\"H\", \"e\", \"l\", \"l\", \"o\"]</code> joined with <code>sym.zws</code> → <code>\"H​e​l​l​o\"</code> (with zero-width spaces between letters)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Overall Transformation</strong>:</p>\n<ul>\n<li>Takes each word matched by the regex and inserts zero-width spaces between its characters. This can influence how the text is rendered, allowing for flexible line breaking or other text manipulations without altering the visible content.</li>\n</ul>\n</li>\n</ul>\n<h4><a name=\"p-4301-h-3-show-5\" class=\"anchor\" href=\"#p-4301-h-3-show-5\"></a><strong>3. <code>show</code></strong></h4>\n<ul>\n<li>\n<p><strong>Purpose</strong>: Renders or <strong>displays</strong> the transformed text within the Typst document.</p>\n</li>\n<li>\n<p><strong>Functionality</strong>:</p>\n<ul>\n<li>Applies the defined regex and transformation to the input text.</li>\n<li>Outputs the result, which includes the zero-width spaces inserted between characters of each word.</li>\n</ul>\n</li>\n</ul>\n<h3><a name=\"p-4301-putting-it-all-together-6\" class=\"anchor\" href=\"#p-4301-putting-it-all-together-6\"></a><strong>Putting It All Together</strong></h3>\n<p>Here’s a step-by-step execution of the snippet:</p>\n<ol>\n<li>\n<p><strong>Input Text</strong>: Suppose you have the following text in your Typst document:</p>\n<pre><code class=\"lang-auto\">Hello World\n</code></pre>\n</li>\n<li>\n<p><strong>Regex Application</strong>:</p>\n<ul>\n<li>The regex <code>\\b.+?\\b</code> scans the text and identifies two matches:\n<ul>\n<li><code>\"Hello\"</code></li>\n<li><code>\"World\"</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Transformation Function</strong>:</p>\n<ul>\n<li>\n<p>For each matched word, the lambda function <code>it =&gt; it.text.codepoints().join(sym.zws)</code> is applied:</p>\n<ul>\n<li>\n<p><strong>“Hello”</strong>:</p>\n<ul>\n<li><code>codepoints()</code>: <code>[\"H\", \"e\", \"l\", \"l\", \"o\"]</code></li>\n<li><code>join(sym.zws)</code>: <code>\"H​e​l​l​o\"</code> (with zero-width spaces)</li>\n</ul>\n</li>\n<li>\n<p><strong>“World”</strong>:</p>\n<ul>\n<li><code>codepoints()</code>: <code>[\"W\", \"o\", \"r\", \"l\", \"d\"]</code></li>\n<li><code>join(sym.zws)</code>: <code>\"W​o​r​l​d\"</code> (with zero-width spaces)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Rendering with <code>show</code></strong>:</p>\n<ul>\n<li>\n<p>The transformed text is displayed as:</p>\n<pre><code class=\"lang-auto\">H​e​l​l​o W​o​r​l​d\n</code></pre>\n<ul>\n<li><strong>Note</strong>: The zero-width spaces are invisible, so the text appears the same as the original. However, they enable more flexible text processing, such as allowing line breaks between characters if the layout requires it.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3><a name=\"p-4301-practical-use-cases-7\" class=\"anchor\" href=\"#p-4301-practical-use-cases-7\"></a><strong>Practical Use Cases</strong></h3>\n<ol>\n<li>\n<p><strong>Flexible Line Breaking</strong>:</p>\n<ul>\n<li>By inserting zero-width spaces between characters, you allow the text renderer to break lines between any two characters if necessary. This can be useful in narrow columns or responsive designs where words might need to wrap more flexibly.</li>\n</ul>\n</li>\n</ol>",
      "raw": "Thanks, I went with the second suggestion and it worked perfectly. I used chatgpt to understand exactly how this snippet works and here is the answer for any one stumbling  upon this later:\n\n\n### **Overview**\n\nThis snippet utilizes Typst's capabilities to process and transform text using regular expressions. Specifically, it:\n\n1. **Finds all words in a given text** using a regular expression.\n2. **Transforms each word** by inserting zero-width spaces between its characters.\n3. **Displays the transformed text** with these modifications.\n\n### **Detailed Breakdown**\n\nLet's dissect each component of the snippet to understand how it works:\n\n#### **1. `regex(\"\\b.+?\\b\")`**\n\n- **Purpose**: Defines a **regular expression** pattern to identify parts of the text to be transformed.\n  \n- **Pattern Explanation**:\n  \n  - `\\b`: **Word Boundary**  \n    - Matches the position between a word character (typically letters, digits, or underscores) and a non-word character. It ensures that the regex matches whole words rather than substrings within words.\n  \n  - `.+?`: **Non-Greedy Match of One or More Characters**  \n    - `.`: Matches any character except newline characters.\n    - `+`: Quantifier that matches **one or more** of the preceding element (`.` in this case).\n    - `?`: Makes the preceding quantifier **non-greedy**, meaning it matches the smallest possible string that satisfies the pattern.\n  \n- **Combined Pattern (`\\b.+?\\b`)**:  \n  - This regex matches **whole words** in the text by finding sequences of characters that start and end at word boundaries. The non-greedy `.+?` ensures that it matches the smallest possible sequence between word boundaries, effectively capturing individual words.\n\n#### **2. `it => it.text.codepoints().join(sym.zws)`**\n\n- **Purpose**: Defines a **transformation function** (a lambda) that is applied to each regex match (`it`).\n\n- **Components**:\n  \n  - `it`: Represents the **current match object** found by the regex.\n  \n  - `it.text`: Extracts the **text content** of the current match (i.e., the word matched by the regex).\n  \n  - `codepoints()`:  \n    - **Function**: Converts the string into a **list of Unicode code points** (essentially, individual characters).\n    - **Example**:  \n      - `\"Hello\"` → `[\"H\", \"e\", \"l\", \"l\", \"o\"]`\n  \n  - `join(sym.zws)`:  \n    - **Function**: Joins the list of characters into a single string, inserting a **zero-width space** (`sym.zws`) between each character.\n    - **`sym.zws`**: Represents a **zero-width space** character in Typst, which is invisible but allows for potential line breaks or other text processing.\n    - **Example**:  \n      - `[\"H\", \"e\", \"l\", \"l\", \"o\"]` joined with `sym.zws` → `\"H​e​l​l​o\"` (with zero-width spaces between letters)\n\n- **Overall Transformation**:  \n  - Takes each word matched by the regex and inserts zero-width spaces between its characters. This can influence how the text is rendered, allowing for flexible line breaking or other text manipulations without altering the visible content.\n\n#### **3. `show`**\n\n- **Purpose**: Renders or **displays** the transformed text within the Typst document.\n  \n- **Functionality**:\n  - Applies the defined regex and transformation to the input text.\n  - Outputs the result, which includes the zero-width spaces inserted between characters of each word.\n\n### **Putting It All Together**\n\nHere's a step-by-step execution of the snippet:\n\n1. **Input Text**: Suppose you have the following text in your Typst document:\n   \n   ```\n   Hello World\n   ```\n   \n2. **Regex Application**:\n   \n   - The regex `\\b.+?\\b` scans the text and identifies two matches:\n     - `\"Hello\"`\n     - `\"World\"`\n   \n3. **Transformation Function**:\n   \n   - For each matched word, the lambda function `it => it.text.codepoints().join(sym.zws)` is applied:\n     \n     - **\"Hello\"**:\n       - `codepoints()`: `[\"H\", \"e\", \"l\", \"l\", \"o\"]`\n       - `join(sym.zws)`: `\"H​e​l​l​o\"` (with zero-width spaces)\n     \n     - **\"World\"**:\n       - `codepoints()`: `[\"W\", \"o\", \"r\", \"l\", \"d\"]`\n       - `join(sym.zws)`: `\"W​o​r​l​d\"` (with zero-width spaces)\n   \n4. **Rendering with `show`**:\n   \n   - The transformed text is displayed as:\n     \n     ```\n     H​e​l​l​o W​o​r​l​d\n     ```\n     \n     - **Note**: The zero-width spaces are invisible, so the text appears the same as the original. However, they enable more flexible text processing, such as allowing line breaks between characters if the layout requires it.\n\n### **Practical Use Cases**\n\n1. **Flexible Line Breaking**:\n   \n   - By inserting zero-width spaces between characters, you allow the text renderer to break lines between any two characters if necessary. This can be useful in narrow columns or responsive designs where words might need to wrap more flexibly.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 90.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 619
    },
    {
      "id": 4302,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-20T13:20:44.205Z",
      "updated_at": "2024-10-20T13:20:44.205Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/raj2569\">@raj2569</a>! I’ve updated your post title to conform to our question guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @raj2569! I've updated your post title to conform to our question guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 82.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:21.532735"
}
