{
  "topic_metadata": {
    "id": 2595,
    "title": "Can I reset the slide counter in Polylux 0.4?",
    "slug": "can-i-reset-the-slide-counter-in-polylux-0-4",
    "posts_count": 2,
    "created_at": "2025-01-29T15:26:32.717Z",
    "last_posted_at": "2025-02-05T08:33:58.625Z",
    "views": 89,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "joscha_krug",
    "tags": [
      "presentation",
      "polylux"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 201
  },
  "posts": [
    {
      "id": 7996,
      "post_number": 1,
      "username": "talb",
      "name": "talb",
      "created_at": "2025-01-29T15:26:32.914Z",
      "updated_at": "2025-01-29T22:20:36.186Z",
      "cooked": "<p>In Polylux 0.3.2, it was possible to access <code>logic.logical-slide</code>, which is a logical counter for the slide number. For me, it was convenient to create a presentation appendix containing backup slides: the first slides until the conclusion had normal numbering (1, 2, 3…), but after that, the appendix slides had roman numbering (i, ii, iii…). To do that, I had to reset <code>logic.logical-slide</code> to 0 after the conclusion.</p>\n<p>However, that doesn’t seem possible in Polylux 0.4, because <code>logic.logical-slide</code> is no longer exposed in the API. Now, you have access to <code>toolbox.slide-number</code> and <code>toolbox.last-slide-number</code>, which respectively give the current and last slide numbers, but as far as I know, you cannot reset the logical slide counter.</p>\n<p>Is there a new method to do that in Polylux 0.4?</p>",
      "raw": "In Polylux 0.3.2, it was possible to access `logic.logical-slide`, which is a logical counter for the slide number. For me, it was convenient to create a presentation appendix containing backup slides: the first slides until the conclusion had normal numbering (1, 2, 3...), but after that, the appendix slides had roman numbering (i, ii, iii...). To do that, I had to reset `logic.logical-slide` to 0 after the conclusion.\n\nHowever, that doesn't seem possible in Polylux 0.4, because `logic.logical-slide` is no longer exposed in the API. Now, you have access to `toolbox.slide-number` and `toolbox.last-slide-number`, which respectively give the current and last slide numbers, but as far as I know, you cannot reset the logical slide counter.\n\nIs there a new method to do that in Polylux 0.4?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 209.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 341
    },
    {
      "id": 8224,
      "post_number": 2,
      "username": "joscha_krug",
      "name": "Joscha Krug",
      "created_at": "2025-02-05T08:33:58.625Z",
      "updated_at": "2025-02-05T08:33:58.625Z",
      "cooked": "<p>It took me some time to figure out, but you can access the logical slide counter using</p>\n<pre><code class=\"lang-auto\">counter(\"logical-slide\")\n</code></pre>\n<p>(see <a href=\"https://github.com/polylux-typ/polylux/blob/main/src/logic.typ\" rel=\"noopener nofollow ugc\">here</a>).</p>\n<p>So <code>counter(\"logical-slide\").update(0)</code> should do the trick. It does not seem to be officially documented behaviour though, so might be prone to changes.</p>",
      "raw": "It took me some time to figure out, but you can access the logical slide counter using\n\n```\ncounter(\"logical-slide\")\n```\n\n(see [here](https://github.com/polylux-typ/polylux/blob/main/src/logic.typ)). \n\nSo `counter(\"logical-slide\").update(0)` should do the trick. It does not seem to be officially documented behaviour though, so might be prone to changes.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 16,
      "score": 33.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1135
    }
  ],
  "scraped_at": "2025-06-10T09:52:22.005853"
}
{
  "topic_metadata": {
    "id": 2596,
    "title": "How can I remove the initial z shearing transformation in Cetz?",
    "slug": "how-can-i-remove-the-initial-z-shearing-transformation-in-cetz",
    "posts_count": 6,
    "created_at": "2025-01-29T22:02:43.310Z",
    "last_posted_at": "2025-02-25T20:54:21.838Z",
    "views": 140,
    "like_count": 3,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "jwolf",
    "tags": [
      "cetz"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 323
  },
  "posts": [
    {
      "id": 8001,
      "post_number": 1,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2025-01-29T22:02:43.441Z",
      "updated_at": "2025-01-29T22:03:32.384Z",
      "cooked": "<p>Cetz applies an initial transformation matrix with shearing components</p>\n<pre><code class=\"lang-auto\">    / Current transformation matrix, a rhs coordinate system\n    // where z is sheared by a half x and y.\n    //   +x = right, +y = up, +z = 1/2 (left + down)\n    transform:\n      ((1, 0,-.5, 0),\n       (0,-1,+.5, 0),\n       (0, 0, .0, 0),\n       (0, 0, .0, 1)),\n</code></pre>\n<p>I want to avoid the initial z shearing transformation in Cetz since it creates some distortions in 3D generated images.<br>\nWhat are the commands I need to remove this shearing? or do I need to set a new transformation matrix?<br>\nAlso, is there a way to define an default initial transformation?</p>",
      "raw": "Cetz applies an initial transformation matrix with shearing components \n```\n    / Current transformation matrix, a rhs coordinate system\n    // where z is sheared by a half x and y.\n    //   +x = right, +y = up, +z = 1/2 (left + down)\n    transform:\n      ((1, 0,-.5, 0),\n       (0,-1,+.5, 0),\n       (0, 0, .0, 0),\n       (0, 0, .0, 1)),\n```\nI want to avoid the initial z shearing transformation in Cetz since it creates some distortions in 3D generated images.\nWhat are the commands I need to remove this shearing? or do I need to set a new transformation matrix?\nAlso, is there a way to define an default initial transformation?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 87.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    },
    {
      "id": 8284,
      "post_number": 2,
      "username": "M4R1S",
      "name": "Maris Baier",
      "created_at": "2025-02-06T23:30:42.652Z",
      "updated_at": "2025-02-06T23:30:42.652Z",
      "cooked": "<p>Is this what you are looking for?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#canvas({\n  import draw: *\n  set-style(mark:(end:\"&gt;\"))\n  \n  set-transform(none)\n\n  line((),(x:1))\n  line((0,0),(y:1))\n  line((0,0),(z:1))\n})\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/d/ddaf3304cec027e33f33b4c0851051c1dbce2c08.png\" alt=\"image\" data-base62-sha1=\"vD6SN1yL5xka2AqRP13Cx4a2phS\" width=\"125\" height=\"118\"></p>",
      "raw": "Is this what you are looking for?\n```typ\n#canvas({\n  import draw: *\n  set-style(mark:(end:\">\"))\n  \n  set-transform(none)\n\n  line((),(x:1))\n  line((0,0),(y:1))\n  line((0,0),(z:1))\n})\n```\n\n![image|125x118](upload://vD6SN1yL5xka2AqRP13Cx4a2phS.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 643
    },
    {
      "id": 8335,
      "post_number": 3,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2025-02-07T19:52:38.421Z",
      "updated_at": "2025-02-07T19:52:38.421Z",
      "cooked": "<p>Almost. I need the y axis pointing upwards.<br>\nProbably the only way to achieve this is providing the transformation matrix explicitly.</p>",
      "raw": "Almost. I need the y axis pointing upwards.\nProbably the only way to achieve this is providing the transformation matrix explicitly.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    },
    {
      "id": 8860,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-22T09:09:57.035Z",
      "updated_at": "2025-02-22T09:09:57.035Z",
      "cooked": "<p>I think this one does what you want:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#canvas({\n  import draw: *\n  set-style(mark:(end:\"&gt;\"))\n  \n  scale(z: 0)\n\n  line((),(x:1), stroke: red)\n  line((0,0),(y:1), stroke: green)\n  line((0,0),(z:1), stroke: blue)\n})\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8fa537e4390df720a8a80a4687038e51f59d189f.png\" alt=\"image\" data-base62-sha1=\"kuKfVxLwMVKAyqBBvVYV8TqV1pl\" width=\"172\" height=\"172\"></p>\n<p>Scaling z by 0 will effectively ignore the coordinate, so that all points with the same (x, y) appear at the same position on the canvas.</p>",
      "raw": "I think this one does what you want:\n```typ\n#canvas({\n  import draw: *\n  set-style(mark:(end:\">\"))\n  \n  scale(z: 0)\n\n  line((),(x:1), stroke: red)\n  line((0,0),(y:1), stroke: green)\n  line((0,0),(z:1), stroke: blue)\n})\n```\n![image|345x345, 50%](upload://kuKfVxLwMVKAyqBBvVYV8TqV1pl.png)\n\nScaling z by 0 will effectively ignore the coordinate, so that all points with the same (x, y) appear at the same position on the canvas.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 9061,
      "post_number": 5,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2025-02-25T20:18:38.958Z",
      "updated_at": "2025-02-25T20:18:38.958Z",
      "cooked": "<p>Not really. In that case, I will lose the z dimension after a rotation. Thanks, though.</p>",
      "raw": "Not really. In that case, I will lose the z dimension after a rotation. Thanks, though.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    },
    {
      "id": 9064,
      "post_number": 6,
      "username": "jwolf",
      "name": "Johannes Wolf",
      "created_at": "2025-02-25T20:54:21.838Z",
      "updated_at": "2025-02-25T21:17:20.344Z",
      "cooked": "<p>You can either use:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.2\"\n\n#cetz.canvas({\n  import cetz.draw: *\n\n  set-transform(none)\n  scale(y: -1)\n\n  line((0,1), (0,0), (1,0), mark: (start: \"&gt;\", end: \"&gt;\"))\n})\n</code></pre>\n<p>Or:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.2\"\n\n#cetz.canvas({\n  import cetz.draw: *\n\n  set-transform(\n    ((1,0,0,0),\n     (0,-1,0,0),\n     (0,0,1,0),\n     (0,0,0,1)))\n\n  line((0,1), (0,0), (1,0), mark: (start: \"&gt;\", end: \"&gt;\"))\n})\n</code></pre>\n<p>To remove the shearing.</p>",
      "raw": "You can either use:\n```typ\n#import \"@preview/cetz:0.3.2\"\n\n#cetz.canvas({\n  import cetz.draw: *\n\n  set-transform(none)\n  scale(y: -1)\n\n  line((0,1), (0,0), (1,0), mark: (start: \">\", end: \">\"))\n})\n```\n\nOr:\n```typ\n#import \"@preview/cetz:0.3.2\"\n\n#cetz.canvas({\n  import cetz.draw: *\n\n  set-transform(\n    ((1,0,0,0),\n     (0,-1,0,0),\n     (0,0,1,0),\n     (0,0,0,1)))\n\n  line((0,1), (0,0), (1,0), mark: (start: \">\", end: \">\"))\n})\n```\nTo remove the shearing.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 19,
      "score": 53.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 72
    }
  ],
  "scraped_at": "2025-06-10T09:52:21.240317"
}
{
  "topic_metadata": {
    "id": 2611,
    "title": "Can we hyphenate using wordlist as in xelatex?",
    "slug": "can-we-hyphenate-using-wordlist-as-in-xelatex",
    "posts_count": 2,
    "created_at": "2025-01-30T14:33:44.983Z",
    "last_posted_at": "2025-01-30T22:35:09.997Z",
    "views": 87,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "text-formatting",
      "latex-migration"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 86
  },
  "posts": [
    {
      "id": 8034,
      "post_number": 1,
      "username": "Rama_Prakasha",
      "name": "Rama Prakasha",
      "created_at": "2025-01-30T14:33:45.250Z",
      "updated_at": "2025-01-30T14:43:02.035Z",
      "cooked": "<p>I typeset lot of Sanskrit and other indic languages using xelatex. For better nuanced hyphenation I use word-lists like these:</p>\n<pre><code class=\"lang-auto\">\\hyphenation{%\nवेदान्त-परि-शील-न-कुश-लानां\nविचार-प्रचोदन-स्थानं\nसर्व-वेदान्त-तात्पर्य-निर्णायक-त्वेन\n}\n</code></pre>\n<p>Is it possible in typst?</p>",
      "raw": "I typeset lot of Sanskrit and other indic languages using xelatex. For better nuanced hyphenation I use word-lists like these:\n```=latex\n\\hyphenation{%\nवेदान्त-परि-शील-न-कुश-लानां\nविचार-प्रचोदन-स्थानं\nसर्व-वेदान्त-तात्पर्य-निर्णायक-त्वेन\n}\n```\nIs it possible in typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1115
    },
    {
      "id": 8052,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-30T22:35:09.997Z",
      "updated_at": "2025-01-30T22:35:09.997Z",
      "cooked": "<p>Typst uses <code>-?</code> (unicode soft hypen <code>\\u{ad}</code>) as hyphenation points.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let words = (\n  \"वेदान्त-परि-शील-न-कुश-लानां\",\n  \"विचार-प्रचोदन-स्थानं\",\n  \"सर्व-वेदान्त-तात्पर्य-निर्णायक-त्वेन\",\n)\n\n#show: body =&gt; words.fold(body, (body, word) =&gt; {\n  show word.replace(\"-\", \"\"): word.replace(\"-\", [-?].text)\n  body\n})\n\nyour text here\n</code></pre>",
      "raw": "Typst uses `-?` (unicode soft hypen `\\u{ad}`) as hyphenation points.\n\n```typ\n#let words = (\n  \"वेदान्त-परि-शील-न-कुश-लानां\",\n  \"विचार-प्रचोदन-स्थानं\",\n  \"सर्व-वेदान्त-तात्पर्य-निर्णायक-त्वेन\",\n)\n\n#show: body => words.fold(body, (body, word) => {\n  show word.replace(\"-\", \"\"): word.replace(\"-\", [-?].text)\n  body\n})\n\nyour text here\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 19.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:52:20.442511"
}
{
  "topic_metadata": {
    "id": 2612,
    "title": "How can I hide the page number on the first page?",
    "slug": "how-can-i-hide-the-page-number-on-the-first-page",
    "posts_count": 2,
    "created_at": "2025-01-30T15:38:05.341Z",
    "last_posted_at": "2025-01-30T15:49:46.618Z",
    "views": 469,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "numbering",
      "page"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 146
  },
  "posts": [
    {
      "id": 8035,
      "post_number": 1,
      "username": "This_isYE",
      "name": "This isYE",
      "created_at": "2025-01-30T15:38:05.540Z",
      "updated_at": "2025-01-30T15:48:02.842Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">\n// Configure the page.\n  #set page(\n    paper: \"a4\",\n    // The margins depend on the paper size.\n    margin: (x: 2cm, y: 1.5cm),\n    numbering:  \"1/1\", number-align: right,\n  )\n</code></pre>\n<p>I am using this to number pages and would like to hide the numbering from the first page, ie start numbering from 2/total beginning with the 2nd page.</p>\n<p>Thank you devs!</p>",
      "raw": "```typ\n\n// Configure the page.\n  #set page(\n    paper: \"a4\",\n    // The margins depend on the paper size.\n    margin: (x: 2cm, y: 1.5cm),\n    numbering:  \"1/1\", number-align: right,\n  )\n```\n\nI am using this to number pages and would like to hide the numbering from the first page, ie start numbering from 2/total beginning with the 2nd page.\n\nThank you devs!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 2248.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1060
    },
    {
      "id": 8037,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-30T15:49:46.618Z",
      "updated_at": "2025-01-30T15:49:46.618Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/this_isye\">@This_isYE</a>, I think your question is answered in these two posts:</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"2419\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/00298C/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-can-i-start-page-numbering-on-the-first-page/2419\">How can I start page numbering on the first page?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    I am new to Typst and using it for preparing assignments for my masters course work … when i set the page number using set page(numbering) i noticed that contents of my first page completely moved to second page and only the title remained in the first page. it seems that the first page is automatically treated as a title page when we switch on numbering… \nSince my document does not need a title page… how do i set this off … \nSnippets of my typst code is give below… \n#set text(\n  font: \"New Comp…\n  </blockquote>\n</aside>\n\n<p>(here OP has what you want but would like the opposite)</p>\n<aside class=\"quote\" data-post=\"1\" data-topic=\"515\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/g/8F3617/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/can-you-have-different-values-for-the-top-margin-after-the-first-page/515\">Can you have different values for the top margin AFTER the first page?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    I would like to be able to set the top margin value differently on every page AFTER the first page. \nPage 1 would have a top margin value of 1cm, every other pager after that would be set to 2.5cm. \nTIA\n  </blockquote>\n</aside>\n\n<p>(here the issue is the same, but with margin instead of numbering)</p>\n<p>Feel free to follow up if these don’t fully solve your problem.</p>",
      "raw": "Hi @This_isYE, I think your question is answered in these two posts:\n\nhttps://forum.typst.app/t/how-can-i-start-page-numbering-on-the-first-page/2419?u=sillyfreak\n\n(here OP has what you want but would like the opposite)\n\nhttps://forum.typst.app/t/can-you-have-different-values-for-the-top-margin-after-the-first-page/515?u=sillyfreak\n\n(here the issue is the same, but with margin instead of numbering)\n\nFeel free to follow up if these don't fully solve your problem.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 42.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:52:19.733035"
}
{
  "topic_metadata": {
    "id": 2619,
    "title": "How can I create multiple PDFs from a single file?",
    "slug": "how-can-i-create-multiple-pdfs-from-a-single-file",
    "posts_count": 11,
    "created_at": "2025-01-30T19:12:21.095Z",
    "last_posted_at": "2025-02-02T23:08:57.849Z",
    "views": 392,
    "like_count": 5,
    "reply_count": 8,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "aarnent",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 553
  },
  "posts": [
    {
      "id": 8044,
      "post_number": 1,
      "username": "JESUS",
      "name": "Jesús Manuel",
      "created_at": "2025-01-30T19:12:21.177Z",
      "updated_at": "2025-01-30T19:38:55.797Z",
      "cooked": "<p>Good afternoon,</p>\n<p>Is it possible to generate multiple PDFs from a single .typ file, for example, from the web using a command or something similar? I haven’t found anything about this in the documentation.</p>\n<p>Thank you very much for your help.</p>",
      "raw": "Good afternoon,\n\nIs it possible to generate multiple PDFs from a single .typ file, for example, from the web using a command or something similar? I haven’t found anything about this in the documentation.\n\nThank you very much for your help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 62,
      "score": 1102.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 176
    },
    {
      "id": 8046,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-30T19:38:33.472Z",
      "updated_at": "2025-01-30T19:38:33.472Z",
      "cooked": "<p>You may be looking for the techniques described here:</p>\n<aside class=\"quote\" data-post=\"1\" data-topic=\"160\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/can-i-configure-my-document-e-g-draft-release-version-color-theme-when-creating-a-pdf-without-modifying-the-typst-file-directly/160\">Can I configure my document (e.g. draft/release version, color theme) when creating a PDF without modifying the Typst file directly?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Basically, are there ways to to create multiple structurally similar PDFs from the same Typst document, by configuring it in some way? Use cases that come to mind: \n\ndraft version (with watermark, comments, …) vs. release version\ndifferent themes, e.g. light/dark, serif/sans\nexam and solution sheets\nslides, handout, and speaker notes\nrendering different data, serial letter style\n\nIs there a mechanism that lets one achieve that without having to modify the input Typst document itself?\n  </blockquote>\n</aside>\n\n<p>Feel free to follow up if this doesn’t fully address your problem.</p>",
      "raw": "You may be looking for the techniques described here:\n\nhttps://forum.typst.app/t/can-i-configure-my-document-e-g-draft-release-version-color-theme-when-creating-a-pdf-without-modifying-the-typst-file-directly/160?u=sillyfreak\n\nFeel free to follow up if this doesn't fully address your problem.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 63,
      "score": 52.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8074,
      "post_number": 3,
      "username": "JESUS",
      "name": "Jesús Manuel",
      "created_at": "2025-01-31T18:56:57.816Z",
      "updated_at": "2025-02-01T12:40:00.858Z",
      "cooked": "<p>I think this is related to my problem, but I’m not sure how to implement it. As you mentioned in the post, this method can be used to generate a PDF with the questions and another with both questions and answers. That’s exactly what I’d like to achieve: generating both PDFs from the same <code>.typ</code> file at the same time.</p>\n<p>Currently, I have two variables in my <code>.typ</code> file that, when modified, change the content of the PDF. However, this only allows me to generate one version at a time, instead of producing both <code>questions.pdf</code> and <code>solutions.pdf</code> simultaneously.</p>\n<p>Here is the code below.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"../../../PREAMBULO1.typ\": *\n\n#import \"../../BTO 2 - MAT II - PREAMBULO.typ\": *\n\n#import \"../../BTO 2 - MAT II - BANCO EXÁMENES.typ\": *\n\n#show: exam.with(\n  subject: subj(),\n  type_exam: \"2ª Ev - Parcial\",\n  name: true,\n  course: cours(),\n)\n\n#let solu = true\n\n#let tdah = false\n\n#show: base_exams.with(\n  solu: solu,\n  ESO: ESO,\n  tdah: tdah,\n  tags: ((\"BTO 2 - MAT II - Propiedades métricas\",\"6\"),(\"BTO 2 - MAT II - Propiedades métricas\",\"8\"))\n)\n</code></pre>\n<p>The variables that allow me to modify the “format” of the final PDF are:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let solu = true\n\n#let tdah = false\n</code></pre>",
      "raw": "I think this is related to my problem, but I’m not sure how to implement it. As you mentioned in the post, this method can be used to generate a PDF with the questions and another with both questions and answers. That’s exactly what I’d like to achieve: generating both PDFs from the same `.typ` file at the same time.\n\nCurrently, I have two variables in my `.typ` file that, when modified, change the content of the PDF. However, this only allows me to generate one version at a time, instead of producing both `questions.pdf` and `solutions.pdf` simultaneously.\n\nHere is the code below.\n\n```typ\n#import \"../../../PREAMBULO1.typ\": *\n\n#import \"../../BTO 2 - MAT II - PREAMBULO.typ\": *\n\n#import \"../../BTO 2 - MAT II - BANCO EXÁMENES.typ\": *\n\n#show: exam.with(\n  subject: subj(),\n  type_exam: \"2ª Ev - Parcial\",\n  name: true,\n  course: cours(),\n)\n\n#let solu = true\n\n#let tdah = false\n\n#show: base_exams.with(\n  solu: solu,\n  ESO: ESO,\n  tdah: tdah,\n  tags: ((\"BTO 2 - MAT II - Propiedades métricas\",\"6\"),(\"BTO 2 - MAT II - Propiedades métricas\",\"8\"))\n)\n```\n\nThe variables that allow me to modify the \"format\" of the final PDF are:\n\n```typ\n#let solu = true\n\n#let tdah = false\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 60.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 176
    },
    {
      "id": 8080,
      "post_number": 4,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-01-31T23:27:05.510Z",
      "updated_at": "2025-01-31T23:27:05.510Z",
      "cooked": "<p>You should probably edit your document to use <code>#let solu = sys.input.solu == \"true\"</code> and use some sort of shell script to produce two outputs</p>\n<p>Example in bash:</p>\n<pre data-code-wrap=\"bash\"><code class=\"lang-bash\">#!/bin/bash\n\ntypst compile --input solu=true --input tdah=false main.typ answers.pdf\n\ntypst compile --input solu=false --input tdah=true main.typ questions.pdf\n</code></pre>\n<p>I am writing this from mobile so there may be errors</p>",
      "raw": "You should probably edit your document to use `#let solu = sys.input.solu == \"true\"` and use some sort of shell script to produce two outputs\n\nExample in bash:\n```bash\n#!/bin/bash\n\ntypst compile --input solu=true --input tdah=false main.typ answers.pdf\n\ntypst compile --input solu=false --input tdah=true main.typ questions.pdf\n```\n\nI am writing this from mobile so there may be errors",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 42,
      "score": 143.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8100,
      "post_number": 5,
      "username": "JESUS",
      "name": "Jesús Manuel",
      "created_at": "2025-02-02T13:07:46.743Z",
      "updated_at": "2025-02-02T13:07:46.743Z",
      "cooked": "<p>Thank you! I have understood the solution you provided.</p>\n<p>Is there a way to achieve this directly within the <code>.typ</code> file, so that exporting generates both PDFs automatically, without needing to modify the <code>.typ</code> file or run multiple commands manually?</p>",
      "raw": "Thank you! I have understood the solution you provided.\n\nIs there a way to achieve this directly within the `.typ` file, so that exporting generates both PDFs automatically, without needing to modify the `.typ` file or run multiple commands manually?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 176
    },
    {
      "id": 8101,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-02T13:12:26.474Z",
      "updated_at": "2025-02-02T13:12:26.474Z",
      "cooked": "<p>a single call to the typst compiler can’t output multiple PDF files, so no.</p>",
      "raw": "a single call to the typst compiler can't output multiple PDF files, so no.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8102,
      "post_number": 7,
      "username": "JESUS",
      "name": "Jesús Manuel",
      "created_at": "2025-02-02T13:17:04.349Z",
      "updated_at": "2025-02-02T13:17:04.349Z",
      "cooked": "<p>Thank you for the quick response!</p>\n<p>Is it possible to modify the name of the generated PDF file within the <code>.typ</code> file itself? That way, even if I generate them manually, I can avoid overwriting the previous one.</p>",
      "raw": "Thank you for the quick response!\n\nIs it possible to modify the name of the generated PDF file within the `.typ` file itself? That way, even if I generate them manually, I can avoid overwriting the previous one.",
      "reply_to_post_number": 6,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 16.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 176
    },
    {
      "id": 8109,
      "post_number": 8,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-02T14:53:06.557Z",
      "updated_at": "2025-02-02T14:53:06.557Z",
      "cooked": "<p>No, that’s not possible, you have to specify the output filename in the compile command.</p>",
      "raw": "No, that's not possible, you have to specify the output filename in the compile command.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 21.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8112,
      "post_number": 9,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-02T16:10:00.499Z",
      "updated_at": "2025-02-02T16:10:00.499Z",
      "cooked": "<p>More generally: a Typst document has no control over what files Typst writes to. The control is fully with the user of the document, among things for security reasons.</p>",
      "raw": "More generally: a Typst document has no control over what files Typst writes to. The control is fully with the user of the document, among things for security reasons.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8154,
      "post_number": 10,
      "username": "JESUS",
      "name": "Jesús Manuel",
      "created_at": "2025-02-02T22:51:57.362Z",
      "updated_at": "2025-02-02T22:51:57.362Z",
      "cooked": "<p>I really appreciate your help. I’ve written a script to run it following your instructions.</p>\n<p>I have some questions about a few warnings that appeared in the console when I executed it. Can I post them here, or would it be better to open a new topic?</p>",
      "raw": "I really appreciate your help. I've written a script to run it following your instructions.\n\nI have some questions about a few warnings that appeared in the console when I executed it. Can I post them here, or would it be better to open a new topic?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 15.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 176
    },
    {
      "id": 8158,
      "post_number": 11,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-02T23:08:57.849Z",
      "updated_at": "2025-02-02T23:08:57.849Z",
      "cooked": "<p>If the warnings are unrelated to this topic it’s best you open a new one</p>",
      "raw": "If the warnings are unrelated to this topic it's best you open a new one",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    }
  ],
  "scraped_at": "2025-06-10T09:52:18.998554"
}
{
  "topic_metadata": {
    "id": 262,
    "title": "Any Possible OCR options in Typst like Mathpix in Latex?",
    "slug": "any-possible-ocr-options-in-typst-like-mathpix-in-latex",
    "posts_count": 9,
    "created_at": "2024-09-15T19:23:17.175Z",
    "last_posted_at": "2024-09-20T22:36:37.588Z",
    "views": 645,
    "like_count": 24,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "ParaN3xus",
    "tags": [
      "math",
      "tooling",
      "symbols"
    ],
    "category_id": 5,
    "participant_count": 7,
    "word_count": 380
  },
  "posts": [
    {
      "id": 1039,
      "post_number": 1,
      "username": "Chris_Li",
      "name": "Chris Li",
      "created_at": "2024-09-15T19:23:17.254Z",
      "updated_at": "2024-10-10T07:13:21.851Z",
      "cooked": "<p>As a student working on Mathematics and some TCS, I had used Latex quite a while before I started to try Typst. I like the features of Typst. But in latex, I get used to utilize OCR tools like mathpix to copy and paste the online formats. I haven’t seen any reliable alternative in Typst that is easy for ordinary usage. Are there possible alternative ways besides using latex-ocr then translating them into typst?</p>",
      "raw": "As a student working on Mathematics and some TCS, I had used Latex quite a while before I started to try Typst. I like the features of Typst. But in latex, I get used to utilize OCR tools like mathpix to copy and paste the online formats. I haven't seen any reliable alternative in Typst that is easy for ordinary usage. Are there possible alternative ways besides using latex-ocr then translating them into typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 71,
      "score": 2389.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 214
    },
    {
      "id": 1045,
      "post_number": 2,
      "username": "baptiste",
      "name": "baptiste",
      "created_at": "2024-09-15T19:41:45.519Z",
      "updated_at": "2024-09-15T19:41:45.519Z",
      "cooked": "<p>Since the available training set (arXiv notably) is much larger in the TeX world, I imagine the best solution for now might be to rely on <code>latex-ocr</code>, but maybe augment it with a call to pandoc (via its Python library) to convert the output to typst automatically. I don’t know enough about Python packaging, but I would imagine it’s not too involved.</p>",
      "raw": "Since the available training set (arXiv notably) is much larger in the TeX world, I imagine the best solution for now might be to rely on `latex-ocr`, but maybe augment it with a call to pandoc (via its Python library) to convert the output to typst automatically. I don't know enough about Python packaging, but I would imagine it's not too involved.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 72,
      "score": 159.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 85
    },
    {
      "id": 1046,
      "post_number": 3,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-15T19:41:52.381Z",
      "updated_at": "2024-09-15T19:41:52.381Z",
      "cooked": "<p>There’s this: <a href=\"https://github.com/detypstify/detypstify\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - detypstify/detypstify: Using OCR to convert images of formulas into Typst code.</a> / <a href=\"https://detypstify.github.io/detypstify/\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Detypstify</a> though I have not personally tried it yet.</p>\n<p>For handwriting recognition of individual symbols, there’s: <a href=\"https://detypify.quarticcat.com/\" rel=\"noopener nofollow ugc\">https://detypify.quarticcat.com/</a>.</p>",
      "raw": "There's this: https://github.com/detypstify/detypstify / https://detypstify.github.io/detypstify/ though I have not personally tried it yet.\n\nFor handwriting recognition of individual symbols, there's: https://detypify.quarticcat.com/.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 72,
      "score": 129.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 1047,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-15T19:46:02.303Z",
      "updated_at": "2024-09-15T19:46:02.303Z",
      "cooked": "<p>There is also <a href=\"https://github.com/ParaN3xus/typress\" rel=\"noopener nofollow ugc\">typress</a> with a <a href=\"https://huggingface.co/spaces/paran3xus/typress_ocr_space\" rel=\"noopener nofollow ugc\">demo on huggingface</a> which can do full equations.</p>",
      "raw": "There is also [typress](https://github.com/ParaN3xus/typress) with a [demo on huggingface](https://huggingface.co/spaces/paran3xus/typress_ocr_space) which can do full equations.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 68,
      "score": 113.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 1049,
      "post_number": 5,
      "username": "Anemona-Anonima",
      "name": "Esteban Muñoz",
      "created_at": "2024-09-15T19:49:58.535Z",
      "updated_at": "2024-09-15T19:49:58.535Z",
      "cooked": "<aside class=\"onebox githubrepo\" data-onebox-src=\"https://github.com/ParaN3xus/typress\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/ParaN3xus/typress\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\" data-github-private-repo=\"false\">\n  <img width=\"690\" height=\"344\" src=\"https://forum.typst.app/uploads/default/optimized/1X/09a46d92de6694753dcdbafdd336f5844b98c972_2_690x344.png\" class=\"thumbnail\" data-dominant-color=\"E6E9EA\">\n\n  <h3><a href=\"https://github.com/ParaN3xus/typress\" target=\"_blank\" rel=\"noopener nofollow ugc\">GitHub - ParaN3xus/typress: Typst Mathematical Expression OCR</a></h3>\n\n    <p><span class=\"github-repo-description\">Typst Mathematical Expression OCR</span></p>\n</div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>Typress allows you to use images to get math formulas written in Typst. Haven’t used it yet, but in case you want to test it, the people behind it also have a demo in <a href=\"https://huggingface.co/spaces/paran3xus/typress_ocr_space\" rel=\"noopener nofollow ugc\">HuggingFace</a></p>",
      "raw": "https://github.com/ParaN3xus/typress\n\nTypress allows you to use images to get math formulas written in Typst. Haven't used it yet, but in case you want to test it, the people behind it also have a demo in [HuggingFace](https://huggingface.co/spaces/paran3xus/typress_ocr_space)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 66,
      "score": 133.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 41
    },
    {
      "id": 1050,
      "post_number": 6,
      "username": "Chris_Li",
      "name": "Chris Li",
      "created_at": "2024-09-15T19:52:45.561Z",
      "updated_at": "2024-09-15T19:52:45.561Z",
      "cooked": "<p>Truly Appriciate! I will try to use typress and <strong><a href=\"https://github.com/detypstify/detypstify\" rel=\"noopener nofollow ugc\">detypstify</a></strong>. Just wish there can be a fast short-cut like control + command + m.</p>",
      "raw": "Truly Appriciate! I will try to use typress and **[detypstify](https://github.com/detypstify/detypstify)**. Just wish there can be a fast short-cut like control + command + m.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 61,
      "score": 62.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 214
    },
    {
      "id": 1069,
      "post_number": 7,
      "username": "Syzygy",
      "name": "Syzygy",
      "created_at": "2024-09-15T23:16:05.823Z",
      "updated_at": "2024-09-15T23:16:05.823Z",
      "cooked": "<p>For Typress, I often use this web app</p>\n<p><a href=\"https://typress-web.vercel.app/\" class=\"onebox\" target=\"_blank\" rel=\"noopener nofollow ugc\">https://typress-web.vercel.app/</a></p>",
      "raw": "For Typress, I often use this web app \n\nhttps://typress-web.vercel.app/",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 5,
      "reads": 57,
      "score": 96.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 16
    },
    {
      "id": 1073,
      "post_number": 8,
      "username": "ParaN3xus",
      "name": "ParaN3xus",
      "created_at": "2024-09-15T23:28:48.451Z",
      "updated_at": "2024-09-15T23:28:48.451Z",
      "cooked": "<p>Hello, I am the developer of Typress. Currently, Typress has good support for printed formulas (such as textbook photos, screen captures, etc.), but support for handwritten formulas is still being improved.</p>\n<p>Please note that Typress only supports mathematical formulas, unlike Mathpix, which also supports text mixed with formulas. Also, we do not have a mathematical formula recognition model, so if you use Typress, it is best to input images that contain only the formulas themselves, without any extraneous parts.</p>",
      "raw": "Hello, I am the developer of Typress. Currently, Typress has good support for printed formulas (such as textbook photos, screen captures, etc.), but support for handwritten formulas is still being improved. \n\nPlease note that Typress only supports mathematical formulas, unlike Mathpix, which also supports text mixed with formulas. Also, we do not have a mathematical formula recognition model, so if you use Typress, it is best to input images that contain only the formulas themselves, without any extraneous parts.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 55,
      "score": 151.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 14
    },
    {
      "id": 2109,
      "post_number": 9,
      "username": "Chris_Li",
      "name": "Chris Li",
      "created_at": "2024-09-20T22:36:37.588Z",
      "updated_at": "2024-09-20T22:36:37.588Z",
      "cooked": "<p>It’s so nice to hear from you! I’m glad to try it.</p>",
      "raw": "It's so nice to hear from you! I'm glad to try it.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 214
    }
  ],
  "scraped_at": "2025-06-10T09:58:54.935570"
}
{
  "topic_metadata": {
    "id": 2621,
    "title": "How to change margins around ctheorems Proof environment?",
    "slug": "how-to-change-margins-around-ctheorems-proof-environment",
    "posts_count": 4,
    "created_at": "2025-01-30T20:59:35.912Z",
    "last_posted_at": "2025-02-05T15:57:01.566Z",
    "views": 111,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "layout",
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 437
  },
  "posts": [
    {
      "id": 8047,
      "post_number": 1,
      "username": "Paul744",
      "name": "Paul",
      "created_at": "2025-01-30T20:59:36.027Z",
      "updated_at": "2025-02-05T15:56:32.684Z",
      "cooked": "<p>I am sure there is something in the manual for this, but for the life of me, I cannot dissect it. For the ctheorems package, I am trying to change the behavior of the proof environment since I do not like the defaults, mainly because it doesn’t match the default behavior of the theorem environment in LaTeX.</p>\n<p>As an example, if one compiles:</p>\n<pre><code class=\"lang-auto\">#set document(\n  date: auto,\n)\n\n#set page(\n    paper: \"us-letter\",\n    margin:(\n      top: 2cm,\n      bottom: 2cm,\n      left: 1.5cm,\n      right: 1.5cm\n    ),\n    numbering: \"1\",\n    number-align: center + bottom\n)\n\n#set text(\n  font: \"New Computer Modern\",\n  size: 10pt\n)\n\n#set par(\n  justify: true,\n  leading: 0.55em,\n  spacing: 0.55em,\n  first-line-indent: 1.8em\n)\n\n#show heading: set block(\n  above: 1.4em,\n  below: 1em\n)\n\n#set math.equation(numbering: \"(1)\", supplement: [Eq.])\n\n#set cite(style: \"alphanumeric\")\n\n#import \"@preview/ctheorems:1.1.3\": *\n#show: thmrules.with(qed-symbol: $square$)\n\n#let theorem = thmbox(\"theorem\", \"Theorem\")\n#let corollary = thmplain(\n  \"corollary\",\n  \"Corollary\",\n  base: \"theorem\",\n  titlefmt: strong\n)\n#let definition = thmbox(\"definition\", \"Definition\", inset: (x: 1.2em, top: 1em))\n\n#let example = thmplain(\"example\", \"Example\").with(numbering: none)\n#let proof = thmproof(\"proof\", \"Proof\")\n\n#let dd = math.upright(\"d\")\n\nWe wish to prove Euler's Gamma function is a generalization of the factorial function.\n\n#proof[\n  We first recall the definition of Euler's $Gamma$-function:\n  #math.equation(block: true, numbering: none, $ Gamma(z) = integral_(0)^(infinity) s^(z - 1) e^(-t) dd t $)\n  With this integral, we can ...\n]\nFrom this point, ...\n</code></pre>\n<p>one sees that the proof doesn’t get vertically spaced and the margins of the proof don’t match the external margins.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/bf3e486fe6c5ec37592de94cd4745652a86f707e.png\" data-download-href=\"https://forum.typst.app/uploads/default/bf3e486fe6c5ec37592de94cd4745652a86f707e\" title=\"Screenshot 2025-01-30 at 15.58.25\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/bf3e486fe6c5ec37592de94cd4745652a86f707e_2_690x124.png\" alt=\"Screenshot 2025-01-30 at 15.58.25\" data-base62-sha1=\"rhODwsyElkexgQUcz7ba5SO0grk\" width=\"690\" height=\"124\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/bf3e486fe6c5ec37592de94cd4745652a86f707e_2_690x124.png, https://forum.typst.app/uploads/default/optimized/2X/b/bf3e486fe6c5ec37592de94cd4745652a86f707e_2_1035x186.png 1.5x, https://forum.typst.app/uploads/default/original/2X/b/bf3e486fe6c5ec37592de94cd4745652a86f707e.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-01-30 at 15.58.25</span><span class=\"informations\">1316×238 44 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I won’t ask about the logic of the ctheorems defaults, but I want to ask, what settings do I need to change to get the proof margins to match the document margins, and to get vertical padding around the proof?</p>",
      "raw": "I am sure there is something in the manual for this, but for the life of me, I cannot dissect it. For the ctheorems package, I am trying to change the behavior of the proof environment since I do not like the defaults, mainly because it doesn't match the default behavior of the theorem environment in LaTeX.\n\nAs an example, if one compiles:\n\n```\n#set document(\n  date: auto,\n)\n\n#set page(\n    paper: \"us-letter\",\n    margin:(\n      top: 2cm,\n      bottom: 2cm,\n      left: 1.5cm,\n      right: 1.5cm\n    ),\n    numbering: \"1\",\n    number-align: center + bottom\n)\n\n#set text(\n  font: \"New Computer Modern\",\n  size: 10pt\n)\n\n#set par(\n  justify: true,\n  leading: 0.55em,\n  spacing: 0.55em,\n  first-line-indent: 1.8em\n)\n\n#show heading: set block(\n  above: 1.4em,\n  below: 1em\n)\n\n#set math.equation(numbering: \"(1)\", supplement: [Eq.])\n\n#set cite(style: \"alphanumeric\")\n\n#import \"@preview/ctheorems:1.1.3\": *\n#show: thmrules.with(qed-symbol: $square$)\n\n#let theorem = thmbox(\"theorem\", \"Theorem\")\n#let corollary = thmplain(\n  \"corollary\",\n  \"Corollary\",\n  base: \"theorem\",\n  titlefmt: strong\n)\n#let definition = thmbox(\"definition\", \"Definition\", inset: (x: 1.2em, top: 1em))\n\n#let example = thmplain(\"example\", \"Example\").with(numbering: none)\n#let proof = thmproof(\"proof\", \"Proof\")\n\n#let dd = math.upright(\"d\")\n\nWe wish to prove Euler's Gamma function is a generalization of the factorial function.\n\n#proof[\n  We first recall the definition of Euler's $Gamma$-function:\n  #math.equation(block: true, numbering: none, $ Gamma(z) = integral_(0)^(infinity) s^(z - 1) e^(-t) dd t $)\n  With this integral, we can ...\n]\nFrom this point, ...\n```\n\none sees that the proof doesn't get vertically spaced and the margins of the proof don't match the external margins.\n\n![Screenshot 2025-01-30 at 15.58.25|690x124](upload://rhODwsyElkexgQUcz7ba5SO0grk.png)\n\nI won't ask about the logic of the ctheorems defaults, but I want to ask, what settings do I need to change to get the proof margins to match the document margins, and to get vertical padding around the proof?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 260.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 788
    },
    {
      "id": 8049,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-30T21:28:31.774Z",
      "updated_at": "2025-01-30T21:28:31.774Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/paul744\">@Paul744</a>,<br>\nI have no idea how the LaTeX default behavior looks like, but I think you are looking for <code>inset</code> which you already used for <code>thmbox</code>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let proof = thmproof(\"proof\", \"Proof\", inset: (x: 0pt, y: 1em))\n</code></pre>",
      "raw": "Hi @Paul744, \nI have no idea how the LaTeX default behavior looks like, but I think you are looking for `inset` which you already used for `thmbox`.\n```typ\n#let proof = thmproof(\"proof\", \"Proof\", inset: (x: 0pt, y: 1em))\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8051,
      "post_number": 3,
      "username": "Paul744",
      "name": "Paul",
      "created_at": "2025-01-30T21:59:21.354Z",
      "updated_at": "2025-01-30T21:59:21.354Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/flokl\">@flokl</a> That was it. Thank you.</p>",
      "raw": "@flokl That was it. Thank you.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 788
    },
    {
      "id": 8238,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-02-05T15:57:01.566Z",
      "updated_at": "2025-02-05T15:57:01.566Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/paul744\">@Paul744</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>In addition, I’ve marked <a class=\"mention\" href=\"/u/flokl\">@flokl</a>’s post as a solution. If it didn’t solve your problem, please let us know if you have further questions!</p>",
      "raw": "Hey @Paul744, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:\n\nIn addition, I've marked @flokl's post as a solution. If it didn't solve your problem, please let us know if you have further questions!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:52:17.947980"
}
{
  "topic_metadata": {
    "id": 2629,
    "title": "How to pass formatted markup to a string argument?",
    "slug": "how-to-pass-formatted-markup-to-a-string-argument",
    "posts_count": 5,
    "created_at": "2025-01-31T13:04:48.234Z",
    "last_posted_at": "2025-02-02T15:53:21.491Z",
    "views": 101,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "jimpjorps",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 223
  },
  "posts": [
    {
      "id": 8065,
      "post_number": 1,
      "username": "stelmo",
      "name": "St. Elmo Wilken",
      "created_at": "2025-01-31T13:04:48.376Z",
      "updated_at": "2025-02-02T15:52:56.417Z",
      "cooked": "<p>When a package expects a string argument, what is the easiest way to supply it with a string that has e.g. italics in it? Entering <code>[blah _blah_ blah]</code> does not work, since this is content instead of a string…</p>",
      "raw": "When a package expects a string argument, what is the easiest way to supply it with a string that has e.g. italics in it? Entering `[blah _blah_ blah]` does not work, since this is content instead of a string...",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 200.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1121
    },
    {
      "id": 8070,
      "post_number": 2,
      "username": "LordBaryhobal",
      "name": "Baryhobal",
      "created_at": "2025-01-31T17:19:13.085Z",
      "updated_at": "2025-01-31T17:19:13.085Z",
      "cooked": "<p>What exactly do you mean by “a string that has italics in it” ?<br>\nDo you mean like <code>\"blah _blah_ blah\"</code> ? In which case it is simply a string, the underscores only have a special meaning in content or math mode</p>",
      "raw": "What exactly do you mean by \"a string that has italics in it\" ?\nDo you mean like `\"blah _blah_ blah\"` ? In which case it is simply a string, the underscores only have a special meaning in content or math mode",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 585
    },
    {
      "id": 8071,
      "post_number": 3,
      "username": "stelmo",
      "name": "St. Elmo Wilken",
      "created_at": "2025-01-31T17:56:06.081Z",
      "updated_at": "2025-01-31T17:56:06.081Z",
      "cooked": "<p>So I suppose I am asking, is there a way to format a string to have italics? I.e. is there some string formatting escape command that converts “blah <em>blah</em>” into “blah <em>blah</em>”?</p>",
      "raw": "So I suppose I am asking, is there a way to format a string to have italics? I.e. is there some string formatting escape command that converts \"blah _blah_\" into \"blah *blah*\"?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1121
    },
    {
      "id": 8073,
      "post_number": 4,
      "username": "jimpjorps",
      "name": "jimpjorps",
      "created_at": "2025-01-31T18:53:01.142Z",
      "updated_at": "2025-01-31T18:55:06.397Z",
      "cooked": "<p>You can <code>eval</code> a string as markup:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let food-review = \"now _that's_ a spicy meatball\"\n#eval(food-review, mode: \"markup\")\n</code></pre>\n<p>However, if the package is expecting a string as an input and then doing string operations on it, then there’s not much you can do; you’d have to change the function yourself to accept content.</p>",
      "raw": "You can `eval` a string as markup:\n\n```typ\n#let food-review = \"now _that's_ a spicy meatball\"\n#eval(food-review, mode: \"markup\")\n```\n\nHowever, if the package is expecting a string as an input and then doing string operations on it, then there's not much you can do; you'd have to change the function yourself to accept content.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1122
    },
    {
      "id": 8111,
      "post_number": 5,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-02-02T15:53:21.491Z",
      "updated_at": "2025-02-02T15:53:21.491Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/stelmo\">@stelmo</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @stelmo, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 28.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:52:11.732169"
}
{
  "topic_metadata": {
    "id": 2634,
    "title": "How to create \"nothing\" instead of an \"empty thing\"?",
    "slug": "how-to-create-nothing-instead-of-an-empty-thing",
    "posts_count": 5,
    "created_at": "2025-01-31T19:06:53.146Z",
    "last_posted_at": "2025-01-31T23:39:08.503Z",
    "views": 222,
    "like_count": 9,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "grids"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 735
  },
  "posts": [
    {
      "id": 8076,
      "post_number": 1,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-01-31T19:06:53.333Z",
      "updated_at": "2025-02-01T18:31:38.870Z",
      "cooked": "<p>I have the following (specific) problem which has its cause in a more general problem: I would like to create a grid, where one or more rows are only printed depending on some condition.</p>\n<p>E.g. in the following example we have a grid with four rows. The third row should only be printed if some condition is true. If the condition is false, a grid with only three rows should be printed:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n      columns: (auto, auto),\n      row-gutter: 1em,\n      column-gutter: 1em,\n      align: (right, left),\n      \"hallo1\", \"world1\",\n      \"hallo2\", \"world2\",\n      if (false) {\n        \"hallo3\", \"world2\"\n      },\n      \"hallo4\", \"world4\",\n)\n</code></pre>\n<p>For the sake of simplicity I’ve just used <code>false</code> as a condition within the if-statement.</p>\n<p>Unfortunately the result is:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/8/8c438f6a3149b41de5b3fc362901dd1b444859dc.png\" alt=\"image\" data-base62-sha1=\"k0PALjyiLUbVfSjKHFqU9cYdmPi\" width=\"107\" height=\"95\"></p>\n<p>I.e. Typst produces a grid with <strong>four</strong> rows, where the content of the third row is sort of an empty element (presumably with height 0). But as <code>row-gutter</code> is <code>1em</code>, we have a vertical gap of that size.</p>\n<p>There is a work-around in this case: I can set <code>row-gutter</code> to <code>0em</code> and use a <code>box</code> in each row to give it the desired vertical space as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n      columns: (auto, auto),\n      row-gutter: 0em,\n      column-gutter: 1em,\n      align: (right, left),\n      box(\"hallo1\", height: 16pt), \"world1\",\n      box(\"hallo2\", height: 16pt), \"world2\",\n      if (false) {\n        box(\"hallo3\", height: 16pt)\n      },\n      if (false) {\n        text(\"world3\")\n      },\n      box(\"hallo4\", height: 16pt), \"world4\",\n)\n</code></pre>\n<p>This leads to the desired output, but the code necessary to produce it is not ideal (to put it mildly):<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/e/edc1ed128a0bf6cfad8ceec117fd414985c480e2.png\" alt=\"image\" data-base62-sha1=\"xViE02HKCuTctVz2EV4Xa4Udjcm\" width=\"107\" height=\"65\"></p>\n<p>In my opinion, the basic problem is that the if-statement produces some sort of <strong>empty element</strong>, if the condition evaluates to <code>false</code>. In my opinion it should produce <strong>“nothing”</strong>, i.e. it should render a grid which consists of only three rows.</p>\n<p>Is there any way to achieve this in Typst or is this a known behaviour? … and if so, why is Typst implemented this way?</p>",
      "raw": "I have the following (specific) problem which has its cause in a more general problem: I would like to create a grid, where one or more rows are only printed depending on some condition.\n\nE.g. in the following example we have a grid with four rows. The third row should only be printed if some condition is true. If the condition is false, a grid with only three rows should be printed:\n\n```typ \n#grid(\n      columns: (auto, auto),\n      row-gutter: 1em,\n      column-gutter: 1em,\n      align: (right, left),\n      \"hallo1\", \"world1\",\n      \"hallo2\", \"world2\",\n      if (false) {\n        \"hallo3\", \"world2\"\n      },\n      \"hallo4\", \"world4\",\n)\n```\n\nFor the sake of simplicity I've just used `false` as a condition within the if-statement.\n\nUnfortunately the result is:\n![image|214x190, 50%](upload://k0PALjyiLUbVfSjKHFqU9cYdmPi.png)\n\nI.e. Typst produces a grid with **four** rows, where the content of the third row is sort of an empty element (presumably with height 0). But as `row-gutter` is `1em`, we have a vertical gap of that size.\n\nThere is a work-around in this case: I can set `row-gutter` to `0em` and use a `box` in each row to give it the desired vertical space as follows:\n\n```typ\n#grid(\n      columns: (auto, auto),\n      row-gutter: 0em,\n      column-gutter: 1em,\n      align: (right, left),\n      box(\"hallo1\", height: 16pt), \"world1\",\n      box(\"hallo2\", height: 16pt), \"world2\",\n      if (false) {\n        box(\"hallo3\", height: 16pt)\n      },\n      if (false) {\n        text(\"world3\")\n      },\n      box(\"hallo4\", height: 16pt), \"world4\",\n)\n```\n\nThis leads to the desired output, but the code necessary to produce it is not ideal (to put it mildly):\n![image|214x130, 50%](upload://xViE02HKCuTctVz2EV4Xa4Udjcm.png)\n\nIn my opinion, the basic problem is that the if-statement produces some sort of **empty element**, if the condition evaluates to `false`. In my opinion it should produce **\"nothing\"**, i.e. it should render a grid which consists of only three rows. \n\nIs there any way to achieve this in Typst or is this a known behaviour? ... and if so, why is Typst implemented this way?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 679.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 8077,
      "post_number": 2,
      "username": "jimpjorps",
      "name": "jimpjorps",
      "created_at": "2025-01-31T19:13:39.902Z",
      "updated_at": "2025-01-31T19:19:53.721Z",
      "cooked": "<p>No comment on the implementation reasons, but the way I’ve approached this in the past is to make an array of rows, do some higher-order functions on the array to manipulate and remove rows, then flatten and spread the array into the  table arguments.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n  columns: (auto, auto, auto),\n  row-gutter: 1em,\n  column-gutter: 1em,\n  align: (right, center, left),\n  ..(\n    (\"apples\", \"and\", \"bananas\"),\n    (\"this\", \"or\", \"that\"),\n    (\"tea\", \"for\", \"two\"),\n    (\"raining cats\", \"and\", \"dogs\"),\n    (\"all\", \"or\", \"nothing\"),\n    (\"up\", \"to\", \"you\")\n  )\n  .filter(row =&gt; row.at(1) != \"or\")\n  .flatten()\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/63758ab580fa3db0eb4a6ebb56a88cdd08c9ed17.png\" alt=\"image\" data-base62-sha1=\"ebR6jgXKxIC9Mugiq3cJCYoU8fl\" width=\"347\" height=\"178\"></p>\n<p>An <code>if</code> with no <code>else</code> evaluates to <code>none</code> if the condition is false. To remove elements of the array that evaluate to <code>none</code>, that’s also just a <code>.filter</code>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n  columns: (auto, auto, auto),\n  row-gutter: 1em,\n  column-gutter: 1em,\n  align: (right, center, left),\n  ..(\n    (\"apples\", \"and\", \"bananas\"),\n    {if (false) {(\"this\", \"or\", \"that\")}},\n    (\"tea\", \"for\", \"two\"),\n    {if (false) {(\"raining cats\", \"and\", \"dogs\")}},\n    (\"all\", \"or\", \"nothing\"),\n    (\"up\", \"to\", \"you\")\n  )\n  .filter(row =&gt; row != none)\n  .flatten()\n)\n</code></pre>",
      "raw": "No comment on the implementation reasons, but the way I've approached this in the past is to make an array of rows, do some higher-order functions on the array to manipulate and remove rows, then flatten and spread the array into the  table arguments.\n\n```typ\n#grid(\n  columns: (auto, auto, auto),\n  row-gutter: 1em,\n  column-gutter: 1em,\n  align: (right, center, left),\n  ..(\n    (\"apples\", \"and\", \"bananas\"),\n    (\"this\", \"or\", \"that\"),\n    (\"tea\", \"for\", \"two\"),\n    (\"raining cats\", \"and\", \"dogs\"),\n    (\"all\", \"or\", \"nothing\"),\n    (\"up\", \"to\", \"you\")\n  )\n  .filter(row => row.at(1) != \"or\")\n  .flatten()\n)\n```\n![image|347x178](upload://ebR6jgXKxIC9Mugiq3cJCYoU8fl.png)\n\nAn `if` with no `else` evaluates to `none` if the condition is false. To remove elements of the array that evaluate to `none`, that's also just a `.filter`:\n```typ\n#grid(\n  columns: (auto, auto, auto),\n  row-gutter: 1em,\n  column-gutter: 1em,\n  align: (right, center, left),\n  ..(\n    (\"apples\", \"and\", \"bananas\"),\n    {if (false) {(\"this\", \"or\", \"that\")}},\n    (\"tea\", \"for\", \"two\"),\n    {if (false) {(\"raining cats\", \"and\", \"dogs\")}},\n    (\"all\", \"or\", \"nothing\"),\n    (\"up\", \"to\", \"you\")\n  )\n  .filter(row => row != none)\n  .flatten()\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 44,
      "score": 43.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1122
    },
    {
      "id": 8078,
      "post_number": 3,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-01-31T19:47:53.812Z",
      "updated_at": "2025-01-31T19:47:53.812Z",
      "cooked": "<p>You don’t need to construct and filter an array, you can just spread the whole if statement, which contains the row as an array:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n    columns: (auto, auto),\n    row-gutter: 1em,\n    column-gutter: 1em,\n    align: (right, left),\n\n    \"hallo1\", \"world1\",\n    \"hallo2\", \"world2\",\n    ..if false { (\"hallo3\", \"world2\") },\n    \"hallo4\", \"world4\",\n)\n</code></pre>\n<p>This works because when spreading <code>..none</code>, you don’t pass an “empty thing” to the grid function, but instead pass “nothing” as you intended.</p>",
      "raw": "You don't need to construct and filter an array, you can just spread the whole if statement, which contains the row as an array:\n\n```typ\n#grid(\n    columns: (auto, auto),\n    row-gutter: 1em,\n    column-gutter: 1em,\n    align: (right, left),\n\n    \"hallo1\", \"world1\",\n    \"hallo2\", \"world2\",\n    ..if false { (\"hallo3\", \"world2\") },\n    \"hallo4\", \"world4\",\n)\n```\n\nThis works because when spreading `..none`, you don't pass an \"empty thing\" to the grid function, but instead pass \"nothing\" as you intended.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 39,
      "score": 77.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 8079,
      "post_number": 4,
      "username": "LordBaryhobal",
      "name": "Baryhobal",
      "created_at": "2025-01-31T21:06:49.824Z",
      "updated_at": "2025-01-31T21:06:49.824Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Roland_Schatzle\" data-post=\"1\" data-topic=\"2634\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/r/1E7C61/48.png\" class=\"avatar\"> Roland_Schatzle:</div>\n<blockquote>\n<p>why is Typst implemented this way</p>\n</blockquote>\n</aside>\n<p>Typst is expression-based, meaning that everything is an expression that gets evaluated to <em>something</em>. Other languages that do this include Scala, Rust, Kotlin, etc. (cf. <a href=\"https://en.wikipedia.org/wiki/Expression-oriented_programming_language\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Expression-oriented programming language - Wikipedia</a>)<br>\nIn such languages, an <code>if</code> statement also gets evaluated. In Typst’s case, it takes the value of the block which was chosen by the condition. For example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let a = if cond {3} else {4}\n</code></pre>\n<p>Here a would be <code>3</code> if <code>cond</code> is true, and <code>4</code> otherwise<br>\nIn your case, you haven’t specified any <code>else</code> clause. As such, if the condition fails, the statement is evaluated to <code>none</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let b = if cond {3}\n</code></pre>\n<p>Here <code>b</code> equals <code>3</code> if <code>cond</code> is true, and <code>none</code> otherwise</p>\n<p>Consequently, if your condition is false, then the optional row’s cells are replaced by a single <code>none</code> value, which is interpreted as an empty cell by <code>grid</code></p>",
      "raw": "[quote=\"Roland_Schatzle, post:1, topic:2634\"]\nwhy is Typst implemented this way\n[/quote]\n\nTypst is expression-based, meaning that everything is an expression that gets evaluated to _something_. Other languages that do this include Scala, Rust, Kotlin, etc. (cf. https://en.wikipedia.org/wiki/Expression-oriented_programming_language)\nIn such languages, an `if` statement also gets evaluated. In Typst's case, it takes the value of the block which was chosen by the condition. For example:\n```typ\n#let a = if cond {3} else {4}\n```\nHere a would be `3` if `cond` is true, and `4` otherwise\nIn your case, you haven't specified any `else` clause. As such, if the condition fails, the statement is evaluated to `none`\n```typ\n#let b = if cond {3}\n```\nHere `b` equals `3` if `cond` is true, and `none` otherwise\n\nConsequently, if your condition is false, then the optional row's cells are replaced by a single `none` value, which is interpreted as an empty cell by `grid`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 4,
      "reads": 35,
      "score": 102.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 585
    },
    {
      "id": 8081,
      "post_number": 5,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-01-31T23:39:08.503Z",
      "updated_at": "2025-01-31T23:39:08.503Z",
      "cooked": "<p>Thanks to all for the really good answers!</p>",
      "raw": "Thanks to all for the really good answers!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 50.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    }
  ],
  "scraped_at": "2025-06-10T09:52:10.970347"
}
{
  "topic_metadata": {
    "id": 2637,
    "title": "Is it possible to download the markup file?",
    "slug": "is-it-possible-to-download-the-markup-file",
    "posts_count": 2,
    "created_at": "2025-02-01T12:03:07.230Z",
    "last_posted_at": "2025-02-01T12:47:25.410Z",
    "views": 78,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "web-app"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 90
  },
  "posts": [
    {
      "id": 8086,
      "post_number": 1,
      "username": "Andrew_van_der_Spuy",
      "name": "Andrew van der Spuy",
      "created_at": "2025-02-01T12:03:07.417Z",
      "updated_at": "2025-02-01T13:22:54.469Z",
      "cooked": "<p>…preferably as a .txt file? So that I can work offline?</p>\n<p>If so, how do I do this? Thanks!</p>",
      "raw": "...preferably as a .txt file? So that I can work offline? \n\nIf so, how do I do this? Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 155.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1093
    },
    {
      "id": 8087,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-01T12:47:25.410Z",
      "updated_at": "2025-02-01T12:47:25.410Z",
      "cooked": "<p>Yes, in the WebApp inside yor project you have on the left the “Files” sidebar, right click the file you want to download, then there should be the option to download. You get a <code>.typ</code> file with the markup.</p>\n<p>Alternatively it is also possible to download your complete project by selecting in the menu at the top “File → Backup project” then you get a <code>.zip</code> file with all your <code>.typ</code> files.</p>",
      "raw": "Yes, in the WebApp inside yor project you have on the left the \"Files\" sidebar, right click the file you want to download, then there should be the option to download. You get a `.typ` file with the markup.\n\nAlternatively it is also possible to download your complete project by selecting in the menu at the top \"File -> Backup project\" then you get a `.zip` file with all your `.typ` files.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 20.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:52:10.233462"
}
{
  "topic_metadata": {
    "id": 2638,
    "title": "How to change font weight associated with #strong?",
    "slug": "how-to-change-font-weight-associated-with-strong",
    "posts_count": 7,
    "created_at": "2025-02-01T13:39:50.039Z",
    "last_posted_at": "2025-02-01T15:22:11.805Z",
    "views": 294,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting",
      "text-formatting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 587
  },
  "posts": [
    {
      "id": 8088,
      "post_number": 1,
      "username": "Gael",
      "name": "Gael",
      "created_at": "2025-02-01T13:39:50.177Z",
      "updated_at": "2025-02-01T14:07:01.841Z",
      "cooked": "<p>There is a bit of documentation showing how to override <code>*this*</code>. E.g.</p>\n<pre><code class=\"lang-auto\">#show strong: set text(red)\n</code></pre>\n<p>All good. But what I typically want is override font weight:</p>\n<pre><code class=\"lang-auto\">#show strong: set text(weight: \"semibold\")\n</code></pre>\n<p>and that fails (it is ignored). I suspect this is because <code>strong</code> is implemented by explicitly defining <code>weight</code> instead of “setting” a new <code>text</code> default value for those environments. Would it make sense to open a ticket on github to ask for <code>strong</code> to be converted to a show rule instead? Or is there another way to redefine what actual weight <code>strong</code> uses?</p>",
      "raw": "There is a bit of documentation showing how to override `*this*`. E.g.\n\n```\n#show strong: set text(red)\n```\n\nAll good. But what I typically want is override font weight:\n\n```\n#show strong: set text(weight: \"semibold\")\n```\n\nand that fails (it is ignored). I suspect this is because `strong` is implemented by explicitly defining `weight` instead of \"setting\" a new `text` default value for those environments. Would it make sense to open a ticket on github to ask for `strong` to be converted to a show rule instead? Or is there another way to redefine what actual weight `strong` uses?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 1378.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1102
    },
    {
      "id": 8089,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-01T14:06:18.443Z",
      "updated_at": "2025-02-01T14:06:18.443Z",
      "cooked": "<p>you can <code>set strong(delta: ...)</code> to a new value; see:</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/model/strong/#parameters-delta\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/model/strong/#parameters-delta\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/model/strong/#parameters-delta\" target=\"_blank\" rel=\"noopener\">Strong Emphasis Function – Typst Documentation</a></h3>\n\n  <p>Documentation for the `strong` function.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>The default delta is to make the font heavier by 300 (whatever that weight unit used by font is called).</p>\n<p>Note that fonts come in discrete weights – or rather, Typst doesn’t yet support variable fonts – so setting e.g. 400 may not change anything since the nearest available weight may still be the same. In that case, increase the change until it works.</p>",
      "raw": "you can `set strong(delta: ...)` to a new value; see:\n\nhttps://typst.app/docs/reference/model/strong/#parameters-delta\n\nThe default delta is to make the font heavier by 300 (whatever that weight unit used by font is called).\n\nNote that fonts come in discrete weights -- or rather, Typst doesn't yet support variable fonts -- so setting e.g. 400 may not change anything since the nearest available weight may still be the same. In that case, increase the change until it works.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 138.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8090,
      "post_number": 3,
      "username": "Gael",
      "name": "Gael",
      "created_at": "2025-02-01T14:22:36.885Z",
      "updated_at": "2025-02-01T14:28:47.309Z",
      "cooked": "<p>Ah brilliant! In this instance, I use a font which provides a semibold variant. I did not think you’d use <code>delta</code> instead of a named weight for <code>strong</code>.</p>\n<p>I understand that working with continuous values sounds extremely compelling (especially with variable fonts, when they get supported) but I have a sneaky suspicion that <em>defaulting</em> to an explicit “bold” variant, when it exists, instead of a set delta, would lead to better typographic results overall.</p>\n<p>Anyway, this solves that. Thanks!</p>",
      "raw": "Ah brilliant! In this instance, I use a font which provides a semibold variant. I did not think you'd use `delta` instead of a named weight for `strong`. \n\nI understand that working with continuous values sounds extremely compelling (especially with variable fonts, when they get supported) but I have a sneaky suspicion that _defaulting_ to an explicit \"bold\" variant, when it exists, instead of a set delta, would lead to better typographic results overall.\n\nAnyway, this solves that. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 72.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1102
    },
    {
      "id": 8091,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-01T14:42:36.658Z",
      "updated_at": "2025-02-01T14:42:36.658Z",
      "cooked": "<p>I just tried something because I had a suspicion why your approach didn’t work: the <a href=\"https://typst.app/docs/reference/model/strong/#parameters-delta\"><code>strong.delta</code></a> and <a href=\"https://typst.app/docs/reference/text/text/#parameters-weight\"><code>text.weight</code></a> stack. So your code changed the weight from 400+300 to 600+300. Since the font probably didn’t have a “black” weight, that was still bold and it looked like your setting was ignored.</p>\n<p>So if you absolutely want semibold, you can do this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set strong(delta: 0)\n#show strong: set text(weight: \"semibold\")\n</code></pre>\n<p>Why is that not the default? Because nested <code>strong</code>s stack too:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">*This is #[*really*] important*\n</code></pre>\n<p>That would result in weights 400+300 and 400+2*300.</p>\n<p>Since the weight names in Typst are defined to correspond to certain numerical values, you could do the following to have a semibold → bold → extrabold progression for strong text:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set strong(delta: 100)\n#show strong: set text(weight: 500)  // or \"medium\"\n</code></pre>",
      "raw": "I just tried something because I had a suspicion why your approach didn't work: the [`strong.delta`](https://typst.app/docs/reference/model/strong/#parameters-delta) and [`text.weight`](https://typst.app/docs/reference/text/text/#parameters-weight) stack. So your code changed the weight from 400+300 to 600+300. Since the font probably didn't have a \"black\" weight, that was still bold and it looked like your setting was ignored.\n\nSo if you absolutely want semibold, you can do this:\n```typ\n#set strong(delta: 0)\n#show strong: set text(weight: \"semibold\")\n```\n\nWhy is that not the default? Because nested `strong`s stack too:\n```typ\n*This is #[*really*] important*\n```\nThat would result in weights 400+300 and 400+2*300.\n\nSince the weight names in Typst are defined to correspond to certain numerical values, you could do the following to have a semibold -> bold -> extrabold progression for strong text:\n```typ\n#set strong(delta: 100)\n#show strong: set text(weight: 500)  // or \"medium\"\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 17.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8092,
      "post_number": 5,
      "username": "Gael",
      "name": "Gael",
      "created_at": "2025-02-01T15:13:45.268Z",
      "updated_at": "2025-02-01T15:13:45.268Z",
      "cooked": "<p>Yes, I had come up with those rules for semibold <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> (once you know how it works, it’s pretty easy to navigate).</p>\n<p>Ooooh, ok… I’m not <em>sure</em> how much strong-stacking is going to be a revelation or a major typography footgun but I have to say that this kind of composition appeals greatly to my math hemisphere… Yeah… Setting it up so that it does semibold by default and turns to bold if I stack them sounds great actually hehehe</p>",
      "raw": "Yes, I had come up with those rules for semibold :slight_smile: (once you know how it works, it's pretty easy to navigate).\n\nOoooh, ok... I'm not _sure_ how much strong-stacking is going to be a revelation or a major typography footgun but I have to say that this kind of composition appeals greatly to my math hemisphere... Yeah... Setting it up so that it does semibold by default and turns to bold if I stack them sounds great actually hehehe",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1102
    },
    {
      "id": 8093,
      "post_number": 6,
      "username": "Gael",
      "name": "Gael",
      "created_at": "2025-02-01T15:19:10.199Z",
      "updated_at": "2025-02-01T15:19:10.199Z",
      "cooked": "<p>Is there a way, in terms of <code>context</code>, to display what specific font file (or variant) is being used? I’m puzzled… I see 4 variants where there should be only 3…</p>",
      "raw": "Is there a way, in terms of `context`, to display what specific font file (or variant) is being used? I'm puzzled... I see 4 variants where there should be only 3...",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1102
    },
    {
      "id": 8094,
      "post_number": 7,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-01T15:22:11.805Z",
      "updated_at": "2025-02-01T15:22:11.805Z",
      "cooked": "<p>I don’t <em>think</em> there is, but that’s out of my area of expertise…</p>\n<p>(also that’s more of a separate question; if you really need this, maybe make a new topic for it since this solved thread will probably not get the required visibility)</p>",
      "raw": "I don't _think_ there is, but that's out of my area of expertise...\n\n(also that's more of a separate question; if you really need this, maybe make a new topic for it since this solved thread will probably not get the required visibility)",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:52:09.520998"
}
{
  "topic_metadata": {
    "id": 2644,
    "title": "How to align figures and their captions to the left?",
    "slug": "how-to-align-figures-and-their-captions-to-the-left",
    "posts_count": 2,
    "created_at": "2025-02-02T13:20:30.087Z",
    "last_posted_at": "2025-02-02T15:03:07.543Z",
    "views": 277,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "figures"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 66
  },
  "posts": [
    {
      "id": 8103,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2025-02-02T13:20:30.219Z",
      "updated_at": "2025-02-02T13:20:30.219Z",
      "cooked": "<p>Normally, if <code>#image</code> is wrapped in <code>#figure</code>, the figure is aligned to the center of the page.</p>\n<p>How can I align figures and their captions to the left instead, in the whole document?</p>",
      "raw": "Normally, if `#image` is wrapped in `#figure`, the figure is aligned to the center of the page.\n\nHow can I align figures and their captions to the left instead, in the whole document?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 1311.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 8110,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-02T15:03:07.543Z",
      "updated_at": "2025-02-02T15:03:07.543Z",
      "cooked": "<p>To align all figure kinds to the left you can use <code>#show figure: set align(start)</code>, to only affect figures with images you can use <code>#show figure.where(kind: image): set align(start)</code>.</p>",
      "raw": "To align all figure kinds to the left you can use `#show figure: set align(start)`, to only affect figures with images you can use `#show figure.where(kind: image): set align(start)`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 29,
      "score": 50.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:52:08.799015"
}
{
  "topic_metadata": {
    "id": 2647,
    "title": "How to prevent emoji from increasing line spacing?",
    "slug": "how-to-prevent-emoji-from-increasing-line-spacing",
    "posts_count": 3,
    "created_at": "2025-02-02T14:12:46.554Z",
    "last_posted_at": "2025-02-11T13:36:36.798Z",
    "views": 130,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "aarnent",
    "tags": [
      "layout",
      "spacing"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 121
  },
  "posts": [
    {
      "id": 8106,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2025-02-02T14:12:46.640Z",
      "updated_at": "2025-02-02T14:14:23.083Z",
      "cooked": "<p>I have an emoji inside a paragraph.</p>\n<pre><code class=\"lang-auto\">#set text(font: \"New Computer Modern\", size: 10pt)\n\n#lorem(50) 😂 #lorem(50)\n</code></pre>\n<p>And the problem is that it increases line spacing. How to prevent this from happening?</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e14e6dc211fc017a1993d79175a49f78a40e90f7.png\" alt=\"image\" data-base62-sha1=\"w99sKiqLq0GtUvcWMmHzOQfcjeT\" width=\"232\" height=\"283\"></p>",
      "raw": "I have an emoji inside a paragraph. \n\n```\n#set text(font: \"New Computer Modern\", size: 10pt)\n\n#lorem(50) 😂 #lorem(50)\n```\n\nAnd the problem is that it increases line spacing. How to prevent this from happening?\n\n![image|310x378, 75%](upload://w99sKiqLq0GtUvcWMmHzOQfcjeT.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 207.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 8114,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-02T18:33:35.325Z",
      "updated_at": "2025-02-02T18:33:35.325Z",
      "cooked": "<p>you can set the text <code>top-edge</code> and <code>bottom-edge</code> to be e.g. <code>\"ascender\"</code> (or a fixed length) to make line spacing more consistent:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set text(\n  font: \"New Computer Modern\",\n  size: 10pt,\n  top-edge: \"ascender\"\n)\n\n#lorem(50) 😂 #lorem(50)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/edb398513919b000733842c4a869cd0fd719de8b.png\" alt=\"image\" data-base62-sha1=\"xUNWl9rsYjMAvqLyxYmudCxzPlN\" width=\"259\" height=\"149\"></p>",
      "raw": "you can set the text `top-edge` and `bottom-edge` to be e.g. `\"ascender\"` (or a fixed length) to make line spacing more consistent:\n\n```typst\n#set text(\n  font: \"New Computer Modern\",\n  size: 10pt,\n  top-edge: \"ascender\"\n)\n\n#lorem(50) 😂 #lorem(50)\n```\n\n![image|259x149](upload://xUNWl9rsYjMAvqLyxYmudCxzPlN.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 35,
      "score": 47.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8469,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-11T13:36:36.798Z",
      "updated_at": "2025-02-11T13:37:07.119Z",
      "cooked": "<p>Alternatively you can define a command to change text edges just for the emojis, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let emoji = text.with(top-edge: \"bounds\")\n\n#lorem(50) #emoji[😂] #lorem(50)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8b58f91dfae5a8c508915b757bdd5e7be171dbf6.png\" alt=\"image\" data-base62-sha1=\"jSIZwOWDd8joB5gfQ9sK0LcWElM\" width=\"156\" height=\"57\"></p>",
      "raw": "Alternatively you can define a command to change text edges just for the emojis, for example:\n\n```typ\n#let emoji = text.with(top-edge: \"bounds\")\n\n#lorem(50) #emoji[😂] #lorem(50)\n```\n\n![image|312x114, 50%](upload://jSIZwOWDd8joB5gfQ9sK0LcWElM.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 18,
      "score": 33.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:52:08.099282"
}
{
  "topic_metadata": {
    "id": 2651,
    "title": "How to set different vertical margins?",
    "slug": "how-to-set-different-vertical-margins",
    "posts_count": 10,
    "created_at": "2025-02-02T21:14:25.361Z",
    "last_posted_at": "2025-02-05T15:56:07.254Z",
    "views": 136,
    "like_count": 7,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "sijo",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 540
  },
  "posts": [
    {
      "id": 8115,
      "post_number": 1,
      "username": "Alistair_Shaw",
      "name": "Alistair Shaw",
      "created_at": "2025-02-02T21:14:25.492Z",
      "updated_at": "2025-02-05T15:54:49.620Z",
      "cooked": "<p>I have backgrounds that, you can clearly see have a different shape top to bottom.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12\" title=\"Book of Common Prayer (3)\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12_2_353x500.jpeg\" alt=\"Book of Common Prayer (3)\" data-base62-sha1=\"yrLzWVp4kSHKIgHgrtLtreB3hS2\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12_2_353x500.jpeg, https://forum.typst.app/uploads/default/optimized/2X/f/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12_2_529x750.jpeg 1.5x, https://forum.typst.app/uploads/default/original/2X/f/f16d74dd1ba6776efaedd9bb0ca5d52c22becf12.jpeg 2x\" data-dominant-color=\"BDA885\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Book of Common Prayer (3)</span><span class=\"informations\">595×842 128 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nmy question is, is there a way of changing the vertical margins top and bottom differently</p>",
      "raw": "I have backgrounds that, you can clearly see have a different shape top to bottom.\n![Book of Common Prayer (3)|353x500](upload://yrLzWVp4kSHKIgHgrtLtreB3hS2.jpeg)\nmy question is, is there a way of changing the vertical margins top and bottom differently",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 242.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1104
    },
    {
      "id": 8152,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-02T22:24:21.560Z",
      "updated_at": "2025-02-02T22:24:21.560Z",
      "cooked": "<p>Hi and welcome to the forum!</p>\n<p>There is no way to change the margins to be of different sizes on the same page, but if all you want is that the text at the top is narrower at the top, you can, for example, wrap the narrower text in a <code>block</code> element.</p>\n<p>For example,</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let content-at-top(cnt) = [\n  #block(width: 5cm)[#cnt]\n]\n\n// use it like so\n#content-at-top[\n  = The Common Benedictions to the Gods for Words of Power:\n]\n</code></pre>\n<p>makes it so the title text is 5cm wide.</p>\n<p>And if the text at the top is always e.g. a top level heading, you can set a show rule that does the same thing for easier use:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show heading.where(level: 1): it =&gt; [\n  #block(width: 5cm)[#it]\n]\n\n// use it like so\n= The Common Benedictions to the Gods for Words of Power:\n</code></pre>\n<p>Both ways will look identical, but note that the latter will make all top level headings narrower.</p>",
      "raw": "Hi and welcome to the forum!\n\nThere is no way to change the margins to be of different sizes on the same page, but if all you want is that the text at the top is narrower at the top, you can, for example, wrap the narrower text in a `block` element. \n\nFor example, \n```typst\n#let content-at-top(cnt) = [\n  #block(width: 5cm)[#cnt]\n]\n\n// use it like so\n#content-at-top[\n  = The Common Benedictions to the Gods for Words of Power:\n]\n```\n\nmakes it so the title text is 5cm wide.\n\nAnd if the text at the top is always e.g. a top level heading, you can set a show rule that does the same thing for easier use:\n```typst\n#show heading.where(level: 1): it => [\n  #block(width: 5cm)[#it]\n]\n\n// use it like so\n= The Common Benedictions to the Gods for Words of Power:\n```\n\nBoth ways will look identical, but note that the latter will make all top level headings narrower.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 42.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8153,
      "post_number": 3,
      "username": "Alistair_Shaw",
      "name": "Alistair Shaw",
      "created_at": "2025-02-02T22:30:26.818Z",
      "updated_at": "2025-02-02T22:30:26.818Z",
      "cooked": "<p>sorry to be a pain, can that do shorter too?</p>",
      "raw": "sorry to be a pain, can that do shorter too?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1104
    },
    {
      "id": 8156,
      "post_number": 4,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-02T23:06:36.432Z",
      "updated_at": "2025-02-02T23:06:36.432Z",
      "cooked": "<p>If you mean the height, yes you can set the height by <code>block(width: 5cm, height: 2cm)</code>. (Note that if they are too short there might be overlap with the text underneath)</p>\n<p>You can also add nested <code>#show</code> rules to apply special e.g. text features like line spacing to only apply to the top text, if that’s something you’re interested in. They work the same way as normal, just place them inside the show rules</p>",
      "raw": "If you mean the height, yes you can set the height by `block(width: 5cm, height: 2cm)`. (Note that if they are too short there might be overlap with the text underneath)\n\nYou can also add nested `#show` rules to apply special e.g. text features like line spacing to only apply to the top text, if that's something you're interested in. They work the same way as normal, just place them inside the show rules",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 26.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8157,
      "post_number": 5,
      "username": "Alistair_Shaw",
      "name": "Alistair Shaw",
      "created_at": "2025-02-02T23:08:51.952Z",
      "updated_at": "2025-02-02T23:08:51.952Z",
      "cooked": "<p>Thank you, most kind. Ive never used LaTeX or Typst before and I’ve accidently given myself a complicated task of making an illuminated manuscript</p>\n<p>DoH</p>",
      "raw": "Thank you, most kind. Ive never used LaTeX or Typst before and I've accidently given myself a complicated task of making an illuminated manuscript \n\nDoH",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1104
    },
    {
      "id": 8162,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-03T08:36:56.754Z",
      "updated_at": "2025-02-03T08:36:56.754Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"aarnent\" data-post=\"2\" data-topic=\"2651\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/0A3649/48.png\" class=\"avatar\"> aarnent:</div>\n<blockquote>\n<p>There is no way to change the margins to be of different sizes on the same page,</p>\n</blockquote>\n</aside>\n<p>What do you mean by that? I may be missing something but if we’re talking about the page margins you can pass a dictionary that specifies different margins on each side (see <a href=\"https://typst.app/docs/reference/layout/page/#parameters-margin\">documentation</a>) so you can do</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(margin: (top: 3cm, bottom: 5cm))\n\nTop\n#v(1fr)\nBottom\n</code></pre>",
      "raw": "[quote=\"aarnent, post:2, topic:2651\"]\nThere is no way to change the margins to be of different sizes on the same page,\n[/quote]\n\nWhat do you mean by that? I may be missing something but if we're talking about the page margins you can pass a dictionary that specifies different margins on each side (see [documentation](https://typst.app/docs/reference/layout/page/#parameters-margin)) so you can do\n\n```typ\n#set page(margin: (top: 3cm, bottom: 5cm))\n\nTop\n#v(1fr)\nBottom\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 27,
      "score": 30.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8163,
      "post_number": 7,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-03T10:28:49.519Z",
      "updated_at": "2025-02-03T10:30:26.508Z",
      "cooked": "<p>Yes I should have been more clear. What I meant was that the margins are a constant length throught a page, i.e. you can’t have the top half of the page have a margin of <code>x: 5cm</code> and the bottom have a margin of <code>x: 1cm</code> (as far as I know)</p>",
      "raw": "Yes I should have been more clear. What I meant was that the margins are a constant length throught a page, i.e. you can't have the top half of the page have a margin of `x: 5cm` and the bottom have a margin of `x: 1cm` (as far as I know)",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8197,
      "post_number": 8,
      "username": "Alistair_Shaw",
      "name": "Alistair Shaw",
      "created_at": "2025-02-04T12:49:54.281Z",
      "updated_at": "2025-02-04T12:49:54.281Z",
      "cooked": "<p>This is what I meant. where the two vertical margins are different with the same horizontal margin (x=same, y= different top and bottom)</p>",
      "raw": "This is what I meant. where the two vertical margins are different with the same horizontal margin (x=same, y= different top and bottom)",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1104
    },
    {
      "id": 8236,
      "post_number": 9,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-02-05T15:55:11.545Z",
      "updated_at": "2025-02-05T15:55:11.545Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/alistair_shaw\">@Alistair_Shaw</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Alistair_Shaw, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 29.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 8237,
      "post_number": 10,
      "username": "Alistair_Shaw",
      "name": "Alistair Shaw",
      "created_at": "2025-02-05T15:56:07.254Z",
      "updated_at": "2025-02-05T15:56:07.254Z",
      "cooked": "<p>thank you, it reads much more clear now :) the two responses were very helpful</p>",
      "raw": "thank you, it reads much more clear now :) the two responses were very helpful",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 48.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1104
    }
  ],
  "scraped_at": "2025-06-10T09:52:07.349791"
}
{
  "topic_metadata": {
    "id": 2655,
    "title": "How to organize fonts within a Web-App project?",
    "slug": "how-to-organize-fonts-within-a-web-app-project",
    "posts_count": 5,
    "created_at": "2025-02-03T11:11:52.765Z",
    "last_posted_at": "2025-02-04T20:06:16.481Z",
    "views": 104,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "flokl",
    "tags": [
      "web-app",
      "fonts"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 180
  },
  "posts": [
    {
      "id": 8166,
      "post_number": 1,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-02-03T11:11:52.957Z",
      "updated_at": "2025-02-03T14:05:43.323Z",
      "cooked": "<p>As to my understanding, fonts which are not offered by Typst directly, have to be copied in the project folder (if the Web-App is used). But most fonts consist of quite a few styles, so the project folder gets easily polluted.</p>\n<p>Is there any way to get a cleaner project folder, by putting the fonts in a subdirectory?</p>",
      "raw": "As to my understanding, fonts which are not offered by Typst directly, have to be copied in the project folder (if the Web-App is used). But most fonts consist of quite a few styles, so the project folder gets easily polluted.\n\nIs there any way to get a cleaner project folder, by putting the fonts in a subdirectory?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 171.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 8168,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-02-03T14:38:09.555Z",
      "updated_at": "2025-02-03T14:38:09.555Z",
      "cooked": "<p>It should work. Typst discovers fonts inside the project automatically, it doesn’t make a difference whether you upload the fonts to the project root or to a subdirectory of it.</p>",
      "raw": "It should work. Typst discovers fonts inside the project automatically, it doesn't make a difference whether you upload the fonts to the project root or to a subdirectory of it.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 21.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 8211,
      "post_number": 3,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-04T19:59:57.517Z",
      "updated_at": "2025-02-04T19:59:57.517Z",
      "cooked": "<p>\"I always create an <code>asset</code> directory, which typically contains a <code>media</code> subdirectory for all my graphics and logos, as well as a <code>fonts</code> subdirectory where I store all my font files. You just need to reference it correctly from your main document; in my case, for example, by using <code>\"/assets/fonts/yourfont.otf\"</code></p>",
      "raw": "\"I always create an `asset` directory, which typically contains a `media` subdirectory for all my graphics and logos, as well as a `fonts` subdirectory where I store all my font files. You just need to reference it correctly from your main document; in my case, for example, by using `\"/assets/fonts/yourfont.otf\"`",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    },
    {
      "id": 8213,
      "post_number": 4,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-02-04T20:03:50.036Z",
      "updated_at": "2025-02-04T20:03:50.036Z",
      "cooked": "<p>As far as I understand <a class=\"mention\" href=\"/u/flokl\">@flokl</a> there is no need to reference fonts by their path. You just use them like pre-installed fonts?!</p>",
      "raw": "As far as I understand @flokl there is no need to reference fonts by their path. You just use them like pre-installed fonts?!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 8214,
      "post_number": 5,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-04T20:06:16.481Z",
      "updated_at": "2025-02-04T20:06:16.481Z",
      "cooked": "<p>Ah yes, true that <img src=\"https://forum.typst.app/images/emoji/apple/sweat_smile.png?v=12\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> You can also reference them directly, of course.</p>",
      "raw": "Ah yes, true that :sweat_smile: You can also reference them directly, of course.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    }
  ],
  "scraped_at": "2025-06-10T09:52:06.639934"
}
{
  "topic_metadata": {
    "id": 2657,
    "title": "How to use different fonts for math mode and math.cal?",
    "slug": "how-to-use-different-fonts-for-math-mode-and-math-cal",
    "posts_count": 3,
    "created_at": "2025-02-03T15:59:07.646Z",
    "last_posted_at": "2025-02-03T16:30:22.456Z",
    "views": 259,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "math",
      "fonts"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 300
  },
  "posts": [
    {
      "id": 8170,
      "post_number": 1,
      "username": "AMBVT",
      "name": "",
      "created_at": "2025-02-03T15:59:07.802Z",
      "updated_at": "2025-02-21T21:03:41.553Z",
      "cooked": "<p>I want to use the TeX Gyre Pagella Math font for math mode, so I use the code</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show math.equation: it =&gt; {\n  set text(font: \"TeX Gyre Pagella Math\")\n  set block(breakable: true)\n  if it.block == false {\n    box(it)\n  } else {\n    it\n  }\n}\n</code></pre>\n<p>Sometimes, I also want to use the New Computer Modern Math font for script letters in math mode, so I use the code</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">let scr(it) = math.class(\"normal\", box({\n  show math.equation: set text(font: \"New Computer Modern Math\", stylistic-set: 1)\n  $#math.cal(it)$\n}) + h(0pt))\n</code></pre>\n<p>(taken from <a href=\"https://forum.typst.app/t/how-does-one-avoid-caligraphic-font-difference-between-typst-and-latex/1781/3\">here</a>). But this command does not work, e.g.</p>\n<pre data-code-wrap=\"typm\"><code class=\"lang-typm\">scr(P)\n</code></pre>\n<p>displays TeX Gyre Pagella Math’s calligraphic font. What am I doing wrong?</p>",
      "raw": "I want to use the TeX Gyre Pagella Math font for math mode, so I use the code\n```typc\nshow math.equation: it => {\n  set text(font: \"TeX Gyre Pagella Math\")\n  set block(breakable: true)\n  if it.block == false {\n    box(it)\n  } else {\n    it\n  }\n}\n```\nSometimes, I also want to use the New Computer Modern Math font for script letters in math mode, so I use the code\n```typc\nlet scr(it) = math.class(\"normal\", box({\n  show math.equation: set text(font: \"New Computer Modern Math\", stylistic-set: 1)\n  $#math.cal(it)$\n}) + h(0pt))\n```\n(taken from [here](https://forum.typst.app/t/how-does-one-avoid-caligraphic-font-difference-between-typst-and-latex/1781/3?u=ambvt)). But this command does not work, e.g.\n```typm\nscr(P)\n```\ndisplays TeX Gyre Pagella Math's calligraphic font. What am I doing wrong?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 913.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 257
    },
    {
      "id": 8171,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-02-03T16:27:18.362Z",
      "updated_at": "2025-02-03T16:27:18.362Z",
      "cooked": "<p>For this, you need to know that there is a difference between using a show-set rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: set text(font: \"TeX Gyre Pagella Math\")\n</code></pre>\n<p>and using a set rule inside a show rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: it =&gt; {\n  set text(font: \"TeX Gyre Pagella Math\")\n  it\n}\n</code></pre>\n<p>Only in the first case (the show-set rule), the font can be overridden by another rule. I have expanded a bit on that difference in <a href=\"https://forum.typst.app/t/how-to-change-figure-caption-justification/1761/5\" class=\"inline-onebox\">How to change figure caption justification? - #5 by Eric</a>.</p>\n<p>To get your code working, you thus only need to rewrite your first show rule, such that the set rules are separated out into show-set rules. There, you could then also simplify the boxing of inline equations:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: set text(font: \"TeX Gyre Pagella Math\")\n#show math.equation: set block(breakable: true)\n#show math.equation.where(block: false): box\n</code></pre>",
      "raw": "For this, you need to know that there is a difference between using a show-set rule\n```typ\n#show math.equation: set text(font: \"TeX Gyre Pagella Math\")\n```\nand using a set rule inside a show rule\n```typ\n#show math.equation: it => {\n  set text(font: \"TeX Gyre Pagella Math\")\n  it\n}\n```\n\nOnly in the first case (the show-set rule), the font can be overridden by another rule. I have expanded a bit on that difference in https://forum.typst.app/t/how-to-change-figure-caption-justification/1761/5?u=eric.\n\nTo get your code working, you thus only need to rewrite your first show rule, such that the set rules are separated out into show-set rules. There, you could then also simplify the boxing of inline equations:\n```typ\n#show math.equation: set text(font: \"TeX Gyre Pagella Math\")\n#show math.equation: set block(breakable: true)\n#show math.equation.where(block: false): box\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 48.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 8172,
      "post_number": 3,
      "username": "AMBVT",
      "name": "",
      "created_at": "2025-02-03T16:30:22.456Z",
      "updated_at": "2025-02-03T16:30:22.456Z",
      "cooked": "<p>Perfect, thank you. I am deeply grateful. <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Perfect, thank you. I am deeply grateful. :smiley:",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 13.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 257
    }
  ],
  "scraped_at": "2025-06-10T09:52:05.729004"
}
{
  "topic_metadata": {
    "id": 2662,
    "title": "How can I use a show function inside a loop?",
    "slug": "how-can-i-use-a-show-function-inside-a-loop",
    "posts_count": 4,
    "created_at": "2025-02-04T01:11:01.848Z",
    "last_posted_at": "2025-02-04T14:23:08.846Z",
    "views": 96,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting",
      "layout",
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 259
  },
  "posts": [
    {
      "id": 8190,
      "post_number": 1,
      "username": "Sylvan_Franklin",
      "name": "Sylvan Franklin",
      "created_at": "2025-02-04T01:11:02.069Z",
      "updated_at": "2025-02-06T09:40:34.343Z",
      "cooked": "<p>I’m trying to make an environment where there are a number of customizable shorthands via an array or argument sink, the code explains it better:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let characters = (\"Sam\", \"Dave\", \"Adam\")\n\n#let log(body) = {\n  for c in characters {\n    show c + \":\": it =&gt; [#it...]\n  }\n  block()[\n    #body\n  ]\n}\n\n#log()[\n  Sam:\n]\n</code></pre>\n<p>I can see why this wouldn’t work since the show rules are on the wrong level, but how could I bring them up one level?</p>",
      "raw": "I'm trying to make an environment where there are a number of customizable shorthands via an array or argument sink, the code explains it better: \n\n```typ\n#let characters = (\"Sam\", \"Dave\", \"Adam\")\n\n#let log(body) = {\n  for c in characters {\n    show c + \":\": it => [#it...]\n  }\n  block()[\n    #body\n  ]\n}\n\n#log()[\n  Sam:\n]\n```\nI can see why this wouldn't work since the show rules are on the wrong level, but how could I bring them up one level?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 226.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 731
    },
    {
      "id": 8192,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2025-02-04T06:52:59.070Z",
      "updated_at": "2025-02-04T07:54:46.438Z",
      "cooked": "<p>Is there something more complex that you are trying to achieve?  If the example given is the end goal then you could use a regular expression as your show rule.  With longer lists it will become slower and slower.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let characters = (\"Sam\", \"Dave\", \"Adam\")\n#let rePattern = \"(\"+characters.map(c =&gt; \"\\b\"+c).join(\"|\")+\"):\"//(\\bSam|\\bDave|\\bAdam):\n\n#show regex(rePattern): it =&gt; {\n  show \":\": [...]\n  it\n}\n\nAlice:\n\nBob:\n\nClarice:\n\nDave:\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/85054a07f7b3c49625eb1b2a8e148d0747a569b3.png\" alt=\"image\" data-base62-sha1=\"iYKPO1wMlyRhmURBdHQxTI8wLrJ\" width=\"231\" height=\"128\"></p>\n</details>\n<p>The regular expression pattern here ends up being <code>(\\bSam|\\bDave|\\bAdam):</code>.  The ‘\\b’ makes sure that the character before the start of each name is not a character (typically a space).  It’s optional but without it you could match too many things.</p>\n<p>And if you wanted it as the <code>log</code> function:</p>\n<details>\n<summary>\nCode</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let characters = (\"Sam\", \"Dave\", \"Adam\")\n#let rePattern = \"(\"+characters.map(c =&gt; \"\\b\"+c).join(\"|\")+\"):\"//(\\bSam|\\bDave|\\bAdam):\n\n#let log(body) = {\n  show regex(rePattern): it =&gt; {\n    show \":\": [...]\n    it\n  }\n  body\n}\n</code></pre>\n</details>",
      "raw": "Is there something more complex that you are trying to achieve?  If the example given is the end goal then you could use a regular expression as your show rule.  With longer lists it will become slower and slower.\n\n```typ\n#let characters = (\"Sam\", \"Dave\", \"Adam\")\n#let rePattern = \"(\"+characters.map(c => \"\\b\"+c).join(\"|\")+\"):\"//(\\bSam|\\bDave|\\bAdam):\n\n#show regex(rePattern): it => {\n  show \":\": [...]\n  it\n}\n\nAlice:\n\nBob:\n\nClarice:\n\nDave:\n```\n\n[details=\"Output\"]\n![image|231x128](upload://iYKPO1wMlyRhmURBdHQxTI8wLrJ.png)\n[/details]\n\nThe regular expression pattern here ends up being `(\\bSam|\\bDave|\\bAdam):`.  The '\\b' makes sure that the character before the start of each name is not a character (typically a space).  It's optional but without it you could match too many things.\n\nAnd if you wanted it as the `log` function:\n\n[details=\"Code\"]\n```typ\n#let characters = (\"Sam\", \"Dave\", \"Adam\")\n#let rePattern = \"(\"+characters.map(c => \"\\b\"+c).join(\"|\")+\"):\"//(\\bSam|\\bDave|\\bAdam):\n\n#let log(body) = {\n  show regex(rePattern): it => {\n    show \":\": [...]\n    it\n  }\n  body\n}\n```\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 8193,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-04T09:19:35.134Z",
      "updated_at": "2025-02-04T09:19:35.134Z",
      "cooked": "<p>See here:</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"952\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-can-i-create-show-rules-in-a-loop/952\">How can I create show rules in a loop?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Let’s say I have many words for which I want a show rule to treat them all with some transformation; say, I want them to all show up strong: \n#show \"foo\": strong\n#show \"baz\": strong\n\nfoo bar baz\n\nIn the real case, there are obviously potentially many more targets for the show rules; how can I create these show rules without repeating myself? Ideally I want my targets to be stored in arrays and somehow process the elements of the array – something like this: \n#let words = (\"foo\", \"baz\")\n#for word…\n  </blockquote>\n</aside>\n",
      "raw": "See here:\n\nhttps://forum.typst.app/t/how-can-i-create-show-rules-in-a-loop/952?u=sillyfreak",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 80.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8201,
      "post_number": 4,
      "username": "Sylvan_Franklin",
      "name": "Sylvan Franklin",
      "created_at": "2025-02-04T14:23:08.846Z",
      "updated_at": "2025-02-04T14:23:08.846Z",
      "cooked": "<p>thanks that’s exactly it, sorry for not reading more closely!</p>",
      "raw": "thanks that's exactly it, sorry for not reading more closely!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 731
    }
  ],
  "scraped_at": "2025-06-10T09:52:05.009574"
}
{
  "topic_metadata": {
    "id": 2667,
    "title": "How can I make Typst automatically line wrap long arbitrary words?",
    "slug": "how-can-i-make-typst-automatically-line-wrap-long-arbitrary-words",
    "posts_count": 3,
    "created_at": "2025-02-04T13:33:42.640Z",
    "last_posted_at": "2025-02-04T16:11:46.612Z",
    "views": 195,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "layout",
      "text"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 139
  },
  "posts": [
    {
      "id": 8199,
      "post_number": 1,
      "username": "tyilo",
      "name": "Asger Hautop Drewsen",
      "created_at": "2025-02-04T13:33:42.942Z",
      "updated_at": "2025-02-06T09:39:04.064Z",
      "cooked": "<p>I have a document used for generating a PDF from some user input.</p>\n<p>Something like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">Here is the user's message: #sys.inputs.at(\"message\")\n</code></pre>\n<p>This works fine except when the user’s message contains a very long word such as 1000 <code>A</code>’s:</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-sh\">typst compile test.typ --input message=\"$(python -c 'print(\"A\" * 1000)')\"\n</code></pre>\n<p>Is there a way to get typst to automatically insert line breaks when a single word is longer than the current line?</p>",
      "raw": "I have a document used for generating a PDF from some user input.\n\nSomething like:\n```typ\nHere is the user's message: #sys.inputs.at(\"message\")\n```\n\nThis works fine except when the user's message contains a very long word such as 1000 `A`'s:\n\n```sh\ntypst compile test.typ --input message=\"$(python -c 'print(\"A\" * 1000)')\"\n```\n\nIs there a way to get typst to automatically insert line breaks when a single word is longer than the current line?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 831.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1133
    },
    {
      "id": 8204,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-02-04T15:16:06.078Z",
      "updated_at": "2025-02-04T15:16:13.280Z",
      "cooked": "<p>The simplest way is probably to <a href=\"https://typst.app/docs/reference/text/text/#parameters-hyphenate\">enable hyphenation</a> for exactly the input. That will also allow breaking a word if it’s shorter than an <em>entire</em> line, though, just in case that’s a problem.</p>",
      "raw": "The simplest way is probably to [enable hyphenation](https://typst.app/docs/reference/text/text/#parameters-hyphenate) for exactly the input. That will also allow breaking a word if it's shorter than an _entire_ line, though, just in case that's a problem.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 96.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 8206,
      "post_number": 3,
      "username": "tyilo",
      "name": "Asger Hautop Drewsen",
      "created_at": "2025-02-04T16:11:46.612Z",
      "updated_at": "2025-02-04T16:11:46.612Z",
      "cooked": "<p>I thought I already tried this without it working, but it works for me now. Thanks!</p>",
      "raw": "I thought I already tried this without it working, but it works for me now. Thanks!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 20.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1133
    }
  ],
  "scraped_at": "2025-06-10T09:52:04.268793"
}
{
  "topic_metadata": {
    "id": 2669,
    "title": "How can I automatically assign a different color to each heading?",
    "slug": "how-can-i-automatically-assign-a-different-color-to-each-heading",
    "posts_count": 7,
    "created_at": "2025-02-04T18:37:12.046Z",
    "last_posted_at": "2025-02-05T09:03:33.886Z",
    "views": 180,
    "like_count": 4,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "aarnent",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 688
  },
  "posts": [
    {
      "id": 8207,
      "post_number": 1,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-04T18:37:12.197Z",
      "updated_at": "2025-02-04T18:44:14.358Z",
      "cooked": "<p>Hey all,<br>\nthis is my first question here and I would appreciate your assistance.</p>\n<p>I’m trying to write a template, where:</p>\n<ol>\n<li>Count all level 1 headings and store the total in a variable called <code>X</code>.</li>\n<li>Sample <code>X</code> different colors from a gradient and store them in an array, <code>A</code>, with <code>X</code> entries.</li>\n<li>Assign each of the <code>X</code> headings one of the entries from array <code>A</code>.</li>\n</ol>\n<p>I’ve tried quite a few approaches, but I seem to be struggling with the last part. It prints each heading <code>X</code> times for each color instead of just once.<br>\nAlso everything has to remain in the <code>context</code>  which is not very elegant.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set heading(numbering: \"1\")\n\n#context[\n  \n  //get the number of level-one headings\n  #let counter = counter(heading).final().at(0)\n  #counter\n  \n  \n  //get array of ratios\n  #let ratios = ()\n  #for i in range(1, counter+1) {\n    ratios.push(i*(100/counter)*1%)\n  }\n  #ratios\n\n  \n  //generate colors\n  #let grad = gradient.linear(..color.map.rainbow).samples(..ratios)\n  #grad     \n\n  #show heading: it =&gt; for i in range(counter){\n    //if i+1 == counter(heading).at(i){\n      align(center, text(font: \"Poppins\", fill: grad.at(i), it.body))\n    } \n\n]\n\n= one\n= two\n= three\n</code></pre>\n<p>Thank you in advance!</p>",
      "raw": "Hey all,\nthis is my first question here and I would appreciate your assistance.\n\nI'm trying to write a template, where:\n1. Count all level 1 headings and store the total in a variable called `X`.\n2. Sample `X` different colors from a gradient and store them in an array, `A`, with `X` entries.\n3. Assign each of the `X` headings one of the entries from array `A`.\n\nI've tried quite a few approaches, but I seem to be struggling with the last part. It prints each heading `X` times for each color instead of just once.\nAlso everything has to remain in the `context`  which is not very elegant.\n\n```typst\n#set heading(numbering: \"1\")\n\n#context[\n  \n  //get the number of level-one headings\n  #let counter = counter(heading).final().at(0)\n  #counter\n  \n  \n  //get array of ratios\n  #let ratios = ()\n  #for i in range(1, counter+1) {\n    ratios.push(i*(100/counter)*1%)\n  }\n  #ratios\n\n  \n  //generate colors\n  #let grad = gradient.linear(..color.map.rainbow).samples(..ratios)\n  #grad     \n\n  #show heading: it => for i in range(counter){\n    //if i+1 == counter(heading).at(i){\n      align(center, text(font: \"Poppins\", fill: grad.at(i), it.body))\n    } \n\n]\n\n= one\n= two\n= three\n```\n\nThank you in advance!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 586.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    },
    {
      "id": 8208,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-04T19:30:56.596Z",
      "updated_at": "2025-02-04T19:30:56.596Z",
      "cooked": "<p>Are you trying to make each heading a different color? if so, the best way would be to use a show rule that applies to headings:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show heading: it =&gt; context [\n  \n  //get the number of level-one headings\n  #let finalcounter = counter(heading).final().at(0)\n  #let currentcounter = counter(heading).at(here()).at(0)\n\n  #let ratio = currentcounter / finalcounter * 100%\n  \n  //generate color\n  #let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n  \n  #align(center, text(font: \"Poppins\", fill: grad, it.body))\n]\n\n= one\n= two\n= three\n</code></pre>\n<p>If instead you are trying to get a sort of outline of all headings at the beginning, you can do that like so</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#context [\n  \n  //get all level-one headings\n  #let allheadings = query(heading.where(level: 1))\n\n  #for (i, h) in allheadings.enumerate() {\n    let ratio = i / allheadings.len() * 100%\n    \n    //generate color\n    let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n    \n    align(center, text(font: \"Poppins\", fill: grad, h.body))\n    \n  }\n]\n\n= one\n= two\n= three\n</code></pre>\n<p>If you are curious about why your code didn’t work, it is because you are doing a for loop for each heading, so each heading gets displayed as the output of the for loop, leaving you with X copies.</p>",
      "raw": "Are you trying to make each heading a different color? if so, the best way would be to use a show rule that applies to headings:\n\n```typst\n#show heading: it => context [\n  \n  //get the number of level-one headings\n  #let finalcounter = counter(heading).final().at(0)\n  #let currentcounter = counter(heading).at(here()).at(0)\n\n  #let ratio = currentcounter / finalcounter * 100%\n  \n  //generate color\n  #let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n  \n  #align(center, text(font: \"Poppins\", fill: grad, it.body))\n]\n\n= one\n= two\n= three\n```\n\nIf instead you are trying to get a sort of outline of all headings at the beginning, you can do that like so\n```typst\n#context [\n  \n  //get all level-one headings\n  #let allheadings = query(heading.where(level: 1))\n\n  #for (i, h) in allheadings.enumerate() {\n    let ratio = i / allheadings.len() * 100%\n    \n    //generate color\n    let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n    \n    align(center, text(font: \"Poppins\", fill: grad, h.body))\n    \n  }\n]\n\n= one\n= two\n= three\n```\n\nIf you are curious about why your code didn't work, it is because you are doing a for loop for each heading, so each heading gets displayed as the output of the for loop, leaving you with X copies.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 31,
      "score": 56.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8209,
      "post_number": 3,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-04T19:43:27.105Z",
      "updated_at": "2025-02-04T19:43:27.105Z",
      "cooked": "<p>Oh my gosh, it works! Instead of dealing with multiple values and attempting to apply the show rule to each one individually, you can simply consolidate everything into a single show rule that will be applied to each heading separately. It’s such a clever solution!</p>",
      "raw": "Oh my gosh, it works! Instead of dealing with multiple values and attempting to apply the show rule to each one individually, you can simply consolidate everything into a single show rule that will be applied to each heading separately. It's such a clever solution!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    },
    {
      "id": 8210,
      "post_number": 4,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-04T19:59:47.308Z",
      "updated_at": "2025-02-04T19:59:47.308Z",
      "cooked": "<p>No problem. Though do note that taking the value from the counter can lead to unwanted behavior if it’s manually set in the document:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">= one\n= two\n\n#counter(heading).update(1)\n= three\n</code></pre>\n<details>\n<summary>\nSummary</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/4859d1ae581d94bbde49d286b7ca5bdcf4bd40f3.png\" alt=\"image\" data-base62-sha1=\"ak2OuiNCHxYnaWDtUrNdUgSuXp9\" width=\"491\" height=\"178\"></p>\n</details>\n<p>So if this is a problem, you should use queries instead of relying on counters :)</p>",
      "raw": "No problem. Though do note that taking the value from the counter can lead to unwanted behavior if it's manually set in the document:\n\n```typst\n= one\n= two\n\n#counter(heading).update(1)\n= three\n```\n\n\n[details=\"Summary\"]\n![image|491x178](upload://ak2OuiNCHxYnaWDtUrNdUgSuXp9.png)\n[/details]\n\nSo if this is a problem, you should use queries instead of relying on counters :)",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8212,
      "post_number": 5,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-04T20:01:24.872Z",
      "updated_at": "2025-02-04T20:01:24.872Z",
      "cooked": "<p>I haven’t looked at queries yet. Would you mind elaborating a bit?</p>",
      "raw": "I haven't looked at queries yet. Would you mind elaborating a bit?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    },
    {
      "id": 8216,
      "post_number": 6,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-04T20:45:53.538Z",
      "updated_at": "2025-02-04T20:45:53.538Z",
      "cooked": "<p>Sure. All you need to do is replace the lines up to calculating the ratio with</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">  //get all level-one headings\n  #let allheadings = query(heading.where(level: 1))\n\n  #let currentheading = query(heading.where(level: 1).before(here()))\n\n  #let ratio = currentheading.len() / allheadings.len() * 100%\n</code></pre>\n<p>This will calculate the ratio using the number of headings in the document, instead of relying on the counter whose value can be changed arbitrarily</p>",
      "raw": "Sure. All you need to do is replace the lines up to calculating the ratio with\n\n```typst\n  //get all level-one headings\n  #let allheadings = query(heading.where(level: 1))\n\n  #let currentheading = query(heading.where(level: 1).before(here()))\n\n  #let ratio = currentheading.len() / allheadings.len() * 100%\n```\n\nThis will calculate the ratio using the number of headings in the document, instead of relying on the counter whose value can be changed arbitrarily",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 129.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8227,
      "post_number": 7,
      "username": "cgruesser",
      "name": "",
      "created_at": "2025-02-05T09:03:33.886Z",
      "updated_at": "2025-02-05T09:27:59.377Z",
      "cooked": "<p>I think this is what I searched for in the first place. I will definitely have a look at the documentation. I marked your comment as the best solution. There is also no need to specify the heading numbering like this, which makes the code even cleaner.</p>\n<p>Here is the full code:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show heading: it =&gt; context [\n  \n  //get the number of level-one headings\n  #let allheadings = query(heading.where(level: 1))\n  #let currentheading = query(heading.where(level: 1).before(here()))\n\n  //calculate ratio\n  #let ratio = currentheading.len() / allheadings.len() * 100%\n  \n  //generate color\n  #let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n  \n  #align(center+horizon, text(font: \"Poppins\", fill: grad, it))\n\n]\n\n= one\n= two\n= three\n</code></pre>",
      "raw": "I think this is what I searched for in the first place. I will definitely have a look at the documentation. I marked your comment as the best solution. There is also no need to specify the heading numbering like this, which makes the code even cleaner.\n\nHere is the full code:\n```typst\n#show heading: it => context [\n  \n  //get the number of level-one headings\n  #let allheadings = query(heading.where(level: 1))\n  #let currentheading = query(heading.where(level: 1).before(here()))\n\n  //calculate ratio\n  #let ratio = currentheading.len() / allheadings.len() * 100%\n  \n  //generate color\n  #let grad = gradient.linear(..color.map.rainbow).sample(ratio)\n  \n  #align(center+horizon, text(font: \"Poppins\", fill: grad, it))\n\n]\n\n= one\n= two\n= three\n```",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 402
    }
  ],
  "scraped_at": "2025-06-10T09:52:03.527974"
}
{
  "topic_metadata": {
    "id": 2672,
    "title": "How to add a `lorem(50)` after every heading?",
    "slug": "how-to-add-a-lorem-50-after-every-heading",
    "posts_count": 3,
    "created_at": "2025-02-04T21:13:58.334Z",
    "last_posted_at": "2025-02-05T19:24:41.650Z",
    "views": 91,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "aarnent",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 250
  },
  "posts": [
    {
      "id": 8218,
      "post_number": 1,
      "username": "filchristou",
      "name": "filchristou",
      "created_at": "2025-02-04T21:13:58.518Z",
      "updated_at": "2025-02-04T21:13:58.518Z",
      "cooked": "<p>How can I add a <code>lorem(50)</code> after every heading ?</p>\n<p>I tried</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">show heading: it =&gt; {\n  it\n  lorem(50)\n}\n</code></pre>\n<p>But this prints the <code>lorem</code> in heading style.</p>\n<p>I also tried something like</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">let add-lorem(elem) = {\n  if type(elem) == heading {\n    elem + lorem(50)\n  } else {\n    elem\n  }\n}\n\nshow: add-lorem\n\n= Intro\n\n== ...\n===....\n</code></pre>\n<p>but also didn’t work.</p>",
      "raw": "How can I add a `lorem(50)` after every heading ?\n\nI tried\n```typst\nshow heading: it => {\n  it\n  lorem(50)\n}\n```\n\nBut this prints the `lorem` in heading style.\n\nI also tried something like\n```typst\nlet add-lorem(elem) = {\n  if type(elem) == heading {\n    elem + lorem(50)\n  } else {\n    elem\n  }\n}\n\nshow: add-lorem\n\n= Intro\n\n== ...\n===....\n```\nbut also didn't work.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 66.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1134
    },
    {
      "id": 8229,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-05T10:30:54.716Z",
      "updated_at": "2025-02-05T10:30:54.716Z",
      "cooked": "<p>Hi and welcome to the forums!</p>\n<p>The way I’d do it is indeed to add a catch-all <code>show</code> rule, though the implementation is a bit convoluted:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// Element function for sequences\n#let sequence = [].func()\n\n// Convert content to an array of its children\n#let to-children(cnt) = {\n  let inner(content) = {\n    if type(content) in (str, symbol) {\n      str(content).clusters().map(char =&gt; [#char])\n    } else if content.func() == sequence {\n      content.children.map(inner)\n    } else if content.func() == text {\n      inner(content.text)\n    } else if content.func() == math.equation {\n      inner(content.body)\n    } else {\n      (content,)\n    }\n  }\n  return inner(cnt).flatten()\n}\n\n\n#show: it =&gt; {\n  let temp = to-children(it)\n  temp = temp.map(i =&gt; {\n    let test = i.func()\n    if i.func() == heading {\n      return (i, lorem(50))\n    }\n    return i\n  }).flatten()\n  \n  sequence(temp)\n  \n}\n\n\n= one\n\n= two\n\n#[\n  also works for a nested heading\n  = three\n]\n</code></pre>\n<p>If you have a large document there might be some performance issues, but I didn’t run into any issues while testing.</p>\n<p>I do aknowledge that this solution is quite ugly, so if anyone knows a better way i’d be happy to hear about it</p>",
      "raw": "Hi and welcome to the forums!\n\nThe way I'd do it is indeed to add a catch-all `show` rule, though the implementation is a bit convoluted:\n\n```typst\n// Element function for sequences\n#let sequence = [].func()\n\n// Convert content to an array of its children\n#let to-children(cnt) = {\n  let inner(content) = {\n    if type(content) in (str, symbol) {\n      str(content).clusters().map(char => [#char])\n    } else if content.func() == sequence {\n      content.children.map(inner)\n    } else if content.func() == text {\n      inner(content.text)\n    } else if content.func() == math.equation {\n      inner(content.body)\n    } else {\n      (content,)\n    }\n  }\n  return inner(cnt).flatten()\n}\n\n\n#show: it => {\n  let temp = to-children(it)\n  temp = temp.map(i => {\n    let test = i.func()\n    if i.func() == heading {\n      return (i, lorem(50))\n    }\n    return i\n  }).flatten()\n  \n  sequence(temp)\n  \n}\n\n\n= one\n\n= two\n\n#[\n  also works for a nested heading\n  = three\n]\n```\n\nIf you have a large document there might be some performance issues, but I didn't run into any issues while testing.\n\nI do aknowledge that this solution is quite ugly, so if anyone knows a better way i'd be happy to hear about it",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 21.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 8244,
      "post_number": 3,
      "username": "filchristou",
      "name": "filchristou",
      "created_at": "2025-02-05T19:24:41.650Z",
      "updated_at": "2025-02-05T19:24:55.490Z",
      "cooked": "<p>Well, as a newby, I am struggling to fully understand the solution but I confirm it works.</p>",
      "raw": "Well, as a newby, I am struggling to fully understand the solution but I confirm it works.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 5.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1134
    }
  ],
  "scraped_at": "2025-06-10T09:52:02.749572"
}
{
  "topic_metadata": {
    "id": 2673,
    "title": "How to add ‘cf.’ (compare) to citations in Typst?",
    "slug": "how-to-add-cf-compare-to-citations-in-typst",
    "posts_count": 6,
    "created_at": "2025-02-04T22:03:13.821Z",
    "last_posted_at": "2025-02-11T15:57:13.598Z",
    "views": 201,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "citation"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 617
  },
  "posts": [
    {
      "id": 8219,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-02-04T22:03:13.890Z",
      "updated_at": "2025-02-05T14:32:17.257Z",
      "cooked": "<p>Hi everyone,</p>\n<p>I’m writing an academic paper using Typst and need to add “cf.” (compare) to citations, both in-text and in footnotes. For example, instead of:</p>\n<p><em>(Smith 2020, p. 15)</em></p>\n<p>I’d like it to appear as:</p>\n<p><em>(cf. Smith 2020, p. 15)</em></p>\n<p>Or, if using a footnote:</p>\n<p><em>Cf. Smith 2020, p. 15.</em></p>\n<p>Is there a way to achieve this in Typst, either by modifying the citation style or using a custom function? Ideally, I’d like a flexible approach that works for different citation formats. Any help would be greatly appreciated!</p>\n<p>Thanks!</p>",
      "raw": "Hi everyone,\n\nI’m writing an academic paper using Typst and need to add “cf.” (compare) to citations, both in-text and in footnotes. For example, instead of:\n\n*(Smith 2020, p. 15)*\n\nI’d like it to appear as:\n\n*(cf. Smith 2020, p. 15)*\n\nOr, if using a footnote:\n\n*Cf. Smith 2020, p. 15.*\n\nIs there a way to achieve this in Typst, either by modifying the citation style or using a custom function? Ideally, I’d like a flexible approach that works for different citation formats. Any help would be greatly appreciated!\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 518.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 8221,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-05T00:07:42.390Z",
      "updated_at": "2025-02-05T00:07:42.390Z",
      "cooked": "<p>You can use show rules to add the “cf.” in front of citations and footnotes. I am not sure whether you want to modify the footnote (in the text) or the footnote entry (in the page footer)? The show rule below works either way, just change the targeted function.</p>\n<p>You could certainly create your own CSL style or modify an existing one. But I think the show rule should be flexible enough to cover most built-in citation styles.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Replace \"(\" and \")\" by \"[\" and \"]\" if your citation style uses square brackets\n#show cite: it =&gt; [\n  (cf. \n  #{\n    show \"(\": none\n    show \")\": none\n    it\n  })\n]\n\n// Use #show footnote instead if you want to modify the element in the text\n#show footnote.entry: it =&gt; {\n  [Cf. ]\n  it\n}\n</code></pre>",
      "raw": "You can use show rules to add the \"cf.\" in front of citations and footnotes. I am not sure whether you want to modify the footnote (in the text) or the footnote entry (in the page footer)? The show rule below works either way, just change the targeted function.\n\nYou could certainly create your own CSL style or modify an existing one. But I think the show rule should be flexible enough to cover most built-in citation styles.\n\n```typ\n// Replace \"(\" and \")\" by \"[\" and \"]\" if your citation style uses square brackets\n#show cite: it => [\n  (cf. \n  #{\n    show \"(\": none\n    show \")\": none\n    it\n  })\n]\n\n// Use #show footnote instead if you want to modify the element in the text\n#show footnote.entry: it => {\n  [Cf. ]\n  it\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 33.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8233,
      "post_number": 3,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-02-05T13:25:51.645Z",
      "updated_at": "2025-02-05T13:25:51.645Z",
      "cooked": "<p>Thank you for your response! Using show rules is a great idea, but I need a way to decide when to use “cf.” and when not to.</p>\n<p>Is there a way to make this optional—so I can enable or disable it for specific citations? Maybe through a custom function or an argument within the citation command?</p>\n<p>I’d really appreciate any suggestions! Thanks again!</p>",
      "raw": "Thank you for your response! Using show rules is a great idea, but I need a way to decide when to use “cf.” and when not to.\n\nIs there a way to make this optional—so I can enable or disable it for specific citations? Maybe through a custom function or an argument within the citation command?\n\nI’d really appreciate any suggestions! Thanks again!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 18.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 8235,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-05T14:29:39.436Z",
      "updated_at": "2025-02-05T14:30:14.392Z",
      "cooked": "<p>You can wrap <code>cite()</code> in a function that takes an additional boolean parameter <code>cf</code>. The show rule to add the “cf.” is then conditional.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-cite(label, cf: false, supplement: none, form: \"normal\", style: auto) = {\n  show cite: it =&gt; if (cf) [\n    (cf. \n    #{\n      show \"(\": none\n      show \")\": none\n      it\n    })\n  ] else { it }\n\n  cite(label, supplement: supplement, form: form, style: style)\n}\n</code></pre>\n<p>Alternatively you could also define a function <code>cf-cite()</code> that includes the show rule and use that whenever you want to include the “cf.” with a citation. Citations without “cf.” would then work with the regular function <code>cite()</code> or the shortcut <code>@...</code>.</p>",
      "raw": "You can wrap `cite()` in a function that takes an additional boolean parameter `cf`. The show rule to add the \"cf.\" is then conditional.\n\n```typ\n#let my-cite(label, cf: false, supplement: none, form: \"normal\", style: auto) = {\n  show cite: it => if (cf) [\n    (cf. \n    #{\n      show \"(\": none\n      show \")\": none\n      it\n    })\n  ] else { it }\n\n  cite(label, supplement: supplement, form: form, style: style)\n}\n```\n\nAlternatively you could also define a function `cf-cite()` that includes the show rule and use that whenever you want to include the \"cf.\" with a citation. Citations without \"cf.\" would then work with the regular function `cite()` or the shortcut `@...`.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 52.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8411,
      "post_number": 5,
      "username": "troubledscholar",
      "name": "",
      "created_at": "2025-02-10T05:32:49.055Z",
      "updated_at": "2025-02-10T05:32:49.055Z",
      "cooked": "<p>The solution is still unusable. I’m using Chicago note as my citation style.</p>\n<p>With the current solution I get:<br>\nCf. ¹Hevner et. al…</p>\n<p>What I actually want:<br>\n¹cf. Hevner et. al…</p>",
      "raw": "The solution is still unusable. I’m using Chicago note as my citation style. \n\nWith the current solution I get:\nCf. ¹Hevner et. al…\n\nWhat I actually want:\n¹cf. Hevner et. al…",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1165
    },
    {
      "id": 8477,
      "post_number": 6,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-02-11T15:57:13.598Z",
      "updated_at": "2025-02-11T15:57:13.598Z",
      "cooked": "<p>You can use the following solution for footnote styles (from <a href=\"https://github.com/typst/typst/issues/3020#issuecomment-2651241644\" class=\"inline-onebox\">Add prenote for cite · Issue #3020 · typst/typst · GitHub</a>):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pre-foot-data = state(\"pre-foots\", (foots: (), prefixes: ()))\n\n// NOTE: This show rule has to go at the top of the document, before any content / text.\n#show footnote.entry: it =&gt; context {\n  let foot-data = pre-foot-data.final()\n  let foot-num = counter(footnote).at(it.note.location()).first()\n  let foot-num-pos = foot-data.foots.position(s =&gt; s == foot-num)\n  if foot-num-pos != none {\n    let prefix = foot-data.prefixes.at(foot-num-pos)\n    show super: it =&gt; it + prefix + sym.wj\n    it\n  } else {\n    it\n  }\n}\n\n#let pre-cite(..args, prefix: none) = {\n  if prefix != none {\n    context {\n      let foot-num = counter(footnote).get().first() + 1\n      pre-foot-data.update(s =&gt; {\n        s.foots.push(foot-num)\n        s.prefixes.push(prefix)\n        s\n      })\n    }\n  }\n\n  cite(..args)\n}\n\n// Demo\n\n#let cite-cf = pre-cite.with(prefix: \"cf. \")\n#let cite-see = pre-cite.with(prefix: \"see \")\n\n#set page(height: auto)\n\nCiting @first and #cite-cf(&lt;first&gt;). Also#cite-see(&lt;first&gt;)\n\n#bibliography(\"bibliography.bib\", style: \"chicago-notes\")\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/62746ecba5644a1bb3dae04a30913912ee46426a.png\" alt=\"first citation has just &quot;Doe, 'First Thing'&quot; in the footnote, second citation has &quot;cf.&quot; before the same text, and third one has &quot;see&quot; before the same text\" data-base62-sha1=\"e2Yfo8XEFK2bnRLaBzj5nuFeH0u\" width=\"236\" height=\"209\"></p>",
      "raw": "You can use the following solution for footnote styles (from https://github.com/typst/typst/issues/3020#issuecomment-2651241644):\n\n```typ\n#let pre-foot-data = state(\"pre-foots\", (foots: (), prefixes: ()))\n\n// NOTE: This show rule has to go at the top of the document, before any content / text.\n#show footnote.entry: it => context {\n  let foot-data = pre-foot-data.final()\n  let foot-num = counter(footnote).at(it.note.location()).first()\n  let foot-num-pos = foot-data.foots.position(s => s == foot-num)\n  if foot-num-pos != none {\n    let prefix = foot-data.prefixes.at(foot-num-pos)\n    show super: it => it + prefix + sym.wj\n    it\n  } else {\n    it\n  }\n}\n\n#let pre-cite(..args, prefix: none) = {\n  if prefix != none {\n    context {\n      let foot-num = counter(footnote).get().first() + 1\n      pre-foot-data.update(s => {\n        s.foots.push(foot-num)\n        s.prefixes.push(prefix)\n        s\n      })\n    }\n  }\n\n  cite(..args)\n}\n\n// Demo\n\n#let cite-cf = pre-cite.with(prefix: \"cf. \")\n#let cite-see = pre-cite.with(prefix: \"see \")\n\n#set page(height: auto)\n\nCiting @first and #cite-cf(<first>). Also#cite-see(<first>)\n\n#bibliography(\"bibliography.bib\", style: \"chicago-notes\")\n```\n\n![first citation has just \"Doe, 'First Thing'\" in the footnote, second citation has \"cf.\" before the same text, and third one has \"see\" before the same text|236x209](upload://e2Yfo8XEFK2bnRLaBzj5nuFeH0u.png)",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 69.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:52:02.039752"
}
{
  "topic_metadata": {
    "id": 2676,
    "title": "How can I stop numbering slides in the appendix using Polylux 0.4?",
    "slug": "how-can-i-stop-numbering-slides-in-the-appendix-using-polylux-0-4",
    "posts_count": 3,
    "created_at": "2025-02-05T08:52:09.323Z",
    "last_posted_at": "2025-02-06T13:14:25.141Z",
    "views": 122,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "counter",
      "presentation",
      "polylux"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 409
  },
  "posts": [
    {
      "id": 8226,
      "post_number": 1,
      "username": "joscha_krug",
      "name": "Joscha Krug",
      "created_at": "2025-02-05T08:52:09.493Z",
      "updated_at": "2025-02-05T08:52:09.493Z",
      "cooked": "<p>Hi all,</p>\n<p>I am a recent convert trying to replicate my standard LaTeX beamer template in Typst using Polylux (0.4). One thing that has been giving me a headache is how to stop incrementing the (logical) slide counter once I reach the appendix. Is there any good way to do this?</p>\n<p>The specific behaviour I want to achieve is to have an appendix at the end of my slide deck in which slides are not numbered and do not count towards the total number of slides (because I use “Slide X out of Y”-style page numbering on my main slides).</p>\n<p>My best shot so far has been to define an <code>#appendix</code> function as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix(content) = {\n  // do not show page numbers (or any footer at all) in the appendix\n  set page(\n    footer: none\n  )\n\n  // revert the slide number increase to the first appendix slide\n  counter(\"logical-slide\").update(n =&gt; n - 1)\n\n  // prevent the slide counter from increasing with each new slide\n  show pagebreak: it =&gt; context {\n      counter(\"logical-slide\").update(n =&gt; n - 1)\n    }\n    it\n  }\n\n  content\n}\n</code></pre>\n<p>This works well in static mode, but as soon as I add animations, I run into trouble because, obviously, a <code>pagebreak</code> happens between each subslide as well, so the logical slide counter decreases by too much.</p>\n<p>Does anyone know of a better way to prevent the slide counter from incrementing? Or of an entirely different way to store the total number of logical slides up to the appendix, and access them in the footer?</p>\n<p>Cheers,</p>\n<p>Joscha</p>",
      "raw": "Hi all,\n\nI am a recent convert trying to replicate my standard LaTeX beamer template in Typst using Polylux (0.4). One thing that has been giving me a headache is how to stop incrementing the (logical) slide counter once I reach the appendix. Is there any good way to do this?\n\nThe specific behaviour I want to achieve is to have an appendix at the end of my slide deck in which slides are not numbered and do not count towards the total number of slides (because I use \"Slide X out of Y\"-style page numbering on my main slides).\n\nMy best shot so far has been to define an `#appendix` function as follows:\n\n```typ\n#let appendix(content) = {\n  // do not show page numbers (or any footer at all) in the appendix\n  set page(\n    footer: none\n  )\n\n  // revert the slide number increase to the first appendix slide\n  counter(\"logical-slide\").update(n => n - 1)\n\n  // prevent the slide counter from increasing with each new slide\n  show pagebreak: it => context {\n      counter(\"logical-slide\").update(n => n - 1)\n    }\n    it\n  }\n\n  content\n}\n```\n\nThis works well in static mode, but as soon as I add animations, I run into trouble because, obviously, a `pagebreak` happens between each subslide as well, so the logical slide counter decreases by too much.\n\nDoes anyone know of a better way to prevent the slide counter from incrementing? Or of an entirely different way to store the total number of logical slides up to the appendix, and access them in the footer?\n\nCheers,\n\nJoscha",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 408.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1135
    },
    {
      "id": 8231,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-05T12:26:46.654Z",
      "updated_at": "2025-02-05T12:26:46.654Z",
      "cooked": "<p>You can create a label to indicate the start of the appendix and then read the value of the <code>counter(\"logical-slide\")</code> at the location of the label. If you are already adding labels to your headings, you can use the last heading before the appendix or the first heading in the appendix. If that is not an option, you can use metadata to indicate the start of the appendix as shown in the code below.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let page-footer = context [\n  Slide #toolbox.slide-number out of #counter(\"logical-slide\").at(&lt;start-of-appendix&gt;).at(0)\n]\n\n#set page(footer: page-footer)\n\n#slide[Something]\n#slide[in the main]\n#slide[part of the]\n#slide[presentation]\n\n#metadata(\"This is the start of the appendix\") &lt;start-of-appendix&gt;\n#set page(footer: none)\n\n#slide[Some slides...]\n#slide[in the appendix]</code></pre>",
      "raw": "You can create a label to indicate the start of the appendix and then read the value of the `counter(\"logical-slide\")` at the location of the label. If you are already adding labels to your headings, you can use the last heading before the appendix or the first heading in the appendix. If that is not an option, you can use metadata to indicate the start of the appendix as shown in the code below.\n\n```typ\n#let page-footer = context [\n  Slide #toolbox.slide-number out of #counter(\"logical-slide\").at(<start-of-appendix>).at(0)\n]\n\n#set page(footer: page-footer)\n\n#slide[Something]\n#slide[in the main]\n#slide[part of the]\n#slide[presentation]\n\n#metadata(\"This is the start of the appendix\") <start-of-appendix>\n#set page(footer: none)\n\n#slide[Some slides...]\n#slide[in the appendix]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 83.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8268,
      "post_number": 3,
      "username": "joscha_krug",
      "name": "Joscha Krug",
      "created_at": "2025-02-06T13:14:25.141Z",
      "updated_at": "2025-02-06T13:14:25.141Z",
      "cooked": "<p>Ah, yes, that makes perfect sense! Thank you, that is a much more straightforward solution than a hacky page count decrementer.</p>",
      "raw": "Ah, yes, that makes perfect sense! Thank you, that is a much more straightforward solution than a hacky page count decrementer.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1135
    }
  ],
  "scraped_at": "2025-06-10T09:52:01.309047"
}
