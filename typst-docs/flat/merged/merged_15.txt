{
  "topic_metadata": {
    "id": 2290,
    "title": "How to Define a Dictionary with Default Values for Missing Keys in Typst?",
    "slug": "how-to-define-a-dictionary-with-default-values-for-missing-keys-in-typst",
    "posts_count": 5,
    "created_at": "2025-01-03T13:16:11.162Z",
    "last_posted_at": "2025-01-03T21:16:45.928Z",
    "views": 210,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 356
  },
  "posts": [
    {
      "id": 7175,
      "post_number": 1,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-03T13:16:11.291Z",
      "updated_at": "2025-01-03T21:20:07.224Z",
      "cooked": "<p>Hello,<br>\nFor a project i declared a custom function like this :</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let formatable_song(\n  title,\n  body_list,\n  body_list_format,\n  header : (\n    tune : none,\n    author : none,\n    lyrics : none,\n    pseudo : none, \n    comments : none),\n) = {...}\n</code></pre>\n<p>I want to be able to “instantiate” formatable_song with header dictionary that have not all the keys like this  instead of manually setting blank value to <code>none</code> :</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let Gaudeamus = formatable_song(\n  \"Gaudeamus\",\n  (couplet1, couplet2, couplet3, couplet4, couplet5, couplet6, couplet7),\n  (\"c\",\"c\",\"c\",\"c\",\"c\",\"c\",\"c\"),\n  header : (\n    comments : \"Les couplets marqué en gras sont ceux faits en cantus\"\n  )\n)\n// instead of this : \n#let Gaudeamus = formatable_song(\n  \"Gaudeamus\",\n  (couplet1, couplet2, couplet3, couplet4, couplet5, couplet6, couplet7),\n  (\"c\",\"c\",\"c\",\"c\",\"c\",\"c\",\"c\"),\n  header : (\n    tune : none,\n    author : none,\n    lyrics : none,\n    pseudo : none,\n    comments : \"Les couplets marqué en gras sont ceux faits en cantus\"\n  )\n)\n</code></pre>\n<p>Before using dict i was using default value parameter but i find this solution “less” elegant.<br>\nIs there a proper way to do this ?<br>\nThank you in advance for your responses</p>",
      "raw": "Hello, \nFor a project i declared a custom function like this : \n```typst \n#let formatable_song(\n  title,\n  body_list,\n  body_list_format,\n  header : (\n    tune : none,\n    author : none,\n    lyrics : none,\n    pseudo : none, \n    comments : none),\n) = {...}\n```\n\nI want to be able to \"instantiate\" formatable_song with header dictionary that have not all the keys like this  instead of manually setting blank value to `none` : \n```typst\n#let Gaudeamus = formatable_song(\n  \"Gaudeamus\",\n  (couplet1, couplet2, couplet3, couplet4, couplet5, couplet6, couplet7),\n  (\"c\",\"c\",\"c\",\"c\",\"c\",\"c\",\"c\"),\n  header : (\n    comments : \"Les couplets marqué en gras sont ceux faits en cantus\"\n  )\n)\n// instead of this : \n#let Gaudeamus = formatable_song(\n  \"Gaudeamus\",\n  (couplet1, couplet2, couplet3, couplet4, couplet5, couplet6, couplet7),\n  (\"c\",\"c\",\"c\",\"c\",\"c\",\"c\",\"c\"),\n  header : (\n    tune : none,\n    author : none,\n    lyrics : none,\n    pseudo : none,\n    comments : \"Les couplets marqué en gras sont ceux faits en cantus\"\n  )\n)\n```\nBefore using dict i was using default value parameter but i find this solution \"less\" elegant. \nIs there a proper way to do this ? \nThank you in advance for your responses",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 857.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7176,
      "post_number": 2,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2025-01-03T13:48:04.419Z",
      "updated_at": "2025-01-03T13:48:04.419Z",
      "cooked": "<p>For this case, I generally define the following function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Merge two dictionaries\n#let create_dict(default-dict, user-dict) = {\n  let new-dict = default-dict\n    for (key, value) in user-dict {\n      if key in default-dict.keys() {\n        new-dict.insert(key, value)\n      }\n    }\n</code></pre>\n<p>The default dictionary contains the default values, while the user dictionary only contains the values you want to change.</p>",
      "raw": "For this case, I generally define the following function:\n```typ\n// Merge two dictionaries\n#let create_dict(default-dict, user-dict) = {\n  let new-dict = default-dict\n    for (key, value) in user-dict {\n      if key in default-dict.keys() {\n        new-dict.insert(key, value)\n      }\n    }\n```\n\nThe default dictionary contains the default values, while the user dictionary only contains the values you want to change.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 35,
      "score": 31.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 7177,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-03T14:40:49.324Z",
      "updated_at": "2025-01-03T14:42:22.159Z",
      "cooked": "<p>Or a <em>tiny</em> bit easier: <code>default-dict + user-dict</code> <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>The function declaration would then change in this way:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let formatable_song(..., header: (:)) = {\n  let header = (\n    tune: none,\n    author: none,\n    lyrics: none,\n    pseudo: none, \n    comments: none,\n  ) + header\n  ...\n}\n</code></pre>\n<p>(you could also write <code>header: none</code> but I find <code>header: (:)</code> a bit clearer, as it suggests – to me at least – that there are no headers being set, but headers are still used)</p>",
      "raw": "Or a _tiny_ bit easier: `default-dict + user-dict` :slight_smile: \n\nThe function declaration would then change in this way:\n```typ\n#let formatable_song(..., header: (:)) = {\n  let header = (\n    tune: none,\n    author: none,\n    lyrics: none,\n    pseudo: none, \n    comments: none,\n  ) + header\n  ...\n}\n```\n\n(you could also write `header: none` but I find `header: (:)` a bit clearer, as it suggests -- to me at least -- that there are no headers being set, but headers are still used)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 56.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7178,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-03T14:43:28.814Z",
      "updated_at": "2025-01-03T14:43:28.814Z",
      "cooked": "<p>PS: <a class=\"mention\" href=\"/u/alex\">@Alex</a>, could you maybe try to revise your post’s title to be a complete question as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a>:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>We hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!</p>",
      "raw": "PS: @Alex, could you maybe try to revise your post’s title to be a complete question as per the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11):\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nWe hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 31.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7185,
      "post_number": 5,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-03T21:16:45.928Z",
      "updated_at": "2025-01-03T21:16:45.928Z",
      "cooked": "<p>Understandable,<br>\nworking on it ;)</p>",
      "raw": "Understandable,\nworking on it ;)",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 50.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    }
  ],
  "scraped_at": "2025-06-10T09:53:11.320969"
}
{
  "topic_metadata": {
    "id": 2292,
    "title": "How can I align to images side by side?",
    "slug": "how-can-i-align-to-images-side-by-side",
    "posts_count": 2,
    "created_at": "2025-01-03T17:09:19.080Z",
    "last_posted_at": "2025-01-03T17:38:31.827Z",
    "views": 1469,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 293
  },
  "posts": [
    {
      "id": 7180,
      "post_number": 1,
      "username": "cailoma",
      "name": "",
      "created_at": "2025-01-03T17:09:19.212Z",
      "updated_at": "2025-01-03T17:24:03.809Z",
      "cooked": "<p>I’m trying to align 2 images side by side but can reach the objetive.<br>\nWhen I put the images, they appear vertically. I want to put them side by side and centered on the page.</p>\n<p>This is my code</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n  image(\"image1.jpeg\", width: 30%),\n)\n#figure(\n   image(\"image2.jpeg\", width: 30%),\n)\n</code></pre>",
      "raw": "I'm trying to align 2 images side by side but can reach the objetive.\nWhen I put the images, they appear vertically. I want to put them side by side and centered on the page.\n\nThis is my code\n```typ\n#figure(\n  image(\"image1.jpeg\", width: 30%),\n)\n#figure(\n   image(\"image2.jpeg\", width: 30%),\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 56,
      "score": 8576.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 747
    },
    {
      "id": 7181,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-03T17:38:31.827Z",
      "updated_at": "2025-01-03T17:40:41.540Z",
      "cooked": "<p>Images (and most other elements, e.g. paragraphs, headings, tables, as well as shapes like lines and rectangles) are <em>block level</em>, that means that they are laid out vertically under each other. The opposite is <em>inline</em>.</p>\n<p>There are a few ways to arrange block content horizontally.</p>\n<ul>\n<li>Here, I would suggest a <a href=\"https://typst.app/docs/reference/layout/grid/\">grid</a>. Grids put multiple things into cells, and you can of course have a grid with only one row. Since you have multiple images, a grid with two column will do the job.\n<ul>\n<li>Related is the <a href=\"https://typst.app/docs/reference/model/table/\">table</a>, but since you only care about the layout and not the display of tabular data, it is less appropriate.</li>\n</ul>\n</li>\n<li>Also somewhat related is the <a href=\"https://typst.app/docs/reference/layout/stack/\">stack</a>, but I would simply not recommend it since it sometimes behaves strangely and I’m not aware of anything you can’t do with a grid instead.</li>\n<li>The last option is to use <a href=\"https://typst.app/docs/reference/layout/box/\">box</a>, which simply wraps something in an inline element, even if it was normally a block-level element. This is more for cases where you put an element in the middle of a line of text or other content that is already inline; since you want to layout two things that are block-level and nothing else, I wouldn’t suggest it for your use case.</li>\n</ul>",
      "raw": "Images (and most other elements, e.g. paragraphs, headings, tables, as well as shapes like lines and rectangles) are _block level_, that means that they are laid out vertically under each other. The opposite is _inline_.\n\nThere are a few ways to arrange block content horizontally.\n- Here, I would suggest a [grid](https://typst.app/docs/reference/layout/grid/). Grids put multiple things into cells, and you can of course have a grid with only one row. Since you have multiple images, a grid with two column will do the job.\n  - Related is the [table](https://typst.app/docs/reference/model/table/), but since you only care about the layout and not the display of tabular data, it is less appropriate.\n- Also somewhat related is the [stack](https://typst.app/docs/reference/layout/stack/), but I would simply not recommend it since it sometimes behaves strangely and I'm not aware of anything you can't do with a grid instead.\n- The last option is to use [box](https://typst.app/docs/reference/layout/box/), which simply wraps something in an inline element, even if it was normally a block-level element. This is more for cases where you put an element in the middle of a line of text or other content that is already inline; since you want to layout two things that are block-level and nothing else, I wouldn't suggest it for your use case.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 54,
      "score": 420.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:53:10.359705"
}
{
  "topic_metadata": {
    "id": 2294,
    "title": "How can I rotate part of a caption?",
    "slug": "how-can-i-rotate-part-of-a-caption",
    "posts_count": 2,
    "created_at": "2025-01-03T21:38:43.743Z",
    "last_posted_at": "2025-01-03T23:15:07.478Z",
    "views": 64,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 107
  },
  "posts": [
    {
      "id": 7187,
      "post_number": 1,
      "username": "jmskov",
      "name": "jmskov",
      "created_at": "2025-01-03T21:38:43.960Z",
      "updated_at": "2025-01-03T22:00:19.623Z",
      "cooked": "<p>I would like to rotate part of a figure caption, i.e.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#figure(\n  square(size: 25em, stroke: 2pt),\n  caption: [Pointed arrow should be here: #rotate(-45deg, $arrow$)]\n)\n</code></pre>\n<p>which renders the arrow on a new line in the caption. Is there something I am missing using rotate in a caption, or is this possibly a bug?</p>",
      "raw": "I would like to rotate part of a figure caption, i.e.\n\n```typst\n#figure(\n  square(size: 25em, stroke: 2pt),\n  caption: [Pointed arrow should be here: #rotate(-45deg, $arrow$)]\n)\n```\nwhich renders the arrow on a new line in the caption. Is there something I am missing using rotate in a caption, or is this possibly a bug?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 100.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1005
    },
    {
      "id": 7189,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-03T23:15:07.478Z",
      "updated_at": "2025-01-03T23:15:07.478Z",
      "cooked": "<p>Rotate elements are block level, so you’d put it in a box to have it as part of a line. See here for a longer description/discussion on block and inline elements:</p>\n<aside class=\"quote quote-modified\" data-post=\"2\" data-topic=\"2292\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-can-i-align-to-images-side-by-side/2292/2\">How can I align to images side by side?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    Images (and most other elements, e.g. paragraphs, headings, tables, as well as shapes like lines and rectangles) are block level, that means that they are laid out vertically under each other. The opposite is inline. \nThere are a few ways to arrange block content horizontally. \n\nHere, I would suggest a <a href=\"https://typst.app/docs/reference/layout/grid/\">grid</a>. Grids put multiple things into cells, and you can of course have a grid with only one row. Since you have multiple images, a grid with two column will do the job.\n\nRelated is the <a href=\"https://typst.app/docs/reference/model/table/\">table</a>, but …\n  </blockquote>\n</aside>\n",
      "raw": "Rotate elements are block level, so you'd put it in a box to have it as part of a line. See here for a longer description/discussion on block and inline elements:\n\nhttps://forum.typst.app/t/how-can-i-align-to-images-side-by-side/2292/2?u=sillyfreak",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 20.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:53:09.629971"
}
{
  "topic_metadata": {
    "id": 2300,
    "title": "How to register a new Typst template?",
    "slug": "how-to-register-a-new-typst-template",
    "posts_count": 3,
    "created_at": "2025-01-04T17:18:14.616Z",
    "last_posted_at": "2025-01-04T21:26:35.660Z",
    "views": 266,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "packages",
      "templates",
      "package-authoring"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 226
  },
  "posts": [
    {
      "id": 7196,
      "post_number": 1,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-01-04T17:18:14.750Z",
      "updated_at": "2025-01-04T17:45:39.150Z",
      "cooked": "<p>I would like to register my first Typst template (<a href=\"https://github.com/roland-KA/basic-report-typst-template?tab=readme-ov-file\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - roland-KA/basic-report-typst-template: A Typst-template for simple reports</a>). But I don’t understand the process.</p>\n<p>In <code>typst/packages</code> it says: “simply make a pull request with the package to this repository.” … but it doesn’t seem to be that simple.</p>\n<p>I’ve already create a fork of <code>typst/packages</code>. In a “classic” PR scenario I would work within that fork and then make a PR from there. But here I rather want to “add” something to the <code>packages</code> repo.</p>\n<p>Do I have to add my template manually to the <code>packages</code>-fork <code>preview</code>-folder or is there some GitHub-actions magic which helps with that process?</p>",
      "raw": "I would like to register my first Typst template (https://github.com/roland-KA/basic-report-typst-template?tab=readme-ov-file). But I don't understand the process. \n\nIn `typst/packages` it says: \"simply make a pull request with the package to this repository.\" ... but it doesn't seem to be that simple. \n\nI've already create a fork of `typst/packages`. In a \"classic\" PR scenario I would work within that fork and then make a PR from there. But here I rather want to \"add\" something to the `packages` repo. \n\nDo I have to add my template manually to the `packages`-fork `preview`-folder or is there some GitHub-actions magic which helps with that process?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 1088.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 7198,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-04T17:26:49.935Z",
      "updated_at": "2025-01-04T17:27:58.835Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/roland_schatzle\">@Roland_Schatzle</a> and welcome!<br>\nyou can take a look at</p>\n<aside class=\"quote quote-modified\" data-post=\"6\" data-topic=\"2024\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-to-update-packages-on-universe/2024/6\">How to update packages on universe?</a> <a class=\"badge-category__wrapper \" href=\"/c/general/4\"><span data-category-id=\"4\" style=\"--category-badge-color: #007aff; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"The Forum is still new and as new members join and discussions start, we want to learn what you want to post. Hence, this category is a catch-all for posts that do not fit elsewhere.\"><span class=\"badge-category__name\">General</span></span></a>\n  </div>\n  <blockquote>\n    You can reduce the size of the repo further with a sparse-checkout. \nSomething like \ngit clone --depth 1 --no-checkout --filter=\"tree:0\" git@github.com:typst/packages\n... // cd into the folder\ngit sparse-checkout init\ngit sparse-checkout set packages/preview/[your-package-name]\ngit checkout main\n\nThen you have something like (this is for glossarium), all in all the repo is 7MB on disk. \n❯ git count-objects -v\ncount: 0\nsize: 0\nin-pack: 3638\npacks: 4\nsize-pack: 1745\nprune-packable: 0\ngarbage: 0\nsi…\n  </blockquote>\n</aside>\n\n<p>and</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"1811\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mkpoli/48/1330_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/tyler-a-cli-tool-for-easy-package-publishing/1811\">Tyler: A CLI Tool for Easy Package Publishing</a> <a class=\"badge-category__wrapper \" href=\"/c/showcase/6\"><span data-category-id=\"6\" style=\"--category-badge-color: #239DAD; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"This is the place to post in if you want to show off something you created with Typst: Be it the most beautiful paper you have ever seen or something extremely out-of-the box and crazy.\"><span class=\"badge-category__name\">Showcase</span></span></a>\n  </div>\n  <blockquote>\n    tyler is a JavaScript tool that can make the life a lot easier when developing packages (libraries and templates), without the cumbersome editing and copy-pasting, manual folder mangement, etc. I developed it in three days so it is still immature, but I have (not exactly but) succesufully published my new package. It has the following features now: \n\n<img width=\"20\" height=\"20\" src=\"https://forum.typst.app/images/emoji/apple/inbox_tray.png?v=12\" title=\"inbox_tray\" alt=\"inbox_tray\" class=\"emoji\"> Install package locally to be able to use with @local/somepkgs:0.1.0\n<img width=\"20\" height=\"20\" src=\"https://forum.typst.app/images/emoji/apple/page_facing_up.png?v=12\" title=\"page_facing_up\" alt=\"page_facing_up\" class=\"emoji\"> Compile relative entrypoint import (e.g. ../lib.…\n  </blockquote>\n</aside>\n\n<p>In your scenario, you should simply create a new folder with the name of your template, and add it to packages/preview/[name]/[version] on your fork. You should commit the changes, and then GitHub should suggest to create a new PR. If that’s not the case, you can create a new PR yourself at <a href=\"https://github.com/typst/packages/compare\" class=\"inline-onebox\">Compare · typst/packages · GitHub</a></p>",
      "raw": "Hello @Roland_Schatzle and welcome!\nyou can take a look at \n\nhttps://forum.typst.app/t/how-to-update-packages-on-universe/2024/6?u=quachpas\n\nand \n\nhttps://forum.typst.app/t/tyler-a-cli-tool-for-easy-package-publishing/1811\n\nIn your scenario, you should simply create a new folder with the name of your template, and add it to packages/preview/[name]/[version] on your fork. You should commit the changes, and then GitHub should suggest to create a new PR. If that's not the case, you can create a new PR yourself at https://github.com/typst/packages/compare",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 103.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7202,
      "post_number": 3,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2025-01-04T21:26:35.660Z",
      "updated_at": "2025-01-04T21:26:35.660Z",
      "cooked": "<p>Thanks a lot, that helps!</p>",
      "raw": "Thanks a lot, that helps!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 32.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    }
  ],
  "scraped_at": "2025-06-10T09:53:08.813488"
}
{
  "topic_metadata": {
    "id": 2307,
    "title": "Why is XML parsing not working?",
    "slug": "why-is-xml-parsing-not-working",
    "posts_count": 3,
    "created_at": "2025-01-05T12:47:01.668Z",
    "last_posted_at": "2025-01-05T14:50:37.170Z",
    "views": 86,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Tiggax",
    "tags": [
      "data-loading"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 319
  },
  "posts": [
    {
      "id": 7210,
      "post_number": 1,
      "username": "not_raffa",
      "name": "Raffaele Fontana",
      "created_at": "2025-01-05T12:47:01.930Z",
      "updated_at": "2025-01-06T06:14:53.829Z",
      "cooked": "<p>Hi, I’m new here. I’m having trouble parsing an XML file, like the one shown in the example. I’ve already looked at the documentation, but I think I don’t really understand how it works.</p>\n<pre data-code-wrap=\"xml\"><code class=\"lang-xml\">&lt;result id=\"some-id\"&gt;\n  &lt;name&gt;some name&lt;/name&gt;\n  &lt;owner&gt;\n    &lt;name&gt;some admin&lt;/name&gt;\n  &lt;/owner&gt;\n  &lt;modification_time&gt;2000-06-12T13:27:15Z&lt;/modification_time&gt;\n  &lt;comment/&gt;\n  &lt;creation_time&gt;2000-06-12T13:27:15Z&lt;/creation_time&gt;\n  &lt;detection&gt;\n    &lt;result id=\"another-id\"&gt;\n      &lt;details&gt;\n        &lt;detail&gt;\n          &lt;name&gt;product&lt;/name&gt;\n          &lt;value&gt;some value&lt;/value&gt;\n        &lt;/detail&gt;\n        &lt;detail&gt;\n          &lt;name&gt;location&lt;/name&gt;\n          &lt;value&gt;80/tcp&lt;/value&gt;\n        &lt;/detail&gt;\n        &lt;detail&gt;\n          &lt;name&gt;source_oid&lt;/name&gt;\n          &lt;value&gt;null&lt;/value&gt;\n        &lt;/detail&gt;\n        &lt;detail&gt;\n          &lt;name&gt;source_name&lt;/name&gt;\n          &lt;value&gt;another value&lt;/value&gt;\n        &lt;/detail&gt;\n      &lt;/details&gt;\n    &lt;/result&gt;\n  &lt;/detection&gt;\n&lt;/result&gt;\n</code></pre>\n<p>Is it a problem if there are tags with the same name nested (not directly, but as children of children)?<br>\nMany thanks</p>",
      "raw": "Hi, I’m new here. I’m having trouble parsing an XML file, like the one shown in the example. I’ve already looked at the documentation, but I think I don’t really understand how it works.\n\n```xml\n<result id=\"some-id\">\n  <name>some name</name>\n  <owner>\n    <name>some admin</name>\n  </owner>\n  <modification_time>2000-06-12T13:27:15Z</modification_time>\n  <comment/>\n  <creation_time>2000-06-12T13:27:15Z</creation_time>\n  <detection>\n    <result id=\"another-id\">\n      <details>\n        <detail>\n          <name>product</name>\n          <value>some value</value>\n        </detail>\n        <detail>\n          <name>location</name>\n          <value>80/tcp</value>\n        </detail>\n        <detail>\n          <name>source_oid</name>\n          <value>null</value>\n        </detail>\n        <detail>\n          <name>source_name</name>\n          <value>another value</value>\n        </detail>\n      </details>\n    </result>\n  </detection>\n</result>\n```\nIs it a problem if there are tags with the same name nested (not directly, but as children of children)?\nMany thanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 82.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1012
    },
    {
      "id": 7211,
      "post_number": 2,
      "username": "Tiggax",
      "name": "",
      "created_at": "2025-01-05T14:05:56.988Z",
      "updated_at": "2025-01-05T14:05:56.988Z",
      "cooked": "<p>I don’t understand the question.<br>\nDoes it not parse correctly?<br>\nAFAIK xml gets parsed into a list of dictionaries,<br>\nso it creates a list of tag dicts, each containing the tag name, and a list of children, which is in turn the same. this  means that you can have many same named tags, as the dictionaries are self contained.</p>",
      "raw": "I don't understand the question.\nDoes it not parse correctly?\nAFAIK xml gets parsed into a list of dictionaries,\nso it creates a list of tag dicts, each containing the tag name, and a list of children, which is in turn the same. this  means that you can have many same named tags, as the dictionaries are self contained.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 17.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 71
    },
    {
      "id": 7215,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-05T14:50:37.170Z",
      "updated_at": "2025-01-05T14:50:37.170Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/not_raffa\">@not_raffa</a>, could you maybe try to revise your post’s title to be a complete question as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a>:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>We hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!</p>\n<p>Also, you marked the reply you got as the solution – great! However, someone finding your question would (I think) not easily see how you were able to solve your problem using that response. It would be great if you could demonstrate how you managed to solve the problem you initially had in a separate reply to your post.</p>",
      "raw": "Hi @not_raffa, could you maybe try to revise your post’s title to be a complete question as per the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11):\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nWe hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!\n\nAlso, you marked the reply you got as the solution -- great! However, someone finding your question would (I think) not easily see how you were able to solve your problem using that response. It would be great if you could demonstrate how you managed to solve the problem you initially had in a separate reply to your post.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 31.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:53:08.087452"
}
{
  "topic_metadata": {
    "id": 2310,
    "title": "How can I make sure all in-text cross-references are styled identically when using citations?",
    "slug": "how-can-i-make-sure-all-in-text-cross-references-are-styled-identically-when-using-citations",
    "posts_count": 5,
    "created_at": "2025-01-05T14:45:41.480Z",
    "last_posted_at": "2025-01-05T16:31:34.548Z",
    "views": 107,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Christof",
    "tags": [
      "citation"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 528
  },
  "posts": [
    {
      "id": 7214,
      "post_number": 1,
      "username": "Christof",
      "name": "Christof Schöch",
      "created_at": "2025-01-05T14:45:41.605Z",
      "updated_at": "2025-01-05T14:52:36.014Z",
      "cooked": "<p>Hi there, newbie here: I’m using Typst to define a template for university term papers, for use with Quarto. It works great so far but there is something I don’t quite seem to understand correctly: namely, how styles can be applied to the references.</p>\n<p>I would like for all in-text references to publications to be highlighted in blue. For some reason, this works just fine for parenthetical references: the full ones using the <code>[@author_2022]</code> syntax in Markdown, which display as <code>text text (Author 2022) text text</code> (with “Author 2022” in blue). But it does not work as expected when I just use an in-text reference using the <code>@author_2022</code> syntax, which displays as <code>text text Author (2022) text text</code> (everything remains black).</p>\n<p>In the first case, the whole reference is blue, in the second case, it is not. The underlying link is generated in both cases, but the reader has no way of knowing there is an underlying link in the second case as well. It just seems inconsistent.</p>\n<p>This is the relevant snippet from my template:</p>\n<pre><code class=\"lang-auto\">  // Configure display of cross-references \n  show ref: set text(\n    fill: rgb(17,86,142)\n    )\n</code></pre>\n<p>And this is how an example section from the rendered PDF looks like:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/2e6464dffb406f8257eee6459cbded34b1e1c29b.png\" data-download-href=\"https://forum.typst.app/uploads/default/2e6464dffb406f8257eee6459cbded34b1e1c29b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e6464dffb406f8257eee6459cbded34b1e1c29b_2_690x168.png\" alt=\"image\" data-base62-sha1=\"6Cp3wFjw1U3S96sSbAP5fDnINuz\" width=\"690\" height=\"168\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e6464dffb406f8257eee6459cbded34b1e1c29b_2_690x168.png, https://forum.typst.app/uploads/default/optimized/2X/2/2e6464dffb406f8257eee6459cbded34b1e1c29b_2_1035x252.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/2/2e6464dffb406f8257eee6459cbded34b1e1c29b_2_1380x336.png 2x\" data-dominant-color=\"EDEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1567×383 81.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Any hints are highly appreciated!</p>",
      "raw": "Hi there, newbie here: I'm using Typst to define a template for university term papers, for use with Quarto. It works great so far but there is something I don't quite seem to understand correctly: namely, how styles can be applied to the references. \n\nI would like for all in-text references to publications to be highlighted in blue. For some reason, this works just fine for parenthetical references: the full ones using the `[@author_2022]` syntax in Markdown, which display as `text text (Author 2022) text text` (with \"Author 2022\" in blue). But it does not work as expected when I just use an in-text reference using the `@author_2022` syntax, which displays as `text text Author (2022) text text` (everything remains black).  \n\nIn the first case, the whole reference is blue, in the second case, it is not. The underlying link is generated in both cases, but the reader has no way of knowing there is an underlying link in the second case as well. It just seems inconsistent. \n\nThis is the relevant snippet from my template: \n\n```\n  // Configure display of cross-references \n  show ref: set text(\n    fill: rgb(17,86,142)\n    )\n```\n\nAnd this is how an example section from the rendered PDF looks like: \n\n![image|690x168](upload://6Cp3wFjw1U3S96sSbAP5fDnINuz.png)\n\nAny hints are highly appreciated!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 355.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1013
    },
    {
      "id": 7216,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-05T14:54:55.872Z",
      "updated_at": "2025-01-31T08:38:09.911Z",
      "cooked": "<p>I am not aware that <code>[@citation]</code> and <code>@citation</code> are different kinds of syntax in Typst, so it has to be a Quarto thing. Maybe someone here knows a solution, but you may need to look in different locations as well.</p>\n<p>If you can get Quarto to output the Typst code it generated, that would be super helpful.</p>",
      "raw": "I am not aware that `[@citation]` and `@citation` are different kinds of syntax in Typst, so it has to be a Quarto thing. Maybe someone here knows a solution, but you may need to look in different locations as well.\n\nIf you can get Quarto to output the Typst code it generated, that would be super helpful.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 25.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7217,
      "post_number": 3,
      "username": "Christof",
      "name": "Christof Schöch",
      "created_at": "2025-01-05T15:27:13.588Z",
      "updated_at": "2025-01-05T15:27:13.588Z",
      "cooked": "<p>Thanks for the quick feedback, that’s a great idea! This worked and shows that in the intermediate <code>typ</code> file, the two kinds of references look quite different:</p>\n<pre><code class=\"lang-auto\">The study of literary metaphors plays an integral part in literature-focused disciplines within the humanities. Computational metaphor detection (MD) has produced a wealth of approaches in the field of Natural Language Processing (NLP), where the focus lies on detecting everyday metaphors @pticek_2023_methods. In the Digital Humanities (DH) literary MD has not been extensively studied yet. In their Graph Project, #cite(&lt;kesarwani_2017_metaphor&gt;, form: \"prose\") and #cite(&lt;tanasescu_2018_metaphor&gt;, form: \"prose\") have applied rule-based and statistical machine learning approaches on an English poetry corpus.\n</code></pre>\n<p>Once it retains the <code>@author</code> syntax at this stage, once it transforms to <code>#cite</code>. So I went ahead and added the following to my template:</p>\n<pre><code class=\"lang-auto\">  show cite: set text(\n    fill: rgb(17,86,142)\n    )\n</code></pre>\n<p>And that solves the problem! Not very intuitive, but definitely a solution.</p>",
      "raw": "Thanks for the quick feedback, that's a great idea! This worked and shows that in the intermediate `typ` file, the two kinds of references look quite different: \n\n```\nThe study of literary metaphors plays an integral part in literature-focused disciplines within the humanities. Computational metaphor detection (MD) has produced a wealth of approaches in the field of Natural Language Processing (NLP), where the focus lies on detecting everyday metaphors @pticek_2023_methods. In the Digital Humanities (DH) literary MD has not been extensively studied yet. In their Graph Project, #cite(<kesarwani_2017_metaphor>, form: \"prose\") and #cite(<tanasescu_2018_metaphor>, form: \"prose\") have applied rule-based and statistical machine learning approaches on an English poetry corpus.\n``` \n\nOnce it retains the `@author` syntax at this stage, once it transforms to `#cite`. So I went ahead and added the following to my template: \n\n```\n  show cite: set text(\n    fill: rgb(17,86,142)\n    )\n```\n\nAnd that solves the problem! Not very intuitive, but definitely a solution.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 75.0,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1013
    },
    {
      "id": 7218,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-05T16:22:19.962Z",
      "updated_at": "2025-01-05T16:22:19.962Z",
      "cooked": "<p>Yeah, <code>cite</code> and <code>ref</code> share a syntax: <a href=\"https://typst.app/docs/reference/model/cite/#syntax\" class=\"inline-onebox\">Cite Function – Typst Documentation</a> That means that <code>@xy</code> probably is a reference representing a citation (or something like that), while the other was a citation without a containing reference. So <code>show cite</code> was the correct one anyways, but for the reason above <code>show ref</code> worked “accidentally”.</p>",
      "raw": "Yeah, `cite` and `ref` share a syntax: https://typst.app/docs/reference/model/cite/#syntax That means that `@xy` probably is a reference representing a citation (or something like that), while the other was a citation without a containing reference. So `show cite` was the correct one anyways, but for the reason above `show ref` worked \"accidentally\".",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 30.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7219,
      "post_number": 5,
      "username": "Christof",
      "name": "Christof Schöch",
      "created_at": "2025-01-05T16:31:34.548Z",
      "updated_at": "2025-01-05T16:32:23.213Z",
      "cooked": "<p>Thanks for the explanation. Indeed, removing the <code>show</code> statement for <code>ref</code> doesn’t change anything for the references now that the one for <code>cite</code> is there, it is needed for the other cross-references to tables and figures etc., though.</p>",
      "raw": "Thanks for the explanation. Indeed, removing the `show` statement for `ref` doesn't change anything for the references now that the one for `cite` is there, it is needed for the other cross-references to tables and figures etc., though.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 50.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1013
    }
  ],
  "scraped_at": "2025-06-10T09:53:07.385317"
}
{
  "topic_metadata": {
    "id": 2312,
    "title": "How to prevent 2D shapes from being distorted in a 3D CetZ coordinate system?",
    "slug": "how-to-prevent-2d-shapes-from-being-distorted-in-a-3d-cetz-coordinate-system",
    "posts_count": 3,
    "created_at": "2025-01-05T19:34:22.530Z",
    "last_posted_at": "2025-01-05T20:41:36.448Z",
    "views": 154,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "cetz"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 279
  },
  "posts": [
    {
      "id": 7221,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-05T19:34:22.656Z",
      "updated_at": "2025-01-05T19:34:22.656Z",
      "cooked": "<p>Hey everyone,</p>\n<p>I’m currently working on some illustrations for tasks in analytical geometry using CetZ and its 3D coordinate system. The x, y, and z coordinates are adjusted through a transformation matrix to create an isometric view, which works perfectly for the geometric shapes I’m drawing.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052.png\" data-download-href=\"https://forum.typst.app/uploads/default/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052\" title=\"SCR-20250105-rter\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052_2_334x250.png\" alt=\"SCR-20250105-rter\" data-base62-sha1=\"oQLJRqoZW9SAbvuhrz7goamSaYO\" width=\"334\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052_2_334x250.png, https://forum.typst.app/uploads/default/optimized/2X/a/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052_2_501x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/ae2b3fa8cc0c173bcfa0f3809b679f89a5f8c052_2_668x500.png 2x\" data-dominant-color=\"EFE8E3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250105-rter</span><span class=\"informations\">1320×988 67 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>However, when I try to draw 2D shapes like circle to mark points, they also get affected by the transformation matrix and end up distorted instead of remaining perfectly round, which makes sense given the transformation.</p>\n<p>Is there a way to position 2D shapes correctly in the 3D coordinate system without them being “stretched” by the transformation matrix?</p>\n<p>Here is my current code: <a href=\"https://typst.app/project/r8F6emeMY61xXFdivSZcrW\">Typst Project Link</a></p>\n<p>Thanks a lot for your help!</p>",
      "raw": "Hey everyone,\n\nI’m currently working on some illustrations for tasks in analytical geometry using CetZ and its 3D coordinate system. The x, y, and z coordinates are adjusted through a transformation matrix to create an isometric view, which works perfectly for the geometric shapes I’m drawing.\n\n![SCR-20250105-rter|668x500, 50%](upload://oQLJRqoZW9SAbvuhrz7goamSaYO.png)\n\nHowever, when I try to draw 2D shapes like circle to mark points, they also get affected by the transformation matrix and end up distorted instead of remaining perfectly round, which makes sense given the transformation.\n\nIs there a way to position 2D shapes correctly in the 3D coordinate system without them being “stretched” by the transformation matrix?\n\nHere is my current code: [Typst Project Link](https://typst.app/project/r8F6emeMY61xXFdivSZcrW)\n\nThanks a lot for your help!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 473.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 7224,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-05T20:15:16.726Z",
      "updated_at": "2025-01-05T20:15:16.726Z",
      "cooked": "<p>I think that means that you want to effectively want to draw on the xy plane: <a href=\"https://cetz-package.github.io/docs/api/draw-functions/projections/on-xy\" class=\"inline-onebox\">on-xy | CeTZ Documentation</a></p>\n<p>if you want a circle at <code>(x, y, z)</code>, you would use <code>on-xy(z: z, circle((x, y)))</code>. (Admittedly I didn’t test it, if it doesn’t work could you include a minimal example so that it’s easier to test further attempts?)</p>",
      "raw": "I think that means that you want to effectively want to draw on the xy plane: https://cetz-package.github.io/docs/api/draw-functions/projections/on-xy\n\nif you want a circle at `(x, y, z)`, you would use `on-xy(z: z, circle((x, y)))`. (Admittedly I didn't test it, if it doesn't work could you include a minimal example so that it's easier to test further attempts?)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 38,
      "score": 52.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7226,
      "post_number": 3,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-05T20:41:36.448Z",
      "updated_at": "2025-01-05T20:57:36.579Z",
      "cooked": "<p>Thank you for the suggestion! You were absolutely right about using on-xy. After reviewing my setup, I realized that I had swapped the axes in my transformation matrix. Therefore, I needed to use <code>on-yz(z: z, circle((y, z)))</code> instead. Now the circles are positioned correctly without distortion.</p>\n<p>I appreciate your help! I’ll update the linked project so everyone can see the corrected solution.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/fd0946ac0889f393b4d328021df43b18e587bd55.png\" data-download-href=\"https://forum.typst.app/uploads/default/fd0946ac0889f393b4d328021df43b18e587bd55\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/fd0946ac0889f393b4d328021df43b18e587bd55_2_492x375.png\" alt=\"image\" data-base62-sha1=\"A6sFMsgiDQQjRFCILFbtvfHnI5n\" width=\"492\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/fd0946ac0889f393b4d328021df43b18e587bd55_2_492x375.png, https://forum.typst.app/uploads/default/optimized/2X/f/fd0946ac0889f393b4d328021df43b18e587bd55_2_738x562.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/f/fd0946ac0889f393b4d328021df43b18e587bd55_2_984x750.png 2x\" data-dominant-color=\"EEE6E1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1262×960 64.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Thank you for the suggestion! You were absolutely right about using on-xy. After reviewing my setup, I realized that I had swapped the axes in my transformation matrix. Therefore, I needed to use `on-yz(z: z, circle((y, z)))` instead. Now the circles are positioned correctly without distortion.\n\nI appreciate your help! I’ll update the linked project so everyone can see the corrected solution.\n\n![image|657x500, 75%](upload://A6sFMsgiDQQjRFCILFbtvfHnI5n.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 37,
      "score": 67.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    }
  ],
  "scraped_at": "2025-06-10T09:53:06.651091"
}
{
  "topic_metadata": {
    "id": 2313,
    "title": "Is there an equivalent of global variable ? Modifying a variable outside current scope and context",
    "slug": "is-there-an-equivalent-of-global-variable-modifying-a-variable-outside-current-scope-and-context",
    "posts_count": 8,
    "created_at": "2025-01-05T19:49:26.631Z",
    "last_posted_at": "2025-01-05T23:07:31.185Z",
    "views": 444,
    "like_count": 4,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Mathemensch",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 951
  },
  "posts": [
    {
      "id": 7222,
      "post_number": 1,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-05T19:49:26.747Z",
      "updated_at": "2025-01-05T19:51:26.600Z",
      "cooked": "<p>Hello,<br>\nFor a personal project where i create a template for a student songbook  i want to maintain a global dictionary where at each song i “instantiate” i insert a new pair (title, page_number). For example :</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import utils:*\n\n#let song(title) = context {\n let pagenum = ...\nutils.my_dict_index.insert(title, page_num)\n}\n</code></pre>\n<p>I see two problems here :</p>\n<ul>\n<li>Modifying a variable outside of current function scope</li>\n<li>Modifying something outside of context.</li>\n</ul>\n<p>I’m not sure how to implement this (not even sure if it is possible). My first think goes to <code>#state()</code> function but i don’t really understand the whole principle of it.<br>\nSo is there a way to do this ?<br>\nThanks in advance for helping.</p>",
      "raw": "Hello,\nFor a personal project where i create a template for a student songbook  i want to maintain a global dictionary where at each song i \"instantiate\" i insert a new pair (title, page_number). For example : \n```typst\n#import utils:*\n\n#let song(title) = context {\n let pagenum = ...\nutils.my_dict_index.insert(title, page_num)\n}\n```\nI see two problems here : \n- Modifying a variable outside of current function scope\n- Modifying something outside of context.\n\nI'm not sure how to implement this (not even sure if it is possible). My first think goes to `#state()` function but i don't really understand the whole principle of it.\nSo is there a way to do this ?\nThanks in advance for helping.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 1811.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7223,
      "post_number": 2,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-05T20:12:52.418Z",
      "updated_at": "2025-01-05T20:14:08.746Z",
      "cooked": "<p>Hi Alex,</p>\n<p><code>#state</code> is definitely the right approach.<br>\nIt took me a little while to understand it too, to encourage you.</p>\n<p>Can you explain your workflow in more detail?<br>\nWhat exactly should be saved and when and how should it be called?<br>\nWhat is ‘page_number’? The page on which the current song is saved?</p>\n<p>If you explain this to me, I can try to help you with the implementation.</p>\n<p>Kind regards<br>\nAlex (that’s my name too :D)</p>",
      "raw": "Hi Alex,\n\n`#state` is definitely the right approach.\nIt took me a little while to understand it too, to encourage you.\n\nCan you explain your workflow in more detail?\nWhat exactly should be saved and when and how should it be called?\nWhat is ‘page_number’? The page on which the current song is saved?\n\nIf you explain this to me, I can try to help you with the implementation.\n\nKind regards\nAlex (that's my name too :D)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 51,
      "score": 40.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 7225,
      "post_number": 3,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-05T20:23:17.834Z",
      "updated_at": "2025-01-05T20:23:17.834Z",
      "cooked": "<p>Here’s a link to my project for more insight :<br>\n<a href=\"https://typst.app/project/rxJdkxQZb6FrIuv59NVJxS\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rxJdkxQZb6FrIuv59NVJxS</a></p>\n<p>So basically my project revolve around 3 principals files  :</p>\n<ul>\n<li>style.typ : define the style of each element that constitute a ‘song’</li>\n<li>format.typ : format a song based on parameters received, using style defined previoulsy. Here i define a context function called “chant” (song in french) that i can use throughout the project (files found in \"chant/*.typ).</li>\n<li>utils.typ : define a few function useful for the whole project</li>\n</ul>\n<p>Basically i want to create and empty dictionary in utils.typ that contain all page numbers and title of each song to later construct an index table. The page number is the number of the page on which the song is located (already defined in <code>chant()</code> ).<br>\nSo i am thinking to update this <code>utils.index_dictionnary</code> at the end of <code>chant()</code> function and use it later in the project</p>",
      "raw": "Here's a link to my project for more insight : \nhttps://typst.app/project/rxJdkxQZb6FrIuv59NVJxS\n\nSo basically my project revolve around 3 principals files  : \n- style.typ : define the style of each element that constitute a 'song'\n- format.typ : format a song based on parameters received, using style defined previoulsy. Here i define a context function called \"chant\" (song in french) that i can use throughout the project (files found in \"chant/*.typ).\n- utils.typ : define a few function useful for the whole project\n\n\nBasically i want to create and empty dictionary in utils.typ that contain all page numbers and title of each song to later construct an index table. The page number is the number of the page on which the song is located (already defined in `chant()` ). \nSo i am thinking to update this `utils.index_dictionnary` at the end of `chant()` function and use it later in the project",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 20.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7227,
      "post_number": 4,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-05T21:06:39.742Z",
      "updated_at": "2025-01-05T21:06:39.742Z",
      "cooked": "<p>Ahh I see,</p>\n<p>then you should use the <code>#outline</code> function.</p>\n<p>I added the following code to your <code>#chant</code> command:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let chant(\n  title,\n...\n) = context{\n  hide(heading(title))\n</code></pre>\n<p>Then you can create a outline with:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#outline()\n</code></pre>\n<p>which results in the following result:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/6c307c145bcd453d5b9d5c0fe728049cb218bb69.png\" data-download-href=\"https://forum.typst.app/uploads/default/6c307c145bcd453d5b9d5c0fe728049cb218bb69\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/6c307c145bcd453d5b9d5c0fe728049cb218bb69_2_355x500.png\" alt=\"image\" data-base62-sha1=\"fr5rzGLA4k4T0zKu1fTPcr0btxL\" width=\"355\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/6c307c145bcd453d5b9d5c0fe728049cb218bb69_2_355x500.png, https://forum.typst.app/uploads/default/optimized/2X/6/6c307c145bcd453d5b9d5c0fe728049cb218bb69_2_532x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/6/6c307c145bcd453d5b9d5c0fe728049cb218bb69_2_710x1000.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">986×1388 146 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Ahh I see,\n\nthen you should use the `#outline` function.\n\nI added the following code to your `#chant` command:\n```typst\n#let chant(\n  title,\n...\n) = context{\n  hide(heading(title))\n```\n\nThen you can create a outline with:\n```typst\n#outline()\n```\nwhich results in the following result:\n![image|355x500](upload://fr5rzGLA4k4T0zKu1fTPcr0btxL.png)",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 50,
      "score": 105.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 7228,
      "post_number": 5,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-05T21:11:07.037Z",
      "updated_at": "2025-01-05T21:11:07.037Z",
      "cooked": "<p>I’m trying to implement the solution like this :</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">//in utils.typ\n#let index_dict = state(\"index_dict\", (:))\n\n// in format.typ\n\n#let chant(...) = context{\n  let dict = utils.index_dict.get()\n  dict.insert(title,utils.get_page_number())\n  utils.index_dict.update(dict)\n}\n</code></pre>\n<p>I get a warning :<br>\nLayout did not converge within 5 attempts <small>(warning)</small></p>\n<p>Since my problem can be extrapolated  to others problem is it possible to explain why ?</p>",
      "raw": "I'm trying to implement the solution like this : \n```typst\n//in utils.typ\n#let index_dict = state(\"index_dict\", (:))\n\n// in format.typ\n\n#let chant(...) = context{\n  let dict = utils.index_dict.get()\n  dict.insert(title,utils.get_page_number())\n  utils.index_dict.update(dict)\n}\n```\n\nI get a warning : \nLayout did not converge within 5 attempts <small>(warning)</small>\n\nSince my problem can be extrapolated  to others problem is it possible to explain why ?",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7229,
      "post_number": 6,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-05T21:11:24.333Z",
      "updated_at": "2025-01-05T21:31:23.602Z",
      "cooked": "<p>It worked, but now i get a bunch of white pages appearing. I supposed it is due to the height of the heading took into account even though it is set to hidden. I will search to prevent this.</p>\n<p>edit : set the size of heading to 0pt</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">show heading: text.with(size: 0pt)\nhide(heading(title))\n</code></pre>\n<p>That said, is there a solution involving <code>#state()</code>? I think my problem could be generalized to something like: ‘How to use or modify a global variable effectively?’</p>",
      "raw": "It worked, but now i get a bunch of white pages appearing. I supposed it is due to the height of the heading took into account even though it is set to hidden. I will search to prevent this.\n\nedit : set the size of heading to 0pt\n```typst\nshow heading: text.with(size: 0pt)\nhide(heading(title))\n```\n\nThat said, is there a solution involving `#state()`? I think my problem could be generalized to something like: 'How to use or modify a global variable effectively?'",
      "reply_to_post_number": 4,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 33.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7231,
      "post_number": 8,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-05T22:08:50.630Z",
      "updated_at": "2025-01-05T22:08:50.630Z",
      "cooked": "<p>This project seems very complex and large, making it difficult to quickly identify why the layout doesn’t converge. There could be many reasons for this, especially in a project of this scale.</p>\n<p>However, here’s a Minimal Working Example (MWE) that uses a global state to store songs and their page numbers, which might help you troubleshoot your issue:</p>\n<p><a href=\"https://typst.app/project/rNyGAAnyyagyfz1y2e3jdU\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rNyGAAnyyagyfz1y2e3jdU</a></p>\n<p>This is the minimal <code>chants.typ</code> for storing and getting chant title and page number:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// chants.typ\n\n// State for the songs\n#let _state_chants = state(\"chants\", ())\n#let _page = counter(page)\n\n// Main function to add a song\n#let chant(title: \"\") = {\n  // Update state with new song\n  context {\n    let new_page = _page.get().first()\n    _state_chants.update(songs =&gt; {\n      songs.push((\n        title: title,\n        page: new_page,\n      ))\n      songs\n    })\n  }\n  // Show the title as heading\n  heading(level: 2, title)\n}\n\n// Function to create table of contents\n#let chant-outline() = {\n  heading(level: 1, \"Liedverzeichnis\")\n\n  context {\n    let songs = _state_chants.final()\n\n    for song in songs [\n      #song.title\n      #box(width: 1fr, repeat[.])\n      #song.page\n      #linebreak()\n    ]\n  }\n}\n</code></pre>\n<p>this is an example usage of this file:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">//example.typ\n#import \"chants.typ\": *\n\n#set page(\n  \"a6\",\n  numbering: \"1\",\n)\n\n// Outline of the songs\n#chant-outline()\n\n#pagebreak()\n\n#chant(title: \"Amazing Grace\")\nLorem ipsum dolor sit amet...\n\n#pagebreak()\n\n#chant(title: \"Hallelujah\")\nConsectetur adipiscing elit...\n\n</code></pre>",
      "raw": "This project seems very complex and large, making it difficult to quickly identify why the layout doesn’t converge. There could be many reasons for this, especially in a project of this scale.\n\nHowever, here’s a Minimal Working Example (MWE) that uses a global state to store songs and their page numbers, which might help you troubleshoot your issue:\n\nhttps://typst.app/project/rNyGAAnyyagyfz1y2e3jdU\n\nThis is the minimal `chants.typ` for storing and getting chant title and page number:\n```typst\n// chants.typ\n\n// State for the songs\n#let _state_chants = state(\"chants\", ())\n#let _page = counter(page)\n\n// Main function to add a song\n#let chant(title: \"\") = {\n  // Update state with new song\n  context {\n    let new_page = _page.get().first()\n    _state_chants.update(songs => {\n      songs.push((\n        title: title,\n        page: new_page,\n      ))\n      songs\n    })\n  }\n  // Show the title as heading\n  heading(level: 2, title)\n}\n\n// Function to create table of contents\n#let chant-outline() = {\n  heading(level: 1, \"Liedverzeichnis\")\n\n  context {\n    let songs = _state_chants.final()\n\n    for song in songs [\n      #song.title\n      #box(width: 1fr, repeat[.])\n      #song.page\n      #linebreak()\n    ]\n  }\n}\n```\n\nthis is an example usage of this file:\n\n```typst\n//example.typ\n#import \"chants.typ\": *\n\n#set page(\n  \"a6\",\n  numbering: \"1\",\n)\n\n// Outline of the songs\n#chant-outline()\n\n#pagebreak()\n\n#chant(title: \"Amazing Grace\")\nLorem ipsum dolor sit amet...\n\n#pagebreak()\n\n#chant(title: \"Hallelujah\")\nConsectetur adipiscing elit...\n\n```",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 68.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 7232,
      "post_number": 9,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-05T23:07:31.185Z",
      "updated_at": "2025-01-05T23:07:31.185Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Alex\" data-post=\"5\" data-topic=\"2313\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alex/48/1696_2.png\" class=\"avatar\"> Alex:</div>\n<blockquote>\n<p>I’m trying to implement the solution like this :</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">//in utils.typ\n#let index_dict = state(\"index_dict\", (:))\n\n// in format.typ\n\n#let chant(...) = context{\n  let dict = utils.index_dict.get()\n  dict.insert(title,utils.get_page_number())\n  utils.index_dict.update(dict)\n}\n</code></pre>\n<p>I get a warning :<br>\nLayout did not converge within 5 attempts <small>(warning)</small></p>\n</blockquote>\n</aside>\n<p>In this case the cause is actually fairly clear: you use <code>get()</code> followed by <code>update()</code> instead of update with a callback. Here is a post where I explain in detail what the problem and fix for it is: <a href=\"https://forum.typst.app/t/why-is-state-final-not-final/1483/2\" class=\"inline-onebox\">Why is State Final not \"final\"? - #2 by SillyFreak</a></p>\n<aside class=\"quote no-group\" data-username=\"Alex\" data-post=\"6\" data-topic=\"2313\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/alex/48/1696_2.png\" class=\"avatar\"> Alex:</div>\n<blockquote>\n<p>I will search to prevent this.</p>\n<p>edit : set the size of heading to 0pt</p>\n<pre><code class=\"lang-auto\">show heading: text.with(size: 0pt)\nhide(heading(title))\n</code></pre>\n</blockquote>\n</aside>\n<p>a bit “cleaner” is I think using <code>place(hide(...))</code> which prevents the header from being considered for layout at all.</p>\n<p>But the state based solution Mathemensch shows (using <code>update(songs =&gt; ...)</code> looks good :) I don’t think it has convergence problems.The <code>update()</code> is inside a context and depends on a <code>get()</code> but I <em>think</em> it’s fine because it’s a different counter.</p>",
      "raw": "[quote=\"Alex, post:5, topic:2313\"]\nI’m trying to implement the solution like this :\n\n```typ\n//in utils.typ\n#let index_dict = state(\"index_dict\", (:))\n\n// in format.typ\n\n#let chant(...) = context{\n  let dict = utils.index_dict.get()\n  dict.insert(title,utils.get_page_number())\n  utils.index_dict.update(dict)\n}\n```\n\nI get a warning :\nLayout did not converge within 5 attempts <small>(warning)</small>\n[/quote]\n\nIn this case the cause is actually fairly clear: you use `get()` followed by `update()` instead of update with a callback. Here is a post where I explain in detail what the problem and fix for it is: https://forum.typst.app/t/why-is-state-final-not-final/1483/2?u=sillyfreak\n\n[quote=\"Alex, post:6, topic:2313\"]\nI will search to prevent this.\n\nedit : set the size of heading to 0pt\n\n```\nshow heading: text.with(size: 0pt)\nhide(heading(title))\n```\n[/quote]\n\na bit \"cleaner\" is I think using `place(hide(...))` which prevents the header from being considered for layout at all.\n\nBut the state based solution Mathemensch shows (using `update(songs => ...)` looks good :) I don't think it has convergence problems.The `update()` is inside a context and depends on a `get()` but I _think_ it's fine because it's a different counter.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 2,
      "like_count": 1,
      "reads": 34,
      "score": 46.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:53:05.851141"
}
{
  "topic_metadata": {
    "id": 2321,
    "title": "How do I display code and math side-by-side?",
    "slug": "how-do-i-display-code-and-math-side-by-side",
    "posts_count": 6,
    "created_at": "2025-01-06T15:47:04.233Z",
    "last_posted_at": "2025-01-22T16:14:40.137Z",
    "views": 311,
    "like_count": 17,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Hannes",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 651
  },
  "posts": [
    {
      "id": 7253,
      "post_number": 1,
      "username": "Manor_Askenazi",
      "name": "Manor Askenazi",
      "created_at": "2025-01-06T15:47:04.373Z",
      "updated_at": "2025-01-06T15:59:11.744Z",
      "cooked": "<p>What is the typst-way to achieve this (R-code annotated with math line by line). Is there a way to escape raw-mode, or do I use a table, but then if I use a table to ensure code and math are aligned how do I indent to code snippets etc…?</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0b93dba68365c064b41fa59060a6b5a45ed2e026.png\" alt=\"mixed\" data-base62-sha1=\"1Eq2giPd3hEeYOO372nb5NeCxX8\" width=\"676\" height=\"465\"></p>",
      "raw": "What is the typst-way to achieve this (R-code annotated with math line by line). Is there a way to escape raw-mode, or do I use a table, but then if I use a table to ensure code and math are aligned how do I indent to code snippets etc...?\n\n![mixed|676x465](upload://1Eq2giPd3hEeYOO372nb5NeCxX8.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 649.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1015
    },
    {
      "id": 7254,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-06T15:55:54.278Z",
      "updated_at": "2025-01-06T15:55:54.278Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/manor_askenazi\">@Manor_Askenazi</a>, could you maybe try to revise your post’s title to be a complete question as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a>:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>Adding tags like <a class=\"hashtag-cooked\" href=\"/tag/layout\" data-type=\"tag\" data-slug=\"layout\" data-id=\"65\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>layout</span></a> would be useful too! We hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!</p>",
      "raw": "Hi @Manor_Askenazi, could you maybe try to revise your post’s title to be a complete question as per the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11):\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nAdding tags like #layout would be useful too! We hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 48,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7255,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-06T15:59:56.047Z",
      "updated_at": "2025-01-06T16:02:04.243Z",
      "cooked": "<p>as for your question, yes a table or grid would be the solution here. You can simply use raw and math content as the table cells:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(\n  columns: (1fr, auto),\n  align: horizon,\n  ```r\n  x &lt;- 0\n  ```,\n  $ x = 0\\ a $,\n)\n</code></pre>\n<p>and indent like you’re used to.</p>\n<p>Edit: a downside is that the width of the code and equations can’t “overlap” if it fits for a particular row. I don’t think there should be any problems if you simply do one grid per row, then that isn’t an issue.</p>",
      "raw": "as for your question, yes a table or grid would be the solution here. You can simply use raw and math content as the table cells:\n```typ\n#grid(\n  columns: (1fr, auto),\n  align: horizon,\n  ```r\n  x <- 0\n  ```,\n  $ x = 0\\ a $,\n)\n```\nand indent like you're used to.\n\nEdit: a downside is that the width of the code and equations can't \"overlap\" if it fits for a particular row. I don't think there should be any problems if you simply do one grid per row, then that isn't an issue.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 47,
      "score": 44.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7265,
      "post_number": 4,
      "username": "sjfhsjfh",
      "name": "sjfhsjfh",
      "created_at": "2025-01-07T05:35:18.772Z",
      "updated_at": "2025-01-07T05:35:18.772Z",
      "cooked": "<p>Simply make a function</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let aline(..docs) = {\n  grid(\n    columns: (1fr, auto),\n    align: (left, right),\n    ..docs\n  )\n}\n</code></pre>\n<p>Then the following code should look like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#aline[``` t_multiplier = 5; min_rate = 0.1 ; prior = 0.2```][$lambda_i^T = 5 lambda_i^F quad pi_r = 0.2$]\n#aline[``` no equaion ok```]\n#aline[``` bigger equation also ok```][$max((sum_(i = 1)^oo 1 / i^2) / (product_(i = 1)^oo (1 + 1 / i^2)))$]\n``` hybrid of aline and bare raw block```\n#aline[```\n  might not be satisfing for\n  multiple\n  lines```]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/d26f9a2d7dde40a49070ae796a742211e6ee3baf.png\" data-download-href=\"https://forum.typst.app/uploads/default/d26f9a2d7dde40a49070ae796a742211e6ee3baf\" title=\"Result\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/d26f9a2d7dde40a49070ae796a742211e6ee3baf_2_690x210.png\" alt=\"Result\" data-base62-sha1=\"u1BnhwszgjEV1BS1xx6uVku7KmX\" width=\"690\" height=\"210\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/d26f9a2d7dde40a49070ae796a742211e6ee3baf_2_690x210.png, https://forum.typst.app/uploads/default/optimized/2X/d/d26f9a2d7dde40a49070ae796a742211e6ee3baf_2_1035x315.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/d26f9a2d7dde40a49070ae796a742211e6ee3baf.png 2x\" data-dominant-color=\"FAFAFA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Result</span><span class=\"informations\">1068×326 26.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Simply make a function\n\n```typ\n#let aline(..docs) = {\n  grid(\n    columns: (1fr, auto),\n    align: (left, right),\n    ..docs\n  )\n}\n```\n\nThen the following code should look like this:\n\n```typ\n#aline[``` t_multiplier = 5; min_rate = 0.1 ; prior = 0.2```][$lambda_i^T = 5 lambda_i^F quad pi_r = 0.2$]\n#aline[``` no equaion ok```]\n#aline[``` bigger equation also ok```][$max((sum_(i = 1)^oo 1 / i^2) / (product_(i = 1)^oo (1 + 1 / i^2)))$]\n``` hybrid of aline and bare raw block```\n#aline[```\n  might not be satisfing for\n  multiple\n  lines```]\n```\n\n![Result|690x210](upload://u1BnhwszgjEV1BS1xx6uVku7KmX.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 41,
      "score": 53.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 120
    },
    {
      "id": 7268,
      "post_number": 5,
      "username": "Hannes",
      "name": "Hannes",
      "created_at": "2025-01-07T10:55:06.833Z",
      "updated_at": "2025-01-07T10:56:19.516Z",
      "cooked": "<p>Here is another, slightly more complex function to keep the code in one raw block (Please excuse any typos in the example):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let annotate-code(code, annotations) = {\n  // Map the annotations to a dictionary for easy access\n  let dict = annotations.map(((row, a)) =&gt; (str(row), a)).to-dict()\n  let numbering = numbering.with(\"1\")\n  show raw.line: it =&gt; context {\n    let num-width = measure(numbering(it.count)).width // Numbering shenanigens (not really necessary)\n    set block(spacing: 0em)\n    grid(\n      columns: (auto, 1fr, auto),\n      align: (right + horizon, left + horizon, right + horizon),\n      box(\n        width: num-width + 1em,\n        inset: (right: 1em),\n        text(fill: gray, numbering(it.number)),\n      ),\n      it.body,\n      if str(it.number) in dict {\n        dict.at(str(it.number))\n      } else {\n        []\n      },\n    )\n  }\n  code\n}\n</code></pre>\n<p>You can then use the function as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#annotate-code(\n  ```R\n  t_multiplier = 5; min_rate = 0.1; prior = 0.2\n\n  replicate_psms &lt;- c(19, 28, 25) # BIRC example from\n  control_psms   &lt;- c( 0,  0,  0) # KRAS4A Pull-Down\n  lambda &lt;- max(mean(control_psms), min_rate)\n  rep_scores &lt;- c()\n  for (x in replicate_psms) {\n    p_t_x &lt;- prior * dpois(x, t_multiplier * lambda)\n    p_f_x &lt;- (1 - prior) * dpois(x, lambda)\n    p_x &lt;- p_t_x + p_f_x\n    if (p_x &gt; 0 ) {\n      rep_score &lt;- p_t_x / p_x\n    } else {\n      stopifnot(x &gt; t_multiplier * lambda)\n      rep_score &lt;- 1\n    }\n    rep_scores &lt;- c(rep_scores, rep_score)\n  }\n  score &lt;- mean(rep_scores)\n  ```,\n  (\n    (1, $ lambda_i^tau = 5 lambda_i^F quad pi_tau = 0.2 $),\n    (\n      5,\n      $\n        hat(lambda_i^F) = max((sum_(c = 1)^(N_italic(\"controls\")) x_c) / N_italic(\"controls\"), 0.1)\n      $,\n    ),\n    (8, $ pi_tau P(x; lambda_i^tau) $),\n    (9, $ (1 - pi_tau) P(x; lambda_i^F) $),\n    (10, $ pi_tau P(x; lambda_i^tau) + (1 - pi_tau) P(x; lambda_i^F) $),\n    (\n      12,\n      $\n        P(Z_i = 1 | X_i = x) = (pi_tau P(x; lambda_i^tau)) / (pi_tau P(x; lambda_i^tau) + (1 - pi_tau) P(x; lambda_i^F))\n      $,\n    ),\n    (\n      17,\n      $\n        italic(\"Score\")_i = (sum_(r = 1)^(N_italic(\"replicates\") P(Z_i = 1 | X_i = x_r))) / N_italic(\"replicates\")\n      $,\n    ),\n  ),\n)\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba.png\" data-download-href=\"https://forum.typst.app/uploads/default/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba\" title=\"main\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba_2_686x499.png\" alt=\"main\" data-base62-sha1=\"3baxDrmZvvZNw9CDLYgDIjPVZ58\" width=\"686\" height=\"499\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba_2_686x499.png, https://forum.typst.app/uploads/default/original/2X/1/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/1649c3870da125bf3b5ba2646cfd7a4e1b36e6ba.png 2x\" data-dominant-color=\"FAF9FA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">main</span><span class=\"informations\">1020×743 191 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Here is another, slightly more complex function to keep the code in one raw block (Please excuse any typos in the example):\n```typ\n#let annotate-code(code, annotations) = {\n  // Map the annotations to a dictionary for easy access\n  let dict = annotations.map(((row, a)) => (str(row), a)).to-dict()\n  let numbering = numbering.with(\"1\")\n  show raw.line: it => context {\n    let num-width = measure(numbering(it.count)).width // Numbering shenanigens (not really necessary)\n    set block(spacing: 0em)\n    grid(\n      columns: (auto, 1fr, auto),\n      align: (right + horizon, left + horizon, right + horizon),\n      box(\n        width: num-width + 1em,\n        inset: (right: 1em),\n        text(fill: gray, numbering(it.number)),\n      ),\n      it.body,\n      if str(it.number) in dict {\n        dict.at(str(it.number))\n      } else {\n        []\n      },\n    )\n  }\n  code\n}\n```\nYou can then use the function as follows:\n```typ\n#annotate-code(\n  ```R\n  t_multiplier = 5; min_rate = 0.1; prior = 0.2\n\n  replicate_psms <- c(19, 28, 25) # BIRC example from\n  control_psms   <- c( 0,  0,  0) # KRAS4A Pull-Down\n  lambda <- max(mean(control_psms), min_rate)\n  rep_scores <- c()\n  for (x in replicate_psms) {\n    p_t_x <- prior * dpois(x, t_multiplier * lambda)\n    p_f_x <- (1 - prior) * dpois(x, lambda)\n    p_x <- p_t_x + p_f_x\n    if (p_x > 0 ) {\n      rep_score <- p_t_x / p_x\n    } else {\n      stopifnot(x > t_multiplier * lambda)\n      rep_score <- 1\n    }\n    rep_scores <- c(rep_scores, rep_score)\n  }\n  score <- mean(rep_scores)\n  ```,\n  (\n    (1, $ lambda_i^tau = 5 lambda_i^F quad pi_tau = 0.2 $),\n    (\n      5,\n      $\n        hat(lambda_i^F) = max((sum_(c = 1)^(N_italic(\"controls\")) x_c) / N_italic(\"controls\"), 0.1)\n      $,\n    ),\n    (8, $ pi_tau P(x; lambda_i^tau) $),\n    (9, $ (1 - pi_tau) P(x; lambda_i^F) $),\n    (10, $ pi_tau P(x; lambda_i^tau) + (1 - pi_tau) P(x; lambda_i^F) $),\n    (\n      12,\n      $\n        P(Z_i = 1 | X_i = x) = (pi_tau P(x; lambda_i^tau)) / (pi_tau P(x; lambda_i^tau) + (1 - pi_tau) P(x; lambda_i^F))\n      $,\n    ),\n    (\n      17,\n      $\n        italic(\"Score\")_i = (sum_(r = 1)^(N_italic(\"replicates\") P(Z_i = 1 | X_i = x_r))) / N_italic(\"replicates\")\n      $,\n    ),\n  ),\n)\n```\n[details=\"Output\"]\n![main|686x499](upload://3baxDrmZvvZNw9CDLYgDIjPVZ58.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 8,
      "reads": 37,
      "score": 227.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 922
    },
    {
      "id": 7769,
      "post_number": 6,
      "username": "Manor_Askenazi",
      "name": "Manor Askenazi",
      "created_at": "2025-01-22T16:14:40.137Z",
      "updated_at": "2025-01-22T16:14:40.137Z",
      "cooked": "<p>This is surreal! I post a stupid manually-generated png made in PowerPoint (yes, I am ashamed) using <strong>screenshot</strong> <em>just as an example</em> and you respond with a general solution along with its application to my screenshot…  And it is essentially pixel-perfect / identical! Thank you, sir!!!</p>",
      "raw": "This is surreal! I post a stupid manually-generated png made in PowerPoint (yes, I am ashamed) using **screenshot** *just as an example* and you respond with a general solution along with its application to my screenshot...  And it is essentially pixel-perfect / identical! Thank you, sir!!!",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 25,
      "score": 95.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1015
    }
  ],
  "scraped_at": "2025-06-10T09:53:05.101189"
}
{
  "topic_metadata": {
    "id": 2331,
    "title": "How to display a outline in another outline",
    "slug": "how-to-display-a-outline-in-another-outline",
    "posts_count": 3,
    "created_at": "2025-01-07T15:36:12.732Z",
    "last_posted_at": "2025-01-07T15:48:04.701Z",
    "views": 164,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "HPCesia",
    "tags": [
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 144
  },
  "posts": [
    {
      "id": 7271,
      "post_number": 1,
      "username": "JohnDough",
      "name": "John Dough",
      "created_at": "2025-01-07T15:36:12.994Z",
      "updated_at": "2025-01-07T18:28:13.605Z",
      "cooked": "<p>Hello,</p>\n<p>I am currently working on a template for my study works and I don’t know how to get one outline show up as content in another outline. So the thing is, I want one main outline, and also some outlines like list of figures and list of tables. I got the outlines working but I want to show the “List of figures”/“List of tables” in the main outline.</p>\n<p>Does anyone have an idea how to solve this?</p>\n<p>Many thanks in advance<br>\nJohn</p>",
      "raw": "Hello, \n\n I am currently working on a template for my study works and I don't know how to get one outline show up as content in another outline. So the thing is, I want one main outline, and also some outlines like list of figures and list of tables. I got the outlines working but I want to show the \"List of figures\"/\"List of tables\" in the main outline.\n\nDoes anyone have an idea how to solve this?\n\nMany thanks in advance\nJohn",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 658.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1021
    },
    {
      "id": 7273,
      "post_number": 2,
      "username": "HPCesia",
      "name": "HPCesia",
      "created_at": "2025-01-07T15:43:18.671Z",
      "updated_at": "2025-01-07T15:43:18.671Z",
      "cooked": "<p>You can use <code>heading</code>’s <code>outlined: true</code> to show up your graph outline in main outline, for example:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let graph-outline(..args) = {\n  show outline: set heading(outlined: true)\n  outline(..args)\n}\n\n#outline()\n\n#graph-outline(title: \"Graphs\", target: figure.where(outlined: true))\n\n= Foo\n= Bar\n</code></pre>",
      "raw": "You can use `heading`'s `outlined: true` to show up your graph outline in main outline, for example:\n```typst\n#let graph-outline(..args) = {\n  show outline: set heading(outlined: true)\n  outline(..args)\n}\n\n#outline()\n\n#graph-outline(title: \"Graphs\", target: figure.where(outlined: true))\n\n= Foo\n= Bar\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 53.2,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 1020
    },
    {
      "id": 7274,
      "post_number": 3,
      "username": "JohnDough",
      "name": "John Dough",
      "created_at": "2025-01-07T15:48:04.701Z",
      "updated_at": "2025-01-07T15:48:04.701Z",
      "cooked": "<p>Thanks a lot, this was exactly what I’ve been looking for a long time :c</p>",
      "raw": "Thanks a lot, this was exactly what I've been looking for a long time :c",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 7.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1021
    }
  ],
  "scraped_at": "2025-06-10T09:53:04.100580"
}
{
  "topic_metadata": {
    "id": 2332,
    "title": "How can I align multiline footnotes at the start of the text instead of at the number?",
    "slug": "how-can-i-align-multiline-footnotes-at-the-start-of-the-text-instead-of-at-the-number",
    "posts_count": 6,
    "created_at": "2025-01-07T15:37:56.103Z",
    "last_posted_at": "2025-01-08T18:02:40.756Z",
    "views": 201,
    "like_count": 4,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout",
      "footnotes"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 386
  },
  "posts": [
    {
      "id": 7272,
      "post_number": 1,
      "username": "Florian",
      "name": "Florian",
      "created_at": "2025-01-07T15:37:56.279Z",
      "updated_at": "2025-01-08T17:49:30.665Z",
      "cooked": "<p><img src=\"https://forum.typst.app/images/emoji/apple/wave.png?v=12\" title=\":wave:\" class=\"emoji\" alt=\":wave:\" loading=\"lazy\" width=\"20\" height=\"20\"> - i’m trying to format footnotes accordingly to a paper’s formatting rules, where i am asked to align the footnotes text (not the numbers).</p>\n<p>Unfortunately the basic behaviour aligns by the numbers:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lorem(20) #footnote[#lorem(20)]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a4eff4ec84d5ac7ff56b18887122178ea7eb5054.png\" data-download-href=\"https://forum.typst.app/uploads/default/a4eff4ec84d5ac7ff56b18887122178ea7eb5054\" title=\"grafik\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a4eff4ec84d5ac7ff56b18887122178ea7eb5054_2_345x242.png\" alt=\"grafik\" data-base62-sha1=\"nx6pqmMDzrRnOVGePhjvDnWgvKQ\" width=\"345\" height=\"242\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a4eff4ec84d5ac7ff56b18887122178ea7eb5054_2_345x242.png, https://forum.typst.app/uploads/default/optimized/2X/a/a4eff4ec84d5ac7ff56b18887122178ea7eb5054_2_517x363.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/a4eff4ec84d5ac7ff56b18887122178ea7eb5054_2_690x484.png 2x\" data-dominant-color=\"EEEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">grafik</span><span class=\"informations\">750×527 77.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>It seems to me the footnote number is added to the footnotes body and the resulting paragraph is being layed out according to the footnote-entry rules.</p>\n<p>So i tried to pass my footnote content using a “box”:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lorem(20) #footnote[#box(lorem(20))]\n</code></pre>\n<p>Which ensures the body of the content is being aligned as requested. Unfortunately the inline box grows out to the top, sticking the footnote-number to the bottom line.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/410d7640c572c9ad1721391cb86ddaa2ed5bfb03.png\" data-download-href=\"https://forum.typst.app/uploads/default/410d7640c572c9ad1721391cb86ddaa2ed5bfb03\" title=\"grafik\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/410d7640c572c9ad1721391cb86ddaa2ed5bfb03_2_345x242.png\" alt=\"grafik\" data-base62-sha1=\"9htSpzXs9tWFNbEPGo3ugW6xdQv\" width=\"345\" height=\"242\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/410d7640c572c9ad1721391cb86ddaa2ed5bfb03_2_345x242.png, https://forum.typst.app/uploads/default/optimized/2X/4/410d7640c572c9ad1721391cb86ddaa2ed5bfb03_2_517x363.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/4/410d7640c572c9ad1721391cb86ddaa2ed5bfb03_2_690x484.png 2x\" data-dominant-color=\"EEEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">grafik</span><span class=\"informations\">750×527 76.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The question is - is there a better way to implement the requested behavior and if not - how to fix the footnote number to stick with the top line of the paragraph?</p>\n<p>Thank you in advance! <img src=\"https://forum.typst.app/images/emoji/apple/pray.png?v=12\" title=\":pray:\" class=\"emoji\" alt=\":pray:\" loading=\"lazy\" width=\"20\" height=\"20\"> <img src=\"https://forum.typst.app/images/emoji/apple/candy.png?v=12\" title=\":candy:\" class=\"emoji\" alt=\":candy:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": ":wave: - i'm trying to format footnotes accordingly to a paper's formatting rules, where i am asked to align the footnotes text (not the numbers).\n\nUnfortunately the basic behaviour aligns by the numbers:\n\n```typ\n#lorem(20) #footnote[#lorem(20)]\n```\n![grafik|690x484, 50%](upload://nx6pqmMDzrRnOVGePhjvDnWgvKQ.png)\n\nIt seems to me the footnote number is added to the footnotes body and the resulting paragraph is being layed out according to the footnote-entry rules.\n\nSo i tried to pass my footnote content using a \"box\":\n\n```typ\n#lorem(20) #footnote[#box(lorem(20))]\n```\n\nWhich ensures the body of the content is being aligned as requested. Unfortunately the inline box grows out to the top, sticking the footnote-number to the bottom line.\n\n![grafik|690x484, 50%](upload://9htSpzXs9tWFNbEPGo3ugW6xdQv.png)\n\nThe question is - is there a better way to implement the requested behavior and if not - how to fix the footnote number to stick with the top line of the paragraph?\n\nThank you in advance! :pray: :candy:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 507.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 251
    },
    {
      "id": 7275,
      "post_number": 2,
      "username": "Florian",
      "name": "Florian",
      "created_at": "2025-01-07T16:17:02.490Z",
      "updated_at": "2025-01-07T16:58:20.224Z",
      "cooked": "<p>A possible fix seems to be using the <code>hanging-indent</code> attribute of <code>par</code> although it feels a bit hacky:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show footnote.entry: it =&gt; [#par(hanging-indent: 1.41em)[#it]]\n\n#set page(paper: \"a8\", flipped: true)\n\n#lorem(20) #footnote[#lorem(20)]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/87e514c54d6abd02336e101afbbb4bc56d4d0a3f.png\" alt=\"grafik\" data-base62-sha1=\"jobghmbn9qL8lnXaEIXggQothIX\" width=\"688\" height=\"484\"></p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/warning.png?v=12\" title=\":warning:\" class=\"emoji\" alt=\":warning:\" loading=\"lazy\" width=\"20\" height=\"20\"> Playing around with this occasionally crashed my compiler. <img src=\"https://forum.typst.app/images/emoji/apple/person_shrugging.png?v=12\" title=\":person_shrugging:\" class=\"emoji\" alt=\":person_shrugging:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "A possible fix seems to be using the `hanging-indent` attribute of `par` although it feels a bit hacky:\n\n```typ\n#show footnote.entry: it => [#par(hanging-indent: 1.41em)[#it]]\n\n#set page(paper: \"a8\", flipped: true)\n\n#lorem(20) #footnote[#lorem(20)]\n```\n\n![grafik|688x484](upload://jobghmbn9qL8lnXaEIXggQothIX.png)\n\n:warning: Playing around with this occasionally crashed my compiler. :person_shrugging:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 86.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 251
    },
    {
      "id": 7280,
      "post_number": 3,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2025-01-07T21:11:39.768Z",
      "updated_at": "2025-01-07T21:15:27.365Z",
      "cooked": "<p>I think you are just looking for the <code>indent</code> parameter of <code>footnote.entry</code> like so (or at least it will be easier to align it with this):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(paper: \"a8\", flipped: true)\n#set footnote.entry(indent: 0em) // or -4pt to align at text.\n\n#lorem(20) #footnote(lorem(20))\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/eb6544752ae709578e3b855f5e6da53e67ceecd1.png\" alt=\"image\" data-base62-sha1=\"xApaxqDwwpKJmzzKnWxiy0VCrap\" width=\"345\" height=\"236\"></p>",
      "raw": "I think you are just looking for the `indent` parameter of `footnote.entry` like so (or at least it will be easier to align it with this):\n```typ\n#set page(paper: \"a8\", flipped: true)\n#set footnote.entry(indent: 0em) // or -4pt to align at text.\n\n#lorem(20) #footnote(lorem(20))\n```\n![image|345x236](upload://xApaxqDwwpKJmzzKnWxiy0VCrap.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 46.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 7286,
      "post_number": 4,
      "username": "Florian",
      "name": "Florian",
      "created_at": "2025-01-08T07:23:16.020Z",
      "updated_at": "2025-01-08T07:23:16.020Z",
      "cooked": "<p>Thanks a lot <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> - that’s indeed a more elegant solution! I didn’t check it because i expected it to shift the hanging indent as well.</p>",
      "raw": "Thanks a lot @xkevio - that's indeed a more elegant solution! I didn't check it because i expected it to shift the hanging indent as well.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 251
    },
    {
      "id": 7298,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-08T17:50:12.851Z",
      "updated_at": "2025-01-08T17:50:12.851Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/florian\">@Florian</a>, welcome and thank you for your question! I have changed your post’s title to bring it in line with the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> and thus make it easier to understand from the title:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>I also added some tags, as they make your question easier to find.</p>",
      "raw": "Hi @Florian, welcome and thank you for your question! I have changed your post’s title to bring it in line with the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) and thus make it easier to understand from the title:\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nI also added some tags, as they make your question easier to find.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 30.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7300,
      "post_number": 6,
      "username": "Florian",
      "name": "Florian",
      "created_at": "2025-01-08T18:02:40.756Z",
      "updated_at": "2025-01-08T18:02:40.756Z",
      "cooked": "<p>Thanks a lot <a class=\"mention\" href=\"/u/sillyfreak\">@SillyFreak</a> <img src=\"https://forum.typst.app/images/emoji/apple/pray.png?v=12\" title=\":pray:\" class=\"emoji\" alt=\":pray:\" loading=\"lazy\" width=\"20\" height=\"20\"> - the next time i’ll try better… <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Thanks a lot @SillyFreak :pray: - the next time i'll try better.. :slight_smile:",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 49.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 251
    }
  ],
  "scraped_at": "2025-06-10T09:53:03.380135"
}
{
  "topic_metadata": {
    "id": 2338,
    "title": "Is it possible to link/import external images from the web into Typst?",
    "slug": "is-it-possible-to-link-import-external-images-from-the-web-into-typst",
    "posts_count": 3,
    "created_at": "2025-01-08T06:16:40.889Z",
    "last_posted_at": "2025-01-08T16:00:30.729Z",
    "views": 198,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "graphics",
      "data-loading"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 86
  },
  "posts": [
    {
      "id": 7285,
      "post_number": 1,
      "username": "neuralpain",
      "name": "neuralpain",
      "created_at": "2025-01-08T06:16:41.083Z",
      "updated_at": "2025-01-08T17:53:46.974Z",
      "cooked": "<p>From the <a href=\"https://typst.app/docs/reference/visualize/image/\"><code>image</code> documentation</a> I didn’t see any mention of importing images from the web, so I just want clarification on whether or not this is possible in Typst. Thanks.</p>",
      "raw": "From the [`image` documentation](https://typst.app/docs/reference/visualize/image/) I didn't see any mention of importing images from the web, so I just want clarification on whether or not this is possible in Typst. Thanks.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 633.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 946
    },
    {
      "id": 7287,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-08T07:51:26.455Z",
      "updated_at": "2025-01-08T07:51:26.455Z",
      "cooked": "<p>Hello! It’s not possible.</p>\n<p>You can check out <a href=\"https://github.com/SillyFreak/typst-prequery\">prequery</a> and its python scripts for automating the import process. I am not aware of other alternative methods.</p>",
      "raw": "Hello! It's not possible.\n\nYou can check out [prequery](https://github.com/SillyFreak/typst-prequery) and its python scripts for automating the import process. I am not aware of other alternative methods.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 23.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7296,
      "post_number": 3,
      "username": "neuralpain",
      "name": "neuralpain",
      "created_at": "2025-01-08T16:00:30.729Z",
      "updated_at": "2025-01-08T16:00:30.729Z",
      "cooked": "<p>Oh okay. Sounds good, I’ll take a look at it and try it out.</p>",
      "raw": "Oh okay. Sounds good, I'll take a look at it and try it out.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 32.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 946
    }
  ],
  "scraped_at": "2025-06-10T09:53:02.649728"
}
{
  "topic_metadata": {
    "id": 2339,
    "title": "How can I rotate based on a value imported from json?",
    "slug": "how-can-i-rotate-based-on-a-value-imported-from-json",
    "posts_count": 4,
    "created_at": "2025-01-08T08:11:46.301Z",
    "last_posted_at": "2025-01-09T11:57:14.240Z",
    "views": 79,
    "like_count": 7,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "mgholam",
    "tags": [
      "data-loading",
      "placement"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 95
  },
  "posts": [
    {
      "id": 7288,
      "post_number": 1,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2025-01-08T08:11:46.453Z",
      "updated_at": "2025-01-08T17:51:25.211Z",
      "cooked": "<p>I would like to rotate based on an imported json value.</p>",
      "raw": "I would like to rotate based on an imported json value.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 35.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 7290,
      "post_number": 2,
      "username": "HPCesia",
      "name": "HPCesia",
      "created_at": "2025-01-08T09:00:55.356Z",
      "updated_at": "2025-01-08T09:14:28.641Z",
      "cooked": "<p>Assume you have a <code>rotate.json</code> with the following content:</p>\n<pre data-code-wrap=\"json\"><code class=\"lang-json\">{\n\"rotate\": 45\n}\n</code></pre>\n<p>In the same directory, you have a <code>.typ</code> file with the following content:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let deg = json(\"rotate.json\").at(\"rotate\") * 1deg\n#rotate(deg, [Foo])\n</code></pre>\n<p>You will achieve the effect as shown in the image:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/f/fb23b94c08c28ac60ffca60bac79f5311845c894.png\" alt=\"image\" data-base62-sha1=\"zPGnKh9W6TDAVZye37fEuX6tgQA\" width=\"301\" height=\"257\"></p>",
      "raw": "Assume you have a `rotate.json` with the following content:\n```json\n{\n\"rotate\": 45\n}\n```\nIn the same directory, you have a `.typ` file with the following content:\n```typ\n#let deg = json(\"rotate.json\").at(\"rotate\") * 1deg\n#rotate(deg, [Foo])\n```\nYou will achieve the effect as shown in the image:\n![image|402x343, 75%](upload://zPGnKh9W6TDAVZye37fEuX6tgQA.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 5,
      "reads": 28,
      "score": 80.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1020
    },
    {
      "id": 7305,
      "post_number": 3,
      "username": "mgholam",
      "name": "mgholam",
      "created_at": "2025-01-09T06:53:40.406Z",
      "updated_at": "2025-01-09T06:53:40.406Z",
      "cooked": "<p>Found a workaround:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">rotate(10deg + 1deg * data.angle, [content])\n</code></pre>\n<p>The key is multiplying by a base value otherwise it complains.</p>",
      "raw": "Found a workaround:\n```typst\nrotate(10deg + 1deg * data.angle, [content])\n```\nThe key is multiplying by a base value otherwise it complains.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 608
    },
    {
      "id": 7312,
      "post_number": 4,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-09T11:57:14.240Z",
      "updated_at": "2025-01-09T11:57:14.240Z",
      "cooked": "<p>That’s exactly what <a class=\"mention\" href=\"/u/hpcesia\">@HPCesia</a> proposed as a solution.</p>",
      "raw": "That's exactly what @HPCesia proposed as a solution.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 20,
      "score": 64.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    }
  ],
  "scraped_at": "2025-06-10T09:53:01.939680"
}
{
  "topic_metadata": {
    "id": 2341,
    "title": "How do I remove an element from an array by its index?",
    "slug": "how-do-i-remove-an-element-from-an-array-by-its-index",
    "posts_count": 3,
    "created_at": "2025-01-08T10:42:36.526Z",
    "last_posted_at": "2025-01-08T12:11:48.972Z",
    "views": 118,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 277
  },
  "posts": [
    {
      "id": 7292,
      "post_number": 1,
      "username": "adama",
      "name": "Adam",
      "created_at": "2025-01-08T10:42:36.652Z",
      "updated_at": "2025-01-08T10:42:36.652Z",
      "cooked": "<p>Hi! First post here, very new to Typst but truly loving it :).</p>\n<p>I was expecting the <code>array.remove()</code> method to return the array without the removed element, but instead it returns the removed element. Is there an alternative method?</p>\n<p>If not, how do I create a method myself? I managed to create a function that does what I want, but not a method for the array type. How do I do that? Could not find anything about that in the docs.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let a = (1,2,3)\n#a.remove(1) // Returns \"2\", I want (1, 3)\n\n#a // Returns (1,3)\n\n#a.filter(x =&gt; x != 2) // Returns (1,3) but filters by content not index.\n\n#let remove-return(array, index) = {\n  array.remove(index)\n  return array\n}\n#let a = (1,2,3)\n#remove-return(a, 1) // Works!\n\n// #a.remove-return(1) // Error: \"type array has no method remove-return\"\n</code></pre>",
      "raw": "Hi! First post here, very new to Typst but truly loving it :).\n\nI was expecting the `array.remove()` method to return the array without the removed element, but instead it returns the removed element. Is there an alternative method?\n\nIf not, how do I create a method myself? I managed to create a function that does what I want, but not a method for the array type. How do I do that? Could not find anything about that in the docs.\n\n```typ\n#let a = (1,2,3)\n#a.remove(1) // Returns \"2\", I want (1, 3)\n\n#a // Returns (1,3)\n\n#a.filter(x => x != 2) // Returns (1,3) but filters by content not index.\n\n#let remove-return(array, index) = {\n  array.remove(index)\n  return array\n}\n#let a = (1,2,3)\n#remove-return(a, 1) // Works!\n\n// #a.remove-return(1) // Error: \"type array has no method remove-return\"\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 426.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1024
    },
    {
      "id": 7294,
      "post_number": 2,
      "username": "HPCesia",
      "name": "HPCesia",
      "created_at": "2025-01-08T11:51:26.254Z",
      "updated_at": "2025-01-08T11:52:40.219Z",
      "cooked": "<p>Just for <code>filter</code> method, you can use method <code>enumerate</code> of <code>array</code> type to get index, for example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let a = (1, 2, 3)\n#a.enumerate().filter(x =&gt; x.at(0) != 1).map(x =&gt; x.at(1)) // This will retrun (1, 3)\n</code></pre>",
      "raw": "Just for `filter` method, you can use method `enumerate` of `array` type to get index, for example:\n```typ\n#let a = (1, 2, 3)\n#a.enumerate().filter(x => x.at(0) != 1).map(x => x.at(1)) // This will retrun (1, 3)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 26.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1020
    },
    {
      "id": 7295,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-08T12:11:48.972Z",
      "updated_at": "2025-01-08T12:12:16.739Z",
      "cooked": "<p>Hello and welcome,</p>\n<blockquote>\n<p>If not, how do I create a method myself?</p>\n</blockquote>\n<p>You cannot create a method yourself in Typst, it should be done in the source code at <a href=\"https://github.com/typst/typst/\" class=\"inline-onebox\">GitHub - typst/typst: A new markup-based typesetting system that is powerful and easy to learn.</a>, see</p>\n<p><a href=\"https://forum.typst.app/t/how-to-add-group-function-to-array-method/1685/2\" class=\"inline-onebox\">How to add group function to Array method? - #2 by LordBaryhobal</a>.</p>\n<p>Best possible result would be</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let a = (1,2,3)\n#let delete(arr, i) = arr.slice(0, i) + arr.slice(i+1)\n\n#delete(a, 0) // (2, 3)\n#delete(a, 1) // (1, 3)\n#delete(a, 2) // (1, 2)\n</code></pre>",
      "raw": "Hello and welcome,\n\n> If not, how do I create a method myself?\n\nYou cannot create a method yourself in Typst, it should be done in the source code at https://github.com/typst/typst/, see \n\nhttps://forum.typst.app/t/how-to-add-group-function-to-array-method/1685/2?u=quachpas.\n\nBest possible result would be\n```typ\n#let a = (1,2,3)\n#let delete(arr, i) = arr.slice(0, i) + arr.slice(i+1)\n\n#delete(a, 0) // (2, 3)\n#delete(a, 1) // (1, 3)\n#delete(a, 2) // (1, 2)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 33,
      "score": 71.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:53:01.226940"
}
{
  "topic_metadata": {
    "id": 2342,
    "title": "How to extend a rectangle across a new page?",
    "slug": "how-to-extend-a-rectangle-across-a-new-page",
    "posts_count": 2,
    "created_at": "2025-01-08T11:01:58.483Z",
    "last_posted_at": "2025-01-09T01:21:05.419Z",
    "views": 114,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 395
  },
  "posts": [
    {
      "id": 7293,
      "post_number": 1,
      "username": "Alex",
      "name": "Alex",
      "created_at": "2025-01-08T11:01:58.732Z",
      "updated_at": "2025-01-08T11:01:58.732Z",
      "cooked": "<p>Hello everyone,</p>\n<p>I’m working on a personal project where I’m building an index and positioning a rectangle along the edge of the page. Here’s the code I’ve written so far:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let fullindex() = context{\n  \n  // page number and alignement based on oddity \n  let page_number = utils._page.get().first() \n  let page_alignment = utils.get_footer_alignemnt()\n  \n  set page(...) // a6 format\n...\n  // position of the rectangle based on alignment. Here \"index\" refer to rect along the page\n  let position = utils.get_rectangle_position(\"index\", page_alignment)\n  place(constant.rectangle,dx : position.dx, dy : position.dy, page_alignment)\n\n  ...\n}\n\n</code></pre>\n<p>The issue arises when the index becomes too long and overflows onto a new page. In this case, I can’t figure out how to extend the rectangle to the new page and align it properly.</p>\n<p>Here’s an example where rect should be on the right of the page<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e9a779d868b68bd24953a9305ef789a58d960a48.png\" data-download-href=\"https://forum.typst.app/uploads/default/e9a779d868b68bd24953a9305ef789a58d960a48\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/e9a779d868b68bd24953a9305ef789a58d960a48_2_196x250.png\" alt=\"image\" data-base62-sha1=\"xl046tsTBO167662z6etBL87QCs\" width=\"196\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/e9a779d868b68bd24953a9305ef789a58d960a48_2_196x250.png, https://forum.typst.app/uploads/default/optimized/2X/e/e9a779d868b68bd24953a9305ef789a58d960a48_2_294x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/e/e9a779d868b68bd24953a9305ef789a58d960a48_2_392x500.png 2x\" data-dominant-color=\"F0F1F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">680×863 105 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>How can I ensure the rectangle continues on subsequent pages and remains aligned correctly?</p>\n<p>For more insight you can check the project here (Warning it is quite big) :<br>\n<a href=\"https://typst.app/project/rKVgshBN8cbSlquzx4diaG\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rKVgshBN8cbSlquzx4diaG</a></p>\n<ul>\n<li>Relevant files are :\n<ul>\n<li>main.typ</li>\n<li>format/index_format.typ</li>\n</ul>\n</li>\n</ul>\n<p>Thanks in advance for your help!</p>",
      "raw": "Hello everyone,\n\nI’m working on a personal project where I’m building an index and positioning a rectangle along the edge of the page. Here’s the code I’ve written so far:\n\n```typst\n#let fullindex() = context{\n  \n  // page number and alignement based on oddity \n  let page_number = utils._page.get().first() \n  let page_alignment = utils.get_footer_alignemnt()\n  \n  set page(...) // a6 format\n...\n  // position of the rectangle based on alignment. Here \"index\" refer to rect along the page\n  let position = utils.get_rectangle_position(\"index\", page_alignment)\n  place(constant.rectangle,dx : position.dx, dy : position.dy, page_alignment)\n\n  ...\n}\n\n```\nThe issue arises when the index becomes too long and overflows onto a new page. In this case, I can’t figure out how to extend the rectangle to the new page and align it properly.\n\nHere's an example where rect should be on the right of the page\n![image|393x500, 50%](upload://xl046tsTBO167662z6etBL87QCs.png)\n\n\nHow can I ensure the rectangle continues on subsequent pages and remains aligned correctly?\n\nFor more insight you can check the project here (Warning it is quite big) : \nhttps://typst.app/project/rKVgshBN8cbSlquzx4diaG\n\n- Relevant files are : \n   - main.typ\n   - format/index_format.typ \n\n\nThanks in advance for your help!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 331.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 987
    },
    {
      "id": 7303,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-01-09T01:21:05.419Z",
      "updated_at": "2025-01-09T01:21:05.419Z",
      "cooked": "<p>You can put the <code>place()</code> function in the <code>page.background</code> to get absolute positioning on the page. This is documented in the summary of the function <code>place()</code> <a href=\"https://typst.app/docs/reference/layout/place/#summary\">here</a>.</p>\n<p>Moving the black rectangle to the left or right side of the page is then only a matter of grabbing the page number to check whether it is even or odd. You already did this in your code but I couldn’t see if this works since you only have one page in your example.</p>\n<p>If you use the following set rule inside your function <code>fullindex()</code> you should get the correct placement of the black rectangle:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  paper: \"a6\",\n  margin: (inside: 20pt, outside: 30pt),\n  background: context {\n    let (page, ..) = counter(page).get()\n    place(if calc.even(page) { right } else { left }, rect(width: 1em, fill: black, height: 100%))\n  }\n)\n</code></pre>\n<p>I also created a minimal example project to showcase the set rule <a href=\"https://typst.app/project/rRW9906u39YdFXyreugfgc\">here</a>.</p>\n<p>And a general note regarding your example project. Since you already included a warning about the size of the project, this could have been a hint for you to create a <em>minimal</em> example project that only reproduces your issue instead.</p>",
      "raw": "You can put the `place()` function in the `page.background` to get absolute positioning on the page. This is documented in the summary of the function `place()` [here](https://typst.app/docs/reference/layout/place/#summary).\n\nMoving the black rectangle to the left or right side of the page is then only a matter of grabbing the page number to check whether it is even or odd. You already did this in your code but I couldn't see if this works since you only have one page in your example.\n\nIf you use the following set rule inside your function `fullindex()` you should get the correct placement of the black rectangle:\n```typ\n#set page(\n  paper: \"a6\",\n  margin: (inside: 20pt, outside: 30pt),\n  background: context {\n    let (page, ..) = counter(page).get()\n    place(if calc.even(page) { right } else { left }, rect(width: 1em, fill: black, height: 100%))\n  }\n)\n```\n\nI also created a minimal example project to showcase the set rule [here](https://typst.app/project/rRW9906u39YdFXyreugfgc).\n\nAnd a general note regarding your example project. Since you already included a warning about the size of the project, this could have been a hint for you to create a _minimal_ example project that only reproduces your issue instead.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 60.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:53:00.448760"
}
{
  "topic_metadata": {
    "id": 2343,
    "title": "Why do I get error messages with template function arguments?",
    "slug": "why-do-i-get-error-messages-with-template-function-arguments",
    "posts_count": 3,
    "created_at": "2025-01-08T17:19:10.592Z",
    "last_posted_at": "2025-01-17T14:04:35.480Z",
    "views": 189,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "scripting",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 437
  },
  "posts": [
    {
      "id": 7297,
      "post_number": 1,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-01-08T17:19:10.764Z",
      "updated_at": "2025-01-17T14:02:55.326Z",
      "cooked": "<p>Hello fellow Typst users!</p>\n<p>I’m in the process of replicating my faculty’s Master thesis template from overleaf in Typst (I plan to use it and make it available to colleagues).</p>\n<p>I’m trying to wrap the document in a template function as suggested in <a href=\"https://typst.app/docs/tutorial/making-a-template/\">Making a Template</a>. This would be in a separate file, with multiple arguments for the fill-in info:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let template(\n  thesis_title: [Insert the title of the dissertation],\n  thesis_author: [Author’s name, Arial Plain, 18],\n  //course_name: [Course’s Name, Arial Plain, 12],\n  department: [Department, Arial Plain, 10],\n  faculty: [Faculty, Arial Plain, 10],\n  year: [Year],\n  thesis_type: [Dissertation carried out as part of\nthe [course's name], Arial Plain, 12],\n  supervisor: [Supervisor’s Name, Category, Institution],\n  co-supervisor: [Supervisor’s Name, Category, Institution],\n  ext-supervisor: [Name, Professional status, Company’s name],\n  doc\n) = {\n//function\ndoc \n}\n</code></pre>\n<p>And I’m importing the file and calling the function as:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show: template.with(\n  thesis_title: [title],\n  …\n  ext-supervisor: [name])\n</code></pre>\n<p>at the top of the document. However, no matter what argument order or type (named/positional) I use, the compiler cycles through errors like “Unexpected argument”, “[argument] is positional”, etc.</p>\n<p>If I remove all arguments from the function call, sometimes it starts working again, but as soon as I have 4 or 5 in, it begins again.</p>\n<p>Am I doing something wrong?</p>",
      "raw": "Hello fellow Typst users!\n\nI'm in the process of replicating my faculty's Master thesis template from overleaf in Typst (I plan to use it and make it available to colleagues).\n\nI'm trying to wrap the document in a template function as suggested in [Making a Template](https://typst.app/docs/tutorial/making-a-template/). This would be in a separate file, with multiple arguments for the fill-in info:\n```typst\n#let template(\n  thesis_title: [Insert the title of the dissertation],\n  thesis_author: [Author’s name, Arial Plain, 18],\n  //course_name: [Course’s Name, Arial Plain, 12],\n  department: [Department, Arial Plain, 10],\n  faculty: [Faculty, Arial Plain, 10],\n  year: [Year],\n  thesis_type: [Dissertation carried out as part of\nthe [course's name], Arial Plain, 12],\n  supervisor: [Supervisor’s Name, Category, Institution],\n  co-supervisor: [Supervisor’s Name, Category, Institution],\n  ext-supervisor: [Name, Professional status, Company’s name],\n  doc\n) = {\n//function\ndoc \n}\n```\nAnd I'm importing the file and calling the function as:\n```typst\n#show: template.with(\n  thesis_title: [title],\n  …\n  ext-supervisor: [name])\n```\nat the top of the document. However, no matter what argument order or type (named/positional) I use, the compiler cycles through errors like \"Unexpected argument\", \"[argument] is positional\", etc.\n\nIf I remove all arguments from the function call, sometimes it starts working again, but as soon as I have 4 or 5 in, it begins again.\n\nAm I doing something wrong?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 696.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 7299,
      "post_number": 2,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-08T18:01:16.618Z",
      "updated_at": "2025-01-08T18:01:16.618Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mezzogallium\">@mezzogallium</a>, could you maybe try to revise your post’s title to be a complete question as per the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a>:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>We hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!</p>\n<hr>\n<p>Now to the question; I pasted your code into a new Typst documents (same file, but that shouldn’t make a difference) and didn’t get any errors, even, when adding named arguments (the ones that your template expects) to the call. So the error is likely with the specific parameters you provided or in the template function.</p>\n<p>You should try to minify your problem until before it disappears: what parameters can you remove so that the error remains? What parts of the template function can you remove without the error disappearing?</p>\n<p>As a last resort, you can just post the code with errors present, but the less code is necessary to demonstrate the problem, the better.</p>",
      "raw": "Hi @mezzogallium, could you maybe try to revise your post’s title to be a complete question as per the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11):\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nWe hope by adhering to this, we make the information in this forum easy to find in the future. Thanks!\n\n---\n\nNow to the question; I pasted your code into a new Typst documents (same file, but that shouldn't make a difference) and didn't get any errors, even, when adding named arguments (the ones that your template expects) to the call. So the error is likely with the specific parameters you provided or in the template function.\n\nYou should try to minify your problem until before it disappears: what parameters can you remove so that the error remains? What parts of the template function can you remove without the error disappearing?\n\nAs a last resort, you can just post the code with errors present, but the less code is necessary to demonstrate the problem, the better.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 31.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 7608,
      "post_number": 3,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-01-17T14:04:35.480Z",
      "updated_at": "2025-01-17T14:05:16.706Z",
      "cooked": "<p>Thank you for the tips. I removed all the arguments and re-added them one by one and the errors stopped, so now everything’s working.</p>",
      "raw": "Thank you for the tips. I removed all the arguments and re-added them one by one and the errors stopped, so now everything's working.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    }
  ],
  "scraped_at": "2025-06-10T09:52:59.728047"
}
{
  "topic_metadata": {
    "id": 2344,
    "title": "Is Typst planning to support WebP as image format?",
    "slug": "is-typst-planning-to-support-webp-as-image-format",
    "posts_count": 7,
    "created_at": "2025-01-08T22:45:57.759Z",
    "last_posted_at": "2025-01-10T19:10:16.564Z",
    "views": 282,
    "like_count": 6,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "images"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 190
  },
  "posts": [
    {
      "id": 7301,
      "post_number": 1,
      "username": "JosiNeto",
      "name": "Josí Neto",
      "created_at": "2025-01-08T22:45:57.883Z",
      "updated_at": "2025-01-09T07:58:32.662Z",
      "cooked": "<p>Hi! <a href=\"https://en.wikipedia.org/wiki/WebP\" rel=\"noopener nofollow ugc\">WebP</a> is an image format very well suited for archival purposes, because it supports both lossless and lossy compression, as well as alpha transparency. So, I’d like to know: are there any plans to support it in Typst?</p>",
      "raw": "Hi! [WebP](https://en.wikipedia.org/wiki/WebP) is an image format very well suited for archival purposes, because it supports both lossless and lossy compression, as well as alpha transparency. So, I'd like to know: are there any plans to support it in Typst?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 63,
      "score": 492.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 376
    },
    {
      "id": 7306,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-09T07:58:20.607Z",
      "updated_at": "2025-01-09T07:58:50.018Z",
      "cooked": "<p>No, the plan is to support is through the plugin system instead of having it built-in.</p>\n<aside class=\"onebox githubpullrequest\" data-onebox-src=\"https://github.com/typst/typst/pull/2925#issuecomment-1875075352\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/pull/2925#issuecomment-1875075352\" target=\"_blank\" rel=\"noopener\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\" data-github-private-repo=\"false\">\n\n    <div class=\"github-icon-container\" title=\"Comment\">\n      <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 16 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z\"></path></svg>\n    </div>\n\n\n\n  <div class=\"github-info-container\">\n\n      <h4>\n        Comment by\n        <a href=\"https://github.com/laurmaedje\" target=\"_blank\" rel=\"noopener\">\n          <img alt=\"laurmaedje\" src=\"https://forum.typst.app/uploads/default/original/1X/3b88c54990118ecee7cb84cd4457a755764ea442.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"2A2C27\">\n          laurmaedje\n        </a> - <a href=\"https://github.com/typst/typst/pull/2925#issuecomment-1875075352\" target=\"_blank\" rel=\"noopener\">Adding WebP support</a>\n      </h4>\n\n\n\n    <div class=\"branches\">\n      <code>typst:main</code> ← <code>Conando025:main</code>\n    </div>\n\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">&gt; I'm leaning towards instead using the plugin system to add more image formats.<span class=\"show-more-container\"><a href=\"https://github.com/typst/typst/pull/2925\" target=\"_blank\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">\n\nSince there were no further arguments in favor of having it built-in and I agree with this, I'm gonna go ahead and close this.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "No, the plan is to support is through the plugin system instead of having it built-in.\n\nhttps://github.com/typst/typst/pull/2925#issuecomment-1875075352",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 62,
      "score": 57.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7313,
      "post_number": 3,
      "username": "JosiNeto",
      "name": "Josí Neto",
      "created_at": "2025-01-09T13:05:43.562Z",
      "updated_at": "2025-01-09T13:05:43.562Z",
      "cooked": "<p>Oh, it’s sad, but at least is viable… thank you for answering!</p>",
      "raw": "Oh, it's sad, but at least is viable... thank you for answering!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 26.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 376
    },
    {
      "id": 7319,
      "post_number": 4,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-09T15:46:43.590Z",
      "updated_at": "2025-01-09T15:47:42.510Z",
      "cooked": "<p>A community member, <a class=\"mention\" href=\"/u/frozolotl\">@frozolotl</a> is currently hard at work to create a new API in Typst which makes it easier to write plugins for additional image formats. According to their <a href=\"https://www.youtube.com/watch?v=rmjXkiXrASg\">talk</a>, they have a prototype that supports, among other image formats, WebP. So support for WebP might be just around the corner.</p>",
      "raw": "A community member, @frozolotl is currently hard at work to create a new API in Typst which makes it easier to write plugins for additional image formats. According to their [talk](https://www.youtube.com/watch?v=rmjXkiXrASg), they have a prototype that supports, among other image formats, WebP. So support for WebP might be just around the corner.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 4,
      "reads": 55,
      "score": 91.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 7371,
      "post_number": 5,
      "username": "NNS",
      "name": "Nikolai Neff-Sarnow",
      "created_at": "2025-01-10T12:53:09.475Z",
      "updated_at": "2025-01-10T12:53:09.475Z",
      "cooked": "<p>There are already plugins available, e.g. <a href=\"https://typst.app/universe/package/grayness/\" class=\"inline-onebox\">grayness – Typst Universe</a> can work with webp.</p>",
      "raw": "There are already plugins available, e.g. https://typst.app/universe/package/grayness/ can work with webp.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 49,
      "score": 44.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 754
    },
    {
      "id": 7372,
      "post_number": 6,
      "username": "JosiNeto",
      "name": "Josí Neto",
      "created_at": "2025-01-10T15:58:37.419Z",
      "updated_at": "2025-01-10T15:58:37.419Z",
      "cooked": "<p>Thank you! It’s a bit convoluted though…</p>",
      "raw": "Thank you! It's a bit convoluted though...",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 376
    },
    {
      "id": 7376,
      "post_number": 7,
      "username": "NNS",
      "name": "Nikolai Neff-Sarnow",
      "created_at": "2025-01-10T19:10:16.564Z",
      "updated_at": "2025-01-10T19:10:16.564Z",
      "cooked": "<p>yes I know, unfortunately it’s currently not possible to be simpler. This might change with the coming typst versions though.</p>",
      "raw": "yes I know, unfortunately it's currently not possible to be simpler. This might change with the coming typst versions though.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 754
    }
  ],
  "scraped_at": "2025-06-10T09:52:58.981241"
}
{
  "topic_metadata": {
    "id": 2349,
    "title": "How to have different text shown in figure caption and in outline?",
    "slug": "how-to-have-different-text-shown-in-figure-caption-and-in-outline",
    "posts_count": 3,
    "created_at": "2025-01-09T11:40:55.942Z",
    "last_posted_at": "2025-01-09T15:31:53.769Z",
    "views": 335,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "flokl",
    "tags": [
      "outline"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 333
  },
  "posts": [
    {
      "id": 7311,
      "post_number": 1,
      "username": "Timo",
      "name": "Timo",
      "created_at": "2025-01-09T11:40:56.039Z",
      "updated_at": "2025-01-12T18:19:47.350Z",
      "cooked": "<p>Hello,</p>\n<p>I am currently writing a paper where I need an outline for my images. I have used the following code below to achieve this. What I need now is to either customize the text that will be shown in the outline or that I can remove content based on the pattern. I have to show the source in the caption, but don’t want this to be shown in the outline.</p>\n<pre><code class=\"lang-auto\">#outline(\n   target: figure.where(kind: image)\n)\n\n#figure(\n   caption: \"This is my caption - Source xyz\",\n   image(\"test.jpg\")\n)\n</code></pre>\n<p>Did any of you had this problem before?</p>\n<p>Best regards,<br>\nTimo</p>",
      "raw": "Hello,\n\nI am currently writing a paper where I need an outline for my images. I have used the following code below to achieve this. What I need now is to either customize the text that will be shown in the outline or that I can remove content based on the pattern. I have to show the source in the caption, but don't want this to be shown in the outline.\n\n```\n#outline(\n   target: figure.where(kind: image)\n)\n\n#figure(\n   caption: \"This is my caption - Source xyz\",\n   image(\"test.jpg\")\n)\n```\n\nDid any of you had this problem before?\n\nBest regards,\nTimo",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 1350.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 130
    },
    {
      "id": 7314,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-01-09T13:30:27.676Z",
      "updated_at": "2025-01-09T13:30:27.676Z",
      "cooked": "<p>Are you using the function <code>cite()</code> to add the sources to your figure captions? If that is the case, you could use an empty show rule inside the outline entries to hide the citations.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show cite: it =&gt; [ \\- Source #it]\n\n#show outline.where(target: figure.where(kind: image)): it =&gt; {\n  show outline.entry: it =&gt; {\n    show cite: it =&gt; { }\n    it\n  }\n  it\n}\n\n#figure(\n  box(stroke: black, inset: 10pt)[some image.png],\n  caption: [This is my caption #cite(&lt;hh2010a&gt;)]\n)\n\n#outline(target: figure.where(kind: image))\n\n// .bib file from https://wiki.contextgarden.net/Sample_bib\n#bibliography(\"refs.bib\")\n</code></pre>\n<p>I created an example project <a href=\"https://typst.app/project/rBIEgKPKcKuoql0DJ5VF5E\">here</a> if you want to check the content of each <code>it</code> in the different show rules.</p>",
      "raw": "Are you using the function `cite()` to add the sources to your figure captions? If that is the case, you could use an empty show rule inside the outline entries to hide the citations.\n```typ\n#show cite: it => [ \\- Source #it]\n\n#show outline.where(target: figure.where(kind: image)): it => {\n  show outline.entry: it => {\n    show cite: it => { }\n    it\n  }\n  it\n}\n\n#figure(\n  box(stroke: black, inset: 10pt)[some image.png],\n  caption: [This is my caption #cite(<hh2010a>)]\n)\n\n#outline(target: figure.where(kind: image))\n\n// .bib file from https://wiki.contextgarden.net/Sample_bib\n#bibliography(\"refs.bib\")\n```\n\nI created an example project [here](https://typst.app/project/rBIEgKPKcKuoql0DJ5VF5E) if you want to check the content of each `it` in the different show rules.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 104.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 7318,
      "post_number": 3,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-09T15:31:53.769Z",
      "updated_at": "2025-01-09T15:31:53.769Z",
      "cooked": "<p>As an alternative, you can fully customize the text that will be shown in the outline with the following code which is taken from the <a href=\"https://sitandr.github.io/typst-examples-book/book/snippets/chapters/outlines.html#long-and-short-captions-for-the-outline\">Typst Examples Book</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let in-outline = state(\"in-outline\", false)\n#show outline: it =&gt; {\n  in-outline.update(true)\n  it\n  in-outline.update(false)\n}\n\n#let flex-caption(long, short) = context if in-outline.get() { short } else { long }\n\n// And this is in the document.\n#outline(title: [Figures], target: figure)\n\n#figure(\n  rect(),\n  caption: flex-caption(\n    [This is my long caption text in the document.],\n    [This is short],\n  )\n)\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f0803dd6a0d11f1eba483466249bda9dadb3137b.png\" data-download-href=\"https://forum.typst.app/uploads/default/f0803dd6a0d11f1eba483466249bda9dadb3137b\" title=\"test\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/f0803dd6a0d11f1eba483466249bda9dadb3137b_2_690x260.png\" alt=\"test\" data-base62-sha1=\"yjzlEe8dRaP3T0srFearyaFx78D\" width=\"690\" height=\"260\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/f0803dd6a0d11f1eba483466249bda9dadb3137b_2_690x260.png, https://forum.typst.app/uploads/default/optimized/2X/f/f0803dd6a0d11f1eba483466249bda9dadb3137b_2_1035x390.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/f0803dd6a0d11f1eba483466249bda9dadb3137b.png 2x\" data-dominant-color=\"FDFDFD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">test</span><span class=\"informations\">1191×449 48.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "As an alternative, you can fully customize the text that will be shown in the outline with the following code which is taken from the [Typst Examples Book](https://sitandr.github.io/typst-examples-book/book/snippets/chapters/outlines.html#long-and-short-captions-for-the-outline).\n```typ\n#let in-outline = state(\"in-outline\", false)\n#show outline: it => {\n  in-outline.update(true)\n  it\n  in-outline.update(false)\n}\n\n#let flex-caption(long, short) = context if in-outline.get() { short } else { long }\n\n// And this is in the document.\n#outline(title: [Figures], target: figure)\n\n#figure(\n  rect(),\n  caption: flex-caption(\n    [This is my long caption text in the document.],\n    [This is short],\n  )\n)\n```\n\n[details=\"Output\"]\n![test|690x260](upload://yjzlEe8dRaP3T0srFearyaFx78D.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 38.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:52:58.252025"
}
{
  "topic_metadata": {
    "id": 2358,
    "title": "App page cannot open with chrome or edge(win7 false,win11 ok)",
    "slug": "app-page-cannot-open-with-chrome-or-edge-win7-false-win11-ok",
    "posts_count": 4,
    "created_at": "2025-01-10T08:17:50.161Z",
    "last_posted_at": "2025-01-30T09:50:06.772Z",
    "views": 112,
    "like_count": 1,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "web-app"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 218
  },
  "posts": [
    {
      "id": 7363,
      "post_number": 1,
      "username": "gejihu",
      "name": "gejihu",
      "created_at": "2025-01-10T08:17:50.252Z",
      "updated_at": "2025-01-10T09:54:27.722Z",
      "cooked": "<p>Typst app page cannot open with win7 chrome or edge(win7 false,win11 ok).</p>",
      "raw": "Typst app page cannot open with win7 chrome or edge(win7 false,win11 ok).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 85.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1029
    },
    {
      "id": 7365,
      "post_number": 2,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-01-10T08:49:16.847Z",
      "updated_at": "2025-01-10T08:49:16.847Z",
      "cooked": "<p>Which browser version are you using and are there an errors in the browser console (F12)?</p>",
      "raw": "Which browser version are you using and are there an errors in the browser console (F12)?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 7428,
      "post_number": 3,
      "username": "gejihu",
      "name": "gejihu",
      "created_at": "2025-01-13T07:52:52.448Z",
      "updated_at": "2025-01-13T07:52:52.448Z",
      "cooked": "<p>Microsoft Edge 109.0.1518.140</p>\n<p>errors:<br>\nindex-CUVG8zzK.js:1349<br>\nUncaught TypeError: [{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},(intermediate value)(intermediate value)(intermediate value),(intermediate value)(intermediate value)(intermediate value)].filter(…).toSorted is not a function<br>\nat ZJe (index-CUVG8zzK.js:1349:29889)<br>\nat xT (index-CUVG8zzK.js:94:19552)<br>\nat bz (index-CUVG8zzK.js:96:44091)<br>\nat Cz (index-CUVG8zzK.js:96:39809)<br>\nat $me (index-CUVG8zzK.js:96:39735)<br>\nat n4 (index-CUVG8zzK.js:96:39585)<br>\nat Ib (index-CUVG8zzK.js:96:35947)<br>\nat vz (index-CUVG8zzK.js:96:34894)<br>\nat O (index-CUVG8zzK.js:81:1623)<br>\nat MessagePort.X (index-CUVG8zzK.js:81:1998)</p>",
      "raw": "Microsoft Edge 109.0.1518.140\n\nerrors:\nindex-CUVG8zzK.js:1349     \nUncaught TypeError: [{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},{(intermediate value)(intermediate value)(intermediate value)(intermediate value)(intermediate value)},(intermediate value)(intermediate value)(intermediate value),(intermediate value)(intermediate value)(intermediate value)].filter(...).toSorted is not a function\n    at ZJe (index-CUVG8zzK.js:1349:29889)\n    at xT (index-CUVG8zzK.js:94:19552)\n    at bz (index-CUVG8zzK.js:96:44091)\n    at Cz (index-CUVG8zzK.js:96:39809)\n    at $me (index-CUVG8zzK.js:96:39735)\n    at n4 (index-CUVG8zzK.js:96:39585)\n    at Ib (index-CUVG8zzK.js:96:35947)\n    at vz (index-CUVG8zzK.js:96:34894)\n    at O (index-CUVG8zzK.js:81:1623)\n    at MessagePort.X (index-CUVG8zzK.js:81:1998)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1029
    },
    {
      "id": 8009,
      "post_number": 4,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-01-30T09:50:06.772Z",
      "updated_at": "2025-01-30T09:50:06.772Z",
      "cooked": "<p>The problem was that the Typst app used functionality not present in Microsoft Edge 109 (which was released on 07.12.2022).</p>\n<p>I deployed an update to the app to circumvent this (it will take some time until it’s available).</p>\n<p>However, I would also strongly recommend you to update your browser, also for security reasons.</p>",
      "raw": "The problem was that the Typst app used functionality not present in Microsoft Edge 109 (which was released on 07.12.2022).\n\nI deployed an update to the app to circumvent this (it will take some time until it's available).\n\nHowever, I would also strongly recommend you to update your browser, also for security reasons.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 18.6,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    }
  ],
  "scraped_at": "2025-06-10T09:52:57.532493"
}
{
  "topic_metadata": {
    "id": 2361,
    "title": "Can I use variables in .bib?",
    "slug": "can-i-use-variables-in-bib",
    "posts_count": 3,
    "created_at": "2025-01-10T09:29:37.449Z",
    "last_posted_at": "2025-01-10T12:48:54.449Z",
    "views": 91,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "literature",
      "bibtex"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 270
  },
  "posts": [
    {
      "id": 7367,
      "post_number": 1,
      "username": "Ariel",
      "name": "Ariel",
      "created_at": "2025-01-10T09:29:37.607Z",
      "updated_at": "2025-02-05T14:56:11.424Z",
      "cooked": "<p>I major in mathematics and I have to deal with bibliographies with math equations in their titles.  For convenience I would like to use variables in bibliography. The following simple way doesn’t work:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// in testbib.bib\n@article{Test2025,\n  author = {Author},\n  title = {$Area(x^2+y^2&lt;1)=pi$},\n  year = 2025, \n}\n\n// in testtyp.typ\n\n#let Area = math.op(\"Area\")\n\n@Test2025 $ Area(x^2+y^2&lt;1)=pi$ \n\n#bibliography(\"testbib.bib\")\n</code></pre>\n<p>And the output looks like</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/0/0ed536637bc15073f31532b9bb6ffd9b29d0cde2.png\" alt=\"\" data-base62-sha1=\"27duoc8ZmBfjCU04rHdRcDFB6Aa\" width=\"387\" height=\"142\" role=\"presentation\"></p>\n<p>Although I can manually set show rules or edit the entries of .bib file, there are lots of bibliographies to deal with and the same problem occurs to other custom math operators.</p>\n<p>Anyone has any suggestions about this? Thanks.</p>",
      "raw": "I major in mathematics and I have to deal with bibliographies with math equations in their titles.  For convenience I would like to use variables in bibliography. The following simple way doesn't work:\n```typst\n// in testbib.bib\n@article{Test2025,\n  author = {Author},\n  title = {$Area(x^2+y^2<1)=pi$},\n  year = 2025, \n}\n\n// in testtyp.typ\n\n#let Area = math.op(\"Area\")\n\n@Test2025 $ Area(x^2+y^2<1)=pi$ \n\n#bibliography(\"testbib.bib\")\n```\n\nAnd the output looks like\n\n ![|387x142](upload://27duoc8ZmBfjCU04rHdRcDFB6Aa.png)\n\nAlthough I can manually set show rules or edit the entries of .bib file, there are lots of bibliographies to deal with and the same problem occurs to other custom math operators.\n\nAnyone has any suggestions about this? Thanks.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 85.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1030
    },
    {
      "id": 7369,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-10T09:53:33.657Z",
      "updated_at": "2025-01-10T12:50:57.303Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/ariel\">@Ariel</a> and welcome!<br>\nI moved your post to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\">. Please edit your topic’s title to be a question, and add relevant tags.</p>\n<aside class=\"quote no-group\" data-username=\"reknih\" data-post=\"1\" data-topic=\"11\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/reknih/48/3_2.png\" class=\"avatar\"><a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11/1\">How to post in the Questions category</a></div>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n</aside>\n<p>Two things for bib variables:</p>\n<ul>\n<li>You need to escape the delimiters, e.g., `, (or any other for that matter, as long as you change your detection in Typst</li>\n<li>You can use <a href=\"https://typst.app/docs/reference/foundations/eval/\">eval</a></li>\n</ul>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/ff774f28d3db62dceadc6697a64fcf5a2c4120d1.png\" alt=\"image\" data-base62-sha1=\"ArXnaOP40R5qQFydYtZt3JX3BkJ\" width=\"416\" height=\"150\"></p>\n<h2><a name=\"p-7369-testbib-1\" class=\"anchor\" href=\"#p-7369-testbib-1\"></a>test.bib</h2>\n<pre data-code-wrap=\"bib\"><code class=\"lang-bib\">@article{Test2025,\n  author = {Author},\n  title = {\\$Area(x^2+y^2&lt;1)=pi\\$},\n  year = 2025, \n}\n</code></pre>\n<h2><a name=\"p-7369-testtyp-2\" class=\"anchor\" href=\"#p-7369-testtyp-2\"></a>test.typ</h2>\n<p>Notice I scope the show rule to avoid it causing issues elsewhere.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">@Test2025\n#let Area = \"Area\"\n#{\n    show regex(`\\$(.*)\\.text): it =&gt; {\n      eval(it.text.slice(1, -1), mode: \"math\", scope: (\n        Area: $Area$,\n      ))\n    }\n    bibliography(\"test.bib\")\n}\n</code></pre>",
      "raw": "Hello @Ariel and welcome!\nI moved your post to the #questions category :smiley:. Please edit your topic's title to be a question, and add relevant tags.\n\n[quote=\"reknih, post:1, topic:11\"]\n**Good titles are questions you would ask your friend about Typst.**\n[/quote]\n\n\nTwo things for bib variables:\n- You need to escape the delimiters, e.g., `\\, (or any other for that matter, as long as you change your detection in Typst\n- You can use [eval](https://typst.app/docs/reference/foundations/eval/)\n\n![image|416x150](upload://ArXnaOP40R5qQFydYtZt3JX3BkJ.png)\n## test.bib\n```bib\n@article{Test2025,\n  author = {Author},\n  title = {\\$Area(x^2+y^2<1)=pi\\$},\n  year = 2025, \n}\n```\n\n## test.typ\n\nNotice I scope the show rule to avoid it causing issues elsewhere.\n```typ\n@Test2025\n#let Area = \"Area\"\n#{\n    show regex(`\\$(.*)\\.text): it => {\n      eval(it.text.slice(1, -1), mode: \"math\", scope: (\n        Area: $Area$,\n      ))\n    }\n    bibliography(\"test.bib\")\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 45.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7370,
      "post_number": 3,
      "username": "Ariel",
      "name": "Ariel",
      "created_at": "2025-01-10T12:48:54.449Z",
      "updated_at": "2025-01-10T12:48:54.449Z",
      "cooked": "<p>This works for me. Thank you very much.</p>",
      "raw": "This works for me. Thank you very much.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1030
    }
  ],
  "scraped_at": "2025-06-10T09:52:56.801747"
}
{
  "topic_metadata": {
    "id": 2364,
    "title": "Why do Greek letters appear bold in New Computer Modern Math sans?",
    "slug": "why-do-greek-letters-appear-bold-in-new-computer-modern-math-sans",
    "posts_count": 3,
    "created_at": "2025-01-10T19:26:40.872Z",
    "last_posted_at": "2025-01-10T20:37:32.645Z",
    "views": 160,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout",
      "math"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 381
  },
  "posts": [
    {
      "id": 7377,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-10T19:26:41.027Z",
      "updated_at": "2025-01-10T19:26:41.027Z",
      "cooked": "<p>Hello everyone,</p>\n<p>I’m currently using the <em>New Computer Modern Math</em> font in Typst and would like to work with its sans-serif variant. It renders beautifully for most mathematical symbols, but I’ve noticed that Greek letters consistently appear bold (please see the attached image for reference).</p>\n<p><a href=\"https://typst.app/project/rAFjNFWwrA5SBU4dtPXfN2\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rAFjNFWwrA5SBU4dtPXfN2</a></p>\n<p>Is there a recommended way to adjust this behavior, or would it be best to contact the font’s author directly? I’m open to any suggestions or workarounds you might have.</p>\n<p>LaTeX Result (with cmbright)<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9.png\" data-download-href=\"https://forum.typst.app/uploads/default/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9_2_690x135.png\" alt=\"image\" data-base62-sha1=\"uUB8CFfyd0UZE6S48sHTNwGpCY1\" width=\"690\" height=\"135\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9_2_690x135.png, https://forum.typst.app/uploads/default/optimized/2X/d/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9_2_1035x202.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/d/d8a7190c20a1f31605bbc1de4c9f60b5053f45b9_2_1380x270.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">2850×558 131 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Typst Result (with New Computer Modern Math Sans)<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/87a29ed86327545137bafa78f3fca3aa26df81fd.png\" data-download-href=\"https://forum.typst.app/uploads/default/87a29ed86327545137bafa78f3fca3aa26df81fd\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/87a29ed86327545137bafa78f3fca3aa26df81fd_2_690x189.png\" alt=\"image\" data-base62-sha1=\"jlSS1hGD6o0kglpR8wgv7N6QnnL\" width=\"690\" height=\"189\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/87a29ed86327545137bafa78f3fca3aa26df81fd_2_690x189.png, https://forum.typst.app/uploads/default/optimized/2X/8/87a29ed86327545137bafa78f3fca3aa26df81fd_2_1035x283.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/8/87a29ed86327545137bafa78f3fca3aa26df81fd_2_1380x378.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1482×408 62.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Thank you in advance for your help!</p>",
      "raw": "Hello everyone,\n\nI’m currently using the *New Computer Modern Math* font in Typst and would like to work with its sans-serif variant. It renders beautifully for most mathematical symbols, but I’ve noticed that Greek letters consistently appear bold (please see the attached image for reference).\n\nhttps://typst.app/project/rAFjNFWwrA5SBU4dtPXfN2\n\nIs there a recommended way to adjust this behavior, or would it be best to contact the font’s author directly? I’m open to any suggestions or workarounds you might have.\n\nLaTeX Result (with cmbright)\n![image|690x135](upload://uUB8CFfyd0UZE6S48sHTNwGpCY1.png)\n\nTypst Result (with New Computer Modern Math Sans)\n![image|690x189](upload://jlSS1hGD6o0kglpR8wgv7N6QnnL.png)\n\nThank you in advance for your help!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 487.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 7378,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-01-10T20:32:49.082Z",
      "updated_at": "2025-01-10T20:35:56.684Z",
      "cooked": "<p>You’re currently using the sans-serif math characters of the default “New Computer Modern Math” font. These sans-serif characters only exist for a limited set symbols, and for some reason, Unicode decided that regular (non-bold) greek is not part of that. You can find a list of all the different math character styles supported by unicode <a href=\"https://www.compart.com/en/unicode/block/U+1D400\" rel=\"noopener nofollow ugc\">here</a>.</p>\n<p>However, you can use the “New Computer Modern Sans Math” font, which doesn’t require you to call <code>math.sans</code> anymore, as all characters are already sans-serif by default. Since you can then just use the regular greek letters, the fact that non-bold sans-serif greek math characters don’t exist, won’t bother you anymore. The font is not available on the web-app by default, but you can get it from <a href=\"https://ctan.org/tex-archive/fonts/newcomputermodern/otf\" rel=\"noopener nofollow ugc\">CTAN</a> (as <code>NewCMSansMath-Regular.otf</code>).</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Default font with sans-serif character set\n#show math.equation: set text(font: \"New Computer Modern Math\")\n$ sans(alpha = cos^(-1) (8 / (sqrt(29) dot 4)) approx 68.2 degree) $\n\n// Sans-serif font with default character set\n#show math.equation: set text(font: \"NewComputerModernSansMath\")\n$ alpha = cos^(-1) (8 / (sqrt(29) dot 4)) approx 68.2 degree $\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/5/54e4899d9ac1ca5c2808c1cd3385dab6a4623c48.png\" alt=\"image\" data-base62-sha1=\"c6ZKjpfqdzO6ylg3pAo8KDwzyC4\" width=\"309\" height=\"150\"></p>",
      "raw": "You're currently using the sans-serif math characters of the default \"New Computer Modern Math\" font. These sans-serif characters only exist for a limited set symbols, and for some reason, Unicode decided that regular (non-bold) greek is not part of that. You can find a list of all the different math character styles supported by unicode [here](https://www.compart.com/en/unicode/block/U+1D400).\n\nHowever, you can use the \"New Computer Modern Sans Math\" font, which doesn't require you to call `math.sans` anymore, as all characters are already sans-serif by default. Since you can then just use the regular greek letters, the fact that non-bold sans-serif greek math characters don't exist, won't bother you anymore. The font is not available on the web-app by default, but you can get it from [CTAN](https://ctan.org/tex-archive/fonts/newcomputermodern/otf) (as `NewCMSansMath-Regular.otf`).\n\n```typ\n// Default font with sans-serif character set\n#show math.equation: set text(font: \"New Computer Modern Math\")\n$ sans(alpha = cos^(-1) (8 / (sqrt(29) dot 4)) approx 68.2 degree) $\n\n// Sans-serif font with default character set\n#show math.equation: set text(font: \"NewComputerModernSansMath\")\n$ alpha = cos^(-1) (8 / (sqrt(29) dot 4)) approx 68.2 degree $\n```\n\n![image|413x200, 75%](upload://c6ZKjpfqdzO6ylg3pAo8KDwzyC4.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 37,
      "score": 67.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 7379,
      "post_number": 3,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-01-10T20:37:32.645Z",
      "updated_at": "2025-01-10T20:37:32.645Z",
      "cooked": "<p>Thank you so much for the detailed explanation! That clarifies the issue perfectly. I’ll give New Computer Modern Sans Math a try, as it sounds like exactly what I need. I appreciate you pointing me to CTAN and explaining the Unicode limitations—this was very helpful!</p>",
      "raw": "Thank you so much for the detailed explanation! That clarifies the issue perfectly. I’ll give New Computer Modern Sans Math a try, as it sounds like exactly what I need. I appreciate you pointing me to CTAN and explaining the Unicode limitations—this was very helpful!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 6.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    }
  ],
  "scraped_at": "2025-06-10T09:52:56.019913"
}
{
  "topic_metadata": {
    "id": 2369,
    "title": "How do I access a group in a regex of a show rule?",
    "slug": "how-do-i-access-a-group-in-a-regex-of-a-show-rule",
    "posts_count": 2,
    "created_at": "2025-01-11T09:36:19.852Z",
    "last_posted_at": "2025-01-11T12:44:21.618Z",
    "views": 179,
    "like_count": 0,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 210
  },
  "posts": [
    {
      "id": 7385,
      "post_number": 1,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2025-01-11T09:36:20.031Z",
      "updated_at": "2025-01-11T09:36:20.031Z",
      "cooked": "<p>I want to build a show rule that uses a regular expression to find text passages that are enclosed in curly brackets. In the output, the curly brackets should be replaced by square brackets. And the entire expression should be displayed in red.</p>\n<p>To achieve this, I need to get access to the text between the curly brackets. That would be the first group in the regular expression. However, the it binding includes the complete expression. That’s why my show rule returns ‘Hello [{World}]!’ instead of ‘Hello [World]!’.</p>\n<p>How do I get the group?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show regex(\"\\{(.*?)\\}\"): it =&gt; {\n  set text(fill: red)\n\n  [\\[#it\\]]\n}\n\nHello {World}!\n</code></pre>",
      "raw": "I want to build a show rule that uses a regular expression to find text passages that are enclosed in curly brackets. In the output, the curly brackets should be replaced by square brackets. And the entire expression should be displayed in red. \n\nTo achieve this, I need to get access to the text between the curly brackets. That would be the first group in the regular expression. However, the it binding includes the complete expression. That's why my show rule returns ‘Hello [{World}]!’ instead of ‘Hello [World]!’.\n\nHow do I get the group?\n\n\n```typ\n#show regex(\"\\{(.*?)\\}\"): it => {\n  set text(fill: red)\n\n  [\\[#it\\]]\n}\n\nHello {World}!\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 782.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 7392,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-01-11T12:44:21.618Z",
      "updated_at": "2025-01-11T13:05:23.406Z",
      "cooked": "<p><code>it</code> is already the matching text as content, the other fields that <code>.match()</code> would return are therefore not accessible in the show rule.</p>\n<p>If you want to replace the curly brackets by square brackets, you could use two show rules inside your regex show rule. If you want to completely remove the curly brackets, just use empty strings as the replacements.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show regex(\"\\{(.*?)\\}\"): it =&gt; {\n  show \"{\": \"[\"\n  show \"}\": \"]\"\n  set text(red)\n  it\n}\n</code></pre>\n<p>If there is the possibility that you could have single curly brackets in your document, you can use the following pattern instead to always match the innermost pair of curly brackets.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">regex(\"\\{[^\\{\\}]*?\\}\")\n</code></pre>",
      "raw": "`it` is already the matching text as content, the other fields that `.match()` would return are therefore not accessible in the show rule.\n\nIf you want to replace the curly brackets by square brackets, you could use two show rules inside your regex show rule. If you want to completely remove the curly brackets, just use empty strings as the replacements.\n\n```typ\n#show regex(\"\\{(.*?)\\}\"): it => {\n  show \"{\": \"[\"\n  show \"}\": \"]\"\n  set text(red)\n  it\n}\n```\n\nIf there is the possibility that you could have single curly brackets in your document, you can use the following pattern instead to always match the innermost pair of curly brackets.\n```typc\nregex(\"\\{[^\\{\\}]*?\\}\")\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 6.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    }
  ],
  "scraped_at": "2025-06-10T09:52:55.303357"
}
